<div class="space-y-6">
  <!-- Input Section -->
  <div class="question-card space-y-2">
    <label for="q3-text-input" class="block text-sm font-medium text-heading">&#x1F4DD; Document to analyze</label>
    <textarea id="q3-text-input" rows="4" class="field-textarea" placeholder="Paste text to explore context window trade-offs...">Large Language Models represent a breakthrough in artificial intelligence, transforming how we interact with computers through natural language. These models, trained on vast datasets, can understand and generate human-like text with remarkable fluency. The context window is a crucial architectural feature that determines how much preceding text the model can reference when generating each new token. A larger context window allows for better coherence across longer texts but comes with significant computational costs. Modern models like GPT-4 have context windows of 8K to 128K tokens, enabling them to process entire documents or maintain context across very long conversations. This capability is essential for tasks such as document summarization, creative writing, code generation, and complex problem-solving that requires maintaining awareness of multiple interconnected concepts throughout a lengthy interaction.</textarea>
    <p class="small-caption text-muted">Edit the text to see how each window size maintains (or loses) context.</p>
    <div class="context-token-summary" id="q3-token-summary"></div>
  </div>

  <!-- Mode Selection -->
  <div class="question-card space-y-3">
    <span class="text-sm font-medium text-heading">&#x1F6E0;&#xFE0F; Mode</span>
    <div class="context-mode-group">
      <label class="context-mode-option" data-mode="demo">
        <input type="radio" name="q3-mode" value="demo" checked>
        <div>
          <div class="context-mode-title">Demo presets</div>
          <div class="context-mode-caption">50 / 100 / 200 tokens</div>
        </div>
      </label>
      <label class="context-mode-option" data-mode="real">
        <input type="radio" name="q3-mode" value="real">
        <div>
          <div class="context-mode-title">Real-world models</div>
          <div class="context-mode-caption">4K – 1M token windows</div>
        </div>
      </label>
    </div>
  </div>

  <!-- Window Size Selection -->
  <div class="question-card space-y-4">
    <span class="text-sm font-medium text-heading">&#x1F3AF; Choose context window size</span>

    <!-- Demo presets -->
    <div id="q3-demo-section" class="context-card-grid">
      <label class="context-card" data-tone="emerald">
        <input type="radio" name="q3-window-size" value="small" class="context-card-input">
        <div class="context-card-title">Small (50 tokens)</div>
        <div class="context-card-caption">Fast &amp; efficient</div>
        <div class="context-card-meta">~200 words</div>
      </label>
      <label class="context-card context-card--selected" data-tone="purple">
        <input type="radio" name="q3-window-size" value="medium" class="context-card-input" checked>
        <div class="context-card-title">Medium (100 tokens)</div>
        <div class="context-card-caption">Balanced default</div>
        <div class="context-card-meta">~400 words</div>
      </label>
      <label class="context-card" data-tone="amber">
        <input type="radio" name="q3-window-size" value="large" class="context-card-input">
        <div class="context-card-title">Large (200 tokens)</div>
        <div class="context-card-caption">Maximum context</div>
        <div class="context-card-meta">~800 words</div>
      </label>
    </div>

    <!-- Real-world presets -->
    <div id="q3-real-section" class="context-card-grid hidden">
      <label class="context-card" data-tone="sky">
        <input type="radio" name="q3-real-window" value="4k" class="context-card-input" checked>
        <div class="context-card-title">4K tokens</div>
        <div class="context-card-caption">Legacy / compact models</div>
      </label>
      <label class="context-card" data-tone="sky">
        <input type="radio" name="q3-real-window" value="32k" class="context-card-input">
        <div class="context-card-title">32K tokens</div>
        <div class="context-card-caption">Modern production baseline</div>
      </label>
      <label class="context-card" data-tone="sky">
        <input type="radio" name="q3-real-window" value="128k" class="context-card-input">
        <div class="context-card-title">128K tokens</div>
        <div class="context-card-caption">Extended documents</div>
      </label>
      <label class="context-card" data-tone="sky">
        <input type="radio" name="q3-real-window" value="200k" class="context-card-input">
        <div class="context-card-title">200K tokens</div>
        <div class="context-card-caption">Deep research</div>
      </label>
      <label class="context-card" data-tone="sky">
        <input type="radio" name="q3-real-window" value="1m" class="context-card-input">
        <div class="context-card-title">1M tokens*</div>
        <div class="context-card-caption">Frontier previews / beta</div>
      </label>
    </div>
  </div>

  <!-- Quick tools -->
  <div class="question-card space-y-3">
    <div class="flex flex-wrap items-center gap-2">
      <span class="text-sm font-medium text-heading">&#x1F4A1; Quick helpers</span>
      <button id="q3-example-btn" class="btn-soft">Try: research summary sample</button>
    </div>
    <div class="context-lorem">
      <label class="context-lorem-group">
        <span class="small-caption text-muted">Generate placeholder text:</span>
        <select id="q3-lorem-size" class="field-select field-select--compact">
          <option value="short">Short demo</option>
          <option value="medium">Medium demo</option>
          <option value="long">Long demo</option>
        </select>
      </label>
      <button id="q3-lorem-btn" class="btn-soft">Generate</button>
    </div>
  </div>

  <!-- Analysis Output -->
  <div class="question-card space-y-3">
    <div class="flex items-center justify-between gap-3">
      <span class="text-sm font-medium text-heading">&#x1F4C8; Window analysis</span>
      <span id="q3-window-indicator" class="chip chip-info context-indicator">Medium window</span>
    </div>
    <div id="q3-output" class="question-output context-output">Enter or edit text above to begin...</div>
    <div id="q3-legend" class="q2-legend"></div>
  </div>

  <!-- Performance Metrics -->
  <div class="grid md:grid-cols-3 gap-4">
    <div class="panel panel-success p-3 space-y-2">
      <h5 class="font-medium">&#x1F4C8; Coherence quality</h5>
      <div class="context-meter" data-tone="emerald">
        <div id="q3-coherence-bar" class="context-meter-fill" style="width: 60%"></div>
      </div>
      <p id="q3-coherence-text" class="small-caption text-muted">Good context retention</p>
    </div>

    <div class="panel panel-warning p-3 space-y-2">
      <h5 class="font-medium">&#x26A1; Computational cost</h5>
      <div class="context-meter" data-tone="rose">
        <div id="q3-cost-bar" class="context-meter-fill" style="width: 40%"></div>
      </div>
      <p id="q3-cost-text" class="small-caption text-muted">Moderate processing load</p>
    </div>

    <div class="panel panel-info p-3 space-y-2">
      <h5 class="font-medium">&#x1F3AF; Use case fit</h5>
      <div class="context-meter" data-tone="sky">
        <div id="q3-usecase-bar" class="context-meter-fill" style="width: 70%"></div>
      </div>
      <p id="q3-usecase-text" class="small-caption text-muted">Good for most tasks</p>
    </div>
  </div>

  <!-- Task Simulation -->
  <div class="question-card space-y-3">
    <div class="flex items-center justify-between">
      <h4 class="text-sm font-medium text-heading">&#x1F3AE; Task simulation</h4>
      <span class="small-caption text-muted">See how window size affects downstream tasks</span>
    </div>
    <div class="context-simulation-actions">
      <button id="q3-summarize-btn" class="btn-soft">&#x1F4C4; Generate summary</button>
      <button id="q3-qa-btn" class="btn-soft">&#x2753; Answer questions</button>
    </div>
    <div id="q3-demo-output" class="panel panel-neutral hidden">
      <div class="text-sm"></div>
    </div>
  </div>

  <!-- Educational Explanation -->
  <div id="q3-explanation" class="panel panel-warning p-4 space-y-2">
    <h4 class="font-medium">&#x1F4DA; How context windows work</h4>
    <div id="q3-explanation-content" class="text-sm">
      Select a window size above and edit the text to explore how much context each configuration can preserve before summarisation quality drops.
    </div>
  </div>
</div>
