<div class="space-y-6">
  <!-- Temperature control -->
  <div class="question-card space-y-3">
    <div class="flex items-start justify-between gap-3">
      <div>
        <h4 class="font-medium text-heading">ğŸŒ¡ï¸ Temperature control</h4>
        <p class="small-caption text-muted">Adjust the sampling temperature to see how the softmax stretches or sharpens probability mass.</p>
      </div>
      <span id="q6-temp-value" class="chip chip-info text-xs">1.0</span>
    </div>
    <input id="q6-temp-slider" type="range" min="0.1" max="2.0" step="0.1" value="1.0" class="w-full accent-current">
    <div class="flex items-center justify-between text-xs text-muted">
      <span>â„ï¸ 0.1 &mdash; highly deterministic</span>
      <span>ğŸŒ¡ï¸ 1.0 &mdash; balanced</span>
      <span>ğŸ”¥ 2.0 &mdash; very creative</span>
    </div>
    <div id="q6-temp-indicator" class="chip chip-info text-xs w-fit">Balanced: natural language variation</div>
  </div>

  <!-- Context presets -->
  <div class="question-card space-y-3">
    <span class="text-sm font-medium text-heading">ğŸ“ Choose a generation context</span>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
      <label class="question-strategy" data-tone="sky">
        <input type="radio" name="q6-context" value="weather" checked>
        <div class="stacked-card">
          <div class="flex items-center justify-between gap-2">
            <span class="font-medium text-heading">Weather update</span>
            <span class="chip chip-info text-xs">Factual</span>
          </div>
          <p class="small-caption text-muted">Starter: &ldquo;The weather is &hellip;&rdquo;</p>
          <p class="small-caption text-muted">Great for deterministic, steady tone.</p>
        </div>
      </label>

      <label class="question-strategy" data-tone="emerald">
        <input type="radio" name="q6-context" value="story">
        <div class="stacked-card">
          <div class="flex items-center justify-between gap-2">
            <span class="font-medium text-heading">Story opening</span>
            <span class="chip chip-success text-xs">Creative</span>
          </div>
          <p class="small-caption text-muted">Starter: &ldquo;Once upon a time &hellip;&rdquo;</p>
          <p class="small-caption text-muted">Invites richer vocabulary and arcs.</p>
        </div>
      </label>

      <label class="question-strategy" data-tone="purple">
        <input type="radio" name="q6-context" value="product">
        <div class="stacked-card">
          <div class="flex items-center justify-between gap-2">
            <span class="font-medium text-heading">Product launch</span>
            <span class="chip chip-accent text-xs">Marketing</span>
          </div>
          <p class="small-caption text-muted">Starter: &ldquo;We&rsquo;re excited to announce &hellip;&rdquo;</p>
          <p class="small-caption text-muted">Balances enthusiasm with clarity.</p>
        </div>
      </label>
    </div>
  </div>

  <!-- Quick actions -->
  <div class="question-card flex flex-wrap items-center gap-3">
    <span class="text-sm font-medium text-heading">âš™ï¸ Quick experiments</span>
    <button id="q6-example-btn" class="btn-soft text-xs">Try: Ultra-conservative (0.1)</button>
    <button id="q6-compare-btn" class="btn-soft text-xs">ğŸ”„ Generate &amp; Compare</button>
  </div>

  <!-- Probability visualisation & sampling -->
  <div class="question-card space-y-4">
    <div class="flex items-center justify-between gap-3">
      <h4 class="font-medium text-heading flex items-center gap-2">ğŸ“Š Token probability distribution <span class="chip chip-info chip-tag">Live</span></h4>
      <div class="flex items-center gap-2 text-xs">
        <span id="q6-entropy-value" class="chip chip-neutral">Entropy: 2.45</span>
        <span id="q6-eff-vocab" class="chip chip-neutral">Eff. vocab: 5.48</span>
      </div>
    </div>
    <div id="q6-prob-chart" class="space-y-2"></div>
    <div class="panel panel-neutral-soft p-4 space-y-3">
      <div class="flex items-center justify-between gap-3">
        <div>
          <h5 class="font-medium text-heading">ğŸ² Sample a token</h5>
          <p class="small-caption text-muted">Draw one token using the current temperature&rsquo;s distribution.</p>
        </div>
        <button id="q6-sample-btn" class="btn-soft text-xs">Sample token</button>
      </div>
      <div id="q6-sample-result" class="panel panel-neutral p-3 font-mono text-sm">
        Click &ldquo;Sample token&rdquo; to watch the distribution pick a winner.
      </div>
      <div id="q6-sample-stats" class="small-caption text-muted">Samples taken: 0</div>
    </div>
  </div>

  <!-- Comparison lab -->
  <div class="question-card space-y-4">
    <div class="flex items-center justify-between gap-3">
      <h4 class="font-medium text-heading">ğŸ”¬ Temperature comparison lab</h4>
      <span class="small-caption text-muted">Use &ldquo;Generate &amp; Compare&rdquo; to populate the outputs.</span>
    </div>
    <div class="grid md:grid-cols-3 gap-4">
      <div class="panel panel-info panel-emphasis p-3 space-y-2">
        <div class="flex items-center justify-between gap-2">
          <h6 class="font-medium text-heading">â„ï¸ Low temp (0.2)</h6>
          <span class="chip chip-success text-xs">Conservative</span>
        </div>
        <div id="q6-low-temp-output" class="panel panel-neutral p-3 font-mono text-sm min-h-[64px]">
          Click &ldquo;Generate &amp; Compare&rdquo; to see outputs.
        </div>
      </div>

      <div class="panel panel-accent panel-emphasis p-3 space-y-2">
        <div class="flex items-center justify-between gap-2">
          <h6 class="font-medium text-heading">ğŸŒ¡ï¸ Current temperature</h6>
          <span id="q6-current-temp-label" class="chip chip-accent text-xs">1.0</span>
        </div>
        <div id="q6-current-temp-output" class="panel panel-neutral p-3 font-mono text-sm min-h-[64px]">
          Adjust the slider and compare styles here.
        </div>
      </div>

      <div class="panel panel-warning panel-emphasis p-3 space-y-2">
        <div class="flex items-center justify-between gap-2">
          <h6 class="font-medium text-heading">ğŸ”¥ High temp (1.8)</h6>
          <span class="chip chip-warning text-xs">Creative</span>
        </div>
        <div id="q6-high-temp-output" class="panel panel-neutral p-3 font-mono text-sm min-h-[64px]">
          Expect surprising, divergent continuations.
        </div>
      </div>
    </div>

    <div class="panel panel-warning panel-emphasis p-4 space-y-3">
      <div class="flex items-center justify-between gap-3">
        <h6 class="font-medium text-heading">ğŸ“ˆ Generation metrics</h6>
        <button id="q6-reset-metrics" class="btn-soft text-xs">Reset metrics</button>
      </div>
      <div class="grid md:grid-cols-3 gap-4 text-sm">
        <div class="space-y-1">
          <div class="text-muted">Diversity (comparisons): <span id="q6-diversity-score" class="font-mono">0.0</span></div>
          <div class="text-muted">Avg token prob (comparisons): <span id="q6-avg-prob" class="font-mono">0.0%</span></div>
          <div class="text-muted">Generations: <span id="q6-generation-count" class="font-mono">0</span></div>
        </div>
        <div class="space-y-1">
          <div class="text-muted">Diversity (samples): <span id="q6-sample-diversity" class="font-mono">0.0</span></div>
          <div class="text-muted">Avg token prob (samples): <span id="q6-sample-avg-prob" class="font-mono">0.0%</span></div>
          <div class="text-muted">Samples: <span id="q6-sample-count" class="font-mono">0</span></div>
        </div>
        <p class="small-caption text-muted md:text-right">Samples taken: 0</p>
      </div>
      <p class="small-caption text-muted">Comparisons update on &ldquo;Generate &amp; Compare&rdquo;. Sampling updates live as you draw tokens.</p>
    </div>
  </div>

  <!-- Educational explanation -->
  <div class="panel panel-warning p-4 space-y-2">
    <h4 class="font-medium text-heading">ğŸ§  How temperature bends the distribution</h4>
    <div id="q6-explanation" class="text-sm">Temperature scales logits before softmax. Low values sharpen the peak, while high values flatten it so lower-probability tokens compete. Adjust the slider above to see how entropy and effective vocabulary respond.</div>
  </div>
</div>
