<div class="space-y-6">
            <!-- Input Section -->
            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200">
                <label for="q21-text-select" class="block text-sm font-medium text-gray-700 mb-2">üìù Choose a Sentence to Analyze</label>
                <select id="q21-text-select" class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white">
                    <option value="The king wore a crown">The king wore a crown (Order matters for meaning)</option>
                    <option value="Hello world from transformers">Hello world from transformers (Simple greeting)</option>
                    <option value="A B C D E F">A B C D E F (Clear sequential pattern)</option>
                    <option value="Machine learning is amazing technology">Machine learning is amazing technology (Technical terms)</option>
                    <option value="The quick brown fox jumps">The quick brown fox jumps (Classic test phrase)</option>
                    <option value="I love natural language processing">I love natural language processing (Longer sequence)</option>
                    <option value="Position matters in transformers">Position matters in transformers (Self-referential)</option>
                    <option value="Short">Short (Single word)</option>
                    <option value="Two words">Two words (Minimal pair)</option>
                    <option value="Very long sentence with many tokens to demonstrate encoding">Very long sentence with many tokens to demonstrate encoding (Extended length)</option>
                </select>
                <p class="text-xs text-gray-600 mt-1">Each example demonstrates different aspects of positional encoding!</p>
            </div>
            
            <!-- Encoding Type Selection -->
            <div class="bg-white border border-gray-200 rounded-lg p-4">
                <label class="block text-sm font-medium text-gray-700 mb-3">üéØ Choose Positional Encoding Type</label>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                    <label class="relative border border-gray-200 rounded-lg p-3 cursor-pointer hover:bg-gray-50 transition-colors">
                        <input type="radio" name="q21-encoding" value="sinusoidal" checked class="absolute top-2 right-2">
                        <div class="encoding-option">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-medium text-gray-900">Sinusoidal</span>
                                <span class="text-xs bg-green-100 text-green-800 px-2 py-1 rounded">Original</span>
                            </div>
                            <p class="text-xs text-gray-600">Fixed mathematical patterns using sine and cosine waves</p>
                            <div class="math-display text-xs mt-2">$$ \sin\!\left( \frac{pos}{10000^{2i/d}} \right) $$</div>
                        </div>
                    </label>
                    
                    <label class="relative border border-gray-200 rounded-lg p-3 cursor-pointer hover:bg-gray-50 transition-colors">
                        <input type="radio" name="q21-encoding" value="learned" class="absolute top-2 right-2">
                        <div class="encoding-option">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-medium text-gray-900">Learned</span>
                                <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded">Trainable</span>
                            </div>
                            <p class="text-xs text-gray-600">Position embeddings learned during training</p>
                            <div class="math-display text-xs mt-2">$$ \mathrm{Embedding}(max_{len}, d_{model}) $$</div>
                        </div>
                    </label>
                    
                    <label class="relative border border-gray-200 rounded-lg p-3 cursor-pointer hover:bg-gray-50 transition-colors">
                        <input type="radio" name="q21-encoding" value="relative" class="absolute top-2 right-2">
                        <div class="encoding-option">
                            <div class="flex items-center justify-between mb-2">
                                <span class="font-medium text-gray-900">Relative</span>
                                <span class="text-xs bg-orange-100 text-orange-800 px-2 py-1 rounded">Distance</span>
                            </div>
                            <p class="text-xs text-gray-600">Based on relative distances between tokens</p>
                            <div class="math-display text-xs mt-2">( r(i{-}j) )</div>
                        </div>
                    </label>
                </div>
            </div>

            <!-- Quick Info -->
            <div class="flex flex-wrap gap-2">
                <span class="text-sm font-medium text-gray-700">üí° Quick Tip:</span>
                <span class="text-xs bg-indigo-100 text-indigo-700 px-2 py-1 rounded">Try different sentences and encoding types to see how patterns change!</span>
            </div>
            
            <!-- Results Section -->
            <div class="bg-white border border-gray-200 rounded-lg p-4">
                <div class="flex items-center justify-between mb-3 gap-2 flex-wrap">
                    <h4 class="font-medium text-gray-900">üé® Positional Encoding Visualization</h4>
                    <div class="flex items-center gap-3">
                        <div class="flex items-center gap-2 text-xs">
                            <label for="q21-viz-mode" class="text-gray-500">View</label>
                            <select id="q21-viz-mode" class="px-2 py-1 border border-gray-300 rounded bg-white focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="bars" selected>Bars</option>
                                <option value="heatmap">Heatmap</option>
                                <option value="wave">Wave</option>
                            </select>
                        </div>
                        <div id="q21-encoding-indicator" class="text-xs bg-gray-100 px-2 py-1 rounded font-medium"></div>
                    </div>
                </div>
                <div id="q21-output" class="min-h-[200px] p-3 bg-gray-50 rounded border-2 border-dashed border-gray-300" aria-live="polite"></div>
                <div id="q21-legend" class="mt-3 text-xs"></div>
            </div>
            
            <!-- Educational Comparison -->
            <div id="q21-comparison" class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                <h4 class="font-medium text-yellow-900 mb-2">üìä Why This Encoding Type?</h4>
                <div id="q21-explanation" class="text-sm text-yellow-800" aria-live="polite"></div>
            </div>
        </div>
