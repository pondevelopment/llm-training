<div class="space-y-6" id="q26-interactive-root">
  <div class="panel panel-info p-4 space-y-3">
    <label for="q26-scenario" class="block text-sm font-medium text-heading">📝 Choose training scenario</label>
    <select id="q26-scenario" aria-describedby="q26-scenario-help" class="select-control">
      <option value="correct-prediction">Correct Prediction - Low gradients</option>
      <option value="wrong-prediction" selected>Wrong Prediction - High gradients</option>
      <option value="uncertain-prediction">Uncertain Prediction - Medium gradients</option>
      <option value="rare-word">Rare Word Training - Sparse updates</option>
      <option value="frequent-word">Frequent Word Training - Regular updates</option>
    </select>
    <p id="q26-scenario-help" class="small-caption panel-muted">Different scenarios show how gradients vary based on prediction accuracy and word frequency.</p>
  </div>

  <div class="panel panel-neutral p-4 space-y-4">
    <span class="text-sm font-medium text-heading">🎯 Choose gradient analysis mode</span>
    <div class="grid grid-cols-1 gap-3 md:grid-cols-3">
      <label class="question-strategy q26-mode-card" data-mode="step-by-step" data-tone="emerald">
        <input type="radio" name="q26-mode" value="step-by-step" class="sr-only" checked>
        <div class="q26-mode-card-body stacked-card">
          <div class="q26-mode-header">
            <span class="q26-mode-title">Step-by-step</span>
            <span class="chip chip-success text-xs">Detailed</span>
          </div>
          <p class="small-caption panel-muted">Show mathematical chain-rule computation.</p>
          <div class="q26-mode-hint">∂L/∂E = (∂L/∂logits) × (∂logits/∂E)</div>
        </div>
      </label>
      <label class="question-strategy q26-mode-card" data-mode="visualization" data-tone="indigo">
        <input type="radio" name="q26-mode" value="visualization" class="sr-only">
        <div class="q26-mode-card-body stacked-card">
          <div class="q26-mode-header">
            <span class="q26-mode-title">Visualization</span>
            <span class="chip chip-info text-xs">Visual</span>
          </div>
          <p class="small-caption panel-muted">Inspect gradient flow through every layer.</p>
          <div class="q26-mode-hint">Embedding → Hidden → Output → Loss</div>
        </div>
      </label>
      <label class="question-strategy q26-mode-card" data-mode="semantic-impact" data-tone="amber">
        <input type="radio" name="q26-mode" value="semantic-impact" class="sr-only">
        <div class="q26-mode-card-body stacked-card">
          <div class="q26-mode-header">
            <span class="q26-mode-title">Semantic impact</span>
            <span class="chip chip-accent text-xs">Meaning</span>
          </div>
          <p class="small-caption panel-muted">See how updates reshape word meaning.</p>
          <div class="q26-mode-hint">Before → Update → After</div>
        </div>
      </label>
    </div>
  </div>

  <div class="grid md:grid-cols-2 gap-4">
    <div class="panel panel-neutral p-4 space-y-2">
      <label for="q26-target-word" class="block text-sm font-medium text-heading">🎯 Target word</label>
      <select id="q26-target-word" class="select-control">
        <option value="king">king (frequent, royal)</option>
        <option value="queen">queen (frequent, royal)</option>
        <option value="cat">cat (frequent, animal)</option>
        <option value="elephant">elephant (medium, animal)</option>
        <option value="xylophone">xylophone (rare, instrument)</option>
        <option value="programming">programming (frequent, tech)</option>
        <option value="algorithm">algorithm (medium, tech)</option>
        <option value="beautiful">beautiful (frequent, adjective)</option>
      </select>
      <p class="small-caption panel-muted">Word being updated during training.</p>
    </div>
    <div class="panel panel-neutral p-4 space-y-2">
      <label for="q26-context" class="block text-sm font-medium text-heading">📖 Context</label>
      <select id="q26-context" class="select-control">
        <option value="The [WORD] ruled the kingdom">The [WORD] ruled the kingdom</option>
        <option value="The [WORD] is a beautiful animal">The [WORD] is a beautiful animal</option>
        <option value="I love [WORD] music">I love [WORD] music</option>
        <option value="The [WORD] is very complex">The [WORD] is very complex</option>
        <option value="She is [WORD] and kind">She is [WORD] and kind</option>
        <option value="Learning [WORD] takes practice">Learning [WORD] takes practice</option>
        <option value="The [WORD] makes lovely sounds">The [WORD] makes lovely sounds</option>
      </select>
      <p class="small-caption panel-muted">Context where the word appears.</p>
    </div>
  </div>

  <div class="flex flex-wrap items-center gap-2">
    <span class="text-sm font-medium text-heading">💡 Quick examples:</span>
    <button id="q26-example-btn" class="btn-soft text-xs">Wrong prediction example</button>
  </div>

  <div class="panel panel-neutral p-4 space-y-4">
    <div class="flex flex-wrap items-center justify-between gap-2">
      <h4 class="font-medium text-heading">🎨 Gradient computation results</h4>
      <span id="q26-mode-indicator" class="chip chip-info text-xs">Step-by-step</span>
    </div>
    <div id="q26-output" aria-live="polite" aria-atomic="true" role="status"></div>
    <div id="q26-legend" class="small-caption panel-muted" aria-live="polite"></div>
  </div>

  <div class="panel panel-warning p-4 space-y-2">
    <h4 class="font-medium text-heading">📊 Gradient analysis</h4>
    <div id="q26-explanation" class="text-sm" aria-live="polite"></div>
  </div>
</div>
