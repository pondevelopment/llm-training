<div class="space-y-6">
  <div class="panel panel-info p-4 space-y-2">
    <label for="q28-data-type" class="text-sm font-medium text-heading">📊 Choose data distribution</label>
    <select id="q28-data-type" aria-describedby="q28-data-type-desc" class="select-control">
      <option value="correlated" selected>Correlated data (elliptical)</option>
      <option value="diagonal">Diagonal covariance</option>
      <option value="circular">Circular (isotropic)</option>
      <option value="mixed">Mixed components</option>
      <option value="high-dim">High dimensional</option>
    </select>
    <p id="q28-data-type-desc" class="small-caption text-muted">Different data types reveal different eigenvalue and eigenvector patterns.</p>
  </div>

  <div class="grid gap-4 md:grid-cols-2">
    <div class="panel panel-neutral p-4 space-y-2">
      <label for="q28-original-dim" class="text-sm font-medium text-heading">📐 Original dimensions</label>
      <select id="q28-original-dim" aria-describedby="q28-original-dim-desc" class="select-control">
        <option value="2">2D (for visual intuition)</option>
        <option value="3" selected>3D (moderate)</option>
        <option value="5">5D (higher)</option>
        <option value="10">10D (high dimensional)</option>
      </select>
      <p id="q28-original-dim-desc" class="small-caption text-muted">Original data dimensionality.</p>
    </div>
    <div class="panel panel-neutral p-4 space-y-2">
      <label for="q28-reduced-dim" class="text-sm font-medium text-heading">🎯 Reduced dimensions</label>
      <select id="q28-reduced-dim" aria-describedby="q28-reduced-dim-desc" class="select-control">
        <option value="1">1D (maximum reduction)</option>
        <option value="2" selected>2D (common choice)</option>
        <option value="3">3D (moderate reduction)</option>
      </select>
      <p id="q28-reduced-dim-desc" class="small-caption text-muted">Target dimensionality after reduction.</p>
    </div>
  </div>

  <fieldset class="panel panel-neutral p-4 space-y-3">
    <legend class="text-sm font-medium text-heading">🔬 Analysis focus</legend>
    <div class="grid gap-3 md:grid-cols-3">
      <label class="q28-mode-option">
        <input type="radio" name="q28-mode" value="eigenvalues" class="sr-only" checked>
        <div class="panel panel-neutral-soft p-4 h-full space-y-2">
          <div class="flex items-start justify-between gap-2">
            <span class="font-medium text-heading">Eigenvalue analysis</span>
            <span class="chip chip-info text-xs">Variance</span>
          </div>
          <p class="small-caption text-muted">Show eigenvalues and variance explained by each component.</p>
        </div>
      </label>
      <label class="q28-mode-option">
        <input type="radio" name="q28-mode" value="eigenvectors" class="sr-only">
        <div class="panel panel-neutral-soft p-4 h-full space-y-2">
          <div class="flex items-start justify-between gap-2">
            <span class="font-medium text-heading">Eigenvector visualization</span>
            <span class="chip chip-info text-xs">Direction</span>
          </div>
          <p class="small-caption text-muted">Visualise principal component directions in data space.</p>
        </div>
      </label>
      <label class="q28-mode-option">
        <input type="radio" name="q28-mode" value="projection" class="sr-only">
        <div class="panel panel-neutral-soft p-4 h-full space-y-2">
          <div class="flex items-start justify-between gap-2">
            <span class="font-medium text-heading">Data projection</span>
            <span class="chip chip-info text-xs">Transform</span>
          </div>
          <p class="small-caption text-muted">Compare original versus projected data in reduced space.</p>
        </div>
      </label>
    </div>
  </fieldset>

  <div class="flex flex-wrap items-center gap-2 text-xs panel-muted">
    <span class="font-medium text-heading text-sm">💡 Quick examples:</span>
    <button id="q28-example-btn" class="chip chip-info text-xs" type="button">High correlation example</button>
    <span class="small-caption text-muted">Defaults show a correlated 3D dataset so you can see how the first component dominates variance.</span>
  </div>

  <div class="panel panel-neutral p-4 space-y-3">
    <div class="flex items-center justify-between gap-3">
      <h4 class="font-medium text-heading">📊 PCA analysis results</h4>
      <span id="q28-mode-indicator" class="chip chip-neutral text-xs">Eigenvalue analysis</span>
    </div>
    <div id="q28-output" class="min-h-[300px]" aria-live="polite" aria-atomic="true"></div>
    <div id="q28-legend" class="small-caption text-muted" aria-live="polite"></div>
  </div>

  <div class="panel panel-warning p-4 space-y-2">
    <h4 class="font-medium text-heading">🧮 Mathematical analysis</h4>
    <div id="q28-explanation" class="text-sm text-heading" aria-live="polite"></div>
  </div>
</div>
