
<div class="space-y-6 q31-interactive" id="q31-interactive-root">
  <div class="question-card space-y-3">
    <label for="q31-input-value" class="block text-sm font-medium text-heading">🧠 Neural network configuration</label>
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <div class="space-y-1">
        <label for="q31-input-value" class="text-xs panel-muted">Input (x)</label>
        <input type="range" id="q31-input-value" min="-2" max="2" step="0.1" value="1.0" class="w-full" aria-describedby="q31-input-display" aria-label="Input value x">
        <span id="q31-input-display" class="chip chip-neutral text-xs font-mono" aria-live="polite">1.0</span>
      </div>
      <div class="space-y-1">
        <label for="q31-weight1" class="text-xs panel-muted">Weight w₁</label>
        <input type="range" id="q31-weight1" min="-2" max="2" step="0.1" value="0.5" class="w-full" aria-describedby="q31-weight1-display" aria-label="Weight w1">
        <span id="q31-weight1-display" class="chip chip-neutral text-xs font-mono" aria-live="polite">0.5</span>
      </div>
      <div class="space-y-1">
        <label for="q31-weight2" class="text-xs panel-muted">Weight w₂</label>
        <input type="range" id="q31-weight2" min="-2" max="2" step="0.1" value="0.8" class="w-full" aria-describedby="q31-weight2-display" aria-label="Weight w2">
        <span id="q31-weight2-display" class="chip chip-neutral text-xs font-mono" aria-live="polite">0.8</span>
      </div>
      <div class="space-y-1">
        <label for="q31-target" class="text-xs panel-muted">Target (y)</label>
        <input type="range" id="q31-target" min="0" max="1" step="0.1" value="0.7" class="w-full" aria-describedby="q31-target-display" aria-label="Target value y">
        <span id="q31-target-display" class="chip chip-neutral text-xs font-mono" aria-live="polite">0.7</span>
      </div>
    </div>
    <p class="text-xs panel-muted">Adjust parameters to see how gradients flow through the network.</p>
  </div>

  <div class="question-card space-y-3">
    <label class="block text-sm font-medium text-heading">⚡ Choose activation function</label>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
      <label class="question-strategy" data-activation="sigmoid">
        <input type="radio" name="q31-activation" value="sigmoid" checked>
        <div class="stacked-card space-y-2">
          <div class="flex items-center justify-between">
            <span class="font-medium text-heading">Sigmoid</span>
            <span class="chip chip-info text-xs">Smooth</span>
          </div>
          <p class="text-xs panel-muted font-mono">σ(x) = 1 / (1 + e<sup>−x</sup>)</p>
          <p class="text-xs panel-muted-soft">Classic activation with smooth gradients.</p>
        </div>
      </label>
      <label class="question-strategy" data-activation="tanh">
        <input type="radio" name="q31-activation" value="tanh">
        <div class="stacked-card space-y-2">
          <div class="flex items-center justify-between">
            <span class="font-medium text-heading">Tanh</span>
            <span class="chip chip-success text-xs">Centered</span>
          </div>
          <p class="text-xs panel-muted font-mono">tanh(x) = (e<sup>x</sup> − e<sup>−x</sup>)/(e<sup>x</sup> + e<sup>−x</sup>)</p>
          <p class="text-xs panel-muted-soft">Zero-centred outputs strengthen gradient flow.</p>
        </div>
      </label>
      <label class="question-strategy" data-activation="relu">
        <input type="radio" name="q31-activation" value="relu">
        <div class="stacked-card space-y-2">
          <div class="flex items-center justify-between">
            <span class="font-medium text-heading">ReLU</span>
            <span class="chip chip-warning text-xs">Modern</span>
          </div>
          <p class="text-xs panel-muted font-mono">ReLU(x) = max(0, x)</p>
          <p class="text-xs panel-muted-soft">Keeps gradients alive while avoiding saturation.</p>
        </div>
      </label>
    </div>
  </div>

  <div class="question-card space-y-4">
    <h4 class="font-medium text-heading flex items-center gap-2">🌐 Network flow &amp; calculation</h4>
    <div id="q31-network-diagram" class="q31-network-diagram" role="img" aria-label="Neural network diagram showing forward and backward flow"></div>
    <p class="sr-only" id="q31-network-diagram-desc">Diagram shows input, hidden, prediction, and target nodes with animated arrows for forward (blue) and backward (red) passes.</p>
    <div class="q31-legend" aria-describedby="q31-network-diagram-desc">
      <div class="q31-legend-item"><span class="q31-legend-dot q31-legend-dot--forward"></span>Forward pass (data flow)</div>
      <div class="q31-legend-item"><span class="q31-legend-dot q31-legend-dot--backward"></span>Backward pass (gradient flow)</div>
      <div class="q31-legend-item"><span class="q31-legend-bar"></span>Gradient strength</div>
    </div>
    <h5 class="font-medium text-heading border-t border-subtle pt-4 flex items-center gap-2">
      <span class="text-xl" aria-hidden="true">➡️</span>
      Forward pass
      <span class="text-sm text-muted">Data moves left → right</span>
    </h5>
    <div id="q31-forward-pass" class="space-y-3" aria-live="polite" aria-atomic="false"></div>
    <h5 class="font-medium text-heading border-t border-subtle pt-4 flex items-center gap-2">
      <span class="text-xl" aria-hidden="true">⬅️</span>
      Backward pass (chain rule)
      <span class="text-sm text-muted">Gradients move right → left</span>
    </h5>
    <div id="q31-backward-pass" class="space-y-3" aria-live="polite" aria-atomic="false"></div>
  </div>

  <div class="question-card space-y-3">
    <h4 class="font-medium text-heading">📊 Gradient summary</h4>
    <div id="q31-gradients" class="grid grid-cols-1 md:grid-cols-3 gap-4" aria-live="polite" aria-atomic="false"></div>
  </div>

  <div class="question-card flex flex-wrap items-center gap-2">
    <span class="text-sm font-medium text-heading">💡 Quick tests:</span>
    <button id="q31-example-1" class="btn-soft text-xs">Large error</button>
    <button id="q31-example-2" class="btn-soft text-xs">Small error</button>
    <button id="q31-example-3" class="btn-soft text-xs">Zero gradients</button>
  </div>

  <div id="q31-explanation" class="panel panel-warning p-4 space-y-2">
    <h4 class="font-medium text-heading mb-1">🎓 Understanding the process</h4>
    <div id="q31-explanation-content" class="text-sm space-y-2" aria-live="polite" aria-atomic="false"></div>
  </div>
</div>











