<div class="space-y-6">
  <div class="question-card space-y-4">
    <div class="flex flex-wrap items-center gap-2">
      <span class="small-caption text-muted uppercase tracking-wide">Presets</span>
      <div class="flex flex-wrap gap-2 text-xs">
        <button data-q45-preset="guardrails" class="btn-soft px-3 py-1" title="Prompt + filter only (fast)">Quick guardrails</button>
        <button data-q45-preset="remediation" class="btn-soft px-3 py-1" title="Data remediation focus">Data remediation</button>
        <button data-q45-preset="factual" class="btn-soft px-3 py-1" title="High-risk factual mitigation">High-risk factual</button>
        <button data-q45-preset="toxicity" class="btn-soft px-3 py-1" title="Toxicity hardening">Toxicity hardening</button>
        <button data-q45-preset="full" class="btn-soft px-3 py-1" title="All strategies layered">Full stack</button>
      </div>
    </div>

    <div class="grid md:grid-cols-12 gap-4 text-sm">
      <div class="md:col-span-3 space-y-1">
        <label class="block text-xs font-semibold text-heading uppercase tracking-wide" for="q45-type">Failure type</label>
        <select id="q45-type" class="w-full px-3 py-2 border border-subtle rounded-md bg-card text-body text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-strong)] focus:border-[color:var(--accent-strong)]">
          <option value="bias" selected>Bias (stereotypes, unfair treatment)</option>
          <option value="factual">Incorrect facts / hallucinations</option>
          <option value="toxicity">Toxic / unsafe content</option>
        </select>
      </div>
      <div class="md:col-span-2 space-y-1">
        <label class="block text-xs font-semibold text-heading uppercase tracking-wide" for="q45-sev">Severity</label>
        <input id="q45-sev" type="range" min="0" max="1" step="0.05" value="0.6" class="w-full" />
        <div class="small-caption text-muted text-center">Severity: <span id="q45-sev-val" class="font-mono text-body">0.60</span></div>
      </div>
      <div class="md:col-span-2 space-y-1">
        <label class="block text-xs font-semibold text-heading uppercase tracking-wide" for="q45-data">Data quality</label>
        <input id="q45-data" type="range" min="0" max="1" step="0.05" value="0.5" class="w-full" />
        <div class="small-caption text-muted text-center">Data quality: <span id="q45-data-val" class="font-mono text-body">0.50</span></div>
      </div>
      <div class="md:col-span-5 space-y-2">
        <span class="block text-xs font-semibold text-heading uppercase tracking-wide">Strategies</span>
        <div class="grid grid-cols-3 gap-2 text-sm" role="group" aria-label="Mitigation strategies">
          <label class="inline-flex items-center gap-2"><input id="q45-s-prompt" type="checkbox" checked /> <span class="text-body">Prompt guardrails</span></label>
          <label class="inline-flex items-center gap-2"><input id="q45-s-rag" type="checkbox" /> <span class="text-body">RAG grounding</span></label>
          <label class="inline-flex items-center gap-2"><input id="q45-s-augment" type="checkbox" checked /> <span class="text-body">Data rebal / augment</span></label>
          <label class="inline-flex items-center gap-2"><input id="q45-s-filter" type="checkbox" checked /> <span class="text-body">Safety filter</span></label>
          <label class="inline-flex items-center gap-2"><input id="q45-s-sft" type="checkbox" /> <span class="text-body">SFT fine-tune</span></label>
          <label class="inline-flex items-center gap-2"><input id="q45-s-rlhf" type="checkbox" /> <span class="text-body">RLHF / DPO</span></label>
        </div>
      </div>
    </div>

    <p class="small-caption text-muted">Residual risk uses a multiplicative reduction model with diminishing returns at high severity and low data quality.</p>
  </div>

  <div class="grid md:grid-cols-3 gap-4">
    <div class="panel panel-neutral p-4 space-y-2">
      <h5 class="font-semibold text-heading">ðŸ“‰ Risk impact</h5>
      <div id="q45-bars" class="text-sm space-y-2" aria-live="polite"></div>
      <p class="small-caption text-muted">Top bar = base risk; second = residual after selected strategies.</p>
    </div>
    <div class="panel panel-neutral p-4 space-y-3">
      <h5 class="font-semibold text-heading">ðŸ“Š Metrics</h5>
      <div id="q45-metrics" class="text-sm space-y-2" aria-live="polite"></div>
      <div id="q45-guidance" class="small-caption text-muted border-t border-subtle pt-2" aria-live="polite"></div>
    </div>
    <div class="panel panel-warning p-4 space-y-2">
      <h5 class="font-semibold text-heading">ðŸ§­ Recommendation</h5>
      <div id="q45-explain" class="text-sm space-y-2" aria-live="polite"></div>
    </div>
  </div>
</div>
