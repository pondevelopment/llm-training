<div class="space-y-6" id="q53-root">
  <div class="panel panel-info p-4 space-y-2">
    <span class="chip chip-info text-xs font-semibold w-fit">How to use</span>
    <ol class="list-decimal ml-5 text-xs space-y-1">
      <li>Edit or keep the logits vector (raw scores).</li>
      <li>Adjust <strong>Temperature</strong> to sharpen (T &lt; 1) or flatten (T &gt; 1) the base distribution.</li>
      <li>Select a strategy (Greedy / Top-k / Nucleus / Typical).</li>
      <li>For Top-k move the slider to limit candidate set size; for Top-p set cumulative probability; for Typical set τ (coverage over entropy band).</li>
      <li>Click <strong>Sample</strong> to draw; highlighted rows show candidate tokens considered.</li>
    </ol>
    <p class="text-[11px] panel-muted">Greedy is deterministic; stochastic methods resample each click. Typical sampling trims both low-prob tail <em>and</em> overly predictable tokens.</p>
  </div>

  <div class="panel panel-neutral p-4 space-y-4">
    <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-5 gap-3">
      <div class="panel panel-neutral-soft p-3 space-y-2">
        <label class="block text-xs font-medium text-heading" for="q53-logits">Scenario</label>
        <select id="q53-logits" class="field-select w-full text-sm"></select>
      </div>
      <div class="panel panel-neutral-soft p-3 space-y-2">
        <label class="block text-xs font-medium text-heading" for="q53-temp">Temperature</label>
        <input id="q53-temp" type="range" min="0.2" max="1.8" step="0.1" value="1.0" class="w-full accent-current" />
        <div class="text-[11px] text-muted text-center"><span id="q53-temp-val">1.0</span></div>
      </div>
      <div class="panel panel-neutral-soft p-3 space-y-2">
        <label class="block text-xs font-medium text-heading" for="q53-topk">Top-k</label>
        <input id="q53-topk" type="range" min="1" max="10" step="1" value="3" class="w-full accent-current" />
        <div class="text-[11px] text-muted text-center"><span id="q53-topk-val">3</span></div>
      </div>
      <div class="panel panel-neutral-soft p-3 space-y-2">
        <label class="block text-xs font-medium text-heading" for="q53-topp">Top-p</label>
        <input id="q53-topp" type="range" min="0.5" max="0.99" step="0.01" value="0.9" class="w-full accent-current" />
        <div class="text-[11px] text-muted text-center"><span id="q53-topp-val">0.90</span></div>
      </div>
      <div class="panel panel-neutral-soft p-3 space-y-2">
        <label class="block text-xs font-medium text-heading" for="q53-typical">Typical τ</label>
        <input id="q53-typical" type="range" min="0.5" max="1.8" step="0.1" value="1.0" class="w-full accent-current" />
        <div class="text-[11px] text-muted text-center"><span id="q53-typical-val">1.0</span></div>
      </div>
    </div>
    <div class="flex flex-wrap gap-3 items-center text-xs">
      <label class="flex items-center gap-1">
        <input type="radio" name="q53-mode" value="greedy" checked> Greedy
      </label>
      <label class="flex items-center gap-1">
        <input type="radio" name="q53-mode" value="topk"> Top-k
      </label>
      <label class="flex items-center gap-1">
        <input type="radio" name="q53-mode" value="topp"> Nucleus
      </label>
      <label class="flex items-center gap-1">
        <input type="radio" name="q53-mode" value="typical"> Typical
      </label>
      <button id="q53-sample" class="ml-auto btn-accent text-xs px-3 py-1.5">Sample</button>
      <button id="q53-reset" class="btn-soft text-xs px-3 py-1.5">Reset</button>
    </div>
  </div>

  <div class="panel panel-neutral-soft q53-context p-4 space-y-2">
    <div class="q53-context-label">Prompt</div>
    <p id="q53-context-text" class="q53-context-text"></p>
    <div id="q53-context-tokens" class="q53-context-tokens"></div>
    <p id="q53-context-note" class="q53-context-note"></p>
  </div>

  <div class="grid md:grid-cols-2 gap-6">
    <div class="panel panel-neutral p-4 space-y-3">
      <h5 class="font-semibold text-heading text-sm">Token Probabilities</h5>
      <div id="q53-table" class="space-y-2 text-xs font-mono"></div>
    </div>
    <div class="panel panel-neutral p-4 space-y-3">
      <h5 class="font-semibold text-heading text-sm">Result &amp; Explanation</h5>
      <div id="q53-result" class="panel panel-neutral-soft p-3 text-sm">—</div>
      <div id="q53-explain" class="text-xs text-muted leading-relaxed"></div>
    </div>
  </div>
</div>
