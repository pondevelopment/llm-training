(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const s of u.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function ex(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gh={exports:{}},co={};var cb;function iS(){if(cb)return co;cb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,l,u){var s=null;if(u!==void 0&&(s=""+u),l.key!==void 0&&(s=""+l.key),"key"in l){u={};for(var c in l)c!=="key"&&(u[c]=l[c])}else u=l;return l=u.ref,{$$typeof:t,type:n,key:s,ref:l!==void 0?l:null,props:u}}return co.Fragment=e,co.jsx=r,co.jsxs=r,co}var fb;function lS(){return fb||(fb=1,Gh.exports=iS()),Gh.exports}var U=lS(),Hh={exports:{}},it={};var db;function uS(){if(db)return it;db=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),p=Symbol.iterator;function E(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function T(q,Q,J){this.props=q,this.context=Q,this.refs=S,this.updater=J||b}T.prototype.isReactComponent={},T.prototype.setState=function(q,Q){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Q,"setState")},T.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=T.prototype;function R(q,Q,J){this.props=q,this.context=Q,this.refs=S,this.updater=J||b}var D=R.prototype=new N;D.constructor=R,C(D,T.prototype),D.isPureReactComponent=!0;var O=Array.isArray;function I(){}var M={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function j(q,Q,J){var ie=J.ref;return{$$typeof:t,type:q,key:Q,ref:ie!==void 0?ie:null,props:J}}function _(q,Q){return j(q.type,Q,q.props)}function P(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function L(q){var Q={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(J){return Q[J]})}var H=/\/+/g;function X(q,Q){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):Q.toString(36)}function Z(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(I,I):(q.status="pending",q.then(function(Q){q.status==="pending"&&(q.status="fulfilled",q.value=Q)},function(Q){q.status==="pending"&&(q.status="rejected",q.reason=Q)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function G(q,Q,J,ie,oe){var he=typeof q;(he==="undefined"||he==="boolean")&&(q=null);var be=!1;if(q===null)be=!0;else switch(he){case"bigint":case"string":case"number":be=!0;break;case"object":switch(q.$$typeof){case t:case e:be=!0;break;case v:return be=q._init,G(be(q._payload),Q,J,ie,oe)}}if(be)return oe=oe(q),be=ie===""?"."+X(q,0):ie,O(oe)?(J="",be!=null&&(J=be.replace(H,"$&/")+"/"),G(oe,Q,J,"",function(ne){return ne})):oe!=null&&(P(oe)&&(oe=_(oe,J+(oe.key==null||q&&q.key===oe.key?"":(""+oe.key).replace(H,"$&/")+"/")+be)),Q.push(oe)),1;be=0;var Re=ie===""?".":ie+":";if(O(q))for(var ye=0;ye<q.length;ye++)ie=q[ye],he=Re+X(ie,ye),be+=G(ie,Q,J,he,oe);else if(ye=E(q),typeof ye=="function")for(q=ye.call(q),ye=0;!(ie=q.next()).done;)ie=ie.value,he=Re+X(ie,ye++),be+=G(ie,Q,J,he,oe);else if(he==="object"){if(typeof q.then=="function")return G(Z(q),Q,J,ie,oe);throw Q=String(q),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return be}function F(q,Q,J){if(q==null)return q;var ie=[],oe=0;return G(q,ie,"","",function(he){return Q.call(J,he,oe++)}),ie}function W(q){if(q._status===-1){var Q=q._result;Q=Q(),Q.then(function(J){(q._status===0||q._status===-1)&&(q._status=1,q._result=J)},function(J){(q._status===0||q._status===-1)&&(q._status=2,q._result=J)}),q._status===-1&&(q._status=0,q._result=Q)}if(q._status===1)return q._result.default;throw q._result}var ee=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},te={map:F,forEach:function(q,Q,J){F(q,function(){Q.apply(this,arguments)},J)},count:function(q){var Q=0;return F(q,function(){Q++}),Q},toArray:function(q){return F(q,function(Q){return Q})||[]},only:function(q){if(!P(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return it.Activity=g,it.Children=te,it.Component=T,it.Fragment=r,it.Profiler=l,it.PureComponent=R,it.StrictMode=n,it.Suspense=d,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,it.__COMPILER_RUNTIME={__proto__:null,c:function(q){return M.H.useMemoCache(q)}},it.cache=function(q){return function(){return q.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(q,Q,J){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ie=C({},q.props),oe=q.key;if(Q!=null)for(he in Q.key!==void 0&&(oe=""+Q.key),Q)!k.call(Q,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Q.ref===void 0||(ie[he]=Q[he]);var he=arguments.length-2;if(he===1)ie.children=J;else if(1<he){for(var be=Array(he),Re=0;Re<he;Re++)be[Re]=arguments[Re+2];ie.children=be}return j(q.type,oe,ie)},it.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:u,_context:q},q},it.createElement=function(q,Q,J){var ie,oe={},he=null;if(Q!=null)for(ie in Q.key!==void 0&&(he=""+Q.key),Q)k.call(Q,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(oe[ie]=Q[ie]);var be=arguments.length-2;if(be===1)oe.children=J;else if(1<be){for(var Re=Array(be),ye=0;ye<be;ye++)Re[ye]=arguments[ye+2];oe.children=Re}if(q&&q.defaultProps)for(ie in be=q.defaultProps,be)oe[ie]===void 0&&(oe[ie]=be[ie]);return j(q,he,oe)},it.createRef=function(){return{current:null}},it.forwardRef=function(q){return{$$typeof:c,render:q}},it.isValidElement=P,it.lazy=function(q){return{$$typeof:v,_payload:{_status:-1,_result:q},_init:W}},it.memo=function(q,Q){return{$$typeof:f,type:q,compare:Q===void 0?null:Q}},it.startTransition=function(q){var Q=M.T,J={};M.T=J;try{var ie=q(),oe=M.S;oe!==null&&oe(J,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(I,ee)}catch(he){ee(he)}finally{Q!==null&&J.types!==null&&(Q.types=J.types),M.T=Q}},it.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},it.use=function(q){return M.H.use(q)},it.useActionState=function(q,Q,J){return M.H.useActionState(q,Q,J)},it.useCallback=function(q,Q){return M.H.useCallback(q,Q)},it.useContext=function(q){return M.H.useContext(q)},it.useDebugValue=function(){},it.useDeferredValue=function(q,Q){return M.H.useDeferredValue(q,Q)},it.useEffect=function(q,Q){return M.H.useEffect(q,Q)},it.useEffectEvent=function(q){return M.H.useEffectEvent(q)},it.useId=function(){return M.H.useId()},it.useImperativeHandle=function(q,Q,J){return M.H.useImperativeHandle(q,Q,J)},it.useInsertionEffect=function(q,Q){return M.H.useInsertionEffect(q,Q)},it.useLayoutEffect=function(q,Q){return M.H.useLayoutEffect(q,Q)},it.useMemo=function(q,Q){return M.H.useMemo(q,Q)},it.useOptimistic=function(q,Q){return M.H.useOptimistic(q,Q)},it.useReducer=function(q,Q,J){return M.H.useReducer(q,Q,J)},it.useRef=function(q){return M.H.useRef(q)},it.useState=function(q){return M.H.useState(q)},it.useSyncExternalStore=function(q,Q,J){return M.H.useSyncExternalStore(q,Q,J)},it.useTransition=function(){return M.H.useTransition()},it.version="19.2.4",it}var vb;function em(){return vb||(vb=1,Hh.exports=uS()),Hh.exports}var Lr=em();const Vh=ex(Lr);var Fh={exports:{}},fo={},Yh={exports:{}},Kh={};var hb;function sS(){return hb||(hb=1,(function(t){function e(G,F){var W=G.length;G.push(F);e:for(;0<W;){var ee=W-1>>>1,te=G[ee];if(0<l(te,F))G[ee]=F,G[W]=te,W=ee;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var F=G[0],W=G.pop();if(W!==F){G[0]=W;e:for(var ee=0,te=G.length,q=te>>>1;ee<q;){var Q=2*(ee+1)-1,J=G[Q],ie=Q+1,oe=G[ie];if(0>l(J,W))ie<te&&0>l(oe,J)?(G[ee]=oe,G[ie]=W,ee=ie):(G[ee]=J,G[Q]=W,ee=Q);else if(ie<te&&0>l(oe,W))G[ee]=oe,G[ie]=W,ee=ie;else break e}}return F}function l(G,F){var W=G.sortIndex-F.sortIndex;return W!==0?W:G.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var d=[],f=[],v=1,g=null,p=3,E=!1,b=!1,C=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var F=r(f);F!==null;){if(F.callback===null)n(f);else if(F.startTime<=G)n(f),F.sortIndex=F.expirationTime,e(d,F);else break;F=r(f)}}function O(G){if(C=!1,D(G),!b)if(r(d)!==null)b=!0,I||(I=!0,L());else{var F=r(f);F!==null&&Z(O,F.startTime-G)}}var I=!1,M=-1,k=5,j=-1;function _(){return S?!0:!(t.unstable_now()-j<k)}function P(){if(S=!1,I){var G=t.unstable_now();j=G;var F=!0;try{e:{b=!1,C&&(C=!1,N(M),M=-1),E=!0;var W=p;try{t:{for(D(G),g=r(d);g!==null&&!(g.expirationTime>G&&_());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,p=g.priorityLevel;var te=ee(g.expirationTime<=G);if(G=t.unstable_now(),typeof te=="function"){g.callback=te,D(G),F=!0;break t}g===r(d)&&n(d),D(G)}else n(d);g=r(d)}if(g!==null)F=!0;else{var q=r(f);q!==null&&Z(O,q.startTime-G),F=!1}}break e}finally{g=null,p=W,E=!1}F=void 0}}finally{F?L():I=!1}}}var L;if(typeof R=="function")L=function(){R(P)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,X=H.port2;H.port1.onmessage=P,L=function(){X.postMessage(null)}}else L=function(){T(P,0)};function Z(G,F){M=T(function(){G(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(G){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var W=p;p=F;try{return G()}finally{p=W}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(G,F){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=p;p=G;try{return F()}finally{p=W}},t.unstable_scheduleCallback=function(G,F,W){var ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,G){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=W+te,G={id:v++,callback:F,priorityLevel:G,startTime:W,expirationTime:te,sortIndex:-1},W>ee?(G.sortIndex=W,e(f,G),r(d)===null&&G===r(f)&&(C?(N(M),M=-1):C=!0,Z(O,W-ee))):(G.sortIndex=te,e(d,G),b||E||(b=!0,I||(I=!0,L()))),G},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(G){var F=p;return function(){var W=p;p=F;try{return G.apply(this,arguments)}finally{p=W}}}})(Kh)),Kh}var gb;function oS(){return gb||(gb=1,Yh.exports=sS()),Yh.exports}var Xh={exports:{}},Kr={};var pb;function cS(){if(pb)return Kr;pb=1;var t=em();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(d,f,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:g==null?null:""+g,children:d,containerInfo:f,implementation:v}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Kr.createPortal=function(d,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return u(d,f,null,v)},Kr.flushSync=function(d){var f=s.T,v=n.p;try{if(s.T=null,n.p=2,d)return d()}finally{s.T=f,n.p=v,n.d.f()}},Kr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Kr.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Kr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var v=f.as,g=c(v,f.crossOrigin),p=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:E}):v==="script"&&n.d.X(d,{crossOrigin:g,integrity:p,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Kr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Kr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,g=c(v,f.crossOrigin);n.d.L(d,v,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Kr.preloadModule=function(d,f){if(typeof d=="string")if(f){var v=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Kr.requestFormReset=function(d){n.d.r(d)},Kr.unstable_batchedUpdates=function(d,f){return d(f)},Kr.useFormState=function(d,f,v){return s.H.useFormState(d,f,v)},Kr.useFormStatus=function(){return s.H.useHostTransitionStatus()},Kr.version="19.2.4",Kr}var mb;function fS(){if(mb)return Xh.exports;mb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xh.exports=cS(),Xh.exports}var yb;function dS(){if(yb)return fo;yb=1;var t=oS(),e=em(),r=fS();function n(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function u(a){var i=a,o=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(o=i.return),a=i.return;while(a)}return i.tag===3?o:null}function s(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function c(a){if(a.tag===31){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function d(a){if(u(a)!==a)throw Error(n(188))}function f(a){var i=a.alternate;if(!i){if(i=u(a),i===null)throw Error(n(188));return i!==a?null:a}for(var o=a,h=i;;){var y=o.return;if(y===null)break;var w=y.alternate;if(w===null){if(h=y.return,h!==null){o=h;continue}break}if(y.child===w.child){for(w=y.child;w;){if(w===o)return d(y),a;if(w===h)return d(y),i;w=w.sibling}throw Error(n(188))}if(o.return!==h.return)o=y,h=w;else{for(var B=!1,V=y.child;V;){if(V===o){B=!0,o=y,h=w;break}if(V===h){B=!0,h=y,o=w;break}V=V.sibling}if(!B){for(V=w.child;V;){if(V===o){B=!0,o=w,h=y;break}if(V===h){B=!0,h=w,o=y;break}V=V.sibling}if(!B)throw Error(n(189))}}if(o.alternate!==h)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?a:i}function v(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=v(a),i!==null)return i;a=a.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),_=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=P&&a[P]||a["@@iterator"],typeof a=="function"?a:null)}var H=Symbol.for("react.client.reference");function X(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===H?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case T:return"Profiler";case S:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList";case j:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case R:return a.displayName||"Context";case N:return(a._context.displayName||"Context")+".Consumer";case D:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return i=a.displayName||null,i!==null?i:X(a.type)||"Memo";case k:i=a._payload,a=a._init;try{return X(a(i))}catch{}}return null}var Z=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ee=[],te=-1;function q(a){return{current:a}}function Q(a){0>te||(a.current=ee[te],ee[te]=null,te--)}function J(a,i){te++,ee[te]=a.current,a.current=i}var ie=q(null),oe=q(null),he=q(null),be=q(null);function Re(a,i){switch(J(he,i),J(oe,a),J(ie,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?I0(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=I0(i),a=L0(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Q(ie),J(ie,a)}function ye(){Q(ie),Q(oe),Q(he)}function ne(a){a.memoizedState!==null&&J(be,a);var i=ie.current,o=L0(i,a.type);i!==o&&(J(oe,a),J(ie,o))}function ue(a){oe.current===a&&(Q(ie),Q(oe)),be.current===a&&(Q(be),lo._currentValue=W)}var fe,Ee;function De(a){if(fe===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);fe=i&&i[1]||"",Ee=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+a+Ee}var Le=!1;function lt(a,i){if(!a||Le)return"";Le=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(me){var ve=me}Reflect.construct(a,[],Ce)}else{try{Ce.call()}catch(me){ve=me}a.call(Ce.prototype)}}else{try{throw Error()}catch(me){ve=me}(Ce=a())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(me){if(me&&ve&&typeof me.stack=="string")return[me.stack,ve.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=h.DetermineComponentFrameRoot(),B=w[0],V=w[1];if(B&&V){var $=B.split(`
`),de=V.split(`
`);for(y=h=0;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;for(;y<de.length&&!de[y].includes("DetermineComponentFrameRoot");)y++;if(h===$.length||y===de.length)for(h=$.length-1,y=de.length-1;1<=h&&0<=y&&$[h]!==de[y];)y--;for(;1<=h&&0<=y;h--,y--)if($[h]!==de[y]){if(h!==1||y!==1)do if(h--,y--,0>y||$[h]!==de[y]){var xe=`
`+$[h].replace(" at new "," at ");return a.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",a.displayName)),xe}while(1<=h&&0<=y);break}}}finally{Le=!1,Error.prepareStackTrace=o}return(o=a?a.displayName||a.name:"")?De(o):""}function Qe(a,i){switch(a.tag){case 26:case 27:case 5:return De(a.type);case 16:return De("Lazy");case 13:return a.child!==i&&i!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return lt(a.type,!1);case 11:return lt(a.type.render,!1);case 1:return lt(a.type,!0);case 31:return De("Activity");default:return""}}function je(a){try{var i="",o=null;do i+=Qe(a,o),o=a,a=a.return;while(a);return i}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ke=Object.prototype.hasOwnProperty,Oe=t.unstable_scheduleCallback,Ge=t.unstable_cancelCallback,Fe=t.unstable_shouldYield,tt=t.unstable_requestPaint,Ie=t.unstable_now,at=t.unstable_getCurrentPriorityLevel,ct=t.unstable_ImmediatePriority,yt=t.unstable_UserBlockingPriority,dt=t.unstable_NormalPriority,bt=t.unstable_LowPriority,We=t.unstable_IdlePriority,ze=t.log,we=t.unstable_setDisableYieldValue,Y=null,se=null;function pe(a){if(typeof ze=="function"&&we(a),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(Y,a)}catch{}}var ge=Math.clz32?Math.clz32:Ne,Te=Math.log,ke=Math.LN2;function Ne(a){return a>>>=0,a===0?32:31-(Te(a)/ke|0)|0}var Ue=256,Be=262144,Ye=4194304;function Je(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function rt(a,i,o){var h=a.pendingLanes;if(h===0)return 0;var y=0,w=a.suspendedLanes,B=a.pingedLanes;a=a.warmLanes;var V=h&134217727;return V!==0?(h=V&~w,h!==0?y=Je(h):(B&=V,B!==0?y=Je(B):o||(o=V&~a,o!==0&&(y=Je(o))))):(V=h&~w,V!==0?y=Je(V):B!==0?y=Je(B):o||(o=h&~a,o!==0&&(y=Je(o)))),y===0?0:i!==0&&i!==y&&(i&w)===0&&(w=y&-y,o=i&-i,w>=o||w===32&&(o&4194048)!==0)?i:y}function _e(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function st(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var a=Ye;return Ye<<=1,(Ye&62914560)===0&&(Ye=4194304),a}function Kt(a){for(var i=[],o=0;31>o;o++)i.push(a);return i}function Tt(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function wr(a,i,o,h,y,w){var B=a.pendingLanes;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=o,a.entangledLanes&=o,a.errorRecoveryDisabledLanes&=o,a.shellSuspendCounter=0;var V=a.entanglements,$=a.expirationTimes,de=a.hiddenUpdates;for(o=B&~o;0<o;){var xe=31-ge(o),Ce=1<<xe;V[xe]=0,$[xe]=-1;var ve=de[xe];if(ve!==null)for(de[xe]=null,xe=0;xe<ve.length;xe++){var me=ve[xe];me!==null&&(me.lane&=-536870913)}o&=~Ce}h!==0&&Gt(a,h,0),w!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=w&~(B&~i))}function Gt(a,i,o){a.pendingLanes|=i,a.suspendedLanes&=~i;var h=31-ge(i);a.entangledLanes|=i,a.entanglements[h]=a.entanglements[h]|1073741824|o&261930}function Ht(a,i){var o=a.entangledLanes|=i;for(a=a.entanglements;o;){var h=31-ge(o),y=1<<h;y&i|a[h]&i&&(a[h]|=i),o&=~y}}function Ut(a,i){var o=i&-i;return o=(o&42)!==0?1:tr(o),(o&(a.suspendedLanes|i))!==0?0:o}function tr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ia(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Vt(){var a=F.p;return a!==0?a:(a=window.event,a===void 0?32:ab(a.type))}function la(a,i){var o=F.p;try{return F.p=a,i()}finally{F.p=o}}var dr=Math.random().toString(36).slice(2),Dt="__reactFiber$"+dr,St="__reactProps$"+dr,Tr="__reactContainer$"+dr,sr="__reactEvents$"+dr,Wt="__reactListeners$"+dr,or="__reactHandles$"+dr,qa="__reactResources$"+dr,vr="__reactMarker$"+dr;function bn(a){delete a[Dt],delete a[St],delete a[sr],delete a[Wt],delete a[or]}function tn(a){var i=a[Dt];if(i)return i;for(var o=a.parentNode;o;){if(i=o[Tr]||o[Dt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(a=q0(a);a!==null;){if(o=a[Dt])return o;a=q0(a)}return i}a=o,o=a.parentNode}return null}function Ga(a){if(a=a[Dt]||a[Tr]){var i=a.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return a}return null}function xa(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(n(33))}function wa(a){var i=a[qa];return i||(i=a[qa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rr(a){a[vr]=!0}var Pl=new Set,Ji={};function hr(a,i){Wr(a,i),Wr(a+"Capture",i)}function Wr(a,i){for(Ji[a]=i,a=0;a<i.length;a++)Pl.add(i[a])}var En=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xn={},Sr={};function jl(a){return Ke.call(Sr,a)?!0:Ke.call(xn,a)?!1:En.test(a)?Sr[a]=!0:(xn[a]=!0,!1)}function $t(a,i,o){if(jl(i))if(o===null)a.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+o)}}function Oa(a,i,o){if(o===null)a.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+o)}}function Mr(a,i,o,h){if(h===null)a.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttributeNS(i,o,""+h)}}function gr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _r(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function el(a,i,o){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,i);if(!a.hasOwnProperty(i)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,w=h.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return y.call(this)},set:function(B){o=""+B,w.call(this,B)}}),Object.defineProperty(a,i,{enumerable:h.enumerable}),{getValue:function(){return o},setValue:function(B){o=""+B},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function wn(a){if(!a._valueTracker){var i=_r(a)?"checked":"value";a._valueTracker=el(a,i,""+a[i])}}function ql(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var o=i.getValue(),h="";return a&&(h=_r(a)?a.checked?"true":"false":a.value),a=h,a!==o?(i.setValue(a),!0):!1}function ni(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Gl=/[\n"\\]/g;function Fr(a){return a.replace(Gl,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function rn(a,i,o,h,y,w,B,V){a.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.type=B:a.removeAttribute("type"),i!=null?B==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+gr(i)):a.value!==""+gr(i)&&(a.value=""+gr(i)):B!=="submit"&&B!=="reset"||a.removeAttribute("value"),i!=null?as(a,B,gr(i)):o!=null?as(a,B,gr(o)):h!=null&&a.removeAttribute("value"),y==null&&w!=null&&(a.defaultChecked=!!w),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.name=""+gr(V):a.removeAttribute("name")}function Hl(a,i,o,h,y,w,B,V){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.type=w),i!=null||o!=null){if(!(w!=="submit"&&w!=="reset"||i!=null)){wn(a);return}o=o!=null?""+gr(o):"",i=i!=null?""+gr(i):o,V||i===a.value||(a.value=i),a.defaultValue=i}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=V?a.checked:!!h,a.defaultChecked=!!h,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(a.name=B),wn(a)}function as(a,i,o){i==="number"&&ni(a.ownerDocument)===a||a.defaultValue===""+o||(a.defaultValue=""+o)}function Tn(a,i,o,h){if(a=a.options,i){i={};for(var y=0;y<o.length;y++)i["$"+o[y]]=!0;for(o=0;o<a.length;o++)y=i.hasOwnProperty("$"+a[o].value),a[o].selected!==y&&(a[o].selected=y),y&&h&&(a[o].defaultSelected=!0)}else{for(o=""+gr(o),i=null,y=0;y<a.length;y++){if(a[y].value===o){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}i!==null||a[y].disabled||(i=a[y])}i!==null&&(i.selected=!0)}}function Wo(a,i,o){if(i!=null&&(i=""+gr(i),i!==a.value&&(a.value=i),o==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=o!=null?""+gr(o):""}function $o(a,i,o,h){if(i==null){if(h!=null){if(o!=null)throw Error(n(92));if(Z(h)){if(1<h.length)throw Error(n(93));h=h[0]}o=h}o==null&&(o=""),i=o}o=gr(i),a.defaultValue=o,h=a.textContent,h===o&&h!==""&&h!==null&&(a.value=h),wn(a)}function Sn(a,i){if(i){var o=a.firstChild;if(o&&o===a.lastChild&&o.nodeType===3){o.nodeValue=i;return}}a.textContent=i}var zd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(a,i,o){var h=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":h?a.setProperty(i,o):typeof o!="number"||o===0||zd.has(i)?i==="float"?a.cssFloat=o:a[i]=(""+o).trim():a[i]=o+"px"}function Jo(a,i,o){if(i!=null&&typeof i!="object")throw Error(n(62));if(a=a.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in i)h=i[y],i.hasOwnProperty(y)&&o[y]!==h&&tl(a,y,h)}else for(var w in i)i.hasOwnProperty(w)&&tl(a,w,i[w])}function ns(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_d=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(a){return _d.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ma(){}var al=null;function nl(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var An=null,Cn=null;function Vl(a){var i=Ga(a);if(i&&(a=i.stateNode)){var o=a[St]||null;e:switch(a=i.stateNode,i.type){case"input":if(rn(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=a;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Fr(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var h=o[i];if(h!==a&&h.form===a.form){var y=h[St]||null;if(!y)throw Error(n(90));rn(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(i=0;i<o.length;i++)h=o[i],h.form===a.form&&ql(h)}break e;case"textarea":Wo(a,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Tn(a,!!o.multiple,i,!1)}}}var is=!1;function tc(a,i,o){if(is)return a(i,o);is=!0;try{var h=a(i);return h}finally{if(is=!1,(An!==null||Cn!==null)&&(uf(),An&&(i=An,a=Cn,Cn=An=null,Vl(i),a)))for(i=0;i<a.length;i++)Vl(a[i])}}function il(a,i){var o=a.stateNode;if(o===null)return null;var h=o[St]||null;if(h===null)return null;o=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(o&&typeof o!="function")throw Error(n(231,i,typeof o));return o}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ls=!1;if(Ba)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){ls=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{ls=!1}var an=null,us=null,Fl=null;function rc(){if(Fl)return Fl;var a,i=us,o=i.length,h,y="value"in an?an.value:an.textContent,w=y.length;for(a=0;a<o&&i[a]===y[a];a++);var B=o-a;for(h=1;h<=B&&i[o-h]===y[w-h];h++);return Fl=y.slice(a,1<h?1-h:void 0)}function Yl(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Kl(){return!0}function ac(){return!1}function Ur(a){function i(o,h,y,w,B){this._reactName=o,this._targetInst=y,this.type=h,this.nativeEvent=w,this.target=B,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(o=a[V],this[V]=o?o(w):w[V]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Kl:ac,this.isPropagationStopped=ac,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),i}var nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ll=Ur(nn),ul=g({},nn,{view:0,detail:0}),Ud=Ur(ul),ss,Xl,sl,ol=g({},ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==sl&&(sl&&a.type==="mousemove"?(ss=a.screenX-sl.screenX,Xl=a.screenY-sl.screenY):Xl=ss=0,sl=a),ss)},movementY:function(a){return"movementY"in a?a.movementY:Xl}}),os=Ur(ol),Pd=g({},ol,{dataTransfer:0}),jd=Ur(Pd),qd=g({},ul,{relatedTarget:0}),cs=Ur(qd),Gd=g({},nn,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=Ur(Gd),Vd=g({},nn,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Fd=Ur(Vd),Yd=g({},nn,{data:0}),nc=Ur(Yd),Kd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zl(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=Zd[a])?!!i[a]:!1}function fs(){return Zl}var Qd=g({},ul,{key:function(a){if(a.key){var i=Kd[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Yl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Xd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(a){return a.type==="keypress"?Yl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Yl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Wd=Ur(Qd),$d=g({},ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=Ur($d),Jd=g({},ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),ev=Ur(Jd),lc=g({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0}),tv=Ur(lc),rv=g({},ol,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),av=Ur(rv),nv=g({},nn,{newState:0,oldState:0}),iv=Ur(nv),lv=[9,13,27,32],ds=Ba&&"CompositionEvent"in window,cl=null;Ba&&"documentMode"in document&&(cl=document.documentMode);var uv=Ba&&"TextEvent"in window&&!cl,uc=Ba&&(!ds||cl&&8<cl&&11>=cl),sc=" ",oc=!1;function vs(a,i){switch(a){case"keyup":return lv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ql(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ii=!1;function sv(a,i){switch(a){case"compositionend":return Ql(i);case"keypress":return i.which!==32?null:(oc=!0,sc);case"textInput":return a=i.data,a===sc&&oc?null:a;default:return null}}function fl(a,i){if(ii)return a==="compositionend"||!ds&&vs(a,i)?(a=rc(),Fl=us=an=null,ii=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return uc&&i.locale!=="ko"?null:i.data;default:return null}}var cc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!cc[a.type]:i==="textarea"}function dc(a,i,o,h){An?Cn?Cn.push(h):Cn=[h]:An=h,i=hf(i,"onChange"),0<i.length&&(o=new ll("onChange","change",null,o,h),a.push({event:o,listeners:i}))}var dl=null,vl=null;function ov(a){N0(a,0)}function Wl(a){var i=xa(a);if(ql(i))return a}function li(a,i){if(a==="change")return i}var hs=!1;if(Ba){var gs;if(Ba){var ps="oninput"in document;if(!ps){var ms=document.createElement("div");ms.setAttribute("oninput","return;"),ps=typeof ms.oninput=="function"}gs=ps}else gs=!1;hs=gs&&(!document.documentMode||9<document.documentMode)}function vc(){dl&&(dl.detachEvent("onpropertychange",hc),vl=dl=null)}function hc(a){if(a.propertyName==="value"&&Wl(vl)){var i=[];dc(i,vl,a,nl(a)),tc(ov,i)}}function ys(a,i,o){a==="focusin"?(vc(),dl=i,vl=o,dl.attachEvent("onpropertychange",hc)):a==="focusout"&&vc()}function gc(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Wl(vl)}function $l(a,i){if(a==="click")return Wl(i)}function cv(a,i){if(a==="input"||a==="change")return Wl(i)}function fv(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var $r=typeof Object.is=="function"?Object.is:fv;function hl(a,i){if($r(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var o=Object.keys(a),h=Object.keys(i);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var y=o[h];if(!Ke.call(i,y)||!$r(a[y],i[y]))return!1}return!0}function pc(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function mc(a,i){var o=pc(a);a=0;for(var h;o;){if(o.nodeType===3){if(h=a+o.textContent.length,a<=i&&h>=i)return{node:o,offset:i-a};a=h}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=pc(o)}}function yc(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?yc(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function bc(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=ni(a.document);i instanceof a.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)a=i.contentWindow;else break;i=ni(a.document)}return i}function bs(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var dv=Ba&&"documentMode"in document&&11>=document.documentMode,ui=null,Jl=null,si=null,Es=!1;function Ec(a,i,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Es||ui==null||ui!==ni(h)||(h=ui,"selectionStart"in h&&bs(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),si&&hl(si,h)||(si=h,h=hf(Jl,"onSelect"),0<h.length&&(i=new ll("onSelect","select",null,i,o),a.push({event:i,listeners:h}),i.target=ui)))}function Rn(a,i){var o={};return o[a.toLowerCase()]=i.toLowerCase(),o["Webkit"+a]="webkit"+i,o["Moz"+a]="moz"+i,o}var oi={animationend:Rn("Animation","AnimationEnd"),animationiteration:Rn("Animation","AnimationIteration"),animationstart:Rn("Animation","AnimationStart"),transitionrun:Rn("Transition","TransitionRun"),transitionstart:Rn("Transition","TransitionStart"),transitioncancel:Rn("Transition","TransitionCancel"),transitionend:Rn("Transition","TransitionEnd")},gl={},pl={};Ba&&(pl=document.createElement("div").style,"AnimationEvent"in window||(delete oi.animationend.animation,delete oi.animationiteration.animation,delete oi.animationstart.animation),"TransitionEvent"in window||delete oi.transitionend.transition);function Dn(a){if(gl[a])return gl[a];if(!oi[a])return a;var i=oi[a],o;for(o in i)if(i.hasOwnProperty(o)&&o in pl)return gl[a]=i[o];return a}var xc=Dn("animationend"),wc=Dn("animationiteration"),Tc=Dn("animationstart"),vv=Dn("transitionrun"),hv=Dn("transitionstart"),gv=Dn("transitioncancel"),Sc=Dn("transitionend"),Ac=new Map,xs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xs.push("scrollEnd");function ua(a,i){Ac.set(a,i),hr(i,[a])}var eu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},sa=[],ci=0,ws=0;function tu(){for(var a=ci,i=ws=ci=0;i<a;){var o=sa[i];sa[i++]=null;var h=sa[i];sa[i++]=null;var y=sa[i];sa[i++]=null;var w=sa[i];if(sa[i++]=null,h!==null&&y!==null){var B=h.pending;B===null?y.next=y:(y.next=B.next,B.next=y),h.pending=y}w!==0&&Ss(o,y,w)}}function ru(a,i,o,h){sa[ci++]=a,sa[ci++]=i,sa[ci++]=o,sa[ci++]=h,ws|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Ts(a,i,o,h){return ru(a,i,o,h),au(a)}function On(a,i){return ru(a,null,null,i),au(a)}function Ss(a,i,o){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o);for(var y=!1,w=a.return;w!==null;)w.childLanes|=o,h=w.alternate,h!==null&&(h.childLanes|=o),w.tag===22&&(a=w.stateNode,a===null||a._visibility&1||(y=!0)),a=w,w=w.return;return a.tag===3?(w=a.stateNode,y&&i!==null&&(y=31-ge(o),a=w.hiddenUpdates,h=a[y],h===null?a[y]=[i]:h.push(i),i.lane=o|536870912),w):null}function au(a){if(50<Js)throw Js=0,dh=null,Error(n(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var Mn={};function Cc(a,i,o,h){this.tag=a,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(a,i,o,h){return new Cc(a,i,o,h)}function nu(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ha(a,i){var o=a.alternate;return o===null?(o=Jr(a.tag,i,a.key,a.mode),o.elementType=a.elementType,o.type=a.type,o.stateNode=a.stateNode,o.alternate=a,a.alternate=o):(o.pendingProps=i,o.type=a.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=a.flags&65011712,o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,i=a.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=a.sibling,o.index=a.index,o.ref=a.ref,o.refCleanup=a.refCleanup,o}function Nc(a,i){a.flags&=65011714;var o=a.alternate;return o===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,i=o.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function iu(a,i,o,h,y,w){var B=0;if(h=a,typeof a=="function")nu(a)&&(B=1);else if(typeof a=="string")B=KT(a,o,ie.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case j:return a=Jr(31,o,i,y),a.elementType=j,a.lanes=w,a;case C:return Bn(o.children,y,w,i);case S:B=8,y|=24;break;case T:return a=Jr(12,o,i,y|2),a.elementType=T,a.lanes=w,a;case O:return a=Jr(13,o,i,y),a.elementType=O,a.lanes=w,a;case I:return a=Jr(19,o,i,y),a.elementType=I,a.lanes=w,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:B=10;break e;case N:B=9;break e;case D:B=11;break e;case M:B=14;break e;case k:B=16,h=null;break e}B=29,o=Error(n(130,a===null?"null":typeof a,"")),h=null}return i=Jr(B,o,i,y),i.elementType=a,i.type=h,i.lanes=w,i}function Bn(a,i,o,h){return a=Jr(7,a,h,i),a.lanes=o,a}function lu(a,i,o){return a=Jr(6,a,null,i),a.lanes=o,a}function Rc(a){var i=Jr(18,null,null,0);return i.stateNode=a,i}function As(a,i,o){return i=Jr(4,a.children!==null?a.children:[],a.key,i),i.lanes=o,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var Cs=new WeakMap;function oa(a,i){if(typeof a=="object"&&a!==null){var o=Cs.get(a);return o!==void 0?o:(i={value:a,source:i,stack:je(i)},Cs.set(a,i),i)}return{value:a,source:i,stack:je(i)}}var fi=[],In=0,uu=null,di=0,ca=[],fa=0,ln=null,Ia=1,La="";function Va(a,i){fi[In++]=di,fi[In++]=uu,uu=a,di=i}function Dc(a,i,o){ca[fa++]=Ia,ca[fa++]=La,ca[fa++]=ln,ln=a;var h=Ia;a=La;var y=32-ge(h)-1;h&=~(1<<y),o+=1;var w=32-ge(i)+y;if(30<w){var B=y-y%5;w=(h&(1<<B)-1).toString(32),h>>=B,y-=B,Ia=1<<32-ge(i)+y|o<<y|h,La=w+a}else Ia=1<<w|o<<y|h,La=a}function su(a){a.return!==null&&(Va(a,1),Dc(a,1,0))}function Ns(a){for(;a===uu;)uu=fi[--In],fi[In]=null,di=fi[--In],fi[In]=null;for(;a===ln;)ln=ca[--fa],ca[fa]=null,La=ca[--fa],ca[fa]=null,Ia=ca[--fa],ca[fa]=null}function Oc(a,i){ca[fa++]=Ia,ca[fa++]=La,ca[fa++]=ln,Ia=i.id,La=i.overflow,ln=a}var pr=null,Pt=null,vt=!1,un=null,ea=!1,Rs=Error(n(519));function sn(a){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(oa(i,a)),Rs}function Mc(a){var i=a.stateNode,o=a.type,h=a.memoizedProps;switch(i[Dt]=a,i[St]=h,o){case"dialog":gt("cancel",i),gt("close",i);break;case"iframe":case"object":case"embed":gt("load",i);break;case"video":case"audio":for(o=0;o<to.length;o++)gt(to[o],i);break;case"source":gt("error",i);break;case"img":case"image":case"link":gt("error",i),gt("load",i);break;case"details":gt("toggle",i);break;case"input":gt("invalid",i),Hl(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":gt("invalid",i);break;case"textarea":gt("invalid",i),$o(i,h.value,h.defaultValue,h.children)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||h.suppressHydrationWarning===!0||M0(i.textContent,o)?(h.popover!=null&&(gt("beforetoggle",i),gt("toggle",i)),h.onScroll!=null&&gt("scroll",i),h.onScrollEnd!=null&&gt("scrollend",i),h.onClick!=null&&(i.onclick=Ma),i=!0):i=!1,i||sn(a,!0)}function Bc(a){for(pr=a.return;pr;)switch(pr.tag){case 5:case 31:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:pr=pr.return}}function vi(a){if(a!==pr)return!1;if(!vt)return Bc(a),vt=!0,!1;var i=a.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=a.type,o=!(o!=="form"&&o!=="button")||Nh(a.type,a.memoizedProps)),o=!o),o&&Pt&&sn(a),Bc(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Pt=j0(a)}else if(i===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Pt=j0(a)}else i===27?(i=Pt,Ri(a.type)?(a=Bh,Bh=null,Pt=a):Pt=i):Pt=pr?za(a.stateNode.nextSibling):null;return!0}function Ln(){Pt=pr=null,vt=!1}function Ds(){var a=un;return a!==null&&(ga===null?ga=a:ga.push.apply(ga,a),un=null),a}function ml(a){un===null?un=[a]:un.push(a)}var Os=q(null),kn=null,Fa=null;function on(a,i,o){J(Os,i._currentValue),i._currentValue=o}function Ya(a){a._currentValue=Os.current,Q(Os)}function Ms(a,i,o){for(;a!==null;){var h=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),a===o)break;a=a.return}}function Bs(a,i,o,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var w=y.dependencies;if(w!==null){var B=y.child;w=w.firstContext;e:for(;w!==null;){var V=w;w=y;for(var $=0;$<i.length;$++)if(V.context===i[$]){w.lanes|=o,V=w.alternate,V!==null&&(V.lanes|=o),Ms(w.return,o,a),h||(B=null);break e}w=V.next}}else if(y.tag===18){if(B=y.return,B===null)throw Error(n(341));B.lanes|=o,w=B.alternate,w!==null&&(w.lanes|=o),Ms(B,o,a),B=null}else B=y.child;if(B!==null)B.return=y;else for(B=y;B!==null;){if(B===a){B=null;break}if(y=B.sibling,y!==null){y.return=B.return,B=y;break}B=B.return}y=B}}function hi(a,i,o,h){a=null;for(var y=i,w=!1;y!==null;){if(!w){if((y.flags&524288)!==0)w=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var B=y.alternate;if(B===null)throw Error(n(387));if(B=B.memoizedProps,B!==null){var V=y.type;$r(y.pendingProps.value,B.value)||(a!==null?a.push(V):a=[V])}}else if(y===be.current){if(B=y.alternate,B===null)throw Error(n(387));B.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(lo):a=[lo])}y=y.return}a!==null&&Bs(i,a,o,h),i.flags|=262144}function ou(a){for(a=a.firstContext;a!==null;){if(!$r(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function zn(a){kn=a,Fa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ar(a){return Ic(kn,a)}function cu(a,i){return kn===null&&zn(a),Ic(a,i)}function Ic(a,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},Fa===null){if(a===null)throw Error(n(308));Fa=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else Fa=Fa.next=i;return o}var pv=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(o,h){a.push(h)}};this.abort=function(){i.aborted=!0,a.forEach(function(o){return o()})}},mv=t.unstable_scheduleCallback,yv=t.unstable_NormalPriority,nr={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Is(){return{controller:new pv,data:new Map,refCount:0}}function Ka(a){a.refCount--,a.refCount===0&&mv(yv,function(){a.controller.abort()})}var yl=null,Ls=0,gi=0,pi=null;function bv(a,i){if(yl===null){var o=yl=[];Ls=0,gi=yh(),pi={status:"pending",value:void 0,then:function(h){o.push(h)}}}return Ls++,i.then(Lc,Lc),i}function Lc(){if(--Ls===0&&yl!==null){pi!==null&&(pi.status="fulfilled");var a=yl;yl=null,gi=0,pi=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function Ev(a,i){var o=[],h={status:"pending",value:null,reason:null,then:function(y){o.push(y)}};return a.then(function(){h.status="fulfilled",h.value=i;for(var y=0;y<o.length;y++)(0,o[y])(i)},function(y){for(h.status="rejected",h.reason=y,y=0;y<o.length;y++)(0,o[y])(void 0)}),h}var ks=G.S;G.S=function(a,i){t0=Ie(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&bv(a,i),ks!==null&&ks(a,i)};var _n=q(null);function zs(){var a=_n.current;return a!==null?a:jt.pooledCache}function fu(a,i){i===null?J(_n,_n.current):J(_n,i.pool)}function kc(){var a=zs();return a===null?null:{parent:nr._currentValue,pool:a}}var mi=Error(n(460)),_s=Error(n(474)),du=Error(n(542)),vu={then:function(){}};function Us(a){return a=a.status,a==="fulfilled"||a==="rejected"}function zc(a,i,o){switch(o=a[o],o===void 0?a.push(i):o!==i&&(i.then(Ma,Ma),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,Uc(a),a;default:if(typeof i.status=="string")i.then(Ma,Ma);else{if(a=jt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=i,a.status="pending",a.then(function(h){if(i.status==="pending"){var y=i;y.status="fulfilled",y.value=h}},function(h){if(i.status==="pending"){var y=i;y.status="rejected",y.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,Uc(a),a}throw Pn=i,mi}}function Un(a){try{var i=a._init;return i(a._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Pn=o,mi):o}}var Pn=null;function _c(){if(Pn===null)throw Error(n(459));var a=Pn;return Pn=null,a}function Uc(a){if(a===mi||a===du)throw Error(n(483))}var yi=null,bl=0;function hu(a){var i=bl;return bl+=1,yi===null&&(yi=[]),zc(yi,a,i)}function m(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function x(a,i){throw i.$$typeof===p?Error(n(525)):(a=Object.prototype.toString.call(i),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function A(a){function i(le,ae){if(a){var ce=le.deletions;ce===null?(le.deletions=[ae],le.flags|=16):ce.push(ae)}}function o(le,ae){if(!a)return null;for(;ae!==null;)i(le,ae),ae=ae.sibling;return null}function h(le){for(var ae=new Map;le!==null;)le.key!==null?ae.set(le.key,le):ae.set(le.index,le),le=le.sibling;return ae}function y(le,ae){return le=Ha(le,ae),le.index=0,le.sibling=null,le}function w(le,ae,ce){return le.index=ce,a?(ce=le.alternate,ce!==null?(ce=ce.index,ce<ae?(le.flags|=67108866,ae):ce):(le.flags|=67108866,ae)):(le.flags|=1048576,ae)}function B(le){return a&&le.alternate===null&&(le.flags|=67108866),le}function V(le,ae,ce,Se){return ae===null||ae.tag!==6?(ae=lu(ce,le.mode,Se),ae.return=le,ae):(ae=y(ae,ce),ae.return=le,ae)}function $(le,ae,ce,Se){var Ze=ce.type;return Ze===C?xe(le,ae,ce.props.children,Se,ce.key):ae!==null&&(ae.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===k&&Un(Ze)===ae.type)?(ae=y(ae,ce.props),m(ae,ce),ae.return=le,ae):(ae=iu(ce.type,ce.key,ce.props,null,le.mode,Se),m(ae,ce),ae.return=le,ae)}function de(le,ae,ce,Se){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ce.containerInfo||ae.stateNode.implementation!==ce.implementation?(ae=As(ce,le.mode,Se),ae.return=le,ae):(ae=y(ae,ce.children||[]),ae.return=le,ae)}function xe(le,ae,ce,Se,Ze){return ae===null||ae.tag!==7?(ae=Bn(ce,le.mode,Se,Ze),ae.return=le,ae):(ae=y(ae,ce),ae.return=le,ae)}function Ce(le,ae,ce){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=lu(""+ae,le.mode,ce),ae.return=le,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return ce=iu(ae.type,ae.key,ae.props,null,le.mode,ce),m(ce,ae),ce.return=le,ce;case b:return ae=As(ae,le.mode,ce),ae.return=le,ae;case k:return ae=Un(ae),Ce(le,ae,ce)}if(Z(ae)||L(ae))return ae=Bn(ae,le.mode,ce,null),ae.return=le,ae;if(typeof ae.then=="function")return Ce(le,hu(ae),ce);if(ae.$$typeof===R)return Ce(le,cu(le,ae),ce);x(le,ae)}return null}function ve(le,ae,ce,Se){var Ze=ae!==null?ae.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Ze!==null?null:V(le,ae,""+ce,Se);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case E:return ce.key===Ze?$(le,ae,ce,Se):null;case b:return ce.key===Ze?de(le,ae,ce,Se):null;case k:return ce=Un(ce),ve(le,ae,ce,Se)}if(Z(ce)||L(ce))return Ze!==null?null:xe(le,ae,ce,Se,null);if(typeof ce.then=="function")return ve(le,ae,hu(ce),Se);if(ce.$$typeof===R)return ve(le,ae,cu(le,ce),Se);x(le,ce)}return null}function me(le,ae,ce,Se,Ze){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return le=le.get(ce)||null,V(ae,le,""+Se,Ze);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case E:return le=le.get(Se.key===null?ce:Se.key)||null,$(ae,le,Se,Ze);case b:return le=le.get(Se.key===null?ce:Se.key)||null,de(ae,le,Se,Ze);case k:return Se=Un(Se),me(le,ae,ce,Se,Ze)}if(Z(Se)||L(Se))return le=le.get(ce)||null,xe(ae,le,Se,Ze,null);if(typeof Se.then=="function")return me(le,ae,ce,hu(Se),Ze);if(Se.$$typeof===R)return me(le,ae,ce,cu(ae,Se),Ze);x(ae,Se)}return null}function qe(le,ae,ce,Se){for(var Ze=null,At=null,Ve=ae,ot=ae=0,mt=null;Ve!==null&&ot<ce.length;ot++){Ve.index>ot?(mt=Ve,Ve=null):mt=Ve.sibling;var Ct=ve(le,Ve,ce[ot],Se);if(Ct===null){Ve===null&&(Ve=mt);break}a&&Ve&&Ct.alternate===null&&i(le,Ve),ae=w(Ct,ae,ot),At===null?Ze=Ct:At.sibling=Ct,At=Ct,Ve=mt}if(ot===ce.length)return o(le,Ve),vt&&Va(le,ot),Ze;if(Ve===null){for(;ot<ce.length;ot++)Ve=Ce(le,ce[ot],Se),Ve!==null&&(ae=w(Ve,ae,ot),At===null?Ze=Ve:At.sibling=Ve,At=Ve);return vt&&Va(le,ot),Ze}for(Ve=h(Ve);ot<ce.length;ot++)mt=me(Ve,le,ot,ce[ot],Se),mt!==null&&(a&&mt.alternate!==null&&Ve.delete(mt.key===null?ot:mt.key),ae=w(mt,ae,ot),At===null?Ze=mt:At.sibling=mt,At=mt);return a&&Ve.forEach(function(Ii){return i(le,Ii)}),vt&&Va(le,ot),Ze}function et(le,ae,ce,Se){if(ce==null)throw Error(n(151));for(var Ze=null,At=null,Ve=ae,ot=ae=0,mt=null,Ct=ce.next();Ve!==null&&!Ct.done;ot++,Ct=ce.next()){Ve.index>ot?(mt=Ve,Ve=null):mt=Ve.sibling;var Ii=ve(le,Ve,Ct.value,Se);if(Ii===null){Ve===null&&(Ve=mt);break}a&&Ve&&Ii.alternate===null&&i(le,Ve),ae=w(Ii,ae,ot),At===null?Ze=Ii:At.sibling=Ii,At=Ii,Ve=mt}if(Ct.done)return o(le,Ve),vt&&Va(le,ot),Ze;if(Ve===null){for(;!Ct.done;ot++,Ct=ce.next())Ct=Ce(le,Ct.value,Se),Ct!==null&&(ae=w(Ct,ae,ot),At===null?Ze=Ct:At.sibling=Ct,At=Ct);return vt&&Va(le,ot),Ze}for(Ve=h(Ve);!Ct.done;ot++,Ct=ce.next())Ct=me(Ve,le,ot,Ct.value,Se),Ct!==null&&(a&&Ct.alternate!==null&&Ve.delete(Ct.key===null?ot:Ct.key),ae=w(Ct,ae,ot),At===null?Ze=Ct:At.sibling=Ct,At=Ct);return a&&Ve.forEach(function(nS){return i(le,nS)}),vt&&Va(le,ot),Ze}function zt(le,ae,ce,Se){if(typeof ce=="object"&&ce!==null&&ce.type===C&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case E:e:{for(var Ze=ce.key;ae!==null;){if(ae.key===Ze){if(Ze=ce.type,Ze===C){if(ae.tag===7){o(le,ae.sibling),Se=y(ae,ce.props.children),Se.return=le,le=Se;break e}}else if(ae.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===k&&Un(Ze)===ae.type){o(le,ae.sibling),Se=y(ae,ce.props),m(Se,ce),Se.return=le,le=Se;break e}o(le,ae);break}else i(le,ae);ae=ae.sibling}ce.type===C?(Se=Bn(ce.props.children,le.mode,Se,ce.key),Se.return=le,le=Se):(Se=iu(ce.type,ce.key,ce.props,null,le.mode,Se),m(Se,ce),Se.return=le,le=Se)}return B(le);case b:e:{for(Ze=ce.key;ae!==null;){if(ae.key===Ze)if(ae.tag===4&&ae.stateNode.containerInfo===ce.containerInfo&&ae.stateNode.implementation===ce.implementation){o(le,ae.sibling),Se=y(ae,ce.children||[]),Se.return=le,le=Se;break e}else{o(le,ae);break}else i(le,ae);ae=ae.sibling}Se=As(ce,le.mode,Se),Se.return=le,le=Se}return B(le);case k:return ce=Un(ce),zt(le,ae,ce,Se)}if(Z(ce))return qe(le,ae,ce,Se);if(L(ce)){if(Ze=L(ce),typeof Ze!="function")throw Error(n(150));return ce=Ze.call(ce),et(le,ae,ce,Se)}if(typeof ce.then=="function")return zt(le,ae,hu(ce),Se);if(ce.$$typeof===R)return zt(le,ae,cu(le,ce),Se);x(le,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ae!==null&&ae.tag===6?(o(le,ae.sibling),Se=y(ae,ce),Se.return=le,le=Se):(o(le,ae),Se=lu(ce,le.mode,Se),Se.return=le,le=Se),B(le)):o(le,ae)}return function(le,ae,ce,Se){try{bl=0;var Ze=zt(le,ae,ce,Se);return yi=null,Ze}catch(Ve){if(Ve===mi||Ve===du)throw Ve;var At=Jr(29,Ve,null,le.mode);return At.lanes=Se,At.return=le,At}}}var z=A(!0),K=A(!1),re=!1;function Ae(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function He(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Et(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Xt(a,i,o){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(Rt&2)!==0){var y=h.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),h.pending=i,i=au(a),Ss(a,null,o),i}return ru(a,h,i,o),au(a)}function Yr(a,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var h=i.lanes;h&=a.pendingLanes,o|=h,i.lanes=o,Ht(a,o)}}function Xa(a,i){var o=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var y=null,w=null;if(o=o.firstBaseUpdate,o!==null){do{var B={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};w===null?y=w=B:w=w.next=B,o=o.next}while(o!==null);w===null?y=w=i:w=w.next=i}else y=w=i;o={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:w,shared:h.shared,callbacks:h.callbacks},a.updateQueue=o;return}a=o.lastBaseUpdate,a===null?o.firstBaseUpdate=i:a.next=i,o.lastBaseUpdate=i}var xv=!1;function Ps(){if(xv){var a=pi;if(a!==null)throw a}}function js(a,i,o,h){xv=!1;var y=a.updateQueue;re=!1;var w=y.firstBaseUpdate,B=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var $=V,de=$.next;$.next=null,B===null?w=de:B.next=de,B=$;var xe=a.alternate;xe!==null&&(xe=xe.updateQueue,V=xe.lastBaseUpdate,V!==B&&(V===null?xe.firstBaseUpdate=de:V.next=de,xe.lastBaseUpdate=$))}if(w!==null){var Ce=y.baseState;B=0,xe=de=$=null,V=w;do{var ve=V.lane&-536870913,me=ve!==V.lane;if(me?(pt&ve)===ve:(h&ve)===ve){ve!==0&&ve===gi&&(xv=!0),xe!==null&&(xe=xe.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var qe=a,et=V;ve=i;var zt=o;switch(et.tag){case 1:if(qe=et.payload,typeof qe=="function"){Ce=qe.call(zt,Ce,ve);break e}Ce=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=et.payload,ve=typeof qe=="function"?qe.call(zt,Ce,ve):qe,ve==null)break e;Ce=g({},Ce,ve);break e;case 2:re=!0}}ve=V.callback,ve!==null&&(a.flags|=64,me&&(a.flags|=8192),me=y.callbacks,me===null?y.callbacks=[ve]:me.push(ve))}else me={lane:ve,tag:V.tag,payload:V.payload,callback:V.callback,next:null},xe===null?(de=xe=me,$=Ce):xe=xe.next=me,B|=ve;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;me=V,V=me.next,me.next=null,y.lastBaseUpdate=me,y.shared.pending=null}}while(!0);xe===null&&($=Ce),y.baseState=$,y.firstBaseUpdate=de,y.lastBaseUpdate=xe,w===null&&(y.shared.lanes=0),Ti|=B,a.lanes=B,a.memoizedState=Ce}}function Cm(a,i){if(typeof a!="function")throw Error(n(191,a));a.call(i)}function Nm(a,i){var o=a.callbacks;if(o!==null)for(a.callbacks=null,a=0;a<o.length;a++)Cm(o[a],i)}var gu=q(null),Pc=q(0);function Rm(a,i){a=Xn,J(Pc,a),J(gu,i),Xn=a|i.baseLanes}function wv(){J(Pc,Xn),J(gu,gu.current)}function Tv(){Xn=Pc.current,Q(gu),Q(Pc)}var Ta=q(null),ka=null;function bi(a){var i=a.alternate;J(cr,cr.current&1),J(Ta,a),ka===null&&(i===null||gu.current!==null||i.memoizedState!==null)&&(ka=a)}function Sv(a){J(cr,cr.current),J(Ta,a),ka===null&&(ka=a)}function Dm(a){a.tag===22?(J(cr,cr.current),J(Ta,a),ka===null&&(ka=a)):Ei()}function Ei(){J(cr,cr.current),J(Ta,Ta.current)}function Sa(a){Q(Ta),ka===a&&(ka=null),Q(cr)}var cr=q(0);function jc(a){for(var i=a;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Oh(o)||Mh(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var jn=0,ut=null,Lt=null,mr=null,qc=!1,pu=!1,El=!1,Gc=0,qs=0,mu=null,Xw=0;function ir(){throw Error(n(321))}function Av(a,i){if(i===null)return!1;for(var o=0;o<i.length&&o<a.length;o++)if(!$r(a[o],i[o]))return!1;return!0}function Cv(a,i,o,h,y,w){return jn=w,ut=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=a===null||a.memoizedState===null?dy:qv,El=!1,w=o(h,y),El=!1,pu&&(w=Mm(i,o,h,y)),Om(a),w}function Om(a){G.H=Vs;var i=Lt!==null&&Lt.next!==null;if(jn=0,mr=Lt=ut=null,qc=!1,qs=0,mu=null,i)throw Error(n(300));a===null||yr||(a=a.dependencies,a!==null&&ou(a)&&(yr=!0))}function Mm(a,i,o,h){ut=a;var y=0;do{if(pu&&(mu=null),qs=0,pu=!1,25<=y)throw Error(n(301));if(y+=1,mr=Lt=null,a.updateQueue!=null){var w=a.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}G.H=vy,w=i(o,h)}while(pu);return w}function Zw(){var a=G.H,i=a.useState()[0];return i=typeof i.then=="function"?Gs(i):i,a=a.useState()[0],(Lt!==null?Lt.memoizedState:null)!==a&&(ut.flags|=1024),i}function Nv(){var a=Gc!==0;return Gc=0,a}function Rv(a,i,o){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~o}function Dv(a){if(qc){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}qc=!1}jn=0,mr=Lt=ut=null,pu=!1,qs=Gc=0,mu=null}function ta(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?ut.memoizedState=mr=a:mr=mr.next=a,mr}function fr(){if(Lt===null){var a=ut.alternate;a=a!==null?a.memoizedState:null}else a=Lt.next;var i=mr===null?ut.memoizedState:mr.next;if(i!==null)mr=i,Lt=a;else{if(a===null)throw ut.alternate===null?Error(n(467)):Error(n(310));Lt=a,a={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},mr===null?ut.memoizedState=mr=a:mr=mr.next=a}return mr}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gs(a){var i=qs;return qs+=1,mu===null&&(mu=[]),a=zc(mu,a,i),i=ut,(mr===null?i.memoizedState:mr.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?dy:qv),a}function Vc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Gs(a);if(a.$$typeof===R)return Ar(a)}throw Error(n(438,String(a)))}function Ov(a){var i=null,o=ut.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var h=ut.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(y){return y.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Hc(),ut.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(a),h=0;h<a;h++)o[h]=_;return i.index++,o}function qn(a,i){return typeof i=="function"?i(a):i}function Fc(a){var i=fr();return Mv(i,Lt,a)}function Mv(a,i,o){var h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var y=a.baseQueue,w=h.pending;if(w!==null){if(y!==null){var B=y.next;y.next=w.next,w.next=B}i.baseQueue=y=w,h.pending=null}if(w=a.baseState,y===null)a.memoizedState=w;else{i=y.next;var V=B=null,$=null,de=i,xe=!1;do{var Ce=de.lane&-536870913;if(Ce!==de.lane?(pt&Ce)===Ce:(jn&Ce)===Ce){var ve=de.revertLane;if(ve===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ce===gi&&(xe=!0);else if((jn&ve)===ve){de=de.next,ve===gi&&(xe=!0);continue}else Ce={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},$===null?(V=$=Ce,B=w):$=$.next=Ce,ut.lanes|=ve,Ti|=ve;Ce=de.action,El&&o(w,Ce),w=de.hasEagerState?de.eagerState:o(w,Ce)}else ve={lane:Ce,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},$===null?(V=$=ve,B=w):$=$.next=ve,ut.lanes|=Ce,Ti|=Ce;de=de.next}while(de!==null&&de!==i);if($===null?B=w:$.next=V,!$r(w,a.memoizedState)&&(yr=!0,xe&&(o=pi,o!==null)))throw o;a.memoizedState=w,a.baseState=B,a.baseQueue=$,h.lastRenderedState=w}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Bv(a){var i=fr(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=a;var h=o.dispatch,y=o.pending,w=i.memoizedState;if(y!==null){o.pending=null;var B=y=y.next;do w=a(w,B.action),B=B.next;while(B!==y);$r(w,i.memoizedState)||(yr=!0),i.memoizedState=w,i.baseQueue===null&&(i.baseState=w),o.lastRenderedState=w}return[w,h]}function Bm(a,i,o){var h=ut,y=fr(),w=vt;if(w){if(o===void 0)throw Error(n(407));o=o()}else o=i();var B=!$r((Lt||y).memoizedState,o);if(B&&(y.memoizedState=o,yr=!0),y=y.queue,kv(km.bind(null,h,y,a),[a]),y.getSnapshot!==i||B||mr!==null&&mr.memoizedState.tag&1){if(h.flags|=2048,yu(9,{destroy:void 0},Lm.bind(null,h,y,o,i),null),jt===null)throw Error(n(349));w||(jn&127)!==0||Im(h,i,o)}return o}function Im(a,i,o){a.flags|=16384,a={getSnapshot:i,value:o},i=ut.updateQueue,i===null?(i=Hc(),ut.updateQueue=i,i.stores=[a]):(o=i.stores,o===null?i.stores=[a]:o.push(a))}function Lm(a,i,o,h){i.value=o,i.getSnapshot=h,zm(i)&&_m(a)}function km(a,i,o){return o(function(){zm(i)&&_m(a)})}function zm(a){var i=a.getSnapshot;a=a.value;try{var o=i();return!$r(a,o)}catch{return!0}}function _m(a){var i=On(a,2);i!==null&&pa(i,a,2)}function Iv(a){var i=ta();if(typeof a=="function"){var o=a;if(a=o(),El){pe(!0);try{o()}finally{pe(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:a},i}function Um(a,i,o,h){return a.baseState=o,Mv(a,Lt,typeof h=="function"?h:qn)}function Qw(a,i,o,h,y){if(Xc(a))throw Error(n(485));if(a=i.action,a!==null){var w={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){w.listeners.push(B)}};G.T!==null?o(!0):w.isTransition=!1,h(w),o=i.pending,o===null?(w.next=i.pending=w,Pm(i,w)):(w.next=o.next,i.pending=o.next=w)}}function Pm(a,i){var o=i.action,h=i.payload,y=a.state;if(i.isTransition){var w=G.T,B={};G.T=B;try{var V=o(y,h),$=G.S;$!==null&&$(B,V),jm(a,i,V)}catch(de){Lv(a,i,de)}finally{w!==null&&B.types!==null&&(w.types=B.types),G.T=w}}else try{w=o(y,h),jm(a,i,w)}catch(de){Lv(a,i,de)}}function jm(a,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){qm(a,i,h)},function(h){return Lv(a,i,h)}):qm(a,i,o)}function qm(a,i,o){i.status="fulfilled",i.value=o,Gm(i),a.state=o,i=a.pending,i!==null&&(o=i.next,o===i?a.pending=null:(o=o.next,i.next=o,Pm(a,o)))}function Lv(a,i,o){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=o,Gm(i),i=i.next;while(i!==h)}a.action=null}function Gm(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function Hm(a,i){return i}function Vm(a,i){if(vt){var o=jt.formState;if(o!==null){e:{var h=ut;if(vt){if(Pt){t:{for(var y=Pt,w=ea;y.nodeType!==8;){if(!w){y=null;break t}if(y=za(y.nextSibling),y===null){y=null;break t}}w=y.data,y=w==="F!"||w==="F"?y:null}if(y){Pt=za(y.nextSibling),h=y.data==="F!";break e}}sn(h)}h=!1}h&&(i=o[0])}}return o=ta(),o.memoizedState=o.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hm,lastRenderedState:i},o.queue=h,o=oy.bind(null,ut,h),h.dispatch=o,h=Iv(!1),w=jv.bind(null,ut,!1,h.queue),h=ta(),y={state:i,dispatch:null,action:a,pending:null},h.queue=y,o=Qw.bind(null,ut,y,w,o),y.dispatch=o,h.memoizedState=a,[i,o,!1]}function Fm(a){var i=fr();return Ym(i,Lt,a)}function Ym(a,i,o){if(i=Mv(a,i,Hm)[0],a=Fc(qn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=Gs(i)}catch(B){throw B===mi?du:B}else h=i;i=fr();var y=i.queue,w=y.dispatch;return o!==i.memoizedState&&(ut.flags|=2048,yu(9,{destroy:void 0},Ww.bind(null,y,o),null)),[h,w,a]}function Ww(a,i){a.action=i}function Km(a){var i=fr(),o=Lt;if(o!==null)return Ym(i,o,a);fr(),i=i.memoizedState,o=fr();var h=o.queue.dispatch;return o.memoizedState=a,[i,h,!1]}function yu(a,i,o,h){return a={tag:a,create:o,deps:h,inst:i,next:null},i=ut.updateQueue,i===null&&(i=Hc(),ut.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=a.next=a:(h=o.next,o.next=a,a.next=h,i.lastEffect=a),a}function Xm(){return fr().memoizedState}function Yc(a,i,o,h){var y=ta();ut.flags|=a,y.memoizedState=yu(1|i,{destroy:void 0},o,h===void 0?null:h)}function Kc(a,i,o,h){var y=fr();h=h===void 0?null:h;var w=y.memoizedState.inst;Lt!==null&&h!==null&&Av(h,Lt.memoizedState.deps)?y.memoizedState=yu(i,w,o,h):(ut.flags|=a,y.memoizedState=yu(1|i,w,o,h))}function Zm(a,i){Yc(8390656,8,a,i)}function kv(a,i){Kc(2048,8,a,i)}function $w(a){ut.flags|=4;var i=ut.updateQueue;if(i===null)i=Hc(),ut.updateQueue=i,i.events=[a];else{var o=i.events;o===null?i.events=[a]:o.push(a)}}function Qm(a){var i=fr().memoizedState;return $w({ref:i,nextImpl:a}),function(){if((Rt&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function Wm(a,i){return Kc(4,2,a,i)}function $m(a,i){return Kc(4,4,a,i)}function Jm(a,i){if(typeof i=="function"){a=a();var o=i(a);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function ey(a,i,o){o=o!=null?o.concat([a]):null,Kc(4,4,Jm.bind(null,i,a),o)}function zv(){}function ty(a,i){var o=fr();i=i===void 0?null:i;var h=o.memoizedState;return i!==null&&Av(i,h[1])?h[0]:(o.memoizedState=[a,i],a)}function ry(a,i){var o=fr();i=i===void 0?null:i;var h=o.memoizedState;if(i!==null&&Av(i,h[1]))return h[0];if(h=a(),El){pe(!0);try{a()}finally{pe(!1)}}return o.memoizedState=[h,i],h}function _v(a,i,o){return o===void 0||(jn&1073741824)!==0&&(pt&261930)===0?a.memoizedState=i:(a.memoizedState=o,a=a0(),ut.lanes|=a,Ti|=a,o)}function ay(a,i,o,h){return $r(o,i)?o:gu.current!==null?(a=_v(a,o,h),$r(a,i)||(yr=!0),a):(jn&42)===0||(jn&1073741824)!==0&&(pt&261930)===0?(yr=!0,a.memoizedState=o):(a=a0(),ut.lanes|=a,Ti|=a,i)}function ny(a,i,o,h,y){var w=F.p;F.p=w!==0&&8>w?w:8;var B=G.T,V={};G.T=V,jv(a,!1,i,o);try{var $=y(),de=G.S;if(de!==null&&de(V,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var xe=Ev($,h);Hs(a,i,xe,Na(a))}else Hs(a,i,h,Na(a))}catch(Ce){Hs(a,i,{then:function(){},status:"rejected",reason:Ce},Na())}finally{F.p=w,B!==null&&V.types!==null&&(B.types=V.types),G.T=B}}function Jw(){}function Uv(a,i,o,h){if(a.tag!==5)throw Error(n(476));var y=iy(a).queue;ny(a,y,i,W,o===null?Jw:function(){return ly(a),o(h)})}function iy(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:W},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:o},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function ly(a){var i=iy(a);i.next===null&&(i=a.alternate.memoizedState),Hs(a,i.next.queue,{},Na())}function Pv(){return Ar(lo)}function uy(){return fr().memoizedState}function sy(){return fr().memoizedState}function eT(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var o=Na();a=Et(o);var h=Xt(i,a,o);h!==null&&(pa(h,i,o),Yr(h,i,o)),i={cache:Is()},a.payload=i;return}i=i.return}}function tT(a,i,o){var h=Na();o={lane:h,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Xc(a)?cy(i,o):(o=Ts(a,i,o,h),o!==null&&(pa(o,a,h),fy(o,i,h)))}function oy(a,i,o){var h=Na();Hs(a,i,o,h)}function Hs(a,i,o,h){var y={lane:h,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Xc(a))cy(i,y);else{var w=a.alternate;if(a.lanes===0&&(w===null||w.lanes===0)&&(w=i.lastRenderedReducer,w!==null))try{var B=i.lastRenderedState,V=w(B,o);if(y.hasEagerState=!0,y.eagerState=V,$r(V,B))return ru(a,i,y,0),jt===null&&tu(),!1}catch{}if(o=Ts(a,i,y,h),o!==null)return pa(o,a,h),fy(o,i,h),!0}return!1}function jv(a,i,o,h){if(h={lane:2,revertLane:yh(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Xc(a)){if(i)throw Error(n(479))}else i=Ts(a,o,h,2),i!==null&&pa(i,a,2)}function Xc(a){var i=a.alternate;return a===ut||i!==null&&i===ut}function cy(a,i){pu=qc=!0;var o=a.pending;o===null?i.next=i:(i.next=o.next,o.next=i),a.pending=i}function fy(a,i,o){if((o&4194048)!==0){var h=i.lanes;h&=a.pendingLanes,o|=h,i.lanes=o,Ht(a,o)}}var Vs={readContext:Ar,use:Vc,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useLayoutEffect:ir,useInsertionEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useSyncExternalStore:ir,useId:ir,useHostTransitionStatus:ir,useFormState:ir,useActionState:ir,useOptimistic:ir,useMemoCache:ir,useCacheRefresh:ir};Vs.useEffectEvent=ir;var dy={readContext:Ar,use:Vc,useCallback:function(a,i){return ta().memoizedState=[a,i===void 0?null:i],a},useContext:Ar,useEffect:Zm,useImperativeHandle:function(a,i,o){o=o!=null?o.concat([a]):null,Yc(4194308,4,Jm.bind(null,i,a),o)},useLayoutEffect:function(a,i){return Yc(4194308,4,a,i)},useInsertionEffect:function(a,i){Yc(4,2,a,i)},useMemo:function(a,i){var o=ta();i=i===void 0?null:i;var h=a();if(El){pe(!0);try{a()}finally{pe(!1)}}return o.memoizedState=[h,i],h},useReducer:function(a,i,o){var h=ta();if(o!==void 0){var y=o(i);if(El){pe(!0);try{o(i)}finally{pe(!1)}}}else y=i;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=tT.bind(null,ut,a),[h.memoizedState,a]},useRef:function(a){var i=ta();return a={current:a},i.memoizedState=a},useState:function(a){a=Iv(a);var i=a.queue,o=oy.bind(null,ut,i);return i.dispatch=o,[a.memoizedState,o]},useDebugValue:zv,useDeferredValue:function(a,i){var o=ta();return _v(o,a,i)},useTransition:function(){var a=Iv(!1);return a=ny.bind(null,ut,a.queue,!0,!1),ta().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,o){var h=ut,y=ta();if(vt){if(o===void 0)throw Error(n(407));o=o()}else{if(o=i(),jt===null)throw Error(n(349));(pt&127)!==0||Im(h,i,o)}y.memoizedState=o;var w={value:o,getSnapshot:i};return y.queue=w,Zm(km.bind(null,h,w,a),[a]),h.flags|=2048,yu(9,{destroy:void 0},Lm.bind(null,h,w,o,i),null),o},useId:function(){var a=ta(),i=jt.identifierPrefix;if(vt){var o=La,h=Ia;o=(h&~(1<<32-ge(h)-1)).toString(32)+o,i="_"+i+"R_"+o,o=Gc++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=Xw++,i="_"+i+"r_"+o.toString(32)+"_";return a.memoizedState=i},useHostTransitionStatus:Pv,useFormState:Vm,useActionState:Vm,useOptimistic:function(a){var i=ta();i.memoizedState=i.baseState=a;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=jv.bind(null,ut,!0,o),o.dispatch=i,[a,i]},useMemoCache:Ov,useCacheRefresh:function(){return ta().memoizedState=eT.bind(null,ut)},useEffectEvent:function(a){var i=ta(),o={impl:a};return i.memoizedState=o,function(){if((Rt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}},qv={readContext:Ar,use:Vc,useCallback:ty,useContext:Ar,useEffect:kv,useImperativeHandle:ey,useInsertionEffect:Wm,useLayoutEffect:$m,useMemo:ry,useReducer:Fc,useRef:Xm,useState:function(){return Fc(qn)},useDebugValue:zv,useDeferredValue:function(a,i){var o=fr();return ay(o,Lt.memoizedState,a,i)},useTransition:function(){var a=Fc(qn)[0],i=fr().memoizedState;return[typeof a=="boolean"?a:Gs(a),i]},useSyncExternalStore:Bm,useId:uy,useHostTransitionStatus:Pv,useFormState:Fm,useActionState:Fm,useOptimistic:function(a,i){var o=fr();return Um(o,Lt,a,i)},useMemoCache:Ov,useCacheRefresh:sy};qv.useEffectEvent=Qm;var vy={readContext:Ar,use:Vc,useCallback:ty,useContext:Ar,useEffect:kv,useImperativeHandle:ey,useInsertionEffect:Wm,useLayoutEffect:$m,useMemo:ry,useReducer:Bv,useRef:Xm,useState:function(){return Bv(qn)},useDebugValue:zv,useDeferredValue:function(a,i){var o=fr();return Lt===null?_v(o,a,i):ay(o,Lt.memoizedState,a,i)},useTransition:function(){var a=Bv(qn)[0],i=fr().memoizedState;return[typeof a=="boolean"?a:Gs(a),i]},useSyncExternalStore:Bm,useId:uy,useHostTransitionStatus:Pv,useFormState:Km,useActionState:Km,useOptimistic:function(a,i){var o=fr();return Lt!==null?Um(o,Lt,a,i):(o.baseState=a,[a,o.queue.dispatch])},useMemoCache:Ov,useCacheRefresh:sy};vy.useEffectEvent=Qm;function Gv(a,i,o,h){i=a.memoizedState,o=o(h,i),o=o==null?i:g({},i,o),a.memoizedState=o,a.lanes===0&&(a.updateQueue.baseState=o)}var Hv={enqueueSetState:function(a,i,o){a=a._reactInternals;var h=Na(),y=Et(h);y.payload=i,o!=null&&(y.callback=o),i=Xt(a,y,h),i!==null&&(pa(i,a,h),Yr(i,a,h))},enqueueReplaceState:function(a,i,o){a=a._reactInternals;var h=Na(),y=Et(h);y.tag=1,y.payload=i,o!=null&&(y.callback=o),i=Xt(a,y,h),i!==null&&(pa(i,a,h),Yr(i,a,h))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var o=Na(),h=Et(o);h.tag=2,i!=null&&(h.callback=i),i=Xt(a,h,o),i!==null&&(pa(i,a,o),Yr(i,a,o))}};function hy(a,i,o,h,y,w,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,w,B):i.prototype&&i.prototype.isPureReactComponent?!hl(o,h)||!hl(y,w):!0}function gy(a,i,o,h){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,h),i.state!==a&&Hv.enqueueReplaceState(i,i.state,null)}function xl(a,i){var o=i;if("ref"in i){o={};for(var h in i)h!=="ref"&&(o[h]=i[h])}if(a=a.defaultProps){o===i&&(o=g({},o));for(var y in a)o[y]===void 0&&(o[y]=a[y])}return o}function py(a){eu(a)}function my(a){console.error(a)}function yy(a){eu(a)}function Zc(a,i){try{var o=a.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function by(a,i,o){try{var h=a.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Vv(a,i,o){return o=Et(o),o.tag=3,o.payload={element:null},o.callback=function(){Zc(a,i)},o}function Ey(a){return a=Et(a),a.tag=3,a}function xy(a,i,o,h){var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var w=h.value;a.payload=function(){return y(w)},a.callback=function(){by(i,o,h)}}var B=o.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(a.callback=function(){by(i,o,h),typeof y!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var V=h.stack;this.componentDidCatch(h.value,{componentStack:V!==null?V:""})})}function rT(a,i,o,h,y){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=o.alternate,i!==null&&hi(i,o,y,!0),o=Ta.current,o!==null){switch(o.tag){case 31:case 13:return ka===null?sf():o.alternate===null&&lr===0&&(lr=3),o.flags&=-257,o.flags|=65536,o.lanes=y,h===vu?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([h]):i.add(h),gh(a,h,y)),!1;case 22:return o.flags|=65536,h===vu?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([h]):o.add(h)),gh(a,h,y)),!1}throw Error(n(435,o.tag))}return gh(a,h,y),sf(),!1}if(vt)return i=Ta.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=y,h!==Rs&&(a=Error(n(422),{cause:h}),ml(oa(a,o)))):(h!==Rs&&(i=Error(n(423),{cause:h}),ml(oa(i,o))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=oa(h,o),y=Vv(a.stateNode,h,y),Xa(a,y),lr!==4&&(lr=2)),!1;var w=Error(n(520),{cause:h});if(w=oa(w,o),$s===null?$s=[w]:$s.push(w),lr!==4&&(lr=2),i===null)return!0;h=oa(h,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,a=y&-y,o.lanes|=a,a=Vv(o.stateNode,h,a),Xa(o,a),!1;case 1:if(i=o.type,w=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Si===null||!Si.has(w))))return o.flags|=65536,y&=-y,o.lanes|=y,y=Ey(y),xy(y,a,o,h),Xa(o,y),!1}o=o.return}while(o!==null);return!1}var Fv=Error(n(461)),yr=!1;function Pr(a,i,o,h){i.child=a===null?K(i,null,o,h):z(i,a.child,o,h)}function wy(a,i,o,h,y){o=o.render;var w=i.ref;if("ref"in h){var B={};for(var V in h)V!=="ref"&&(B[V]=h[V])}else B=h;return zn(i),h=Cv(a,i,o,B,w,y),V=Nv(),a!==null&&!yr?(Rv(a,i,y),Gn(a,i,y)):(vt&&V&&su(i),i.flags|=1,Pr(a,i,h,y),i.child)}function Ty(a,i,o,h,y){if(a===null){var w=o.type;return typeof w=="function"&&!nu(w)&&w.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=w,Sy(a,i,w,h,y)):(a=iu(o.type,null,h,i,i.mode,y),a.ref=i.ref,a.return=i,i.child=a)}if(w=a.child,!Jv(a,y)){var B=w.memoizedProps;if(o=o.compare,o=o!==null?o:hl,o(B,h)&&a.ref===i.ref)return Gn(a,i,y)}return i.flags|=1,a=Ha(w,h),a.ref=i.ref,a.return=i,i.child=a}function Sy(a,i,o,h,y){if(a!==null){var w=a.memoizedProps;if(hl(w,h)&&a.ref===i.ref)if(yr=!1,i.pendingProps=h=w,Jv(a,y))(a.flags&131072)!==0&&(yr=!0);else return i.lanes=a.lanes,Gn(a,i,y)}return Yv(a,i,o,h,y)}function Ay(a,i,o,h){var y=h.children,w=a!==null?a.memoizedState:null;if(a===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((i.flags&128)!==0){if(w=w!==null?w.baseLanes|o:o,a!==null){for(h=i.child=a.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~w}else h=0,i.child=null;return Cy(a,i,w,o,h)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&fu(i,w!==null?w.cachePool:null),w!==null?Rm(i,w):wv(),Dm(i);else return h=i.lanes=536870912,Cy(a,i,w!==null?w.baseLanes|o:o,o,h)}else w!==null?(fu(i,w.cachePool),Rm(i,w),Ei(),i.memoizedState=null):(a!==null&&fu(i,null),wv(),Ei());return Pr(a,i,y,o),i.child}function Fs(a,i){return a!==null&&a.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Cy(a,i,o,h,y){var w=zs();return w=w===null?null:{parent:nr._currentValue,pool:w},i.memoizedState={baseLanes:o,cachePool:w},a!==null&&fu(i,null),wv(),Dm(i),a!==null&&hi(a,i,h,!0),i.childLanes=y,null}function Qc(a,i){return i=$c({mode:i.mode,children:i.children},a.mode),i.ref=a.ref,a.child=i,i.return=a,i}function Ny(a,i,o){return z(i,a.child,null,o),a=Qc(i,i.pendingProps),a.flags|=2,Sa(i),i.memoizedState=null,a}function aT(a,i,o){var h=i.pendingProps,y=(i.flags&128)!==0;if(i.flags&=-129,a===null){if(vt){if(h.mode==="hidden")return a=Qc(i,h),i.lanes=536870912,Fs(null,a);if(Sv(i),(a=Pt)?(a=P0(a,ea),a=a!==null&&a.data==="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:ln!==null?{id:Ia,overflow:La}:null,retryLane:536870912,hydrationErrors:null},o=Rc(a),o.return=i,i.child=o,pr=i,Pt=null)):a=null,a===null)throw sn(i);return i.lanes=536870912,null}return Qc(i,h)}var w=a.memoizedState;if(w!==null){var B=w.dehydrated;if(Sv(i),y)if(i.flags&256)i.flags&=-257,i=Ny(a,i,o);else if(i.memoizedState!==null)i.child=a.child,i.flags|=128,i=null;else throw Error(n(558));else if(yr||hi(a,i,o,!1),y=(o&a.childLanes)!==0,yr||y){if(h=jt,h!==null&&(B=Ut(h,o),B!==0&&B!==w.retryLane))throw w.retryLane=B,On(a,B),pa(h,a,B),Fv;sf(),i=Ny(a,i,o)}else a=w.treeContext,Pt=za(B.nextSibling),pr=i,vt=!0,un=null,ea=!1,a!==null&&Oc(i,a),i=Qc(i,h),i.flags|=4096;return i}return a=Ha(a.child,{mode:h.mode,children:h.children}),a.ref=i.ref,i.child=a,a.return=i,a}function Wc(a,i){var o=i.ref;if(o===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(n(284));(a===null||a.ref!==o)&&(i.flags|=4194816)}}function Yv(a,i,o,h,y){return zn(i),o=Cv(a,i,o,h,void 0,y),h=Nv(),a!==null&&!yr?(Rv(a,i,y),Gn(a,i,y)):(vt&&h&&su(i),i.flags|=1,Pr(a,i,o,y),i.child)}function Ry(a,i,o,h,y,w){return zn(i),i.updateQueue=null,o=Mm(i,h,o,y),Om(a),h=Nv(),a!==null&&!yr?(Rv(a,i,w),Gn(a,i,w)):(vt&&h&&su(i),i.flags|=1,Pr(a,i,o,w),i.child)}function Dy(a,i,o,h,y){if(zn(i),i.stateNode===null){var w=Mn,B=o.contextType;typeof B=="object"&&B!==null&&(w=Ar(B)),w=new o(h,w),i.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Hv,i.stateNode=w,w._reactInternals=i,w=i.stateNode,w.props=h,w.state=i.memoizedState,w.refs={},Ae(i),B=o.contextType,w.context=typeof B=="object"&&B!==null?Ar(B):Mn,w.state=i.memoizedState,B=o.getDerivedStateFromProps,typeof B=="function"&&(Gv(i,o,B,h),w.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(B=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),B!==w.state&&Hv.enqueueReplaceState(w,w.state,null),js(i,h,w,y),Ps(),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(a===null){w=i.stateNode;var V=i.memoizedProps,$=xl(o,V);w.props=$;var de=w.context,xe=o.contextType;B=Mn,typeof xe=="object"&&xe!==null&&(B=Ar(xe));var Ce=o.getDerivedStateFromProps;xe=typeof Ce=="function"||typeof w.getSnapshotBeforeUpdate=="function",V=i.pendingProps!==V,xe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(V||de!==B)&&gy(i,w,h,B),re=!1;var ve=i.memoizedState;w.state=ve,js(i,h,w,y),Ps(),de=i.memoizedState,V||ve!==de||re?(typeof Ce=="function"&&(Gv(i,o,Ce,h),de=i.memoizedState),($=re||hy(i,o,$,h,ve,de,B))?(xe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(i.flags|=4194308)):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=de),w.props=h,w.state=de,w.context=B,h=$):(typeof w.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{w=i.stateNode,He(a,i),B=i.memoizedProps,xe=xl(o,B),w.props=xe,Ce=i.pendingProps,ve=w.context,de=o.contextType,$=Mn,typeof de=="object"&&de!==null&&($=Ar(de)),V=o.getDerivedStateFromProps,(de=typeof V=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(B!==Ce||ve!==$)&&gy(i,w,h,$),re=!1,ve=i.memoizedState,w.state=ve,js(i,h,w,y),Ps();var me=i.memoizedState;B!==Ce||ve!==me||re||a!==null&&a.dependencies!==null&&ou(a.dependencies)?(typeof V=="function"&&(Gv(i,o,V,h),me=i.memoizedState),(xe=re||hy(i,o,xe,h,ve,me,$)||a!==null&&a.dependencies!==null&&ou(a.dependencies))?(de||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(h,me,$),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(h,me,$)),typeof w.componentDidUpdate=="function"&&(i.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof w.componentDidUpdate!="function"||B===a.memoizedProps&&ve===a.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&ve===a.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=me),w.props=h,w.state=me,w.context=$,h=xe):(typeof w.componentDidUpdate!="function"||B===a.memoizedProps&&ve===a.memoizedState||(i.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&ve===a.memoizedState||(i.flags|=1024),h=!1)}return w=h,Wc(a,i),h=(i.flags&128)!==0,w||h?(w=i.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:w.render(),i.flags|=1,a!==null&&h?(i.child=z(i,a.child,null,y),i.child=z(i,null,o,y)):Pr(a,i,o,y),i.memoizedState=w.state,a=i.child):a=Gn(a,i,y),a}function Oy(a,i,o,h){return Ln(),i.flags|=256,Pr(a,i,o,h),i.child}var Kv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xv(a){return{baseLanes:a,cachePool:kc()}}function Zv(a,i,o){return a=a!==null?a.childLanes&~o:0,i&&(a|=Ca),a}function My(a,i,o){var h=i.pendingProps,y=!1,w=(i.flags&128)!==0,B;if((B=w)||(B=a!==null&&a.memoizedState===null?!1:(cr.current&2)!==0),B&&(y=!0,i.flags&=-129),B=(i.flags&32)!==0,i.flags&=-33,a===null){if(vt){if(y?bi(i):Ei(),(a=Pt)?(a=P0(a,ea),a=a!==null&&a.data!=="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:ln!==null?{id:Ia,overflow:La}:null,retryLane:536870912,hydrationErrors:null},o=Rc(a),o.return=i,i.child=o,pr=i,Pt=null)):a=null,a===null)throw sn(i);return Mh(a)?i.lanes=32:i.lanes=536870912,null}var V=h.children;return h=h.fallback,y?(Ei(),y=i.mode,V=$c({mode:"hidden",children:V},y),h=Bn(h,y,o,null),V.return=i,h.return=i,V.sibling=h,i.child=V,h=i.child,h.memoizedState=Xv(o),h.childLanes=Zv(a,B,o),i.memoizedState=Kv,Fs(null,h)):(bi(i),Qv(i,V))}var $=a.memoizedState;if($!==null&&(V=$.dehydrated,V!==null)){if(w)i.flags&256?(bi(i),i.flags&=-257,i=Wv(a,i,o)):i.memoizedState!==null?(Ei(),i.child=a.child,i.flags|=128,i=null):(Ei(),V=h.fallback,y=i.mode,h=$c({mode:"visible",children:h.children},y),V=Bn(V,y,o,null),V.flags|=2,h.return=i,V.return=i,h.sibling=V,i.child=h,z(i,a.child,null,o),h=i.child,h.memoizedState=Xv(o),h.childLanes=Zv(a,B,o),i.memoizedState=Kv,i=Fs(null,h));else if(bi(i),Mh(V)){if(B=V.nextSibling&&V.nextSibling.dataset,B)var de=B.dgst;B=de,h=Error(n(419)),h.stack="",h.digest=B,ml({value:h,source:null,stack:null}),i=Wv(a,i,o)}else if(yr||hi(a,i,o,!1),B=(o&a.childLanes)!==0,yr||B){if(B=jt,B!==null&&(h=Ut(B,o),h!==0&&h!==$.retryLane))throw $.retryLane=h,On(a,h),pa(B,a,h),Fv;Oh(V)||sf(),i=Wv(a,i,o)}else Oh(V)?(i.flags|=192,i.child=a.child,i=null):(a=$.treeContext,Pt=za(V.nextSibling),pr=i,vt=!0,un=null,ea=!1,a!==null&&Oc(i,a),i=Qv(i,h.children),i.flags|=4096);return i}return y?(Ei(),V=h.fallback,y=i.mode,$=a.child,de=$.sibling,h=Ha($,{mode:"hidden",children:h.children}),h.subtreeFlags=$.subtreeFlags&65011712,de!==null?V=Ha(de,V):(V=Bn(V,y,o,null),V.flags|=2),V.return=i,h.return=i,h.sibling=V,i.child=h,Fs(null,h),h=i.child,V=a.child.memoizedState,V===null?V=Xv(o):(y=V.cachePool,y!==null?($=nr._currentValue,y=y.parent!==$?{parent:$,pool:$}:y):y=kc(),V={baseLanes:V.baseLanes|o,cachePool:y}),h.memoizedState=V,h.childLanes=Zv(a,B,o),i.memoizedState=Kv,Fs(a.child,h)):(bi(i),o=a.child,a=o.sibling,o=Ha(o,{mode:"visible",children:h.children}),o.return=i,o.sibling=null,a!==null&&(B=i.deletions,B===null?(i.deletions=[a],i.flags|=16):B.push(a)),i.child=o,i.memoizedState=null,o)}function Qv(a,i){return i=$c({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function $c(a,i){return a=Jr(22,a,null,i),a.lanes=0,a}function Wv(a,i,o){return z(i,a.child,null,o),a=Qv(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function By(a,i,o){a.lanes|=i;var h=a.alternate;h!==null&&(h.lanes|=i),Ms(a.return,i,o)}function $v(a,i,o,h,y,w){var B=a.memoizedState;B===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:y,treeForkCount:w}:(B.isBackwards=i,B.rendering=null,B.renderingStartTime=0,B.last=h,B.tail=o,B.tailMode=y,B.treeForkCount=w)}function Iy(a,i,o){var h=i.pendingProps,y=h.revealOrder,w=h.tail;h=h.children;var B=cr.current,V=(B&2)!==0;if(V?(B=B&1|2,i.flags|=128):B&=1,J(cr,B),Pr(a,i,h,o),h=vt?di:0,!V&&a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&By(a,o,i);else if(a.tag===19)By(a,o,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(o=i.child,y=null;o!==null;)a=o.alternate,a!==null&&jc(a)===null&&(y=o),o=o.sibling;o=y,o===null?(y=i.child,i.child=null):(y=o.sibling,o.sibling=null),$v(i,!1,y,o,w,h);break;case"backwards":case"unstable_legacy-backwards":for(o=null,y=i.child,i.child=null;y!==null;){if(a=y.alternate,a!==null&&jc(a)===null){i.child=y;break}a=y.sibling,y.sibling=o,o=y,y=a}$v(i,!0,o,null,w,h);break;case"together":$v(i,!1,null,null,void 0,h);break;default:i.memoizedState=null}return i.child}function Gn(a,i,o){if(a!==null&&(i.dependencies=a.dependencies),Ti|=i.lanes,(o&i.childLanes)===0)if(a!==null){if(hi(a,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(n(153));if(i.child!==null){for(a=i.child,o=Ha(a,a.pendingProps),i.child=o,o.return=i;a.sibling!==null;)a=a.sibling,o=o.sibling=Ha(a,a.pendingProps),o.return=i;o.sibling=null}return i.child}function Jv(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&ou(a)))}function nT(a,i,o){switch(i.tag){case 3:Re(i,i.stateNode.containerInfo),on(i,nr,a.memoizedState.cache),Ln();break;case 27:case 5:ne(i);break;case 4:Re(i,i.stateNode.containerInfo);break;case 10:on(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Sv(i),null;break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(bi(i),i.flags|=128,null):(o&i.child.childLanes)!==0?My(a,i,o):(bi(i),a=Gn(a,i,o),a!==null?a.sibling:null);bi(i);break;case 19:var y=(a.flags&128)!==0;if(h=(o&i.childLanes)!==0,h||(hi(a,i,o,!1),h=(o&i.childLanes)!==0),y){if(h)return Iy(a,i,o);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),J(cr,cr.current),h)break;return null;case 22:return i.lanes=0,Ay(a,i,o,i.pendingProps);case 24:on(i,nr,a.memoizedState.cache)}return Gn(a,i,o)}function Ly(a,i,o){if(a!==null)if(a.memoizedProps!==i.pendingProps)yr=!0;else{if(!Jv(a,o)&&(i.flags&128)===0)return yr=!1,nT(a,i,o);yr=(a.flags&131072)!==0}else yr=!1,vt&&(i.flags&1048576)!==0&&Dc(i,di,i.index);switch(i.lanes=0,i.tag){case 16:e:{var h=i.pendingProps;if(a=Un(i.elementType),i.type=a,typeof a=="function")nu(a)?(h=xl(a,h),i.tag=1,i=Dy(null,i,a,h,o)):(i.tag=0,i=Yv(null,i,a,h,o));else{if(a!=null){var y=a.$$typeof;if(y===D){i.tag=11,i=wy(null,i,a,h,o);break e}else if(y===M){i.tag=14,i=Ty(null,i,a,h,o);break e}}throw i=X(a)||a,Error(n(306,i,""))}}return i;case 0:return Yv(a,i,i.type,i.pendingProps,o);case 1:return h=i.type,y=xl(h,i.pendingProps),Dy(a,i,h,y,o);case 3:e:{if(Re(i,i.stateNode.containerInfo),a===null)throw Error(n(387));h=i.pendingProps;var w=i.memoizedState;y=w.element,He(a,i),js(i,h,null,o);var B=i.memoizedState;if(h=B.cache,on(i,nr,h),h!==w.cache&&Bs(i,[nr],o,!0),Ps(),h=B.element,w.isDehydrated)if(w={element:h,isDehydrated:!1,cache:B.cache},i.updateQueue.baseState=w,i.memoizedState=w,i.flags&256){i=Oy(a,i,h,o);break e}else if(h!==y){y=oa(Error(n(424)),i),ml(y),i=Oy(a,i,h,o);break e}else for(a=i.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Pt=za(a.firstChild),pr=i,vt=!0,un=null,ea=!0,o=K(i,null,h,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ln(),h===y){i=Gn(a,i,o);break e}Pr(a,i,h,o)}i=i.child}return i;case 26:return Wc(a,i),a===null?(o=F0(i.type,null,i.pendingProps,null))?i.memoizedState=o:vt||(o=i.type,a=i.pendingProps,h=gf(he.current).createElement(o),h[Dt]=i,h[St]=a,jr(h,o,a),rr(h),i.stateNode=h):i.memoizedState=F0(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return ne(i),a===null&&vt&&(h=i.stateNode=G0(i.type,i.pendingProps,he.current),pr=i,ea=!0,y=Pt,Ri(i.type)?(Bh=y,Pt=za(h.firstChild)):Pt=y),Pr(a,i,i.pendingProps.children,o),Wc(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&vt&&((y=h=Pt)&&(h=LT(h,i.type,i.pendingProps,ea),h!==null?(i.stateNode=h,pr=i,Pt=za(h.firstChild),ea=!1,y=!0):y=!1),y||sn(i)),ne(i),y=i.type,w=i.pendingProps,B=a!==null?a.memoizedProps:null,h=w.children,Nh(y,w)?h=null:B!==null&&Nh(y,B)&&(i.flags|=32),i.memoizedState!==null&&(y=Cv(a,i,Zw,null,null,o),lo._currentValue=y),Wc(a,i),Pr(a,i,h,o),i.child;case 6:return a===null&&vt&&((a=o=Pt)&&(o=kT(o,i.pendingProps,ea),o!==null?(i.stateNode=o,pr=i,Pt=null,a=!0):a=!1),a||sn(i)),null;case 13:return My(a,i,o);case 4:return Re(i,i.stateNode.containerInfo),h=i.pendingProps,a===null?i.child=z(i,null,h,o):Pr(a,i,h,o),i.child;case 11:return wy(a,i,i.type,i.pendingProps,o);case 7:return Pr(a,i,i.pendingProps,o),i.child;case 8:return Pr(a,i,i.pendingProps.children,o),i.child;case 12:return Pr(a,i,i.pendingProps.children,o),i.child;case 10:return h=i.pendingProps,on(i,i.type,h.value),Pr(a,i,h.children,o),i.child;case 9:return y=i.type._context,h=i.pendingProps.children,zn(i),y=Ar(y),h=h(y),i.flags|=1,Pr(a,i,h,o),i.child;case 14:return Ty(a,i,i.type,i.pendingProps,o);case 15:return Sy(a,i,i.type,i.pendingProps,o);case 19:return Iy(a,i,o);case 31:return aT(a,i,o);case 22:return Ay(a,i,o,i.pendingProps);case 24:return zn(i),h=Ar(nr),a===null?(y=zs(),y===null&&(y=jt,w=Is(),y.pooledCache=w,w.refCount++,w!==null&&(y.pooledCacheLanes|=o),y=w),i.memoizedState={parent:h,cache:y},Ae(i),on(i,nr,y)):((a.lanes&o)!==0&&(He(a,i),js(i,null,null,o),Ps()),y=a.memoizedState,w=i.memoizedState,y.parent!==h?(y={parent:h,cache:h},i.memoizedState=y,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=y),on(i,nr,h)):(h=w.cache,on(i,nr,h),h!==y.cache&&Bs(i,[nr],o,!0))),Pr(a,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Hn(a){a.flags|=4}function eh(a,i,o,h,y){if((i=(a.mode&32)!==0)&&(i=!1),i){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(u0())a.flags|=8192;else throw Pn=vu,_s}else a.flags&=-16777217}function ky(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Q0(i))if(u0())a.flags|=8192;else throw Pn=vu,_s}function Jc(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?nt():536870912,a.lanes|=i,wu|=i)}function Ys(a,i){if(!vt)switch(a.tailMode){case"hidden":i=a.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?a.tail=null:o.sibling=null;break;case"collapsed":o=a.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Zt(a){var i=a.alternate!==null&&a.alternate.child===a.child,o=0,h=0;if(i)for(var y=a.child;y!==null;)o|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)o|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=o,i}function iT(a,i,o){var h=i.pendingProps;switch(Ns(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(i),null;case 1:return Zt(i),null;case 3:return o=i.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),Ya(nr),ye(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(a===null||a.child===null)&&(vi(i)?Hn(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ds())),Zt(i),null;case 26:var y=i.type,w=i.memoizedState;return a===null?(Hn(i),w!==null?(Zt(i),ky(i,w)):(Zt(i),eh(i,y,null,h,o))):w?w!==a.memoizedState?(Hn(i),Zt(i),ky(i,w)):(Zt(i),i.flags&=-16777217):(a=a.memoizedProps,a!==h&&Hn(i),Zt(i),eh(i,y,a,h,o)),null;case 27:if(ue(i),o=he.current,y=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==h&&Hn(i);else{if(!h){if(i.stateNode===null)throw Error(n(166));return Zt(i),null}a=ie.current,vi(i)?Mc(i):(a=G0(y,h,o),i.stateNode=a,Hn(i))}return Zt(i),null;case 5:if(ue(i),y=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==h&&Hn(i);else{if(!h){if(i.stateNode===null)throw Error(n(166));return Zt(i),null}if(w=ie.current,vi(i))Mc(i);else{var B=gf(he.current);switch(w){case 1:w=B.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:w=B.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":w=B.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":w=B.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":w=B.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof h.is=="string"?B.createElement("select",{is:h.is}):B.createElement("select"),h.multiple?w.multiple=!0:h.size&&(w.size=h.size);break;default:w=typeof h.is=="string"?B.createElement(y,{is:h.is}):B.createElement(y)}}w[Dt]=i,w[St]=h;e:for(B=i.child;B!==null;){if(B.tag===5||B.tag===6)w.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===i)break e;for(;B.sibling===null;){if(B.return===null||B.return===i)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}i.stateNode=w;e:switch(jr(w,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Hn(i)}}return Zt(i),eh(i,i.type,a===null?null:a.memoizedProps,i.pendingProps,o),null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==h&&Hn(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(n(166));if(a=he.current,vi(i)){if(a=i.stateNode,o=i.memoizedProps,h=null,y=pr,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[Dt]=i,a=!!(a.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||M0(a.nodeValue,o)),a||sn(i,!0)}else a=gf(a).createTextNode(h),a[Dt]=i,i.stateNode=a}return Zt(i),null;case 31:if(o=i.memoizedState,a===null||a.memoizedState!==null){if(h=vi(i),o!==null){if(a===null){if(!h)throw Error(n(318));if(a=i.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Dt]=i}else Ln(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Zt(i),a=!1}else o=Ds(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=o),a=!0;if(!a)return i.flags&256?(Sa(i),i):(Sa(i),null);if((i.flags&128)!==0)throw Error(n(558))}return Zt(i),null;case 13:if(h=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=vi(i),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Dt]=i}else Ln(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Zt(i),y=!1}else y=Ds(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return i.flags&256?(Sa(i),i):(Sa(i),null)}return Sa(i),(i.flags&128)!==0?(i.lanes=o,i):(o=h!==null,a=a!==null&&a.memoizedState!==null,o&&(h=i.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),w=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(w=h.memoizedState.cachePool.pool),w!==y&&(h.flags|=2048)),o!==a&&o&&(i.child.flags|=8192),Jc(i,i.updateQueue),Zt(i),null);case 4:return ye(),a===null&&wh(i.stateNode.containerInfo),Zt(i),null;case 10:return Ya(i.type),Zt(i),null;case 19:if(Q(cr),h=i.memoizedState,h===null)return Zt(i),null;if(y=(i.flags&128)!==0,w=h.rendering,w===null)if(y)Ys(h,!1);else{if(lr!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(w=jc(a),w!==null){for(i.flags|=128,Ys(h,!1),a=w.updateQueue,i.updateQueue=a,Jc(i,a),i.subtreeFlags=0,a=o,o=i.child;o!==null;)Nc(o,a),o=o.sibling;return J(cr,cr.current&1|2),vt&&Va(i,h.treeForkCount),i.child}a=a.sibling}h.tail!==null&&Ie()>nf&&(i.flags|=128,y=!0,Ys(h,!1),i.lanes=4194304)}else{if(!y)if(a=jc(w),a!==null){if(i.flags|=128,y=!0,a=a.updateQueue,i.updateQueue=a,Jc(i,a),Ys(h,!0),h.tail===null&&h.tailMode==="hidden"&&!w.alternate&&!vt)return Zt(i),null}else 2*Ie()-h.renderingStartTime>nf&&o!==536870912&&(i.flags|=128,y=!0,Ys(h,!1),i.lanes=4194304);h.isBackwards?(w.sibling=i.child,i.child=w):(a=h.last,a!==null?a.sibling=w:i.child=w,h.last=w)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Ie(),a.sibling=null,o=cr.current,J(cr,y?o&1|2:o&1),vt&&Va(i,h.treeForkCount),a):(Zt(i),null);case 22:case 23:return Sa(i),Tv(),h=i.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(o&536870912)!==0&&(i.flags&128)===0&&(Zt(i),i.subtreeFlags&6&&(i.flags|=8192)):Zt(i),o=i.updateQueue,o!==null&&Jc(i,o.retryQueue),o=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==o&&(i.flags|=2048),a!==null&&Q(_n),null;case 24:return o=null,a!==null&&(o=a.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ya(nr),Zt(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function lT(a,i){switch(Ns(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return Ya(nr),ye(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return ue(i),null;case 31:if(i.memoizedState!==null){if(Sa(i),i.alternate===null)throw Error(n(340));Ln()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 13:if(Sa(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(n(340));Ln()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return Q(cr),null;case 4:return ye(),null;case 10:return Ya(i.type),null;case 22:case 23:return Sa(i),Tv(),a!==null&&Q(_n),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return Ya(nr),null;case 25:return null;default:return null}}function zy(a,i){switch(Ns(i),i.tag){case 3:Ya(nr),ye();break;case 26:case 27:case 5:ue(i);break;case 4:ye();break;case 31:i.memoizedState!==null&&Sa(i);break;case 13:Sa(i);break;case 19:Q(cr);break;case 10:Ya(i.type);break;case 22:case 23:Sa(i),Tv(),a!==null&&Q(_n);break;case 24:Ya(nr)}}function Ks(a,i){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var y=h.next;o=y;do{if((o.tag&a)===a){h=void 0;var w=o.create,B=o.inst;h=w(),B.destroy=h}o=o.next}while(o!==y)}}catch(V){It(i,i.return,V)}}function xi(a,i,o){try{var h=i.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var w=y.next;h=w;do{if((h.tag&a)===a){var B=h.inst,V=B.destroy;if(V!==void 0){B.destroy=void 0,y=i;var $=o,de=V;try{de()}catch(xe){It(y,$,xe)}}}h=h.next}while(h!==w)}}catch(xe){It(i,i.return,xe)}}function _y(a){var i=a.updateQueue;if(i!==null){var o=a.stateNode;try{Nm(i,o)}catch(h){It(a,a.return,h)}}}function Uy(a,i,o){o.props=xl(a.type,a.memoizedProps),o.state=a.memoizedState;try{o.componentWillUnmount()}catch(h){It(a,i,h)}}function Xs(a,i){try{var o=a.ref;if(o!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof o=="function"?a.refCleanup=o(h):o.current=h}}catch(y){It(a,i,y)}}function cn(a,i){var o=a.ref,h=a.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(y){It(a,i,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(y){It(a,i,y)}else o.current=null}function Py(a){var i=a.type,o=a.memoizedProps,h=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break e;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(y){It(a,a.return,y)}}function th(a,i,o){try{var h=a.stateNode;RT(h,a.type,o,i),h[St]=i}catch(y){It(a,a.return,y)}}function jy(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ri(a.type)||a.tag===4}function rh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||jy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ri(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function ah(a,i,o){var h=a.tag;if(h===5||h===6)a=a.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(a,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(a),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Ma));else if(h!==4&&(h===27&&Ri(a.type)&&(o=a.stateNode,i=null),a=a.child,a!==null))for(ah(a,i,o),a=a.sibling;a!==null;)ah(a,i,o),a=a.sibling}function ef(a,i,o){var h=a.tag;if(h===5||h===6)a=a.stateNode,i?o.insertBefore(a,i):o.appendChild(a);else if(h!==4&&(h===27&&Ri(a.type)&&(o=a.stateNode),a=a.child,a!==null))for(ef(a,i,o),a=a.sibling;a!==null;)ef(a,i,o),a=a.sibling}function qy(a){var i=a.stateNode,o=a.memoizedProps;try{for(var h=a.type,y=i.attributes;y.length;)i.removeAttributeNode(y[0]);jr(i,h,o),i[Dt]=a,i[St]=o}catch(w){It(a,a.return,w)}}var Vn=!1,br=!1,nh=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,Br=null;function uT(a,i){if(a=a.containerInfo,Ah=wf,a=bc(a),bs(a)){if("selectionStart"in a)var o={start:a.selectionStart,end:a.selectionEnd};else e:{o=(o=a.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var y=h.anchorOffset,w=h.focusNode;h=h.focusOffset;try{o.nodeType,w.nodeType}catch{o=null;break e}var B=0,V=-1,$=-1,de=0,xe=0,Ce=a,ve=null;t:for(;;){for(var me;Ce!==o||y!==0&&Ce.nodeType!==3||(V=B+y),Ce!==w||h!==0&&Ce.nodeType!==3||($=B+h),Ce.nodeType===3&&(B+=Ce.nodeValue.length),(me=Ce.firstChild)!==null;)ve=Ce,Ce=me;for(;;){if(Ce===a)break t;if(ve===o&&++de===y&&(V=B),ve===w&&++xe===h&&($=B),(me=Ce.nextSibling)!==null)break;Ce=ve,ve=Ce.parentNode}Ce=me}o=V===-1||$===-1?null:{start:V,end:$}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ch={focusedElem:a,selectionRange:o},wf=!1,Br=i;Br!==null;)if(i=Br,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,Br=a;else for(;Br!==null;){switch(i=Br,w=i.alternate,a=i.flags,i.tag){case 0:if((a&4)!==0&&(a=i.updateQueue,a=a!==null?a.events:null,a!==null))for(o=0;o<a.length;o++)y=a[o],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&w!==null){a=void 0,o=i,y=w.memoizedProps,w=w.memoizedState,h=o.stateNode;try{var qe=xl(o.type,y);a=h.getSnapshotBeforeUpdate(qe,w),h.__reactInternalSnapshotBeforeUpdate=a}catch(et){It(o,o.return,et)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,o=a.nodeType,o===9)Dh(a);else if(o===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Dh(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=i.sibling,a!==null){a.return=i.return,Br=a;break}Br=i.return}}function Hy(a,i,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:Yn(a,o),h&4&&Ks(5,o);break;case 1:if(Yn(a,o),h&4)if(a=o.stateNode,i===null)try{a.componentDidMount()}catch(B){It(o,o.return,B)}else{var y=xl(o.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(y,i,a.__reactInternalSnapshotBeforeUpdate)}catch(B){It(o,o.return,B)}}h&64&&_y(o),h&512&&Xs(o,o.return);break;case 3:if(Yn(a,o),h&64&&(a=o.updateQueue,a!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Nm(a,i)}catch(B){It(o,o.return,B)}}break;case 27:i===null&&h&4&&qy(o);case 26:case 5:Yn(a,o),i===null&&h&4&&Py(o),h&512&&Xs(o,o.return);break;case 12:Yn(a,o);break;case 31:Yn(a,o),h&4&&Yy(a,o);break;case 13:Yn(a,o),h&4&&Ky(a,o),h&64&&(a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(o=pT.bind(null,o),zT(a,o))));break;case 22:if(h=o.memoizedState!==null||Vn,!h){i=i!==null&&i.memoizedState!==null||br,y=Vn;var w=br;Vn=h,(br=i)&&!w?Kn(a,o,(o.subtreeFlags&8772)!==0):Yn(a,o),Vn=y,br=w}break;case 30:break;default:Yn(a,o)}}function Vy(a){var i=a.alternate;i!==null&&(a.alternate=null,Vy(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&bn(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Jt=null,da=!1;function Fn(a,i,o){for(o=o.child;o!==null;)Fy(a,i,o),o=o.sibling}function Fy(a,i,o){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(Y,o)}catch{}switch(o.tag){case 26:br||cn(o,i),Fn(a,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:br||cn(o,i);var h=Jt,y=da;Ri(o.type)&&(Jt=o.stateNode,da=!1),Fn(a,i,o),ao(o.stateNode),Jt=h,da=y;break;case 5:br||cn(o,i);case 6:if(h=Jt,y=da,Jt=null,Fn(a,i,o),Jt=h,da=y,Jt!==null)if(da)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(o.stateNode)}catch(w){It(o,i,w)}else try{Jt.removeChild(o.stateNode)}catch(w){It(o,i,w)}break;case 18:Jt!==null&&(da?(a=Jt,_0(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.stateNode),Ou(a)):_0(Jt,o.stateNode));break;case 4:h=Jt,y=da,Jt=o.stateNode.containerInfo,da=!0,Fn(a,i,o),Jt=h,da=y;break;case 0:case 11:case 14:case 15:xi(2,o,i),br||xi(4,o,i),Fn(a,i,o);break;case 1:br||(cn(o,i),h=o.stateNode,typeof h.componentWillUnmount=="function"&&Uy(o,i,h)),Fn(a,i,o);break;case 21:Fn(a,i,o);break;case 22:br=(h=br)||o.memoizedState!==null,Fn(a,i,o),br=h;break;default:Fn(a,i,o)}}function Yy(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Ou(a)}catch(o){It(i,i.return,o)}}}function Ky(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Ou(a)}catch(o){It(i,i.return,o)}}function sT(a){switch(a.tag){case 31:case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new Gy),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new Gy),i;default:throw Error(n(435,a.tag))}}function tf(a,i){var o=sT(a);i.forEach(function(h){if(!o.has(h)){o.add(h);var y=mT.bind(null,a,h);h.then(y,y)}})}function va(a,i){var o=i.deletions;if(o!==null)for(var h=0;h<o.length;h++){var y=o[h],w=a,B=i,V=B;e:for(;V!==null;){switch(V.tag){case 27:if(Ri(V.type)){Jt=V.stateNode,da=!1;break e}break;case 5:Jt=V.stateNode,da=!1;break e;case 3:case 4:Jt=V.stateNode.containerInfo,da=!0;break e}V=V.return}if(Jt===null)throw Error(n(160));Fy(w,B,y),Jt=null,da=!1,w=y.alternate,w!==null&&(w.return=null),y.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Xy(i,a),i=i.sibling}var Za=null;function Xy(a,i){var o=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:va(i,a),ha(a),h&4&&(xi(3,a,a.return),Ks(3,a),xi(5,a,a.return));break;case 1:va(i,a),ha(a),h&512&&(br||o===null||cn(o,o.return)),h&64&&Vn&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(o=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var y=Za;if(va(i,a),ha(a),h&512&&(br||o===null||cn(o,o.return)),h&4){var w=o!==null?o.memoizedState:null;if(h=a.memoizedState,o===null)if(h===null)if(a.stateNode===null){e:{h=a.type,o=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":w=y.getElementsByTagName("title")[0],(!w||w[vr]||w[Dt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=y.createElement(h),y.head.insertBefore(w,y.querySelector("head > title"))),jr(w,h,o),w[Dt]=a,rr(w),h=w;break e;case"link":var B=X0("link","href",y).get(h+(o.href||""));if(B){for(var V=0;V<B.length;V++)if(w=B[V],w.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&w.getAttribute("rel")===(o.rel==null?null:o.rel)&&w.getAttribute("title")===(o.title==null?null:o.title)&&w.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){B.splice(V,1);break t}}w=y.createElement(h),jr(w,h,o),y.head.appendChild(w);break;case"meta":if(B=X0("meta","content",y).get(h+(o.content||""))){for(V=0;V<B.length;V++)if(w=B[V],w.getAttribute("content")===(o.content==null?null:""+o.content)&&w.getAttribute("name")===(o.name==null?null:o.name)&&w.getAttribute("property")===(o.property==null?null:o.property)&&w.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&w.getAttribute("charset")===(o.charSet==null?null:o.charSet)){B.splice(V,1);break t}}w=y.createElement(h),jr(w,h,o),y.head.appendChild(w);break;default:throw Error(n(468,h))}w[Dt]=a,rr(w),h=w}a.stateNode=h}else Z0(y,a.type,a.stateNode);else a.stateNode=K0(y,h,a.memoizedProps);else w!==h?(w===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):w.count--,h===null?Z0(y,a.type,a.stateNode):K0(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&th(a,a.memoizedProps,o.memoizedProps)}break;case 27:va(i,a),ha(a),h&512&&(br||o===null||cn(o,o.return)),o!==null&&h&4&&th(a,a.memoizedProps,o.memoizedProps);break;case 5:if(va(i,a),ha(a),h&512&&(br||o===null||cn(o,o.return)),a.flags&32){y=a.stateNode;try{Sn(y,"")}catch(qe){It(a,a.return,qe)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,th(a,y,o!==null?o.memoizedProps:y)),h&1024&&(nh=!0);break;case 6:if(va(i,a),ha(a),h&4){if(a.stateNode===null)throw Error(n(162));h=a.memoizedProps,o=a.stateNode;try{o.nodeValue=h}catch(qe){It(a,a.return,qe)}}break;case 3:if(yf=null,y=Za,Za=pf(i.containerInfo),va(i,a),Za=y,ha(a),h&4&&o!==null&&o.memoizedState.isDehydrated)try{Ou(i.containerInfo)}catch(qe){It(a,a.return,qe)}nh&&(nh=!1,Zy(a));break;case 4:h=Za,Za=pf(a.stateNode.containerInfo),va(i,a),ha(a),Za=h;break;case 12:va(i,a),ha(a);break;case 31:va(i,a),ha(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,tf(a,h)));break;case 13:va(i,a),ha(a),a.child.flags&8192&&a.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(af=Ie()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,tf(a,h)));break;case 22:y=a.memoizedState!==null;var $=o!==null&&o.memoizedState!==null,de=Vn,xe=br;if(Vn=de||y,br=xe||$,va(i,a),br=xe,Vn=de,ha(a),h&8192)e:for(i=a.stateNode,i._visibility=y?i._visibility&-2:i._visibility|1,y&&(o===null||$||Vn||br||wl(a)),o=null,i=a;;){if(i.tag===5||i.tag===26){if(o===null){$=o=i;try{if(w=$.stateNode,y)B=w.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{V=$.stateNode;var Ce=$.memoizedProps.style,ve=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;V.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(qe){It($,$.return,qe)}}}else if(i.tag===6){if(o===null){$=i;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(qe){It($,$.return,qe)}}}else if(i.tag===18){if(o===null){$=i;try{var me=$.stateNode;y?U0(me,!0):U0($.stateNode,!1)}catch(qe){It($,$.return,qe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=a.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,tf(a,o))));break;case 19:va(i,a),ha(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,tf(a,h)));break;case 30:break;case 21:break;default:va(i,a),ha(a)}}function ha(a){var i=a.flags;if(i&2){try{for(var o,h=a.return;h!==null;){if(jy(h)){o=h;break}h=h.return}if(o==null)throw Error(n(160));switch(o.tag){case 27:var y=o.stateNode,w=rh(a);ef(a,w,y);break;case 5:var B=o.stateNode;o.flags&32&&(Sn(B,""),o.flags&=-33);var V=rh(a);ef(a,V,B);break;case 3:case 4:var $=o.stateNode.containerInfo,de=rh(a);ah(a,de,$);break;default:throw Error(n(161))}}catch(xe){It(a,a.return,xe)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Zy(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;Zy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function Yn(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Hy(a,i.alternate,i),i=i.sibling}function wl(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:xi(4,i,i.return),wl(i);break;case 1:cn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Uy(i,i.return,o),wl(i);break;case 27:ao(i.stateNode);case 26:case 5:cn(i,i.return),wl(i);break;case 22:i.memoizedState===null&&wl(i);break;case 30:wl(i);break;default:wl(i)}a=a.sibling}}function Kn(a,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,y=a,w=i,B=w.flags;switch(w.tag){case 0:case 11:case 15:Kn(y,w,o),Ks(4,w);break;case 1:if(Kn(y,w,o),h=w,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(de){It(h,h.return,de)}if(h=w,y=h.updateQueue,y!==null){var V=h.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)Cm($[y],V)}catch(de){It(h,h.return,de)}}o&&B&64&&_y(w),Xs(w,w.return);break;case 27:qy(w);case 26:case 5:Kn(y,w,o),o&&h===null&&B&4&&Py(w),Xs(w,w.return);break;case 12:Kn(y,w,o);break;case 31:Kn(y,w,o),o&&B&4&&Yy(y,w);break;case 13:Kn(y,w,o),o&&B&4&&Ky(y,w);break;case 22:w.memoizedState===null&&Kn(y,w,o),Xs(w,w.return);break;case 30:break;default:Kn(y,w,o)}i=i.sibling}}function ih(a,i){var o=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==o&&(a!=null&&a.refCount++,o!=null&&Ka(o))}function lh(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Ka(a))}function Qa(a,i,o,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Qy(a,i,o,h),i=i.sibling}function Qy(a,i,o,h){var y=i.flags;switch(i.tag){case 0:case 11:case 15:Qa(a,i,o,h),y&2048&&Ks(9,i);break;case 1:Qa(a,i,o,h);break;case 3:Qa(a,i,o,h),y&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Ka(a)));break;case 12:if(y&2048){Qa(a,i,o,h),a=i.stateNode;try{var w=i.memoizedProps,B=w.id,V=w.onPostCommit;typeof V=="function"&&V(B,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){It(i,i.return,$)}}else Qa(a,i,o,h);break;case 31:Qa(a,i,o,h);break;case 13:Qa(a,i,o,h);break;case 23:break;case 22:w=i.stateNode,B=i.alternate,i.memoizedState!==null?w._visibility&2?Qa(a,i,o,h):Zs(a,i):w._visibility&2?Qa(a,i,o,h):(w._visibility|=2,bu(a,i,o,h,(i.subtreeFlags&10256)!==0||!1)),y&2048&&ih(B,i);break;case 24:Qa(a,i,o,h),y&2048&&lh(i.alternate,i);break;default:Qa(a,i,o,h)}}function bu(a,i,o,h,y){for(y=y&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var w=a,B=i,V=o,$=h,de=B.flags;switch(B.tag){case 0:case 11:case 15:bu(w,B,V,$,y),Ks(8,B);break;case 23:break;case 22:var xe=B.stateNode;B.memoizedState!==null?xe._visibility&2?bu(w,B,V,$,y):Zs(w,B):(xe._visibility|=2,bu(w,B,V,$,y)),y&&de&2048&&ih(B.alternate,B);break;case 24:bu(w,B,V,$,y),y&&de&2048&&lh(B.alternate,B);break;default:bu(w,B,V,$,y)}i=i.sibling}}function Zs(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=a,h=i,y=h.flags;switch(h.tag){case 22:Zs(o,h),y&2048&&ih(h.alternate,h);break;case 24:Zs(o,h),y&2048&&lh(h.alternate,h);break;default:Zs(o,h)}i=i.sibling}}var Qs=8192;function Eu(a,i,o){if(a.subtreeFlags&Qs)for(a=a.child;a!==null;)Wy(a,i,o),a=a.sibling}function Wy(a,i,o){switch(a.tag){case 26:Eu(a,i,o),a.flags&Qs&&a.memoizedState!==null&&XT(o,Za,a.memoizedState,a.memoizedProps);break;case 5:Eu(a,i,o);break;case 3:case 4:var h=Za;Za=pf(a.stateNode.containerInfo),Eu(a,i,o),Za=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Qs,Qs=16777216,Eu(a,i,o),Qs=h):Eu(a,i,o));break;default:Eu(a,i,o)}}function $y(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function Ws(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var h=i[o];Br=h,e0(h,a)}$y(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Jy(a),a=a.sibling}function Jy(a){switch(a.tag){case 0:case 11:case 15:Ws(a),a.flags&2048&&xi(9,a,a.return);break;case 3:Ws(a);break;case 12:Ws(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,rf(a)):Ws(a);break;default:Ws(a)}}function rf(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var h=i[o];Br=h,e0(h,a)}$y(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:xi(8,i,i.return),rf(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,rf(i));break;default:rf(i)}a=a.sibling}}function e0(a,i){for(;Br!==null;){var o=Br;switch(o.tag){case 0:case 11:case 15:xi(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ka(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,Br=h;else e:for(o=a;Br!==null;){h=Br;var y=h.sibling,w=h.return;if(Vy(h),h===o){Br=null;break e}if(y!==null){y.return=w,Br=y;break e}Br=w}}}var oT={getCacheForType:function(a){var i=Ar(nr),o=i.data.get(a);return o===void 0&&(o=a(),i.data.set(a,o)),o},cacheSignal:function(){return Ar(nr).controller.signal}},cT=typeof WeakMap=="function"?WeakMap:Map,Rt=0,jt=null,ht=null,pt=0,Bt=0,Aa=null,wi=!1,xu=!1,uh=!1,Xn=0,lr=0,Ti=0,Tl=0,sh=0,Ca=0,wu=0,$s=null,ga=null,oh=!1,af=0,t0=0,nf=1/0,lf=null,Si=null,Cr=0,Ai=null,Tu=null,Zn=0,ch=0,fh=null,r0=null,Js=0,dh=null;function Na(){return(Rt&2)!==0&&pt!==0?pt&-pt:G.T!==null?yh():Vt()}function a0(){if(Ca===0)if((pt&536870912)===0||vt){var a=Be;Be<<=1,(Be&3932160)===0&&(Be=262144),Ca=a}else Ca=536870912;return a=Ta.current,a!==null&&(a.flags|=32),Ca}function pa(a,i,o){(a===jt&&(Bt===2||Bt===9)||a.cancelPendingCommit!==null)&&(Su(a,0),Ci(a,pt,Ca,!1)),Tt(a,o),((Rt&2)===0||a!==jt)&&(a===jt&&((Rt&2)===0&&(Tl|=o),lr===4&&Ci(a,pt,Ca,!1)),fn(a))}function n0(a,i,o){if((Rt&6)!==0)throw Error(n(327));var h=!o&&(i&127)===0&&(i&a.expiredLanes)===0||_e(a,i),y=h?vT(a,i):hh(a,i,!0),w=h;do{if(y===0){xu&&!h&&Ci(a,i,0,!1);break}else{if(o=a.current.alternate,w&&!fT(o)){y=hh(a,i,!1),w=!1;continue}if(y===2){if(w=i,a.errorRecoveryDisabledLanes&w)var B=0;else B=a.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){i=B;e:{var V=a;y=$s;var $=V.current.memoizedState.isDehydrated;if($&&(Su(V,B).flags|=256),B=hh(V,B,!1),B!==2){if(uh&&!$){V.errorRecoveryDisabledLanes|=w,Tl|=w,y=4;break e}w=ga,ga=y,w!==null&&(ga===null?ga=w:ga.push.apply(ga,w))}y=B}if(w=!1,y!==2)continue}}if(y===1){Su(a,0),Ci(a,i,0,!0);break}e:{switch(h=a,w=y,w){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Ci(h,i,Ca,!wi);break e;case 2:ga=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(y=af+300-Ie(),10<y)){if(Ci(h,i,Ca,!wi),rt(h,0,!0)!==0)break e;Zn=i,h.timeoutHandle=k0(i0.bind(null,h,o,ga,lf,oh,i,Ca,Tl,wu,wi,w,"Throttled",-0,0),y);break e}i0(h,o,ga,lf,oh,i,Ca,Tl,wu,wi,w,null,-0,0)}}break}while(!0);fn(a)}function i0(a,i,o,h,y,w,B,V,$,de,xe,Ce,ve,me){if(a.timeoutHandle=-1,Ce=i.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ma},Wy(i,w,Ce);var qe=(w&62914560)===w?af-Ie():(w&4194048)===w?t0-Ie():0;if(qe=ZT(Ce,qe),qe!==null){Zn=w,a.cancelPendingCommit=qe(v0.bind(null,a,i,w,o,h,y,B,V,$,xe,Ce,null,ve,me)),Ci(a,w,B,!de);return}}v0(a,i,w,o,h,y,B,V,$)}function fT(a){for(var i=a;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var y=o[h],w=y.getSnapshot;y=y.value;try{if(!$r(w(),y))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ci(a,i,o,h){i&=~sh,i&=~Tl,a.suspendedLanes|=i,a.pingedLanes&=~i,h&&(a.warmLanes|=i),h=a.expirationTimes;for(var y=i;0<y;){var w=31-ge(y),B=1<<w;h[w]=-1,y&=~B}o!==0&&Gt(a,o,i)}function uf(){return(Rt&6)===0?(eo(0),!1):!0}function vh(){if(ht!==null){if(Bt===0)var a=ht.return;else a=ht,Fa=kn=null,Dv(a),yi=null,bl=0,a=ht;for(;a!==null;)zy(a.alternate,a),a=a.return;ht=null}}function Su(a,i){var o=a.timeoutHandle;o!==-1&&(a.timeoutHandle=-1,MT(o)),o=a.cancelPendingCommit,o!==null&&(a.cancelPendingCommit=null,o()),Zn=0,vh(),jt=a,ht=o=Ha(a.current,null),pt=i,Bt=0,Aa=null,wi=!1,xu=_e(a,i),uh=!1,wu=Ca=sh=Tl=Ti=lr=0,ga=$s=null,oh=!1,(i&8)!==0&&(i|=i&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=i;0<h;){var y=31-ge(h),w=1<<y;i|=a[y],h&=~w}return Xn=i,tu(),o}function l0(a,i){ut=null,G.H=Vs,i===mi||i===du?(i=_c(),Bt=3):i===_s?(i=_c(),Bt=4):Bt=i===Fv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Aa=i,ht===null&&(lr=1,Zc(a,oa(i,a.current)))}function u0(){var a=Ta.current;return a===null?!0:(pt&4194048)===pt?ka===null:(pt&62914560)===pt||(pt&536870912)!==0?a===ka:!1}function s0(){var a=G.H;return G.H=Vs,a===null?Vs:a}function o0(){var a=G.A;return G.A=oT,a}function sf(){lr=4,wi||(pt&4194048)!==pt&&Ta.current!==null||(xu=!0),(Ti&134217727)===0&&(Tl&134217727)===0||jt===null||Ci(jt,pt,Ca,!1)}function hh(a,i,o){var h=Rt;Rt|=2;var y=s0(),w=o0();(jt!==a||pt!==i)&&(lf=null,Su(a,i)),i=!1;var B=lr;e:do try{if(Bt!==0&&ht!==null){var V=ht,$=Aa;switch(Bt){case 8:vh(),B=6;break e;case 3:case 2:case 9:case 6:Ta.current===null&&(i=!0);var de=Bt;if(Bt=0,Aa=null,Au(a,V,$,de),o&&xu){B=0;break e}break;default:de=Bt,Bt=0,Aa=null,Au(a,V,$,de)}}dT(),B=lr;break}catch(xe){l0(a,xe)}while(!0);return i&&a.shellSuspendCounter++,Fa=kn=null,Rt=h,G.H=y,G.A=w,ht===null&&(jt=null,pt=0,tu()),B}function dT(){for(;ht!==null;)c0(ht)}function vT(a,i){var o=Rt;Rt|=2;var h=s0(),y=o0();jt!==a||pt!==i?(lf=null,nf=Ie()+500,Su(a,i)):xu=_e(a,i);e:do try{if(Bt!==0&&ht!==null){i=ht;var w=Aa;t:switch(Bt){case 1:Bt=0,Aa=null,Au(a,i,w,1);break;case 2:case 9:if(Us(w)){Bt=0,Aa=null,f0(i);break}i=function(){Bt!==2&&Bt!==9||jt!==a||(Bt=7),fn(a)},w.then(i,i);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:Us(w)?(Bt=0,Aa=null,f0(i)):(Bt=0,Aa=null,Au(a,i,w,7));break;case 5:var B=null;switch(ht.tag){case 26:B=ht.memoizedState;case 5:case 27:var V=ht;if(B?Q0(B):V.stateNode.complete){Bt=0,Aa=null;var $=V.sibling;if($!==null)ht=$;else{var de=V.return;de!==null?(ht=de,of(de)):ht=null}break t}}Bt=0,Aa=null,Au(a,i,w,5);break;case 6:Bt=0,Aa=null,Au(a,i,w,6);break;case 8:vh(),lr=6;break e;default:throw Error(n(462))}}hT();break}catch(xe){l0(a,xe)}while(!0);return Fa=kn=null,G.H=h,G.A=y,Rt=o,ht!==null?0:(jt=null,pt=0,tu(),lr)}function hT(){for(;ht!==null&&!Fe();)c0(ht)}function c0(a){var i=Ly(a.alternate,a,Xn);a.memoizedProps=a.pendingProps,i===null?of(a):ht=i}function f0(a){var i=a,o=i.alternate;switch(i.tag){case 15:case 0:i=Ry(o,i,i.pendingProps,i.type,void 0,pt);break;case 11:i=Ry(o,i,i.pendingProps,i.type.render,i.ref,pt);break;case 5:Dv(i);default:zy(o,i),i=ht=Nc(i,Xn),i=Ly(o,i,Xn)}a.memoizedProps=a.pendingProps,i===null?of(a):ht=i}function Au(a,i,o,h){Fa=kn=null,Dv(i),yi=null,bl=0;var y=i.return;try{if(rT(a,y,i,o,pt)){lr=1,Zc(a,oa(o,a.current)),ht=null;return}}catch(w){if(y!==null)throw ht=y,w;lr=1,Zc(a,oa(o,a.current)),ht=null;return}i.flags&32768?(vt||h===1?a=!0:xu||(pt&536870912)!==0?a=!1:(wi=a=!0,(h===2||h===9||h===3||h===6)&&(h=Ta.current,h!==null&&h.tag===13&&(h.flags|=16384))),d0(i,a)):of(i)}function of(a){var i=a;do{if((i.flags&32768)!==0){d0(i,wi);return}a=i.return;var o=iT(i.alternate,i,Xn);if(o!==null){ht=o;return}if(i=i.sibling,i!==null){ht=i;return}ht=i=a}while(i!==null);lr===0&&(lr=5)}function d0(a,i){do{var o=lT(a.alternate,a);if(o!==null){o.flags&=32767,ht=o;return}if(o=a.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(a=a.sibling,a!==null)){ht=a;return}ht=a=o}while(a!==null);lr=6,ht=null}function v0(a,i,o,h,y,w,B,V,$){a.cancelPendingCommit=null;do cf();while(Cr!==0);if((Rt&6)!==0)throw Error(n(327));if(i!==null){if(i===a.current)throw Error(n(177));if(w=i.lanes|i.childLanes,w|=ws,wr(a,o,w,B,V,$),a===jt&&(ht=jt=null,pt=0),Tu=i,Ai=a,Zn=o,ch=w,fh=y,r0=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,yT(dt,function(){return y0(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=G.T,G.T=null,y=F.p,F.p=2,B=Rt,Rt|=4;try{uT(a,i,o)}finally{Rt=B,F.p=y,G.T=h}}Cr=1,h0(),g0(),p0()}}function h0(){if(Cr===1){Cr=0;var a=Ai,i=Tu,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null;var h=F.p;F.p=2;var y=Rt;Rt|=4;try{Xy(i,a);var w=Ch,B=bc(a.containerInfo),V=w.focusedElem,$=w.selectionRange;if(B!==V&&V&&V.ownerDocument&&yc(V.ownerDocument.documentElement,V)){if($!==null&&bs(V)){var de=$.start,xe=$.end;if(xe===void 0&&(xe=de),"selectionStart"in V)V.selectionStart=de,V.selectionEnd=Math.min(xe,V.value.length);else{var Ce=V.ownerDocument||document,ve=Ce&&Ce.defaultView||window;if(ve.getSelection){var me=ve.getSelection(),qe=V.textContent.length,et=Math.min($.start,qe),zt=$.end===void 0?et:Math.min($.end,qe);!me.extend&&et>zt&&(B=zt,zt=et,et=B);var le=mc(V,et),ae=mc(V,zt);if(le&&ae&&(me.rangeCount!==1||me.anchorNode!==le.node||me.anchorOffset!==le.offset||me.focusNode!==ae.node||me.focusOffset!==ae.offset)){var ce=Ce.createRange();ce.setStart(le.node,le.offset),me.removeAllRanges(),et>zt?(me.addRange(ce),me.extend(ae.node,ae.offset)):(ce.setEnd(ae.node,ae.offset),me.addRange(ce))}}}}for(Ce=[],me=V;me=me.parentNode;)me.nodeType===1&&Ce.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Ce.length;V++){var Se=Ce[V];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}wf=!!Ah,Ch=Ah=null}finally{Rt=y,F.p=h,G.T=o}}a.current=i,Cr=2}}function g0(){if(Cr===2){Cr=0;var a=Ai,i=Tu,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=G.T,G.T=null;var h=F.p;F.p=2;var y=Rt;Rt|=4;try{Hy(a,i.alternate,i)}finally{Rt=y,F.p=h,G.T=o}}Cr=3}}function p0(){if(Cr===4||Cr===3){Cr=0,tt();var a=Ai,i=Tu,o=Zn,h=r0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Cr=5:(Cr=0,Tu=Ai=null,m0(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Si=null),ia(o),i=i.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(Y,i,void 0,(i.current.flags&128)===128)}catch{}if(h!==null){i=G.T,y=F.p,F.p=2,G.T=null;try{for(var w=a.onRecoverableError,B=0;B<h.length;B++){var V=h[B];w(V.value,{componentStack:V.stack})}}finally{G.T=i,F.p=y}}(Zn&3)!==0&&cf(),fn(a),y=a.pendingLanes,(o&261930)!==0&&(y&42)!==0?a===dh?Js++:(Js=0,dh=a):Js=0,eo(0)}}function m0(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,Ka(i)))}function cf(){return h0(),g0(),p0(),y0()}function y0(){if(Cr!==5)return!1;var a=Ai,i=ch;ch=0;var o=ia(Zn),h=G.T,y=F.p;try{F.p=32>o?32:o,G.T=null,o=fh,fh=null;var w=Ai,B=Zn;if(Cr=0,Tu=Ai=null,Zn=0,(Rt&6)!==0)throw Error(n(331));var V=Rt;if(Rt|=4,Jy(w.current),Qy(w,w.current,B,o),Rt=V,eo(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(Y,w)}catch{}return!0}finally{F.p=y,G.T=h,m0(a,i)}}function b0(a,i,o){i=oa(o,i),i=Vv(a.stateNode,i,2),a=Xt(a,i,2),a!==null&&(Tt(a,2),fn(a))}function It(a,i,o){if(a.tag===3)b0(a,a,o);else for(;i!==null;){if(i.tag===3){b0(i,a,o);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Si===null||!Si.has(h))){a=oa(o,a),o=Ey(2),h=Xt(i,o,2),h!==null&&(xy(o,h,i,a),Tt(h,2),fn(h));break}}i=i.return}}function gh(a,i,o){var h=a.pingCache;if(h===null){h=a.pingCache=new cT;var y=new Set;h.set(i,y)}else y=h.get(i),y===void 0&&(y=new Set,h.set(i,y));y.has(o)||(uh=!0,y.add(o),a=gT.bind(null,a,i,o),i.then(a,a))}function gT(a,i,o){var h=a.pingCache;h!==null&&h.delete(i),a.pingedLanes|=a.suspendedLanes&o,a.warmLanes&=~o,jt===a&&(pt&o)===o&&(lr===4||lr===3&&(pt&62914560)===pt&&300>Ie()-af?(Rt&2)===0&&Su(a,0):sh|=o,wu===pt&&(wu=0)),fn(a)}function E0(a,i){i===0&&(i=nt()),a=On(a,i),a!==null&&(Tt(a,i),fn(a))}function pT(a){var i=a.memoizedState,o=0;i!==null&&(o=i.retryLane),E0(a,o)}function mT(a,i){var o=0;switch(a.tag){case 31:case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(o=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(i),E0(a,o)}function yT(a,i){return Oe(a,i)}var ff=null,Cu=null,ph=!1,df=!1,mh=!1,Ni=0;function fn(a){a!==Cu&&a.next===null&&(Cu===null?ff=Cu=a:Cu=Cu.next=a),df=!0,ph||(ph=!0,ET())}function eo(a,i){if(!mh&&df){mh=!0;do for(var o=!1,h=ff;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var w=0;else{var B=h.suspendedLanes,V=h.pingedLanes;w=(1<<31-ge(42|a)+1)-1,w&=y&~(B&~V),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(o=!0,S0(h,w))}else w=pt,w=rt(h,h===jt?w:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(w&3)===0||_e(h,w)||(o=!0,S0(h,w));h=h.next}while(o);mh=!1}}function bT(){x0()}function x0(){df=ph=!1;var a=0;Ni!==0&&OT()&&(a=Ni);for(var i=Ie(),o=null,h=ff;h!==null;){var y=h.next,w=w0(h,i);w===0?(h.next=null,o===null?ff=y:o.next=y,y===null&&(Cu=o)):(o=h,(a!==0||(w&3)!==0)&&(df=!0)),h=y}Cr!==0&&Cr!==5||eo(a),Ni!==0&&(Ni=0)}function w0(a,i){for(var o=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,w=a.pendingLanes&-62914561;0<w;){var B=31-ge(w),V=1<<B,$=y[B];$===-1?((V&o)===0||(V&h)!==0)&&(y[B]=st(V,i)):$<=i&&(a.expiredLanes|=V),w&=~V}if(i=jt,o=pt,o=rt(a,a===i?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,o===0||a===i&&(Bt===2||Bt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Ge(h),a.callbackNode=null,a.callbackPriority=0;if((o&3)===0||_e(a,o)){if(i=o&-o,i===a.callbackPriority)return i;switch(h!==null&&Ge(h),ia(o)){case 2:case 8:o=yt;break;case 32:o=dt;break;case 268435456:o=We;break;default:o=dt}return h=T0.bind(null,a),o=Oe(o,h),a.callbackPriority=i,a.callbackNode=o,i}return h!==null&&h!==null&&Ge(h),a.callbackPriority=2,a.callbackNode=null,2}function T0(a,i){if(Cr!==0&&Cr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var o=a.callbackNode;if(cf()&&a.callbackNode!==o)return null;var h=pt;return h=rt(a,a===jt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(n0(a,h,i),w0(a,Ie()),a.callbackNode!=null&&a.callbackNode===o?T0.bind(null,a):null)}function S0(a,i){if(cf())return null;n0(a,i,!0)}function ET(){BT(function(){(Rt&6)!==0?Oe(ct,bT):x0()})}function yh(){if(Ni===0){var a=gi;a===0&&(a=Ue,Ue<<=1,(Ue&261888)===0&&(Ue=256)),Ni=a}return Ni}function A0(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:rl(""+a)}function C0(a,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,a.id&&o.setAttribute("form",a.id),i.parentNode.insertBefore(o,i),a=new FormData(a),o.parentNode.removeChild(o),a}function xT(a,i,o,h,y){if(i==="submit"&&o&&o.stateNode===y){var w=A0((y[St]||null).action),B=h.submitter;B&&(i=(i=B[St]||null)?A0(i.formAction):B.getAttribute("formAction"),i!==null&&(w=i,B=null));var V=new ll("action","action",null,h,y);a.push({event:V,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ni!==0){var $=B?C0(y,B):new FormData(y);Uv(o,{pending:!0,data:$,method:y.method,action:w},null,$)}}else typeof w=="function"&&(V.preventDefault(),$=B?C0(y,B):new FormData(y),Uv(o,{pending:!0,data:$,method:y.method,action:w},w,$))},currentTarget:y}]})}}for(var bh=0;bh<xs.length;bh++){var Eh=xs[bh],wT=Eh.toLowerCase(),TT=Eh[0].toUpperCase()+Eh.slice(1);ua(wT,"on"+TT)}ua(xc,"onAnimationEnd"),ua(wc,"onAnimationIteration"),ua(Tc,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(vv,"onTransitionRun"),ua(hv,"onTransitionStart"),ua(gv,"onTransitionCancel"),ua(Sc,"onTransitionEnd"),Wr("onMouseEnter",["mouseout","mouseover"]),Wr("onMouseLeave",["mouseout","mouseover"]),Wr("onPointerEnter",["pointerout","pointerover"]),Wr("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ST=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(to));function N0(a,i){i=(i&4)!==0;for(var o=0;o<a.length;o++){var h=a[o],y=h.event;h=h.listeners;e:{var w=void 0;if(i)for(var B=h.length-1;0<=B;B--){var V=h[B],$=V.instance,de=V.currentTarget;if(V=V.listener,$!==w&&y.isPropagationStopped())break e;w=V,y.currentTarget=de;try{w(y)}catch(xe){eu(xe)}y.currentTarget=null,w=$}else for(B=0;B<h.length;B++){if(V=h[B],$=V.instance,de=V.currentTarget,V=V.listener,$!==w&&y.isPropagationStopped())break e;w=V,y.currentTarget=de;try{w(y)}catch(xe){eu(xe)}y.currentTarget=null,w=$}}}}function gt(a,i){var o=i[sr];o===void 0&&(o=i[sr]=new Set);var h=a+"__bubble";o.has(h)||(R0(i,a,2,!1),o.add(h))}function xh(a,i,o){var h=0;i&&(h|=4),R0(o,a,h,i)}var vf="_reactListening"+Math.random().toString(36).slice(2);function wh(a){if(!a[vf]){a[vf]=!0,Pl.forEach(function(o){o!=="selectionchange"&&(ST.has(o)||xh(o,!1,a),xh(o,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[vf]||(i[vf]=!0,xh("selectionchange",!1,i))}}function R0(a,i,o,h){switch(ab(i)){case 2:var y=$T;break;case 8:y=JT;break;default:y=_h}o=y.bind(null,i,o,a),y=void 0,!ls||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(i,o,{capture:!0,passive:y}):a.addEventListener(i,o,!0):y!==void 0?a.addEventListener(i,o,{passive:y}):a.addEventListener(i,o,!1)}function Th(a,i,o,h,y){var w=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var B=h.tag;if(B===3||B===4){var V=h.stateNode.containerInfo;if(V===y)break;if(B===4)for(B=h.return;B!==null;){var $=B.tag;if(($===3||$===4)&&B.stateNode.containerInfo===y)return;B=B.return}for(;V!==null;){if(B=tn(V),B===null)return;if($=B.tag,$===5||$===6||$===26||$===27){h=w=B;continue e}V=V.parentNode}}h=h.return}tc(function(){var de=w,xe=nl(o),Ce=[];e:{var ve=Ac.get(a);if(ve!==void 0){var me=ll,qe=a;switch(a){case"keypress":if(Yl(o)===0)break e;case"keydown":case"keyup":me=Wd;break;case"focusin":qe="focus",me=cs;break;case"focusout":qe="blur",me=cs;break;case"beforeblur":case"afterblur":me=cs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=jd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=ev;break;case xc:case wc:case Tc:me=Hd;break;case Sc:me=tv;break;case"scroll":case"scrollend":me=Ud;break;case"wheel":me=av;break;case"copy":case"cut":case"paste":me=Fd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ic;break;case"toggle":case"beforetoggle":me=iv}var et=(i&4)!==0,zt=!et&&(a==="scroll"||a==="scrollend"),le=et?ve!==null?ve+"Capture":null:ve;et=[];for(var ae=de,ce;ae!==null;){var Se=ae;if(ce=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||ce===null||le===null||(Se=il(ae,le),Se!=null&&et.push(ro(ae,Se,ce))),zt)break;ae=ae.return}0<et.length&&(ve=new me(ve,qe,null,o,xe),Ce.push({event:ve,listeners:et}))}}if((i&7)===0){e:{if(ve=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",ve&&o!==al&&(qe=o.relatedTarget||o.fromElement)&&(tn(qe)||qe[Tr]))break e;if((me||ve)&&(ve=xe.window===xe?xe:(ve=xe.ownerDocument)?ve.defaultView||ve.parentWindow:window,me?(qe=o.relatedTarget||o.toElement,me=de,qe=qe?tn(qe):null,qe!==null&&(zt=u(qe),et=qe.tag,qe!==zt||et!==5&&et!==27&&et!==6)&&(qe=null)):(me=null,qe=de),me!==qe)){if(et=os,Se="onMouseLeave",le="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(et=ic,Se="onPointerLeave",le="onPointerEnter",ae="pointer"),zt=me==null?ve:xa(me),ce=qe==null?ve:xa(qe),ve=new et(Se,ae+"leave",me,o,xe),ve.target=zt,ve.relatedTarget=ce,Se=null,tn(xe)===de&&(et=new et(le,ae+"enter",qe,o,xe),et.target=ce,et.relatedTarget=zt,Se=et),zt=Se,me&&qe)t:{for(et=AT,le=me,ae=qe,ce=0,Se=le;Se;Se=et(Se))ce++;Se=0;for(var Ze=ae;Ze;Ze=et(Ze))Se++;for(;0<ce-Se;)le=et(le),ce--;for(;0<Se-ce;)ae=et(ae),Se--;for(;ce--;){if(le===ae||ae!==null&&le===ae.alternate){et=le;break t}le=et(le),ae=et(ae)}et=null}else et=null;me!==null&&D0(Ce,ve,me,et,!1),qe!==null&&zt!==null&&D0(Ce,zt,qe,et,!0)}}e:{if(ve=de?xa(de):window,me=ve.nodeName&&ve.nodeName.toLowerCase(),me==="select"||me==="input"&&ve.type==="file")var At=li;else if(fc(ve))if(hs)At=cv;else{At=gc;var Ve=ys}else me=ve.nodeName,!me||me.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?de&&ns(de.elementType)&&(At=li):At=$l;if(At&&(At=At(a,de))){dc(Ce,At,o,xe);break e}Ve&&Ve(a,ve,de),a==="focusout"&&de&&ve.type==="number"&&de.memoizedProps.value!=null&&as(ve,"number",ve.value)}switch(Ve=de?xa(de):window,a){case"focusin":(fc(Ve)||Ve.contentEditable==="true")&&(ui=Ve,Jl=de,si=null);break;case"focusout":si=Jl=ui=null;break;case"mousedown":Es=!0;break;case"contextmenu":case"mouseup":case"dragend":Es=!1,Ec(Ce,o,xe);break;case"selectionchange":if(dv)break;case"keydown":case"keyup":Ec(Ce,o,xe)}var ot;if(ds)e:{switch(a){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else ii?vs(a,o)&&(mt="onCompositionEnd"):a==="keydown"&&o.keyCode===229&&(mt="onCompositionStart");mt&&(uc&&o.locale!=="ko"&&(ii||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&ii&&(ot=rc()):(an=xe,us="value"in an?an.value:an.textContent,ii=!0)),Ve=hf(de,mt),0<Ve.length&&(mt=new nc(mt,a,null,o,xe),Ce.push({event:mt,listeners:Ve}),ot?mt.data=ot:(ot=Ql(o),ot!==null&&(mt.data=ot)))),(ot=uv?sv(a,o):fl(a,o))&&(mt=hf(de,"onBeforeInput"),0<mt.length&&(Ve=new nc("onBeforeInput","beforeinput",null,o,xe),Ce.push({event:Ve,listeners:mt}),Ve.data=ot)),xT(Ce,a,de,o,xe)}N0(Ce,i)})}function ro(a,i,o){return{instance:a,listener:i,currentTarget:o}}function hf(a,i){for(var o=i+"Capture",h=[];a!==null;){var y=a,w=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||w===null||(y=il(a,o),y!=null&&h.unshift(ro(a,y,w)),y=il(a,i),y!=null&&h.push(ro(a,y,w))),a.tag===3)return h;a=a.return}return[]}function AT(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function D0(a,i,o,h,y){for(var w=i._reactName,B=[];o!==null&&o!==h;){var V=o,$=V.alternate,de=V.stateNode;if(V=V.tag,$!==null&&$===h)break;V!==5&&V!==26&&V!==27||de===null||($=de,y?(de=il(o,w),de!=null&&B.unshift(ro(o,de,$))):y||(de=il(o,w),de!=null&&B.push(ro(o,de,$)))),o=o.return}B.length!==0&&a.push({event:i,listeners:B})}var CT=/\r\n?/g,NT=/\u0000|\uFFFD/g;function O0(a){return(typeof a=="string"?a:""+a).replace(CT,`
`).replace(NT,"")}function M0(a,i){return i=O0(i),O0(a)===i}function kt(a,i,o,h,y,w){switch(o){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||Sn(a,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&Sn(a,""+h);break;case"className":Oa(a,"class",h);break;case"tabIndex":Oa(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Oa(a,o,h);break;case"style":Jo(a,h,w);break;case"data":if(i!=="object"){Oa(a,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||o!=="href")){a.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(o);break}h=rl(""+h),a.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(o==="formAction"?(i!=="input"&&kt(a,i,"name",y.name,y,null),kt(a,i,"formEncType",y.formEncType,y,null),kt(a,i,"formMethod",y.formMethod,y,null),kt(a,i,"formTarget",y.formTarget,y,null)):(kt(a,i,"encType",y.encType,y,null),kt(a,i,"method",y.method,y,null),kt(a,i,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(o);break}h=rl(""+h),a.setAttribute(o,h);break;case"onClick":h!=null&&(a.onclick=Ma);break;case"onScroll":h!=null&&gt("scroll",a);break;case"onScrollEnd":h!=null&&gt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(o=h.__html,o!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=o}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}o=rl(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(o,""+h):a.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(o,""):a.removeAttribute(o);break;case"capture":case"download":h===!0?a.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(o,h):a.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(o,h):a.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(o):a.setAttribute(o,h);break;case"popover":gt("beforetoggle",a),gt("toggle",a),$t(a,"popover",h);break;case"xlinkActuate":Mr(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Mr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Mr(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Mr(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Mr(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Mr(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Mr(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Mr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Mr(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":$t(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ec.get(o)||o,$t(a,o,h))}}function Sh(a,i,o,h,y,w){switch(o){case"style":Jo(a,h,w);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(o=h.__html,o!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=o}}break;case"children":typeof h=="string"?Sn(a,h):(typeof h=="number"||typeof h=="bigint")&&Sn(a,""+h);break;case"onScroll":h!=null&&gt("scroll",a);break;case"onScrollEnd":h!=null&&gt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Ma);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ji.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(y=o.endsWith("Capture"),i=o.slice(2,y?o.length-7:void 0),w=a[St]||null,w=w!=null?w[o]:null,typeof w=="function"&&a.removeEventListener(i,w,y),typeof h=="function")){typeof w!="function"&&w!==null&&(o in a?a[o]=null:a.hasAttribute(o)&&a.removeAttribute(o)),a.addEventListener(i,h,y);break e}o in a?a[o]=h:h===!0?a.setAttribute(o,""):$t(a,o,h)}}}function jr(a,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",a),gt("load",a);var h=!1,y=!1,w;for(w in o)if(o.hasOwnProperty(w)){var B=o[w];if(B!=null)switch(w){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:kt(a,i,w,B,o,null)}}y&&kt(a,i,"srcSet",o.srcSet,o,null),h&&kt(a,i,"src",o.src,o,null);return;case"input":gt("invalid",a);var V=w=B=y=null,$=null,de=null;for(h in o)if(o.hasOwnProperty(h)){var xe=o[h];if(xe!=null)switch(h){case"name":y=xe;break;case"type":B=xe;break;case"checked":$=xe;break;case"defaultChecked":de=xe;break;case"value":w=xe;break;case"defaultValue":V=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(n(137,i));break;default:kt(a,i,h,xe,o,null)}}Hl(a,w,V,$,de,B,y,!1);return;case"select":gt("invalid",a),h=B=w=null;for(y in o)if(o.hasOwnProperty(y)&&(V=o[y],V!=null))switch(y){case"value":w=V;break;case"defaultValue":B=V;break;case"multiple":h=V;default:kt(a,i,y,V,o,null)}i=w,o=B,a.multiple=!!h,i!=null?Tn(a,!!h,i,!1):o!=null&&Tn(a,!!h,o,!0);return;case"textarea":gt("invalid",a),w=y=h=null;for(B in o)if(o.hasOwnProperty(B)&&(V=o[B],V!=null))switch(B){case"value":h=V;break;case"defaultValue":y=V;break;case"children":w=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(n(91));break;default:kt(a,i,B,V,o,null)}$o(a,h,y,w);return;case"option":for($ in o)o.hasOwnProperty($)&&(h=o[$],h!=null)&&($==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":kt(a,i,$,h,o,null));return;case"dialog":gt("beforetoggle",a),gt("toggle",a),gt("cancel",a),gt("close",a);break;case"iframe":case"object":gt("load",a);break;case"video":case"audio":for(h=0;h<to.length;h++)gt(to[h],a);break;case"image":gt("error",a),gt("load",a);break;case"details":gt("toggle",a);break;case"embed":case"source":case"link":gt("error",a),gt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in o)if(o.hasOwnProperty(de)&&(h=o[de],h!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:kt(a,i,de,h,o,null)}return;default:if(ns(i)){for(xe in o)o.hasOwnProperty(xe)&&(h=o[xe],h!==void 0&&Sh(a,i,xe,h,o,void 0));return}}for(V in o)o.hasOwnProperty(V)&&(h=o[V],h!=null&&kt(a,i,V,h,o,null))}function RT(a,i,o,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,w=null,B=null,V=null,$=null,de=null,xe=null;for(me in o){var Ce=o[me];if(o.hasOwnProperty(me)&&Ce!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":$=Ce;default:h.hasOwnProperty(me)||kt(a,i,me,null,h,Ce)}}for(var ve in h){var me=h[ve];if(Ce=o[ve],h.hasOwnProperty(ve)&&(me!=null||Ce!=null))switch(ve){case"type":w=me;break;case"name":y=me;break;case"checked":de=me;break;case"defaultChecked":xe=me;break;case"value":B=me;break;case"defaultValue":V=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(137,i));break;default:me!==Ce&&kt(a,i,ve,me,h,Ce)}}rn(a,B,V,$,de,xe,w,y);return;case"select":me=B=V=ve=null;for(w in o)if($=o[w],o.hasOwnProperty(w)&&$!=null)switch(w){case"value":break;case"multiple":me=$;default:h.hasOwnProperty(w)||kt(a,i,w,null,h,$)}for(y in h)if(w=h[y],$=o[y],h.hasOwnProperty(y)&&(w!=null||$!=null))switch(y){case"value":ve=w;break;case"defaultValue":V=w;break;case"multiple":B=w;default:w!==$&&kt(a,i,y,w,h,$)}i=V,o=B,h=me,ve!=null?Tn(a,!!o,ve,!1):!!h!=!!o&&(i!=null?Tn(a,!!o,i,!0):Tn(a,!!o,o?[]:"",!1));return;case"textarea":me=ve=null;for(V in o)if(y=o[V],o.hasOwnProperty(V)&&y!=null&&!h.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:kt(a,i,V,null,h,y)}for(B in h)if(y=h[B],w=o[B],h.hasOwnProperty(B)&&(y!=null||w!=null))switch(B){case"value":ve=y;break;case"defaultValue":me=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==w&&kt(a,i,B,y,h,w)}Wo(a,ve,me);return;case"option":for(var qe in o)ve=o[qe],o.hasOwnProperty(qe)&&ve!=null&&!h.hasOwnProperty(qe)&&(qe==="selected"?a.selected=!1:kt(a,i,qe,null,h,ve));for($ in h)ve=h[$],me=o[$],h.hasOwnProperty($)&&ve!==me&&(ve!=null||me!=null)&&($==="selected"?a.selected=ve&&typeof ve!="function"&&typeof ve!="symbol":kt(a,i,$,ve,h,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in o)ve=o[et],o.hasOwnProperty(et)&&ve!=null&&!h.hasOwnProperty(et)&&kt(a,i,et,null,h,ve);for(de in h)if(ve=h[de],me=o[de],h.hasOwnProperty(de)&&ve!==me&&(ve!=null||me!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,i));break;default:kt(a,i,de,ve,h,me)}return;default:if(ns(i)){for(var zt in o)ve=o[zt],o.hasOwnProperty(zt)&&ve!==void 0&&!h.hasOwnProperty(zt)&&Sh(a,i,zt,void 0,h,ve);for(xe in h)ve=h[xe],me=o[xe],!h.hasOwnProperty(xe)||ve===me||ve===void 0&&me===void 0||Sh(a,i,xe,ve,h,me);return}}for(var le in o)ve=o[le],o.hasOwnProperty(le)&&ve!=null&&!h.hasOwnProperty(le)&&kt(a,i,le,null,h,ve);for(Ce in h)ve=h[Ce],me=o[Ce],!h.hasOwnProperty(Ce)||ve===me||ve==null&&me==null||kt(a,i,Ce,ve,h,me)}function B0(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function DT(){if(typeof performance.getEntriesByType=="function"){for(var a=0,i=0,o=performance.getEntriesByType("resource"),h=0;h<o.length;h++){var y=o[h],w=y.transferSize,B=y.initiatorType,V=y.duration;if(w&&V&&B0(B)){for(B=0,V=y.responseEnd,h+=1;h<o.length;h++){var $=o[h],de=$.startTime;if(de>V)break;var xe=$.transferSize,Ce=$.initiatorType;xe&&B0(Ce)&&($=$.responseEnd,B+=xe*($<V?1:(V-de)/($-de)))}if(--h,i+=8*(w+B)/(y.duration/1e3),a++,10<a)break}}if(0<a)return i/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Ah=null,Ch=null;function gf(a){return a.nodeType===9?a:a.ownerDocument}function I0(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L0(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function Nh(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Rh=null;function OT(){var a=window.event;return a&&a.type==="popstate"?a===Rh?!1:(Rh=a,!0):(Rh=null,!1)}var k0=typeof setTimeout=="function"?setTimeout:void 0,MT=typeof clearTimeout=="function"?clearTimeout:void 0,z0=typeof Promise=="function"?Promise:void 0,BT=typeof queueMicrotask=="function"?queueMicrotask:typeof z0<"u"?function(a){return z0.resolve(null).then(a).catch(IT)}:k0;function IT(a){setTimeout(function(){throw a})}function Ri(a){return a==="head"}function _0(a,i){var o=i,h=0;do{var y=o.nextSibling;if(a.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"||o==="/&"){if(h===0){a.removeChild(y),Ou(i);return}h--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")h++;else if(o==="html")ao(a.ownerDocument.documentElement);else if(o==="head"){o=a.ownerDocument.head,ao(o);for(var w=o.firstChild;w;){var B=w.nextSibling,V=w.nodeName;w[vr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&w.rel.toLowerCase()==="stylesheet"||o.removeChild(w),w=B}}else o==="body"&&ao(a.ownerDocument.body);o=y}while(o);Ou(i)}function U0(a,i){var o=a;a=0;do{var h=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(a===0)break;a--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||a++;o=h}while(o)}function Dh(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Dh(o),bn(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}a.removeChild(o)}}function LT(a,i,o,h){for(;a.nodeType===1;){var y=o;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[vr])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(w=a.getAttribute("rel"),w==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(w!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(w=a.getAttribute("src"),(w!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&w&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var w=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===w)return a}else return a;if(a=za(a.nextSibling),a===null)break}return null}function kT(a,i,o){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=za(a.nextSibling),a===null))return null;return a}function P0(a,i){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!i||(a=za(a.nextSibling),a===null))return null;return a}function Oh(a){return a.data==="$?"||a.data==="$~"}function Mh(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function zT(a,i){var o=a.ownerDocument;if(a.data==="$~")a._reactRetry=i;else if(a.data!=="$?"||o.readyState!=="loading")i();else{var h=function(){i(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function za(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return a}var Bh=null;function j0(a){a=a.nextSibling;for(var i=0;a;){if(a.nodeType===8){var o=a.data;if(o==="/$"||o==="/&"){if(i===0)return za(a.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}a=a.nextSibling}return null}function q0(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var o=a.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return a;i--}else o!=="/$"&&o!=="/&"||i++}a=a.previousSibling}return null}function G0(a,i,o){switch(i=gf(o),a){case"html":if(a=i.documentElement,!a)throw Error(n(452));return a;case"head":if(a=i.head,!a)throw Error(n(453));return a;case"body":if(a=i.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function ao(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);bn(a)}var _a=new Map,H0=new Set;function pf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Qn=F.d;F.d={f:_T,r:UT,D:PT,C:jT,L:qT,m:GT,X:VT,S:HT,M:FT};function _T(){var a=Qn.f(),i=uf();return a||i}function UT(a){var i=Ga(a);i!==null&&i.tag===5&&i.type==="form"?ly(i):Qn.r(a)}var Nu=typeof document>"u"?null:document;function V0(a,i,o){var h=Nu;if(h&&typeof i=="string"&&i){var y=Fr(i);y='link[rel="'+a+'"][href="'+y+'"]',typeof o=="string"&&(y+='[crossorigin="'+o+'"]'),H0.has(y)||(H0.add(y),a={rel:a,crossOrigin:o,href:i},h.querySelector(y)===null&&(i=h.createElement("link"),jr(i,"link",a),rr(i),h.head.appendChild(i)))}}function PT(a){Qn.D(a),V0("dns-prefetch",a,null)}function jT(a,i){Qn.C(a,i),V0("preconnect",a,i)}function qT(a,i,o){Qn.L(a,i,o);var h=Nu;if(h&&a&&i){var y='link[rel="preload"][as="'+Fr(i)+'"]';i==="image"&&o&&o.imageSrcSet?(y+='[imagesrcset="'+Fr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(y+='[imagesizes="'+Fr(o.imageSizes)+'"]')):y+='[href="'+Fr(a)+'"]';var w=y;switch(i){case"style":w=Ru(a);break;case"script":w=Du(a)}_a.has(w)||(a=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:a,as:i},o),_a.set(w,a),h.querySelector(y)!==null||i==="style"&&h.querySelector(no(w))||i==="script"&&h.querySelector(io(w))||(i=h.createElement("link"),jr(i,"link",a),rr(i),h.head.appendChild(i)))}}function GT(a,i){Qn.m(a,i);var o=Nu;if(o&&a){var h=i&&typeof i.as=="string"?i.as:"script",y='link[rel="modulepreload"][as="'+Fr(h)+'"][href="'+Fr(a)+'"]',w=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Du(a)}if(!_a.has(w)&&(a=g({rel:"modulepreload",href:a},i),_a.set(w,a),o.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(io(w)))return}h=o.createElement("link"),jr(h,"link",a),rr(h),o.head.appendChild(h)}}}function HT(a,i,o){Qn.S(a,i,o);var h=Nu;if(h&&a){var y=wa(h).hoistableStyles,w=Ru(a);i=i||"default";var B=y.get(w);if(!B){var V={loading:0,preload:null};if(B=h.querySelector(no(w)))V.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":i},o),(o=_a.get(w))&&Ih(a,o);var $=B=h.createElement("link");rr($),jr($,"link",a),$._p=new Promise(function(de,xe){$.onload=de,$.onerror=xe}),$.addEventListener("load",function(){V.loading|=1}),$.addEventListener("error",function(){V.loading|=2}),V.loading|=4,mf(B,i,h)}B={type:"stylesheet",instance:B,count:1,state:V},y.set(w,B)}}}function VT(a,i){Qn.X(a,i);var o=Nu;if(o&&a){var h=wa(o).hoistableScripts,y=Du(a),w=h.get(y);w||(w=o.querySelector(io(y)),w||(a=g({src:a,async:!0},i),(i=_a.get(y))&&Lh(a,i),w=o.createElement("script"),rr(w),jr(w,"link",a),o.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function FT(a,i){Qn.M(a,i);var o=Nu;if(o&&a){var h=wa(o).hoistableScripts,y=Du(a),w=h.get(y);w||(w=o.querySelector(io(y)),w||(a=g({src:a,async:!0,type:"module"},i),(i=_a.get(y))&&Lh(a,i),w=o.createElement("script"),rr(w),jr(w,"link",a),o.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},h.set(y,w))}}function F0(a,i,o,h){var y=(y=he.current)?pf(y):null;if(!y)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Ru(o.href),o=wa(y).hoistableStyles,h=o.get(i),h||(h={type:"style",instance:null,count:0,state:null},o.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){a=Ru(o.href);var w=wa(y).hoistableStyles,B=w.get(a);if(B||(y=y.ownerDocument||y,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(a,B),(w=y.querySelector(no(a)))&&!w._p&&(B.instance=w,B.state.loading=5),_a.has(a)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},_a.set(a,o),w||YT(y,a,o,B.state))),i&&h===null)throw Error(n(528,""));return B}if(i&&h!==null)throw Error(n(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Du(o),o=wa(y).hoistableScripts,h=o.get(i),h||(h={type:"script",instance:null,count:0,state:null},o.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Ru(a){return'href="'+Fr(a)+'"'}function no(a){return'link[rel="stylesheet"]['+a+"]"}function Y0(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function YT(a,i,o,h){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=a.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),jr(i,"link",o),rr(i),a.head.appendChild(i))}function Du(a){return'[src="'+Fr(a)+'"]'}function io(a){return"script[async]"+a}function K0(a,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var h=a.querySelector('style[data-href~="'+Fr(o.href)+'"]');if(h)return i.instance=h,rr(h),h;var y=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),rr(h),jr(h,"style",y),mf(h,o.precedence,a),i.instance=h;case"stylesheet":y=Ru(o.href);var w=a.querySelector(no(y));if(w)return i.state.loading|=4,i.instance=w,rr(w),w;h=Y0(o),(y=_a.get(y))&&Ih(h,y),w=(a.ownerDocument||a).createElement("link"),rr(w);var B=w;return B._p=new Promise(function(V,$){B.onload=V,B.onerror=$}),jr(w,"link",h),i.state.loading|=4,mf(w,o.precedence,a),i.instance=w;case"script":return w=Du(o.src),(y=a.querySelector(io(w)))?(i.instance=y,rr(y),y):(h=o,(y=_a.get(w))&&(h=g({},o),Lh(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),rr(y),jr(y,"link",h),a.head.appendChild(y),i.instance=y);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,mf(h,o.precedence,a));return i.instance}function mf(a,i,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,w=y,B=0;B<h.length;B++){var V=h[B];if(V.dataset.precedence===i)w=V;else if(w!==y)break}w?w.parentNode.insertBefore(a,w.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(a,i.firstChild))}function Ih(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function Lh(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var yf=null;function X0(a,i,o){if(yf===null){var h=new Map,y=yf=new Map;y.set(o,h)}else y=yf,h=y.get(o),h||(h=new Map,y.set(o,h));if(h.has(a))return h;for(h.set(a,null),o=o.getElementsByTagName(a),y=0;y<o.length;y++){var w=o[y];if(!(w[vr]||w[Dt]||a==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var B=w.getAttribute(i)||"";B=a+B;var V=h.get(B);V?V.push(w):h.set(B,[w])}}return h}function Z0(a,i,o){a=a.ownerDocument||a,a.head.insertBefore(o,i==="title"?a.querySelector("head > title"):null)}function KT(a,i,o){if(o===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(a=i.disabled,typeof i.precedence=="string"&&a==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Q0(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function XT(a,i,o,h){if(o.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Ru(h.href),w=i.querySelector(no(y));if(w){i=w._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(a.count++,a=bf.bind(a),i.then(a,a)),o.state.loading|=4,o.instance=w,rr(w);return}w=i.ownerDocument||i,h=Y0(h),(y=_a.get(y))&&Ih(h,y),w=w.createElement("link"),rr(w);var B=w;B._p=new Promise(function(V,$){B.onload=V,B.onerror=$}),jr(w,"link",h),o.instance=w}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(a.count++,o=bf.bind(a),i.addEventListener("load",o),i.addEventListener("error",o))}}var kh=0;function ZT(a,i){return a.stylesheets&&a.count===0&&xf(a,a.stylesheets),0<a.count||0<a.imgCount?function(o){var h=setTimeout(function(){if(a.stylesheets&&xf(a,a.stylesheets),a.unsuspend){var w=a.unsuspend;a.unsuspend=null,w()}},6e4+i);0<a.imgBytes&&kh===0&&(kh=62500*DT());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&xf(a,a.stylesheets),a.unsuspend)){var w=a.unsuspend;a.unsuspend=null,w()}},(a.imgBytes>kh?50:800)+i);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function bf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Ef=null;function xf(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Ef=new Map,i.forEach(QT,a),Ef=null,bf.call(a))}function QT(a,i){if(!(i.state.loading&4)){var o=Ef.get(a);if(o)var h=o.get(null);else{o=new Map,Ef.set(a,o);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<y.length;w++){var B=y[w];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(o.set(B.dataset.precedence,B),h=B)}h&&o.set(null,h)}y=i.instance,B=y.getAttribute("data-precedence"),w=o.get(B)||h,w===h&&o.set(null,y),o.set(B,y),this.count++,h=bf.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),w?w.parentNode.insertBefore(y,w.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),i.state.loading|=4}}var lo={$$typeof:R,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function WT(a,i,o,h,y,w,B,V,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=w,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function W0(a,i,o,h,y,w,B,V,$,de,xe,Ce){return a=new WT(a,i,o,B,$,de,xe,Ce,V),i=1,w===!0&&(i|=24),w=Jr(3,null,null,i),a.current=w,w.stateNode=a,i=Is(),i.refCount++,a.pooledCache=i,i.refCount++,w.memoizedState={element:h,isDehydrated:o,cache:i},Ae(w),a}function $0(a){return a?(a=Mn,a):Mn}function J0(a,i,o,h,y,w){y=$0(y),h.context===null?h.context=y:h.pendingContext=y,h=Et(i),h.payload={element:o},w=w===void 0?null:w,w!==null&&(h.callback=w),o=Xt(a,h,i),o!==null&&(pa(o,a,i),Yr(o,a,i))}function eb(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var o=a.retryLane;a.retryLane=o!==0&&o<i?o:i}}function zh(a,i){eb(a,i),(a=a.alternate)&&eb(a,i)}function tb(a){if(a.tag===13||a.tag===31){var i=On(a,67108864);i!==null&&pa(i,a,67108864),zh(a,67108864)}}function rb(a){if(a.tag===13||a.tag===31){var i=Na();i=tr(i);var o=On(a,i);o!==null&&pa(o,a,i),zh(a,i)}}var wf=!0;function $T(a,i,o,h){var y=G.T;G.T=null;var w=F.p;try{F.p=2,_h(a,i,o,h)}finally{F.p=w,G.T=y}}function JT(a,i,o,h){var y=G.T;G.T=null;var w=F.p;try{F.p=8,_h(a,i,o,h)}finally{F.p=w,G.T=y}}function _h(a,i,o,h){if(wf){var y=Uh(h);if(y===null)Th(a,i,h,Tf,o),nb(a,h);else if(tS(y,a,i,o,h))h.stopPropagation();else if(nb(a,h),i&4&&-1<eS.indexOf(a)){for(;y!==null;){var w=Ga(y);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var B=Je(w.pendingLanes);if(B!==0){var V=w;for(V.pendingLanes|=2,V.entangledLanes|=2;B;){var $=1<<31-ge(B);V.entanglements[1]|=$,B&=~$}fn(w),(Rt&6)===0&&(nf=Ie()+500,eo(0))}}break;case 31:case 13:V=On(w,2),V!==null&&pa(V,w,2),uf(),zh(w,2)}if(w=Uh(h),w===null&&Th(a,i,h,Tf,o),w===y)break;y=w}y!==null&&h.stopPropagation()}else Th(a,i,h,null,o)}}function Uh(a){return a=nl(a),Ph(a)}var Tf=null;function Ph(a){if(Tf=null,a=tn(a),a!==null){var i=u(a);if(i===null)a=null;else{var o=i.tag;if(o===13){if(a=s(i),a!==null)return a;a=null}else if(o===31){if(a=c(i),a!==null)return a;a=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Tf=a,null}function ab(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case ct:return 2;case yt:return 8;case dt:case bt:return 32;case We:return 268435456;default:return 32}default:return 32}}var jh=!1,Di=null,Oi=null,Mi=null,uo=new Map,so=new Map,Bi=[],eS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function nb(a,i){switch(a){case"focusin":case"focusout":Di=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":uo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(i.pointerId)}}function oo(a,i,o,h,y,w){return a===null||a.nativeEvent!==w?(a={blockedOn:i,domEventName:o,eventSystemFlags:h,nativeEvent:w,targetContainers:[y]},i!==null&&(i=Ga(i),i!==null&&tb(i)),a):(a.eventSystemFlags|=h,i=a.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),a)}function tS(a,i,o,h,y){switch(i){case"focusin":return Di=oo(Di,a,i,o,h,y),!0;case"dragenter":return Oi=oo(Oi,a,i,o,h,y),!0;case"mouseover":return Mi=oo(Mi,a,i,o,h,y),!0;case"pointerover":var w=y.pointerId;return uo.set(w,oo(uo.get(w)||null,a,i,o,h,y)),!0;case"gotpointercapture":return w=y.pointerId,so.set(w,oo(so.get(w)||null,a,i,o,h,y)),!0}return!1}function ib(a){var i=tn(a.target);if(i!==null){var o=u(i);if(o!==null){if(i=o.tag,i===13){if(i=s(o),i!==null){a.blockedOn=i,la(a.priority,function(){rb(o)});return}}else if(i===31){if(i=c(o),i!==null){a.blockedOn=i,la(a.priority,function(){rb(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){a.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Sf(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var o=Uh(a.nativeEvent);if(o===null){o=a.nativeEvent;var h=new o.constructor(o.type,o);al=h,o.target.dispatchEvent(h),al=null}else return i=Ga(o),i!==null&&tb(i),a.blockedOn=o,!1;i.shift()}return!0}function lb(a,i,o){Sf(a)&&o.delete(i)}function rS(){jh=!1,Di!==null&&Sf(Di)&&(Di=null),Oi!==null&&Sf(Oi)&&(Oi=null),Mi!==null&&Sf(Mi)&&(Mi=null),uo.forEach(lb),so.forEach(lb)}function Af(a,i){a.blockedOn===i&&(a.blockedOn=null,jh||(jh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rS)))}var Cf=null;function ub(a){Cf!==a&&(Cf=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Cf===a&&(Cf=null);for(var i=0;i<a.length;i+=3){var o=a[i],h=a[i+1],y=a[i+2];if(typeof h!="function"){if(Ph(h||o)===null)continue;break}var w=Ga(o);w!==null&&(a.splice(i,3),i-=3,Uv(w,{pending:!0,data:y,method:o.method,action:h},h,y))}}))}function Ou(a){function i($){return Af($,a)}Di!==null&&Af(Di,a),Oi!==null&&Af(Oi,a),Mi!==null&&Af(Mi,a),uo.forEach(i),so.forEach(i);for(var o=0;o<Bi.length;o++){var h=Bi[o];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Bi.length&&(o=Bi[0],o.blockedOn===null);)ib(o),o.blockedOn===null&&Bi.shift();if(o=(a.ownerDocument||a).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var y=o[h],w=o[h+1],B=y[St]||null;if(typeof w=="function")B||ub(o);else if(B){var V=null;if(w&&w.hasAttribute("formAction")){if(y=w,B=w[St]||null)V=B.formAction;else if(Ph(y)!==null)continue}else V=B.action;typeof V=="function"?o[h+1]=V:(o.splice(h,3),h-=3),ub(o)}}}function sb(){function a(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(B){return y=B})},focusReset:"manual",scroll:"manual"})}function i(){y!==null&&(y(),y=null),h||setTimeout(o,20)}function o(){if(!h&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),y!==null&&(y(),y=null)}}}function qh(a){this._internalRoot=a}Nf.prototype.render=qh.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(n(409));var o=i.current,h=Na();J0(o,h,a,i,null,null)},Nf.prototype.unmount=qh.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;J0(a.current,2,null,a,null,null),uf(),i[Tr]=null}};function Nf(a){this._internalRoot=a}Nf.prototype.unstable_scheduleHydration=function(a){if(a){var i=Vt();a={blockedOn:null,target:a,priority:i};for(var o=0;o<Bi.length&&i!==0&&i<Bi[o].priority;o++);Bi.splice(o,0,a),o===0&&ib(a)}};var ob=e.version;if(ob!=="19.2.4")throw Error(n(527,ob,"19.2.4"));F.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=f(i),a=a!==null?v(a):null,a=a===null?null:a.stateNode,a};var aS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{Y=Rf.inject(aS),se=Rf}catch{}}return fo.createRoot=function(a,i){if(!l(a))throw Error(n(299));var o=!1,h="",y=py,w=my,B=yy;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(y=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(B=i.onRecoverableError)),i=W0(a,1,!1,null,null,o,h,null,y,w,B,sb),a[Tr]=i.current,wh(a),new qh(i)},fo.hydrateRoot=function(a,i,o){if(!l(a))throw Error(n(299));var h=!1,y="",w=py,B=my,V=yy,$=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(y=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(B=o.onCaughtError),o.onRecoverableError!==void 0&&(V=o.onRecoverableError),o.formState!==void 0&&($=o.formState)),i=W0(a,1,!0,i,o??null,h,y,$,w,B,V,sb),i.context=$0(null),o=i.current,h=Na(),h=tr(h),y=Et(h),y.callback=null,Xt(o,y,h),o=h,i.current.lanes=o,Tt(i,o),fn(i),a[Tr]=i.current,wh(a),new Nf(i)},fo.version="19.2.4",fo}var bb;function vS(){if(bb)return Fh.exports;bb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fh.exports=dS(),Fh.exports}var hS=vS();function gS({onMessage:t,messages:e}){const r=Lr.useRef(null),n=()=>{r.current?.scrollIntoView({behavior:"smooth"})};Lr.useEffect(()=>{n()},[e]);const l=["I want something affordable for commuting","I'm a beginner with bad knees","Looking for a mountain bike for trails","Need a fitness bike, money is no object","Weekend rides on mixed terrain"];return U.jsxs("div",{className:"flex flex-col h-full bg-slate-800/50 rounded-xl border border-slate-700",children:[U.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[U.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[U.jsx("span",{className:"text-2xl",children:""}),"Tell us what you need"]}),U.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Select a scenario to see how Bayesian inference works"})]}),U.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-[200px]",children:[e.length===0?U.jsxs("div",{className:"text-slate-400 text-sm",children:[U.jsx("p",{className:"mb-3",children:"Click a scenario to start:"}),U.jsx("div",{className:"space-y-2",children:l.map((u,s)=>U.jsxs("button",{onClick:()=>t(u),className:"block w-full text-left px-3 py-2 bg-slate-700/50 hover:bg-slate-700 rounded-lg text-slate-300 text-sm transition-colors",children:['"',u,'"']},s))})]}):e.map((u,s)=>U.jsx("div",{className:`chat-message flex ${u.type==="user"?"justify-end":"justify-start"}`,children:U.jsxs("div",{className:`max-w-[85%] px-4 py-2 rounded-2xl ${u.type==="user"?"bg-blue-600 text-white rounded-br-md":"bg-slate-700 text-slate-200 rounded-bl-md"}`,children:[u.type==="system"&&U.jsx("span",{className:"text-xs text-blue-400 block mb-1",children:" AI + Bayesian"}),U.jsx("p",{className:"text-sm",children:u.text}),u.evidence&&Object.keys(u.evidence).length>0&&U.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-600",children:[U.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Extracted evidence:"}),U.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(u.evidence).map(([c,d])=>U.jsxs("span",{className:"px-2 py-0.5 bg-blue-500/30 text-blue-300 rounded text-xs",children:[c,": ",d]},c))})]})]})},s)),U.jsx("div",{ref:r})]}),e.length>0&&U.jsxs("div",{className:"p-4 border-t border-slate-700",children:[U.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Try another scenario:"}),U.jsx("div",{className:"flex flex-wrap gap-2",children:l.map((u,s)=>U.jsx("button",{onClick:()=>t(u),className:"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-700 rounded-lg text-slate-300 text-xs transition-colors",children:u.length>25?u.substring(0,25)+"...":u},s))})]})]})}var Zh={exports:{}},Qh,Eb;function pS(){if(Eb)return Qh;Eb=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Qh=t,Qh}var Wh,xb;function mS(){if(xb)return Wh;xb=1;var t=pS();function e(){}function r(){}return r.resetWarningCache=e,Wh=function(){function n(s,c,d,f,v,g){if(g!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function l(){return n}var u={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:l,element:n,elementType:n,instanceOf:l,node:n,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:r,resetWarningCache:e};return u.PropTypes=u,u},Wh}var wb;function yS(){return wb||(wb=1,Zh.exports=mS()()),Zh.exports}var bS=yS();const ES=ex(bS);function Ip(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function xS(t){if(Array.isArray(t))return t}function wS(t){if(Array.isArray(t))return Ip(t)}function Xi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TS(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rx(n.key),n)}}function Zi(t,e,r){return e&&TS(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ea(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=tm(t))||e){r&&(t=r);var n=0,l=function(){};return{s:l,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(d){throw d},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,s=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var d=r.next();return s=d.done,d},e:function(d){c=!0,u=d},f:function(){try{s||r.return==null||r.return()}finally{if(c)throw u}}}}function tx(t,e,r){return(e=rx(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SS(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AS(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,l,u,s,c=[],d=!0,f=!1;try{if(u=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=u.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(v){f=!0,l=v}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw l}}return c}}function CS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NS(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xr(t,e){return xS(t)||AS(t,e)||tm(t,e)||CS()}function nd(t){return wS(t)||SS(t)||tm(t)||NS()}function RS(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function rx(t){var e=RS(t,"string");return typeof e=="symbol"?e:e+""}function Dr(t){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(t)}function tm(t,e){if(t){if(typeof t=="string")return Ip(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ip(t,e):void 0}}var Nr=typeof window>"u"?null:window,Tb=Nr?Nr.navigator:null;Nr&&Nr.document;var DS=Dr(""),ax=Dr({}),OS=Dr(function(){}),MS=typeof HTMLElement>"u"?"undefined":Dr(HTMLElement),Po=function(e){return e&&e.instanceString&&ar(e.instanceString)?e.instanceString():null},Xe=function(e){return e!=null&&Dr(e)==DS},ar=function(e){return e!=null&&Dr(e)===OS},qt=function(e){return!Da(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},wt=function(e){return e!=null&&Dr(e)===ax&&!qt(e)&&e.constructor===Object},BS=function(e){return e!=null&&Dr(e)===ax},Me=function(e){return e!=null&&Dr(e)===Dr(1)&&!isNaN(e)},IS=function(e){return Me(e)&&Math.floor(e)===e},id=function(e){if(MS!=="undefined")return e!=null&&e instanceof HTMLElement},Da=function(e){return jo(e)||nx(e)},jo=function(e){return Po(e)==="collection"&&e._private.single},nx=function(e){return Po(e)==="collection"&&!e._private.single},rm=function(e){return Po(e)==="core"},ix=function(e){return Po(e)==="stylesheet"},LS=function(e){return Po(e)==="event"},Gi=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},kS=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},zS=function(e){return wt(e)&&Me(e.x1)&&Me(e.x2)&&Me(e.y1)&&Me(e.y2)},_S=function(e){return BS(e)&&ar(e.then)},US=function(){return Tb&&Tb.userAgent.match(/msie|trident|edge/i)},Xu=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var u=[],s=0;s<arguments.length;s++)u.push(arguments[s]);return u.join("$")});var n=function(){var u=this,s=arguments,c,d=r.apply(u,s),f=n.cache;return(c=f[d])||(c=f[d]=e.apply(u,s)),c};return n.cache={},n},am=Xu(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),yd=Xu(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),lx=Xu(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Sb=function(e){return Gi(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},_i=function(e,r){return e.slice(-1*r.length)===r},Rr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",PS="rgb[a]?\\(("+Rr+"[%]?)\\s*,\\s*("+Rr+"[%]?)\\s*,\\s*("+Rr+"[%]?)(?:\\s*,\\s*("+Rr+"))?\\)",jS="rgb[a]?\\((?:"+Rr+"[%]?)\\s*,\\s*(?:"+Rr+"[%]?)\\s*,\\s*(?:"+Rr+"[%]?)(?:\\s*,\\s*(?:"+Rr+"))?\\)",qS="hsl[a]?\\(("+Rr+")\\s*,\\s*("+Rr+"[%])\\s*,\\s*("+Rr+"[%])(?:\\s*,\\s*("+Rr+"))?\\)",GS="hsl[a]?\\((?:"+Rr+")\\s*,\\s*(?:"+Rr+"[%])\\s*,\\s*(?:"+Rr+"[%])(?:\\s*,\\s*(?:"+Rr+"))?\\)",HS="\\#[0-9a-fA-F]{3}",VS="\\#[0-9a-fA-F]{6}",ux=function(e,r){return e<r?-1:e>r?1:0},FS=function(e,r){return-1*ux(e,r)},$e=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var l=Object.keys(n),u=0;u<l.length;u++){var s=l[u];t[s]=n[s]}}return t},YS=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,l,u,s=16;return r?(n=parseInt(e[1]+e[1],s),l=parseInt(e[2]+e[2],s),u=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),l=parseInt(e[3]+e[4],s),u=parseInt(e[5]+e[6],s)),[n,l,u]}},KS=function(e){var r,n,l,u,s,c,d,f;function v(b,C,S){return S<0&&(S+=1),S>1&&(S-=1),S<1/6?b+(C-b)*6*S:S<1/2?C:S<2/3?b+(C-b)*(2/3-S)*6:b}var g=new RegExp("^"+qS+"$").exec(e);if(g){if(n=parseInt(g[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,l=parseFloat(g[2]),l<0||l>100||(l=l/100,u=parseFloat(g[3]),u<0||u>100)||(u=u/100,s=g[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(l===0)c=d=f=Math.round(u*255);else{var p=u<.5?u*(1+l):u+l-u*l,E=2*u-p;c=Math.round(255*v(E,p,n+1/3)),d=Math.round(255*v(E,p,n)),f=Math.round(255*v(E,p,n-1/3))}r=[c,d,f,s]}return r},XS=function(e){var r,n=new RegExp("^"+PS+"$").exec(e);if(n){r=[];for(var l=[],u=1;u<=3;u++){var s=n[u];if(s[s.length-1]==="%"&&(l[u]=!0),s=parseFloat(s),l[u]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var c=l[1]||l[2]||l[3],d=l[1]&&l[2]&&l[3];if(c&&!d)return;var f=n[4];if(f!==void 0){if(f=parseFloat(f),f<0||f>1)return;r.push(f)}}return r},ZS=function(e){return QS[e.toLowerCase()]},sx=function(e){return(qt(e)?e:null)||ZS(e)||YS(e)||XS(e)||KS(e)},QS={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ox=function(e){for(var r=e.map,n=e.keys,l=n.length,u=0;u<l;u++){var s=n[u];if(wt(s))throw Error("Tried to set map with object key");u<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},cx=function(e){for(var r=e.map,n=e.keys,l=n.length,u=0;u<l;u++){var s=n[u];if(wt(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r},Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $h,Ab;function Go(){if(Ab)return $h;Ab=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return $h=t,$h}var Jh,Cb;function WS(){if(Cb)return Jh;Cb=1;var t=typeof Df=="object"&&Df&&Df.Object===Object&&Df;return Jh=t,Jh}var eg,Nb;function bd(){if(Nb)return eg;Nb=1;var t=WS(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return eg=r,eg}var tg,Rb;function $S(){if(Rb)return tg;Rb=1;var t=bd(),e=function(){return t.Date.now()};return tg=e,tg}var rg,Db;function JS(){if(Db)return rg;Db=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return rg=e,rg}var ag,Ob;function e2(){if(Ob)return ag;Ob=1;var t=JS(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return ag=r,ag}var ng,Mb;function nm(){if(Mb)return ng;Mb=1;var t=bd(),e=t.Symbol;return ng=e,ng}var ig,Bb;function t2(){if(Bb)return ig;Bb=1;var t=nm(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,l=t?t.toStringTag:void 0;function u(s){var c=r.call(s,l),d=s[l];try{s[l]=void 0;var f=!0}catch{}var v=n.call(s);return f&&(c?s[l]=d:delete s[l]),v}return ig=u,ig}var lg,Ib;function r2(){if(Ib)return lg;Ib=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return lg=r,lg}var ug,Lb;function fx(){if(Lb)return ug;Lb=1;var t=nm(),e=t2(),r=r2(),n="[object Null]",l="[object Undefined]",u=t?t.toStringTag:void 0;function s(c){return c==null?c===void 0?l:n:u&&u in Object(c)?e(c):r(c)}return ug=s,ug}var sg,kb;function a2(){if(kb)return sg;kb=1;function t(e){return e!=null&&typeof e=="object"}return sg=t,sg}var og,zb;function Ho(){if(zb)return og;zb=1;var t=fx(),e=a2(),r="[object Symbol]";function n(l){return typeof l=="symbol"||e(l)&&t(l)==r}return og=n,og}var cg,_b;function n2(){if(_b)return cg;_b=1;var t=e2(),e=Go(),r=Ho(),n=NaN,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var v=typeof f.valueOf=="function"?f.valueOf():f;f=e(v)?v+"":v}if(typeof f!="string")return f===0?f:+f;f=t(f);var g=u.test(f);return g||s.test(f)?c(f.slice(2),g?2:8):l.test(f)?n:+f}return cg=d,cg}var fg,Ub;function i2(){if(Ub)return fg;Ub=1;var t=Go(),e=$S(),r=n2(),n="Expected a function",l=Math.max,u=Math.min;function s(c,d,f){var v,g,p,E,b,C,S=0,T=!1,N=!1,R=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(T=!!f.leading,N="maxWait"in f,p=N?l(r(f.maxWait)||0,d):p,R="trailing"in f?!!f.trailing:R);function D(H){var X=v,Z=g;return v=g=void 0,S=H,E=c.apply(Z,X),E}function O(H){return S=H,b=setTimeout(k,d),T?D(H):E}function I(H){var X=H-C,Z=H-S,G=d-X;return N?u(G,p-Z):G}function M(H){var X=H-C,Z=H-S;return C===void 0||X>=d||X<0||N&&Z>=p}function k(){var H=e();if(M(H))return j(H);b=setTimeout(k,I(H))}function j(H){return b=void 0,R&&v?D(H):(v=g=void 0,E)}function _(){b!==void 0&&clearTimeout(b),S=0,v=C=g=b=void 0}function P(){return b===void 0?E:j(e())}function L(){var H=e(),X=M(H);if(v=arguments,g=this,C=H,X){if(b===void 0)return O(C);if(N)return clearTimeout(b),b=setTimeout(k,d),D(C)}return b===void 0&&(b=setTimeout(k,d)),E}return L.cancel=_,L.flush=P,L}return fg=s,fg}var l2=i2(),Vo=qo(l2),dg=Nr?Nr.performance:null,dx=dg&&dg.now?function(){return dg.now()}:function(){return Date.now()},u2=(function(){if(Nr){if(Nr.requestAnimationFrame)return function(t){Nr.requestAnimationFrame(t)};if(Nr.mozRequestAnimationFrame)return function(t){Nr.mozRequestAnimationFrame(t)};if(Nr.webkitRequestAnimationFrame)return function(t){Nr.webkitRequestAnimationFrame(t)};if(Nr.msRequestAnimationFrame)return function(t){Nr.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(dx())},1e3/60)}})(),ld=function(e){return u2(e)},ei=dx,Rl=9261,vx=65599,ju=5381,hx=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rl,n=r,l;l=e.next(),!l.done;)n=n*vx+l.value|0;return n},Do=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Rl;return r*vx+e|0},Oo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ju;return(r<<5)+r+e|0},s2=function(e,r){return e*2097152+r},Li=function(e){return e[0]*2097152+e[1]},Of=function(e,r){return[Do(e[0],r[0]),Oo(e[1],r[1])]},Pb=function(e,r){var n={value:0,done:!1},l=0,u=e.length,s={next:function(){return l<u?n.value=e[l++]:n.done=!0,n}};return hx(s,r)},Ml=function(e,r){var n={value:0,done:!1},l=0,u=e.length,s={next:function(){return l<u?n.value=e.charCodeAt(l++):n.done=!0,n}};return hx(s,r)},gx=function(){return o2(arguments)},o2=function(e){for(var r,n=0;n<e.length;n++){var l=e[n];n===0?r=Ml(l):r=Ml(l,r)}return r};function c2(t,e,r,n,l){var u=l*Math.PI/180,s=Math.cos(u)*(t-r)-Math.sin(u)*(e-n)+r,c=Math.sin(u)*(t-r)+Math.cos(u)*(e-n)+n;return{x:s,y:c}}var f2=function(e,r,n,l,u,s){return{x:(e-n)*u+n,y:(r-l)*s+l}};function d2(t,e,r){if(r===0)return t;var n=(e.x1+e.x2)/2,l=(e.y1+e.y2)/2,u=e.w/e.h,s=1/u,c=c2(t.x,t.y,n,l,r),d=f2(c.x,c.y,n,l,u,s);return{x:d.x,y:d.y}}var jb=!0,v2=console.warn!=null,h2=console.trace!=null,im=Number.MAX_SAFE_INTEGER||9007199254740991,px=function(){return!0},ud=function(){return!1},qb=function(){return 0},lm=function(){},er=function(e){throw new Error(e)},mx=function(e){if(e!==void 0)jb=!!e;else return jb},Mt=function(e){mx()&&(v2?console.warn(e):(console.log(e),h2&&console.trace()))},g2=function(e){return $e({},e)},gn=function(e){return e==null?e:qt(e)?e.slice():wt(e)?g2(e):e},p2=function(e){return e.slice()},yx=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},m2={},bx=function(){return m2},Hr=function(e){var r=Object.keys(e);return function(n){for(var l={},u=0;u<r.length;u++){var s=r[u],c=n?.[s];l[s]=c===void 0?e[s]:c}return l}},Hi=function(e,r,n){for(var l=e.length-1;l>=0;l--)e[l]===r&&e.splice(l,1)},um=function(e){e.splice(0,e.length)},y2=function(e,r){for(var n=0;n<r.length;n++){var l=r[n];e.push(l)}},ya=function(e,r,n){return n&&(r=lx(n,r)),e[r]},$n=function(e,r,n,l){n&&(r=lx(n,r)),e[r]=l},b2=(function(){function t(){Xi(this,t),this._obj={}}return Zi(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])})(),Jn=typeof Map<"u"?Map:b2,E2="undefined",x2=(function(){function t(e){if(Xi(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return Zi(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])})(),Wu=(typeof Set>"u"?"undefined":Dr(Set))!==E2?Set:x2,Ed=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!rm(e)){er("An element must have a core reference and parameters set");return}var l=r.group;if(l==null&&(r.data&&r.data.source!=null&&r.data.target!=null?l="edges":l="nodes"),l!=="nodes"&&l!=="edges"){er("An element must be of type `nodes` or `edges`; you specified `"+l+"`");return}this.length=1,this[0]=this;var u=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:l,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?l==="edges":!!r.pannable,active:!1,classes:new Wu,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(u.position.x==null&&(u.position.x=0),u.position.y==null&&(u.position.y=0),r.renderedPosition){var s=r.renderedPosition,c=e.pan(),d=e.zoom();u.position={x:(s.x-c.x)/d,y:(s.y-c.y)/d}}var f=[];qt(r.classes)?f=r.classes:Xe(r.classes)&&(f=r.classes.split(/\s+/));for(var v=0,g=f.length;v<g;v++){var p=f[v];!p||p===""||u.classes.add(p)}this.createEmitter(),(n===void 0||n)&&this.restore();var E=r.style||r.css;E&&(Mt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(E))},Gb=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,l,u){var s;wt(n)&&!Da(n)&&(s=n,n=s.roots||s.root,l=s.visit,u=s.directed),u=arguments.length===2&&!ar(l)?l:u,l=ar(l)?l:function(){};for(var c=this._private.cy,d=n=Xe(n)?this.filter(n):n,f=[],v=[],g={},p={},E={},b=0,C,S=this.byGroup(),T=S.nodes,N=S.edges,R=0;R<d.length;R++){var D=d[R],O=D.id();D.isNode()&&(f.unshift(D),e.bfs&&(E[O]=!0,v.push(D)),p[O]=0)}for(var I=function(){var H=e.bfs?f.shift():f.pop(),X=H.id();if(e.dfs){if(E[X])return 0;E[X]=!0,v.push(H)}var Z=p[X],G=g[X],F=G!=null?G.source():null,W=G!=null?G.target():null,ee=G==null?void 0:H.same(F)?W[0]:F[0],te;if(te=l(H,G,ee,b++,Z),te===!0)return C=H,1;if(te===!1)return 1;for(var q=H.connectedEdges().filter(function(he){return(!u||he.source().same(H))&&N.has(he)}),Q=0;Q<q.length;Q++){var J=q[Q],ie=J.connectedNodes().filter(function(he){return!he.same(H)&&T.has(he)}),oe=ie.id();ie.length!==0&&!E[oe]&&(ie=ie[0],f.push(ie),e.bfs&&(E[oe]=!0,v.push(ie)),g[oe]=J,p[oe]=p[X]+1)}},M;f.length!==0&&(M=I(),!(M!==0&&M===1)););for(var k=c.collection(),j=0;j<v.length;j++){var _=v[j],P=g[_.id()];P!=null&&k.push(P),k.push(_)}return{path:c.collection(k),found:c.collection(C)}}},Mo={breadthFirstSearch:Gb({bfs:!0}),depthFirstSearch:Gb({dfs:!0})};Mo.bfs=Mo.breadthFirstSearch;Mo.dfs=Mo.depthFirstSearch;var Yf={exports:{}},w2=Yf.exports,Hb;function T2(){return Hb||(Hb=1,(function(t,e){(function(){var r,n,l,u,s,c,d,f,v,g,p,E,b,C,S;l=Math.floor,g=Math.min,n=function(T,N){return T<N?-1:T>N?1:0},v=function(T,N,R,D,O){var I;if(R==null&&(R=0),O==null&&(O=n),R<0)throw new Error("lo must be non-negative");for(D==null&&(D=T.length);R<D;)I=l((R+D)/2),O(N,T[I])<0?D=I:R=I+1;return[].splice.apply(T,[R,R-R].concat(N)),N},c=function(T,N,R){return R==null&&(R=n),T.push(N),C(T,0,T.length-1,R)},s=function(T,N){var R,D;return N==null&&(N=n),R=T.pop(),T.length?(D=T[0],T[0]=R,S(T,0,N)):D=R,D},f=function(T,N,R){var D;return R==null&&(R=n),D=T[0],T[0]=N,S(T,0,R),D},d=function(T,N,R){var D;return R==null&&(R=n),T.length&&R(T[0],N)<0&&(D=[T[0],N],N=D[0],T[0]=D[1],S(T,0,R)),N},u=function(T,N){var R,D,O,I,M,k;for(N==null&&(N=n),I=(function(){k=[];for(var j=0,_=l(T.length/2);0<=_?j<_:j>_;0<=_?j++:j--)k.push(j);return k}).apply(this).reverse(),M=[],D=0,O=I.length;D<O;D++)R=I[D],M.push(S(T,R,N));return M},b=function(T,N,R){var D;if(R==null&&(R=n),D=T.indexOf(N),D!==-1)return C(T,0,D,R),S(T,D,R)},p=function(T,N,R){var D,O,I,M,k;if(R==null&&(R=n),O=T.slice(0,N),!O.length)return O;for(u(O,R),k=T.slice(N),I=0,M=k.length;I<M;I++)D=k[I],d(O,D,R);return O.sort(R).reverse()},E=function(T,N,R){var D,O,I,M,k,j,_,P,L;if(R==null&&(R=n),N*10<=T.length){if(I=T.slice(0,N).sort(R),!I.length)return I;for(O=I[I.length-1],_=T.slice(N),M=0,j=_.length;M<j;M++)D=_[M],R(D,O)<0&&(v(I,D,0,null,R),I.pop(),O=I[I.length-1]);return I}for(u(T,R),L=[],k=0,P=g(N,T.length);0<=P?k<P:k>P;0<=P?++k:--k)L.push(s(T,R));return L},C=function(T,N,R,D){var O,I,M;for(D==null&&(D=n),O=T[R];R>N;){if(M=R-1>>1,I=T[M],D(O,I)<0){T[R]=I,R=M;continue}break}return T[R]=O},S=function(T,N,R){var D,O,I,M,k;for(R==null&&(R=n),O=T.length,k=N,I=T[N],D=2*N+1;D<O;)M=D+1,M<O&&!(R(T[D],T[M])<0)&&(D=M),T[N]=T[D],N=D,D=2*N+1;return T[N]=I,C(T,k,N,R)},r=(function(){T.push=c,T.pop=s,T.replace=f,T.pushpop=d,T.heapify=u,T.updateItem=b,T.nlargest=p,T.nsmallest=E;function T(N){this.cmp=N??n,this.nodes=[]}return T.prototype.push=function(N){return c(this.nodes,N,this.cmp)},T.prototype.pop=function(){return s(this.nodes,this.cmp)},T.prototype.peek=function(){return this.nodes[0]},T.prototype.contains=function(N){return this.nodes.indexOf(N)!==-1},T.prototype.replace=function(N){return f(this.nodes,N,this.cmp)},T.prototype.pushpop=function(N){return d(this.nodes,N,this.cmp)},T.prototype.heapify=function(){return u(this.nodes,this.cmp)},T.prototype.updateItem=function(N){return b(this.nodes,N,this.cmp)},T.prototype.clear=function(){return this.nodes=[]},T.prototype.empty=function(){return this.nodes.length===0},T.prototype.size=function(){return this.nodes.length},T.prototype.clone=function(){var N;return N=new T,N.nodes=this.nodes.slice(0),N},T.prototype.toArray=function(){return this.nodes.slice(0)},T.prototype.insert=T.prototype.push,T.prototype.top=T.prototype.peek,T.prototype.front=T.prototype.peek,T.prototype.has=T.prototype.contains,T.prototype.copy=T.prototype.clone,T})(),(function(T,N){return t.exports=N()})(this,function(){return r})}).call(w2)})(Yf)),Yf.exports}var vg,Vb;function S2(){return Vb||(Vb=1,vg=T2()),vg}var A2=S2(),Fo=qo(A2),C2=Hr({root:null,weight:function(e){return 1},directed:!1}),N2={dijkstra:function(e){if(!wt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=C2(e),l=n.root,u=n.weight,s=n.directed,c=this,d=u,f=Xe(l)?this.filter(l)[0]:l[0],v={},g={},p={},E=this.byGroup(),b=E.nodes,C=E.edges;C.unmergeBy(function(Z){return Z.isLoop()});for(var S=function(G){return v[G.id()]},T=function(G,F){v[G.id()]=F,N.updateItem(G)},N=new Fo(function(Z,G){return S(Z)-S(G)}),R=0;R<b.length;R++){var D=b[R];v[D.id()]=D.same(f)?0:1/0,N.push(D)}for(var O=function(G,F){for(var W=(s?G.edgesTo(F):G.edgesWith(F)).intersect(C),ee=1/0,te,q=0;q<W.length;q++){var Q=W[q],J=d(Q);(J<ee||!te)&&(ee=J,te=Q)}return{edge:te,dist:ee}};N.size()>0;){var I=N.pop(),M=S(I),k=I.id();if(p[k]=M,M!==1/0)for(var j=I.neighborhood().intersect(b),_=0;_<j.length;_++){var P=j[_],L=P.id(),H=O(I,P),X=M+H.dist;X<S(P)&&(T(P,X),g[L]={node:I,edge:H.edge})}}return{distanceTo:function(G){var F=Xe(G)?b.filter(G)[0]:G[0];return p[F.id()]},pathTo:function(G){var F=Xe(G)?b.filter(G)[0]:G[0],W=[],ee=F,te=ee.id();if(F.length>0)for(W.unshift(F);g[te];){var q=g[te];W.unshift(q.edge),W.unshift(q.node),ee=q.node,te=ee.id()}return c.spawn(W)}}}},R2={kruskal:function(e){e=e||function(R){return 1};for(var r=this.byGroup(),n=r.nodes,l=r.edges,u=n.length,s=new Array(u),c=n,d=function(D){for(var O=0;O<s.length;O++){var I=s[O];if(I.has(D))return O}},f=0;f<u;f++)s[f]=this.spawn(n[f]);for(var v=l.sort(function(R,D){return e(R)-e(D)}),g=0;g<v.length;g++){var p=v[g],E=p.source()[0],b=p.target()[0],C=d(E),S=d(b),T=s[C],N=s[S];C!==S&&(c.merge(p),T.merge(N),s.splice(S,1))}return c}},D2=Hr({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),O2={aStar:function(e){var r=this.cy(),n=D2(e),l=n.root,u=n.goal,s=n.heuristic,c=n.directed,d=n.weight;l=r.collection(l)[0],u=r.collection(u)[0];var f=l.id(),v=u.id(),g={},p={},E={},b=new Fo(function(te,q){return p[te.id()]-p[q.id()]}),C=new Wu,S={},T={},N=function(q,Q){b.push(q),C.add(Q)},R,D,O=function(){R=b.pop(),D=R.id(),C.delete(D)},I=function(q){return C.has(q)};N(l,f),g[f]=0,p[f]=s(l);for(var M=0;b.size()>0;){if(O(),M++,D===v){for(var k=[],j=u,_=v,P=T[_];k.unshift(j),P!=null&&k.unshift(P),j=S[_],j!=null;)_=j.id(),P=T[_];return{found:!0,distance:g[D],path:this.spawn(k),steps:M}}E[D]=!0;for(var L=R._private.edges,H=0;H<L.length;H++){var X=L[H];if(this.hasElementWithId(X.id())&&!(c&&X.data("source")!==D)){var Z=X.source(),G=X.target(),F=Z.id()!==D?Z:G,W=F.id();if(this.hasElementWithId(W)&&!E[W]){var ee=g[D]+d(X);if(!I(W)){g[W]=ee,p[W]=ee+s(F),N(F,W),S[W]=R,T[W]=X;continue}ee<g[W]&&(g[W]=ee,p[W]=ee+s(F),S[W]=R,T[W]=X)}}}}return{found:!1,distance:void 0,path:void 0,steps:M}}},M2=Hr({weight:function(e){return 1},directed:!1}),B2={floydWarshall:function(e){for(var r=this.cy(),n=M2(e),l=n.weight,u=n.directed,s=l,c=this.byGroup(),d=c.nodes,f=c.edges,v=d.length,g=v*v,p=function(J){return d.indexOf(J)},E=function(J){return d[J]},b=new Array(g),C=0;C<g;C++){var S=C%v,T=(C-S)/v;T===S?b[C]=0:b[C]=1/0}for(var N=new Array(g),R=new Array(g),D=0;D<f.length;D++){var O=f[D],I=O.source()[0],M=O.target()[0];if(I!==M){var k=p(I),j=p(M),_=k*v+j,P=s(O);if(b[_]>P&&(b[_]=P,N[_]=j,R[_]=O),!u){var L=j*v+k;!u&&b[L]>P&&(b[L]=P,N[L]=k,R[L]=O)}}}for(var H=0;H<v;H++)for(var X=0;X<v;X++)for(var Z=X*v+H,G=0;G<v;G++){var F=X*v+G,W=H*v+G;b[Z]+b[W]<b[F]&&(b[F]=b[Z]+b[W],N[F]=N[Z])}var ee=function(J){return(Xe(J)?r.filter(J):J)[0]},te=function(J){return p(ee(J))},q={distance:function(J,ie){var oe=te(J),he=te(ie);return b[oe*v+he]},path:function(J,ie){var oe=te(J),he=te(ie),be=E(oe);if(oe===he)return be.collection();if(N[oe*v+he]==null)return r.collection();var Re=r.collection(),ye=oe,ne;for(Re.merge(be);oe!==he;)ye=oe,oe=N[oe*v+he],ne=R[ye*v+oe],Re.merge(ne),Re.merge(E(oe));return Re}};return q}},I2=Hr({weight:function(e){return 1},directed:!1,root:null}),L2={bellmanFord:function(e){var r=this,n=I2(e),l=n.weight,u=n.directed,s=n.root,c=l,d=this,f=this.cy(),v=this.byGroup(),g=v.edges,p=v.nodes,E=p.length,b=new Jn,C=!1,S=[];s=f.collection(s)[0],g.unmergeBy(function(Qe){return Qe.isLoop()});for(var T=g.length,N=function(je){var Ke=b.get(je.id());return Ke||(Ke={},b.set(je.id(),Ke)),Ke},R=function(je){return(Xe(je)?f.$(je):je)[0]},D=function(je){return N(R(je)).dist},O=function(je){for(var Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Oe=R(je),Ge=[],Fe=Oe;;){if(Fe==null)return r.spawn();var tt=N(Fe),Ie=tt.edge,at=tt.pred;if(Ge.unshift(Fe[0]),Fe.same(Ke)&&Ge.length>0)break;Ie!=null&&Ge.unshift(Ie),Fe=at}return d.spawn(Ge)},I=0;I<E;I++){var M=p[I],k=N(M);M.same(s)?k.dist=0:k.dist=1/0,k.pred=null,k.edge=null}for(var j=!1,_=function(je,Ke,Oe,Ge,Fe,tt){var Ie=Ge.dist+tt;Ie<Fe.dist&&!Oe.same(Ge.edge)&&(Fe.dist=Ie,Fe.pred=je,Fe.edge=Oe,j=!0)},P=1;P<E;P++){j=!1;for(var L=0;L<T;L++){var H=g[L],X=H.source(),Z=H.target(),G=c(H),F=N(X),W=N(Z);_(X,Z,H,F,W,G),u||_(Z,X,H,W,F,G)}if(!j)break}if(j)for(var ee=[],te=0;te<T;te++){var q=g[te],Q=q.source(),J=q.target(),ie=c(q),oe=N(Q).dist,he=N(J).dist;if(oe+ie<he||!u&&he+ie<oe)if(C||(Mt("Graph contains a negative weight cycle for Bellman-Ford"),C=!0),e.findNegativeWeightCycles!==!1){var be=[];oe+ie<he&&be.push(Q),!u&&he+ie<oe&&be.push(J);for(var Re=be.length,ye=0;ye<Re;ye++){var ne=be[ye],ue=[ne];ue.push(N(ne).edge);for(var fe=N(ne).pred;ue.indexOf(fe)===-1;)ue.push(fe),ue.push(N(fe).edge),fe=N(fe).pred;ue=ue.slice(ue.indexOf(fe));for(var Ee=ue[0].id(),De=0,Le=2;Le<ue.length;Le+=2)ue[Le].id()<Ee&&(Ee=ue[Le].id(),De=Le);ue=ue.slice(De).concat(ue.slice(0,De)),ue.push(ue[0]);var lt=ue.map(function(Qe){return Qe.id()}).join(",");ee.indexOf(lt)===-1&&(S.push(d.spawn(ue)),ee.push(lt))}}else break}return{distanceTo:D,pathTo:O,hasNegativeWeightCycle:C,negativeWeightCycles:S}}},k2=Math.sqrt(2),z2=function(e,r,n){n.length===0&&er("Karger-Stein must be run on a connected (sub)graph");for(var l=n[e],u=l[1],s=l[2],c=r[u],d=r[s],f=n,v=f.length-1;v>=0;v--){var g=f[v],p=g[1],E=g[2];(r[p]===c&&r[E]===d||r[p]===d&&r[E]===c)&&f.splice(v,1)}for(var b=0;b<f.length;b++){var C=f[b];C[1]===d?(f[b]=C.slice(),f[b][1]=c):C[2]===d&&(f[b]=C.slice(),f[b][2]=c)}for(var S=0;S<r.length;S++)r[S]===d&&(r[S]=c);return f},hg=function(e,r,n,l){for(;n>l;){var u=Math.floor(Math.random()*r.length);r=z2(u,e,r),n--}return r},_2={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,l=r.edges;l.unmergeBy(function(W){return W.isLoop()});var u=n.length,s=l.length,c=Math.ceil(Math.pow(Math.log(u)/Math.LN2,2)),d=Math.floor(u/k2);if(u<2){er("At least 2 nodes are required for Karger-Stein algorithm");return}for(var f=[],v=0;v<s;v++){var g=l[v];f.push([v,n.indexOf(g.source()),n.indexOf(g.target())])}for(var p=1/0,E=[],b=new Array(u),C=new Array(u),S=new Array(u),T=function(ee,te){for(var q=0;q<u;q++)te[q]=ee[q]},N=0;N<=c;N++){for(var R=0;R<u;R++)C[R]=R;var D=hg(C,f.slice(),u,d),O=D.slice();T(C,S);var I=hg(C,D,d,2),M=hg(S,O,d,2);I.length<=M.length&&I.length<p?(p=I.length,E=I,T(C,b)):M.length<=I.length&&M.length<p&&(p=M.length,E=M,T(S,b))}for(var k=this.spawn(E.map(function(W){return l[W[0]]})),j=this.spawn(),_=this.spawn(),P=b[0],L=0;L<b.length;L++){var H=b[L],X=n[L];H===P?j.merge(X):_.merge(X)}var Z=function(ee){var te=e.spawn();return ee.forEach(function(q){te.merge(q),q.connectedEdges().forEach(function(Q){e.contains(Q)&&!k.contains(Q)&&te.merge(Q)})}),te},G=[Z(j),Z(_)],F={cut:k,components:G,partition1:j,partition2:_};return F}},gg,U2=function(e){return{x:e.x,y:e.y}},xd=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},Ex=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},qu=function(e){return{x:e[0],y:e[1]}},P2=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,l=1/0,u=r;u<n;u++){var s=e[u];isFinite(s)&&(l=Math.min(s,l))}return l},j2=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,l=-1/0,u=r;u<n;u++){var s=e[u];isFinite(s)&&(l=Math.max(s,l))}return l},q2=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,l=0,u=0,s=r;s<n;s++){var c=e[s];isFinite(c)&&(l+=c,u++)}return l/u},G2=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;l?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var c=0,d=e.length-1;d>=0;d--){var f=e[d];s?isFinite(f)||(e[d]=-1/0,c++):e.splice(d,1)}u&&e.sort(function(p,E){return p-E});var v=e.length,g=Math.floor(v/2);return v%2!==0?e[g+1+c]:(e[g-1+c]+e[g+c])/2},H2=function(e){return Math.PI*e/180},Mf=function(e,r){return Math.atan2(r,e)-Math.PI/2},sm=Math.log2||function(t){return Math.log(t)/Math.log(2)},om=function(e){return e>0?1:e<0?-1:0},Bl=function(e,r){return Math.sqrt(Cl(e,r))},Cl=function(e,r){var n=r.x-e.x,l=r.y-e.y;return n*n+l*l},V2=function(e){for(var r=e.length,n=0,l=0;l<r;l++)n+=e[l];for(var u=0;u<r;u++)e[u]=e[u]/n;return e},Ir=function(e,r,n,l){return(1-l)*(1-l)*e+2*(1-l)*l*r+l*l*n},Vu=function(e,r,n,l){return{x:Ir(e.x,r.x,n.x,l),y:Ir(e.y,r.y,n.y,l)}},F2=function(e,r,n,l){var u={x:r.x-e.x,y:r.y-e.y},s=Bl(e,r),c={x:u.x/s,y:u.y/s};return n=n??0,l=l??n*s,{x:e.x+c.x*l,y:e.y+c.y*l}},Bo=function(e,r,n){return Math.max(e,Math.min(n,r))},aa=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},Y2=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},K2=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},X2=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},xx=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Kf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Xf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,l,u,s;if(r.length===1)n=l=u=s=r[0];else if(r.length===2)n=u=r[0],s=l=r[1];else if(r.length===4){var c=xr(r,4);n=c[0],l=c[1],u=c[2],s=c[3]}return e.x1-=s,e.x2+=l,e.y1-=n,e.y2+=u,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Fb=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},cm=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},Ui=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},Yb=function(e,r){return Ui(e,r.x,r.y)},wx=function(e,r){return Ui(e,r.x1,r.y1)&&Ui(e,r.x2,r.y2)},Z2=(gg=Math.hypot)!==null&&gg!==void 0?gg:function(t,e){return Math.sqrt(t*t+e*e)};function Q2(t,e){if(t.length<3)throw new Error("Need at least 3 vertices");var r=function(k,j){return{x:k.x+j.x,y:k.y+j.y}},n=function(k,j){return{x:k.x-j.x,y:k.y-j.y}},l=function(k,j){return{x:k.x*j,y:k.y*j}},u=function(k,j){return k.x*j.y-k.y*j.x},s=function(k){var j=Z2(k.x,k.y);return j===0?{x:0,y:0}:{x:k.x/j,y:k.y/j}},c=function(k){for(var j=0,_=0;_<k.length;_++){var P=k[_],L=k[(_+1)%k.length];j+=P.x*L.y-L.x*P.y}return j/2},d=function(k,j,_,P){var L=n(j,k),H=n(P,_),X=u(L,H);if(Math.abs(X)<1e-9)return r(k,l(L,.5));var Z=u(n(_,k),H)/X;return r(k,l(L,Z))},f=t.map(function(M){return{x:M.x,y:M.y}});c(f)<0&&f.reverse();for(var v=f.length,g=[],p=0;p<v;p++){var E=f[p],b=f[(p+1)%v],C=n(b,E),S=s({x:C.y,y:-C.x});g.push(S)}for(var T=g.map(function(M,k){var j=r(f[k],l(M,e)),_=r(f[(k+1)%v],l(M,e));return{p1:j,p2:_}}),N=[],R=0;R<v;R++){var D=T[(R-1+v)%v],O=T[R],I=d(D.p1,D.p2,O.p1,O.p2);N.push(I)}return N}function W2(t,e,r,n,l,u){var s=lA(t,e,r,n,l),c=Q2(s,u),d=aa();return c.forEach(function(f){return xx(d,f.x,f.y)}),d}var Tx=function(e,r,n,l,u,s,c){var d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",f=d==="auto"?Vi(u,s):d,v=u/2,g=s/2;f=Math.min(f,v,g);var p=f!==v,E=f!==g,b;if(p){var C=n-v+f-c,S=l-g-c,T=n+v-f+c,N=S;if(b=Pi(e,r,n,l,C,S,T,N,!1),b.length>0)return b}if(E){var R=n+v+c,D=l-g+f-c,O=R,I=l+g-f+c;if(b=Pi(e,r,n,l,R,D,O,I,!1),b.length>0)return b}if(p){var M=n-v+f-c,k=l+g+c,j=n+v-f+c,_=k;if(b=Pi(e,r,n,l,M,k,j,_,!1),b.length>0)return b}if(E){var P=n-v-c,L=l-g+f-c,H=P,X=l+g-f+c;if(b=Pi(e,r,n,l,P,L,H,X,!1),b.length>0)return b}var Z;{var G=n-v+f,F=l-g+f;if(Z=To(e,r,n,l,G,F,f+c),Z.length>0&&Z[0]<=G&&Z[1]<=F)return[Z[0],Z[1]]}{var W=n+v-f,ee=l-g+f;if(Z=To(e,r,n,l,W,ee,f+c),Z.length>0&&Z[0]>=W&&Z[1]<=ee)return[Z[0],Z[1]]}{var te=n+v-f,q=l+g-f;if(Z=To(e,r,n,l,te,q,f+c),Z.length>0&&Z[0]>=te&&Z[1]>=q)return[Z[0],Z[1]]}{var Q=n-v+f,J=l+g-f;if(Z=To(e,r,n,l,Q,J,f+c),Z.length>0&&Z[0]<=Q&&Z[1]>=J)return[Z[0],Z[1]]}return[]},$2=function(e,r,n,l,u,s,c){var d=c,f=Math.min(n,u),v=Math.max(n,u),g=Math.min(l,s),p=Math.max(l,s);return f-d<=e&&e<=v+d&&g-d<=r&&r<=p+d},J2=function(e,r,n,l,u,s,c,d,f){var v={x1:Math.min(n,c,u)-f,x2:Math.max(n,c,u)+f,y1:Math.min(l,d,s)-f,y2:Math.max(l,d,s)+f};return!(e<v.x1||e>v.x2||r<v.y1||r>v.y2)},eA=function(e,r,n,l){n-=l;var u=r*r-4*e*n;if(u<0)return[];var s=Math.sqrt(u),c=2*e,d=(-r+s)/c,f=(-r-s)/c;return[d,f]},tA=function(e,r,n,l,u){var s=1e-5;e===0&&(e=s),r/=e,n/=e,l/=e;var c,d,f,v,g,p,E,b;if(d=(3*n-r*r)/9,f=-(27*l)+r*(9*n-2*(r*r)),f/=54,c=d*d*d+f*f,u[1]=0,E=r/3,c>0){g=f+Math.sqrt(c),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),p=f-Math.sqrt(c),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),u[0]=-E+g+p,E+=(g+p)/2,u[4]=u[2]=-E,E=Math.sqrt(3)*(-p+g)/2,u[3]=E,u[5]=-E;return}if(u[5]=u[3]=0,c===0){b=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),u[0]=-E+2*b,u[4]=u[2]=-(b+E);return}d=-d,v=d*d*d,v=Math.acos(f/Math.sqrt(v)),b=2*Math.sqrt(d),u[0]=-E+b*Math.cos(v/3),u[2]=-E+b*Math.cos((v+2*Math.PI)/3),u[4]=-E+b*Math.cos((v+4*Math.PI)/3)},rA=function(e,r,n,l,u,s,c,d){var f=1*n*n-4*n*u+2*n*c+4*u*u-4*u*c+c*c+l*l-4*l*s+2*l*d+4*s*s-4*s*d+d*d,v=9*n*u-3*n*n-3*n*c-6*u*u+3*u*c+9*l*s-3*l*l-3*l*d-6*s*s+3*s*d,g=3*n*n-6*n*u+n*c-n*e+2*u*u+2*u*e-c*e+3*l*l-6*l*s+l*d-l*r+2*s*s+2*s*r-d*r,p=1*n*u-n*n+n*e-u*e+l*s-l*l+l*r-s*r,E=[];tA(f,v,g,p,E);for(var b=1e-7,C=[],S=0;S<6;S+=2)Math.abs(E[S+1])<b&&E[S]>=0&&E[S]<=1&&C.push(E[S]);C.push(1),C.push(0);for(var T=-1,N,R,D,O=0;O<C.length;O++)N=Math.pow(1-C[O],2)*n+2*(1-C[O])*C[O]*u+C[O]*C[O]*c,R=Math.pow(1-C[O],2)*l+2*(1-C[O])*C[O]*s+C[O]*C[O]*d,D=Math.pow(N-e,2)+Math.pow(R-r,2),T>=0?D<T&&(T=D):T=D;return T},aA=function(e,r,n,l,u,s){var c=[e-n,r-l],d=[u-n,s-l],f=d[0]*d[0]+d[1]*d[1],v=c[0]*c[0]+c[1]*c[1],g=c[0]*d[0]+c[1]*d[1],p=g*g/f;return g<0?v:p>f?(e-u)*(e-u)+(r-s)*(r-s):v-p},ba=function(e,r,n){for(var l,u,s,c,d,f=0,v=0;v<n.length/2;v++)if(l=n[v*2],u=n[v*2+1],v+1<n.length/2?(s=n[(v+1)*2],c=n[(v+1)*2+1]):(s=n[(v+1-n.length/2)*2],c=n[(v+1-n.length/2)*2+1]),!(l==e&&s==e))if(l>=e&&e>=s||l<=e&&e<=s)d=(e-l)/(s-l)*(c-u)+u,d>r&&f++;else continue;return f%2!==0},ti=function(e,r,n,l,u,s,c,d,f){var v=new Array(n.length),g;d[0]!=null?(g=Math.atan(d[1]/d[0]),d[0]<0?g=g+Math.PI/2:g=-g-Math.PI/2):g=d;for(var p=Math.cos(-g),E=Math.sin(-g),b=0;b<v.length/2;b++)v[b*2]=s/2*(n[b*2]*p-n[b*2+1]*E),v[b*2+1]=c/2*(n[b*2+1]*p+n[b*2]*E),v[b*2]+=l,v[b*2+1]+=u;var C;if(f>0){var S=od(v,-f);C=sd(S)}else C=v;return ba(e,r,C)},nA=function(e,r,n,l,u,s,c,d){for(var f=new Array(n.length*2),v=0;v<d.length;v++){var g=d[v];f[v*4+0]=g.startX,f[v*4+1]=g.startY,f[v*4+2]=g.stopX,f[v*4+3]=g.stopY;var p=Math.pow(g.cx-e,2)+Math.pow(g.cy-r,2);if(p<=Math.pow(g.radius,2))return!0}return ba(e,r,f)},sd=function(e){for(var r=new Array(e.length/2),n,l,u,s,c,d,f,v,g=0;g<e.length/4;g++){n=e[g*4],l=e[g*4+1],u=e[g*4+2],s=e[g*4+3],g<e.length/4-1?(c=e[(g+1)*4],d=e[(g+1)*4+1],f=e[(g+1)*4+2],v=e[(g+1)*4+3]):(c=e[0],d=e[1],f=e[2],v=e[3]);var p=Pi(n,l,u,s,c,d,f,v,!0);r[g*2]=p[0],r[g*2+1]=p[1]}return r},od=function(e,r){for(var n=new Array(e.length*2),l,u,s,c,d=0;d<e.length/2;d++){l=e[d*2],u=e[d*2+1],d<e.length/2-1?(s=e[(d+1)*2],c=e[(d+1)*2+1]):(s=e[0],c=e[1]);var f=c-u,v=-(s-l),g=Math.sqrt(f*f+v*v),p=f/g,E=v/g;n[d*4]=l+p*r,n[d*4+1]=u+E*r,n[d*4+2]=s+p*r,n[d*4+3]=c+E*r}return n},iA=function(e,r,n,l,u,s){var c=n-e,d=l-r;c/=u,d/=s;var f=Math.sqrt(c*c+d*d),v=f-1;if(v<0)return[];var g=v/f;return[(n-e)*g+e,(l-r)*g+r]},Ol=function(e,r,n,l,u,s,c){return e-=u,r-=s,e/=n/2+c,r/=l/2+c,e*e+r*r<=1},To=function(e,r,n,l,u,s,c){var d=[n-e,l-r],f=[e-u,r-s],v=d[0]*d[0]+d[1]*d[1],g=2*(f[0]*d[0]+f[1]*d[1]),p=f[0]*f[0]+f[1]*f[1]-c*c,E=g*g-4*v*p;if(E<0)return[];var b=(-g+Math.sqrt(E))/(2*v),C=(-g-Math.sqrt(E))/(2*v),S=Math.min(b,C),T=Math.max(b,C),N=[];if(S>=0&&S<=1&&N.push(S),T>=0&&T<=1&&N.push(T),N.length===0)return[];var R=N[0]*d[0]+e,D=N[0]*d[1]+r;if(N.length>1){if(N[0]==N[1])return[R,D];var O=N[1]*d[0]+e,I=N[1]*d[1]+r;return[R,D,O,I]}else return[R,D]},pg=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Pi=function(e,r,n,l,u,s,c,d,f){var v=e-u,g=n-e,p=c-u,E=r-s,b=l-r,C=d-s,S=p*E-C*v,T=g*E-b*v,N=C*g-p*b;if(N!==0){var R=S/N,D=T/N,O=.001,I=0-O,M=1+O;return I<=R&&R<=M&&I<=D&&D<=M?[e+R*g,r+R*b]:f?[e+R*g,r+R*b]:[]}else return S===0||T===0?pg(e,n,c)===c?[c,d]:pg(e,n,u)===u?[u,s]:pg(u,c,n)===n?[n,l]:[]:[]},lA=function(e,r,n,l,u){var s=[],c=l/2,d=u/2,f=r,v=n;s.push({x:f+c*e[0],y:v+d*e[1]});for(var g=1;g<e.length/2;g++)s.push({x:f+c*e[g*2],y:v+d*e[g*2+1]});return s},Io=function(e,r,n,l,u,s,c,d){var f=[],v,g=new Array(n.length),p=!0;s==null&&(p=!1);var E;if(p){for(var b=0;b<g.length/2;b++)g[b*2]=n[b*2]*s+l,g[b*2+1]=n[b*2+1]*c+u;if(d>0){var C=od(g,-d);E=sd(C)}else E=g}else E=n;for(var S,T,N,R,D=0;D<E.length/2;D++)S=E[D*2],T=E[D*2+1],D<E.length/2-1?(N=E[(D+1)*2],R=E[(D+1)*2+1]):(N=E[0],R=E[1]),v=Pi(e,r,l,u,S,T,N,R),v.length!==0&&f.push(v[0],v[1]);return f},uA=function(e,r,n,l,u,s,c,d,f){var v=[],g,p=new Array(n.length*2);f.forEach(function(N,R){R===0?(p[p.length-2]=N.startX,p[p.length-1]=N.startY):(p[R*4-2]=N.startX,p[R*4-1]=N.startY),p[R*4]=N.stopX,p[R*4+1]=N.stopY,g=To(e,r,l,u,N.cx,N.cy,N.radius),g.length!==0&&v.push(g[0],g[1])});for(var E=0;E<p.length/4;E++)g=Pi(e,r,l,u,p[E*4],p[E*4+1],p[E*4+2],p[E*4+3],!1),g.length!==0&&v.push(g[0],g[1]);if(v.length>2){for(var b=[v[0],v[1]],C=Math.pow(b[0]-e,2)+Math.pow(b[1]-r,2),S=1;S<v.length/2;S++){var T=Math.pow(v[S*2]-e,2)+Math.pow(v[S*2+1]-r,2);T<=C&&(b[0]=v[S*2],b[1]=v[S*2+1],C=T)}return b}return v},Bf=function(e,r,n){var l=[e[0]-r[0],e[1]-r[1]],u=Math.sqrt(l[0]*l[0]+l[1]*l[1]),s=(u-n)/u;return s<0&&(s=1e-5),[r[0]+s*l[0],r[1]+s*l[1]]},ra=function(e,r){var n=Lp(e,r);return n=Sx(n),n},Sx=function(e){for(var r,n,l=e.length/2,u=1/0,s=1/0,c=-1/0,d=-1/0,f=0;f<l;f++)r=e[2*f],n=e[2*f+1],u=Math.min(u,r),c=Math.max(c,r),s=Math.min(s,n),d=Math.max(d,n);for(var v=2/(c-u),g=2/(d-s),p=0;p<l;p++)r=e[2*p]=e[2*p]*v,n=e[2*p+1]=e[2*p+1]*g,u=Math.min(u,r),c=Math.max(c,r),s=Math.min(s,n),d=Math.max(d,n);if(s<-1)for(var E=0;E<l;E++)n=e[2*E+1]=e[2*E+1]+(-1-s);return e},Lp=function(e,r){var n=1/e*2*Math.PI,l=e%2===0?Math.PI/2+n/2:Math.PI/2;l+=r;for(var u=new Array(e*2),s,c=0;c<e;c++)s=c*n+l,u[2*c]=Math.cos(s),u[2*c+1]=Math.sin(-s);return u},Vi=function(e,r){return Math.min(e/4,r/4,8)},Ax=function(e,r){return Math.min(e/10,r/10,8)},fm=function(){return 8},sA=function(e,r,n){return[e-2*r+n,2*(r-e),e]},kp=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function mg(t,e){function r(g){for(var p=[],E=0;E<g.length;E++){var b=g[E],C=g[(E+1)%g.length],S={x:C.x-b.x,y:C.y-b.y},T={x:-S.y,y:S.x},N=Math.sqrt(T.x*T.x+T.y*T.y);p.push({x:T.x/N,y:T.y/N})}return p}function n(g,p){var E=1/0,b=-1/0,C=Ea(g),S;try{for(C.s();!(S=C.n()).done;){var T=S.value,N=T.x*p.x+T.y*p.y;E=Math.min(E,N),b=Math.max(b,N)}}catch(R){C.e(R)}finally{C.f()}return{min:E,max:b}}function l(g,p){return!(g.max<p.min||p.max<g.min)}var u=[].concat(nd(r(t)),nd(r(e))),s=Ea(u),c;try{for(s.s();!(c=s.n()).done;){var d=c.value,f=n(t,d),v=n(e,d);if(!l(f,v))return!1}}catch(g){s.e(g)}finally{s.f()}return!0}var oA=Hr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),cA={pageRank:function(e){for(var r=oA(e),n=r.dampingFactor,l=r.precision,u=r.iterations,s=r.weight,c=this._private.cy,d=this.byGroup(),f=d.nodes,v=d.edges,g=f.length,p=g*g,E=v.length,b=new Array(p),C=new Array(g),S=(1-n)/g,T=0;T<g;T++){for(var N=0;N<g;N++){var R=T*g+N;b[R]=0}C[T]=0}for(var D=0;D<E;D++){var O=v[D],I=O.data("source"),M=O.data("target");if(I!==M){var k=f.indexOfId(I),j=f.indexOfId(M),_=s(O),P=j*g+k;b[P]+=_,C[k]+=_}}for(var L=1/g+S,H=0;H<g;H++)if(C[H]===0)for(var X=0;X<g;X++){var Z=X*g+H;b[Z]=L}else for(var G=0;G<g;G++){var F=G*g+H;b[F]=b[F]/C[H]+S}for(var W=new Array(g),ee=new Array(g),te,q=0;q<g;q++)W[q]=1;for(var Q=0;Q<u;Q++){for(var J=0;J<g;J++)ee[J]=0;for(var ie=0;ie<g;ie++)for(var oe=0;oe<g;oe++){var he=ie*g+oe;ee[ie]+=b[he]*W[oe]}V2(ee),te=W,W=ee,ee=te;for(var be=0,Re=0;Re<g;Re++){var ye=te[Re]-W[Re];be+=ye*ye}if(be<l)break}var ne={rank:function(fe){return fe=c.collection(fe)[0],W[f.indexOf(fe)]}};return ne}},Kb=Hr({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Fu={degreeCentralityNormalized:function(e){e=Kb(e);var r=this.cy(),n=this.nodes(),l=n.length;if(e.directed){for(var v={},g={},p=0,E=0,b=0;b<l;b++){var C=n[b],S=C.id();e.root=C;var T=this.degreeCentrality(e);p<T.indegree&&(p=T.indegree),E<T.outdegree&&(E=T.outdegree),v[S]=T.indegree,g[S]=T.outdegree}return{indegree:function(R){return p==0?0:(Xe(R)&&(R=r.filter(R)),v[R.id()]/p)},outdegree:function(R){return E===0?0:(Xe(R)&&(R=r.filter(R)),g[R.id()]/E)}}}else{for(var u={},s=0,c=0;c<l;c++){var d=n[c];e.root=d;var f=this.degreeCentrality(e);s<f.degree&&(s=f.degree),u[d.id()]=f.degree}return{degree:function(R){return s===0?0:(Xe(R)&&(R=r.filter(R)),u[R.id()]/s)}}}},degreeCentrality:function(e){e=Kb(e);var r=this.cy(),n=this,l=e,u=l.root,s=l.weight,c=l.directed,d=l.alpha;if(u=r.collection(u)[0],c){for(var E=u.connectedEdges(),b=E.filter(function(I){return I.target().same(u)&&n.has(I)}),C=E.filter(function(I){return I.source().same(u)&&n.has(I)}),S=b.length,T=C.length,N=0,R=0,D=0;D<b.length;D++)N+=s(b[D]);for(var O=0;O<C.length;O++)R+=s(C[O]);return{indegree:Math.pow(S,1-d)*Math.pow(N,d),outdegree:Math.pow(T,1-d)*Math.pow(R,d)}}else{for(var f=u.connectedEdges().intersection(n),v=f.length,g=0,p=0;p<f.length;p++)g+=s(f[p]);return{degree:Math.pow(v,1-d)*Math.pow(g,d)}}}};Fu.dc=Fu.degreeCentrality;Fu.dcn=Fu.degreeCentralityNormalised=Fu.degreeCentralityNormalized;var Xb=Hr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Yu={closenessCentralityNormalized:function(e){for(var r=Xb(e),n=r.harmonic,l=r.weight,u=r.directed,s=this.cy(),c={},d=0,f=this.nodes(),v=this.floydWarshall({weight:l,directed:u}),g=0;g<f.length;g++){for(var p=0,E=f[g],b=0;b<f.length;b++)if(g!==b){var C=v.distance(E,f[b]);n?p+=1/C:p+=C}n||(p=1/p),d<p&&(d=p),c[E.id()]=p}return{closeness:function(T){return d==0?0:(Xe(T)?T=s.filter(T)[0].id():T=T.id(),c[T]/d)}}},closenessCentrality:function(e){var r=Xb(e),n=r.root,l=r.weight,u=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var c=this.dijkstra({root:n,weight:l,directed:u}),d=0,f=this.nodes(),v=0;v<f.length;v++){var g=f[v];if(!g.same(n)){var p=c.distanceTo(g);s?d+=1/p:d+=p}}return s?d:1/d}};Yu.cc=Yu.closenessCentrality;Yu.ccn=Yu.closenessCentralityNormalised=Yu.closenessCentralityNormalized;var fA=Hr({weight:null,directed:!1}),zp={betweennessCentrality:function(e){for(var r=fA(e),n=r.directed,l=r.weight,u=l!=null,s=this.cy(),c=this.nodes(),d={},f={},v=0,g={set:function(R,D){f[R]=D,D>v&&(v=D)},get:function(R){return f[R]}},p=0;p<c.length;p++){var E=c[p],b=E.id();n?d[b]=E.outgoers().nodes():d[b]=E.openNeighborhood().nodes(),g.set(b,0)}for(var C=function(){for(var R=c[S].id(),D=[],O={},I={},M={},k=new Fo(function(ie,oe){return M[ie]-M[oe]}),j=0;j<c.length;j++){var _=c[j].id();O[_]=[],I[_]=0,M[_]=1/0}for(I[R]=1,M[R]=0,k.push(R);!k.empty();){var P=k.pop();if(D.push(P),u)for(var L=0;L<d[P].length;L++){var H=d[P][L],X=s.getElementById(P),Z=void 0;X.edgesTo(H).length>0?Z=X.edgesTo(H)[0]:Z=H.edgesTo(X)[0];var G=l(Z);H=H.id(),M[H]>M[P]+G&&(M[H]=M[P]+G,k.nodes.indexOf(H)<0?k.push(H):k.updateItem(H),I[H]=0,O[H]=[]),M[H]==M[P]+G&&(I[H]=I[H]+I[P],O[H].push(P))}else for(var F=0;F<d[P].length;F++){var W=d[P][F].id();M[W]==1/0&&(k.push(W),M[W]=M[P]+1),M[W]==M[P]+1&&(I[W]=I[W]+I[P],O[W].push(P))}}for(var ee={},te=0;te<c.length;te++)ee[c[te].id()]=0;for(;D.length>0;){for(var q=D.pop(),Q=0;Q<O[q].length;Q++){var J=O[q][Q];ee[J]=ee[J]+I[J]/I[q]*(1+ee[q])}q!=c[S].id()&&g.set(q,g.get(q)+ee[q])}},S=0;S<c.length;S++)C();var T={betweenness:function(R){var D=s.collection(R).id();return g.get(D)},betweennessNormalized:function(R){if(v==0)return 0;var D=s.collection(R).id();return g.get(D)/v}};return T.betweennessNormalised=T.betweennessNormalized,T}};zp.bc=zp.betweennessCentrality;var dA=Hr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),vA=function(e){return dA(e)},hA=function(e,r){for(var n=0,l=0;l<r.length;l++)n+=r[l](e);return n},gA=function(e,r,n){for(var l=0;l<r;l++)e[l*r+l]=n},Cx=function(e,r){for(var n,l=0;l<r;l++){n=0;for(var u=0;u<r;u++)n+=e[u*r+l];for(var s=0;s<r;s++)e[s*r+l]=e[s*r+l]/n}},pA=function(e,r,n){for(var l=new Array(n*n),u=0;u<n;u++){for(var s=0;s<n;s++)l[u*n+s]=0;for(var c=0;c<n;c++)for(var d=0;d<n;d++)l[u*n+d]+=e[u*n+c]*r[c*n+d]}return l},mA=function(e,r,n){for(var l=e.slice(0),u=1;u<n;u++)e=pA(e,l,r);return e},yA=function(e,r,n){for(var l=new Array(r*r),u=0;u<r*r;u++)l[u]=Math.pow(e[u],n);return Cx(l,r),l},bA=function(e,r,n,l){for(var u=0;u<n;u++){var s=Math.round(e[u]*Math.pow(10,l))/Math.pow(10,l),c=Math.round(r[u]*Math.pow(10,l))/Math.pow(10,l);if(s!==c)return!1}return!0},EA=function(e,r,n,l){for(var u=[],s=0;s<r;s++){for(var c=[],d=0;d<r;d++)Math.round(e[s*r+d]*1e3)/1e3>0&&c.push(n[d]);c.length!==0&&u.push(l.collection(c))}return u},xA=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},wA=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&xA(e[r],e[n])&&e.splice(n,1);return e},Zb=function(e){for(var r=this.nodes(),n=this.edges(),l=this.cy(),u=vA(e),s={},c=0;c<r.length;c++)s[r[c].id()]=c;for(var d=r.length,f=d*d,v=new Array(f),g,p=0;p<f;p++)v[p]=0;for(var E=0;E<n.length;E++){var b=n[E],C=s[b.source().id()],S=s[b.target().id()],T=hA(b,u.attributes);v[C*d+S]+=T,v[S*d+C]+=T}gA(v,d,u.multFactor),Cx(v,d);for(var N=!0,R=0;N&&R<u.maxIterations;)N=!1,g=mA(v,d,u.expandFactor),v=yA(g,d,u.inflateFactor),bA(v,g,f,4)||(N=!0),R++;var D=EA(v,d,r,l);return D=wA(D),D},TA={markovClustering:Zb,mcl:Zb},SA=function(e){return e},Nx=function(e,r){return Math.abs(r-e)},Qb=function(e,r,n){return e+Nx(r,n)},Wb=function(e,r,n){return e+Math.pow(n-r,2)},AA=function(e){return Math.sqrt(e)},CA=function(e,r,n){return Math.max(e,Nx(r,n))},vo=function(e,r,n,l,u){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:SA,c=l,d,f,v=0;v<e;v++)d=r(v),f=n(v),c=u(c,d,f);return s(c)},Zu={euclidean:function(e,r,n){return e>=2?vo(e,r,n,0,Wb,AA):vo(e,r,n,0,Qb)},squaredEuclidean:function(e,r,n){return vo(e,r,n,0,Wb)},manhattan:function(e,r,n){return vo(e,r,n,0,Qb)},max:function(e,r,n){return vo(e,r,n,-1/0,CA)}};Zu["squared-euclidean"]=Zu.squaredEuclidean;Zu.squaredeuclidean=Zu.squaredEuclidean;function wd(t,e,r,n,l,u){var s;return ar(t)?s=t:s=Zu[t]||Zu.euclidean,e===0&&ar(t)?s(l,u):s(e,r,n,l,u)}var NA=Hr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),dm=function(e){return NA(e)},cd=function(e,r,n,l,u){var s=u!=="kMedoids",c=s?function(g){return n[g]}:function(g){return l[g](n)},d=function(p){return l[p](r)},f=n,v=r;return wd(e,l.length,c,d,f,v)},yg=function(e,r,n){for(var l=n.length,u=new Array(l),s=new Array(l),c=new Array(r),d=null,f=0;f<l;f++)u[f]=e.min(n[f]).value,s[f]=e.max(n[f]).value;for(var v=0;v<r;v++){d=[];for(var g=0;g<l;g++)d[g]=Math.random()*(s[g]-u[g])+u[g];c[v]=d}return c},Rx=function(e,r,n,l,u){for(var s=1/0,c=0,d=0;d<r.length;d++){var f=cd(n,e,r[d],l,u);f<s&&(s=f,c=d)}return c},Dx=function(e,r,n){for(var l=[],u=null,s=0;s<r.length;s++)u=r[s],n[u.id()]===e&&l.push(u);return l},RA=function(e,r,n){return Math.abs(r-e)<=n},DA=function(e,r,n){for(var l=0;l<e.length;l++)for(var u=0;u<e[l].length;u++){var s=Math.abs(e[l][u]-r[l][u]);if(s>n)return!1}return!0},OA=function(e,r,n){for(var l=0;l<n;l++)if(e===r[l])return!0;return!1},$b=function(e,r){var n=new Array(r);if(e.length<50)for(var l=0;l<r;l++){for(var u=e[Math.floor(Math.random()*e.length)];OA(u,n,l);)u=e[Math.floor(Math.random()*e.length)];n[l]=u}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},Jb=function(e,r,n){for(var l=0,u=0;u<r.length;u++)l+=cd("manhattan",r[u],e,n,"kMedoids");return l},MA=function(e){var r=this.cy(),n=this.nodes(),l=null,u=dm(e),s=new Array(u.k),c={},d;u.testMode?typeof u.testCentroids=="number"?(u.testCentroids,d=yg(n,u.k,u.attributes)):Dr(u.testCentroids)==="object"?d=u.testCentroids:d=yg(n,u.k,u.attributes):d=yg(n,u.k,u.attributes);for(var f=!0,v=0;f&&v<u.maxIterations;){for(var g=0;g<n.length;g++)l=n[g],c[l.id()]=Rx(l,d,u.distance,u.attributes,"kMeans");f=!1;for(var p=0;p<u.k;p++){var E=Dx(p,n,c);if(E.length!==0){for(var b=u.attributes.length,C=d[p],S=new Array(b),T=new Array(b),N=0;N<b;N++){T[N]=0;for(var R=0;R<E.length;R++)l=E[R],T[N]+=u.attributes[N](l);S[N]=T[N]/E.length,RA(S[N],C[N],u.sensitivityThreshold)||(f=!0)}d[p]=S,s[p]=r.collection(E)}}v++}return s},BA=function(e){var r=this.cy(),n=this.nodes(),l=null,u=dm(e),s=new Array(u.k),c,d={},f,v=new Array(u.k);u.testMode?typeof u.testCentroids=="number"||(Dr(u.testCentroids)==="object"?c=u.testCentroids:c=$b(n,u.k)):c=$b(n,u.k);for(var g=!0,p=0;g&&p<u.maxIterations;){for(var E=0;E<n.length;E++)l=n[E],d[l.id()]=Rx(l,c,u.distance,u.attributes,"kMedoids");g=!1;for(var b=0;b<c.length;b++){var C=Dx(b,n,d);if(C.length!==0){v[b]=Jb(c[b],C,u.attributes);for(var S=0;S<C.length;S++)f=Jb(C[S],C,u.attributes),f<v[b]&&(v[b]=f,c[b]=C[S],g=!0);s[b]=r.collection(C)}}p++}return s},IA=function(e,r,n,l,u){for(var s,c,d=0;d<r.length;d++)for(var f=0;f<e.length;f++)l[d][f]=Math.pow(n[d][f],u.m);for(var v=0;v<e.length;v++)for(var g=0;g<u.attributes.length;g++){s=0,c=0;for(var p=0;p<r.length;p++)s+=l[p][v]*u.attributes[g](r[p]),c+=l[p][v];e[v][g]=s/c}},LA=function(e,r,n,l,u){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var c,d,f,v=2/(u.m-1),g=0;g<n.length;g++)for(var p=0;p<l.length;p++){c=0;for(var E=0;E<n.length;E++)d=cd(u.distance,l[p],n[g],u.attributes,"cmeans"),f=cd(u.distance,l[p],n[E],u.attributes,"cmeans"),c+=Math.pow(d/f,v);e[p][g]=1/c}},kA=function(e,r,n,l){for(var u=new Array(n.k),s=0;s<u.length;s++)u[s]=[];for(var c,d,f=0;f<r.length;f++){c=-1/0,d=-1;for(var v=0;v<r[0].length;v++)r[f][v]>c&&(c=r[f][v],d=v);u[d].push(e[f])}for(var g=0;g<u.length;g++)u[g]=l.collection(u[g]);return u},e1=function(e){var r=this.cy(),n=this.nodes(),l=dm(e),u,s,c,d,f;d=new Array(n.length);for(var v=0;v<n.length;v++)d[v]=new Array(l.k);c=new Array(n.length);for(var g=0;g<n.length;g++)c[g]=new Array(l.k);for(var p=0;p<n.length;p++){for(var E=0,b=0;b<l.k;b++)c[p][b]=Math.random(),E+=c[p][b];for(var C=0;C<l.k;C++)c[p][C]=c[p][C]/E}s=new Array(l.k);for(var S=0;S<l.k;S++)s[S]=new Array(l.attributes.length);f=new Array(n.length);for(var T=0;T<n.length;T++)f[T]=new Array(l.k);for(var N=!0,R=0;N&&R<l.maxIterations;)N=!1,IA(s,n,c,f,l),LA(c,d,s,n,l),DA(c,d,l.sensitivityThreshold)||(N=!0),R++;return u=kA(n,c,l,r),{clusters:u,degreeOfMembership:c}},zA={kMeans:MA,kMedoids:BA,fuzzyCMeans:e1,fcm:e1},_A=Hr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),UA={single:"min",complete:"max"},PA=function(e){var r=_A(e),n=UA[r.linkage];return n!=null&&(r.linkage=n),r},t1=function(e,r,n,l,u){for(var s=0,c=1/0,d,f=u.attributes,v=function(j,_){return wd(u.distance,f.length,function(P){return f[P](j)},function(P){return f[P](_)},j,_)},g=0;g<e.length;g++){var p=e[g].key,E=n[p][l[p]];E<c&&(s=p,c=E)}if(u.mode==="threshold"&&c>=u.threshold||u.mode==="dendrogram"&&e.length===1)return!1;var b=r[s],C=r[l[s]],S;u.mode==="dendrogram"?S={left:b,right:C,key:b.key}:S={value:b.value.concat(C.value),key:b.key},e[b.index]=S,e.splice(C.index,1),r[b.key]=S;for(var T=0;T<e.length;T++){var N=e[T];b.key===N.key?d=1/0:u.linkage==="min"?(d=n[b.key][N.key],n[b.key][N.key]>n[C.key][N.key]&&(d=n[C.key][N.key])):u.linkage==="max"?(d=n[b.key][N.key],n[b.key][N.key]<n[C.key][N.key]&&(d=n[C.key][N.key])):u.linkage==="mean"?d=(n[b.key][N.key]*b.size+n[C.key][N.key]*C.size)/(b.size+C.size):u.mode==="dendrogram"?d=v(N.value,b.value):d=v(N.value[0],b.value[0]),n[b.key][N.key]=n[N.key][b.key]=d}for(var R=0;R<e.length;R++){var D=e[R].key;if(l[D]===b.key||l[D]===C.key){for(var O=D,I=0;I<e.length;I++){var M=e[I].key;n[D][M]<n[D][O]&&(O=M)}l[D]=O}e[R].index=R}return b.key=C.key=b.index=C.index=null,!0},Gu=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&Gu(e.left,r),e.right&&Gu(e.right,r)))},_p=function(e,r){if(!e)return"";if(e.left&&e.right){var n=_p(e.left,r),l=_p(e.right,r),u=r.add({group:"nodes",data:{id:n+","+l}});return r.add({group:"edges",data:{source:n,target:u.id()}}),r.add({group:"edges",data:{source:l,target:u.id()}}),u.id()}else if(e.value)return e.value.id()},Up=function(e,r,n){if(!e)return[];var l=[],u=[],s=[];return r===0?(e.left&&Gu(e.left,l),e.right&&Gu(e.right,u),s=l.concat(u),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&Gu(e.left,l),e.right&&Gu(e.right,u),[n.collection(l),n.collection(u)]):e.value?[n.collection(e.value)]:(e.left&&(l=Up(e.left,r-1,n)),e.right&&(u=Up(e.right,r-1,n)),l.concat(u))},r1=function(e){for(var r=this.cy(),n=this.nodes(),l=PA(e),u=l.attributes,s=function(R,D){return wd(l.distance,u.length,function(O){return u[O](R)},function(O){return u[O](D)},R,D)},c=[],d=[],f=[],v=[],g=0;g<n.length;g++){var p={value:l.mode==="dendrogram"?n[g]:[n[g]],key:g,index:g};c[g]=p,v[g]=p,d[g]=[],f[g]=0}for(var E=0;E<c.length;E++)for(var b=0;b<=E;b++){var C=void 0;l.mode==="dendrogram"?C=E===b?1/0:s(c[E].value,c[b].value):C=E===b?1/0:s(c[E].value[0],c[b].value[0]),d[E][b]=C,d[b][E]=C,C<d[E][f[E]]&&(f[E]=b)}for(var S=t1(c,v,d,f,l);S;)S=t1(c,v,d,f,l);var T;return l.mode==="dendrogram"?(T=Up(c[0],l.dendrogramDepth,r),l.addDendrogram&&_p(c[0],r)):(T=new Array(c.length),c.forEach(function(N,R){N.key=N.index=null,T[R]=r.collection(N.value)})),T},jA={hierarchicalClustering:r1,hca:r1},qA=Hr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),GA=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||er("Damping must range on [0.5, 1).  Got: ".concat(r));var l=["median","mean","min","max"];return l.some(function(u){return u===n})||Me(n)||er("Preference must be one of [".concat(l.map(function(u){return"'".concat(u,"'")}).join(", "),"] or a number.  Got: ").concat(n)),qA(e)},HA=function(e,r,n,l){var u=function(c,d){return l[d](c)};return-wd(e,l.length,function(s){return u(r,s)},function(s){return u(n,s)},r,n)},VA=function(e,r){var n=null;return r==="median"?n=G2(e):r==="mean"?n=q2(e):r==="min"?n=P2(e):r==="max"?n=j2(e):n=r,n},FA=function(e,r,n){for(var l=[],u=0;u<e;u++)r[u*e+u]+n[u*e+u]>0&&l.push(u);return l},a1=function(e,r,n){for(var l=[],u=0;u<e;u++){for(var s=-1,c=-1/0,d=0;d<n.length;d++){var f=n[d];r[u*e+f]>c&&(s=f,c=r[u*e+f])}s>0&&l.push(s)}for(var v=0;v<n.length;v++)l[n[v]]=n[v];return l},YA=function(e,r,n){for(var l=a1(e,r,n),u=0;u<n.length;u++){for(var s=[],c=0;c<l.length;c++)l[c]===n[u]&&s.push(c);for(var d=-1,f=-1/0,v=0;v<s.length;v++){for(var g=0,p=0;p<s.length;p++)g+=r[s[p]*e+s[v]];g>f&&(d=v,f=g)}n[u]=s[d]}return l=a1(e,r,n),l},n1=function(e){for(var r=this.cy(),n=this.nodes(),l=GA(e),u={},s=0;s<n.length;s++)u[n[s].id()]=s;var c,d,f,v,g,p;c=n.length,d=c*c,f=new Array(d);for(var E=0;E<d;E++)f[E]=-1/0;for(var b=0;b<c;b++)for(var C=0;C<c;C++)b!==C&&(f[b*c+C]=HA(l.distance,n[b],n[C],l.attributes));v=VA(f,l.preference);for(var S=0;S<c;S++)f[S*c+S]=v;g=new Array(d);for(var T=0;T<d;T++)g[T]=0;p=new Array(d);for(var N=0;N<d;N++)p[N]=0;for(var R=new Array(c),D=new Array(c),O=new Array(c),I=0;I<c;I++)R[I]=0,D[I]=0,O[I]=0;for(var M=new Array(c*l.minIterations),k=0;k<M.length;k++)M[k]=0;var j;for(j=0;j<l.maxIterations;j++){for(var _=0;_<c;_++){for(var P=-1/0,L=-1/0,H=-1,X=0,Z=0;Z<c;Z++)R[Z]=g[_*c+Z],X=p[_*c+Z]+f[_*c+Z],X>=P?(L=P,P=X,H=Z):X>L&&(L=X);for(var G=0;G<c;G++)g[_*c+G]=(1-l.damping)*(f[_*c+G]-P)+l.damping*R[G];g[_*c+H]=(1-l.damping)*(f[_*c+H]-L)+l.damping*R[H]}for(var F=0;F<c;F++){for(var W=0,ee=0;ee<c;ee++)R[ee]=p[ee*c+F],D[ee]=Math.max(0,g[ee*c+F]),W+=D[ee];W-=D[F],D[F]=g[F*c+F],W+=D[F];for(var te=0;te<c;te++)p[te*c+F]=(1-l.damping)*Math.min(0,W-D[te])+l.damping*R[te];p[F*c+F]=(1-l.damping)*(W-D[F])+l.damping*R[F]}for(var q=0,Q=0;Q<c;Q++){var J=p[Q*c+Q]+g[Q*c+Q]>0?1:0;M[j%l.minIterations*c+Q]=J,q+=J}if(q>0&&(j>=l.minIterations-1||j==l.maxIterations-1)){for(var ie=0,oe=0;oe<c;oe++){O[oe]=0;for(var he=0;he<l.minIterations;he++)O[oe]+=M[he*c+oe];(O[oe]===0||O[oe]===l.minIterations)&&ie++}if(ie===c)break}}for(var be=FA(c,g,p),Re=YA(c,f,be),ye={},ne=0;ne<be.length;ne++)ye[be[ne]]=[];for(var ue=0;ue<n.length;ue++){var fe=u[n[ue].id()],Ee=Re[fe];Ee!=null&&ye[Ee].push(n[ue])}for(var De=new Array(be.length),Le=0;Le<be.length;Le++)De[Le]=r.collection(ye[be[Le]]);return De},KA={affinityPropagation:n1,ap:n1},XA=Hr({root:void 0,directed:!1}),ZA={hierholzer:function(e){if(!wt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=XA(e),l=n.root,u=n.directed,s=this,c=!1,d,f,v;l&&(v=Xe(l)?this.filter(l)[0].id():l[0].id());var g={},p={};u?s.forEach(function(N){var R=N.id();if(N.isNode()){var D=N.indegree(!0),O=N.outdegree(!0),I=D-O,M=O-D;I==1?d?c=!0:d=R:M==1?f?c=!0:f=R:(M>1||I>1)&&(c=!0),g[R]=[],N.outgoers().forEach(function(k){k.isEdge()&&g[R].push(k.id())})}else p[R]=[void 0,N.target().id()]}):s.forEach(function(N){var R=N.id();if(N.isNode()){var D=N.degree(!0);D%2&&(d?f?c=!0:f=R:d=R),g[R]=[],N.connectedEdges().forEach(function(O){return g[R].push(O.id())})}else p[R]=[N.source().id(),N.target().id()]});var E={found:!1,trail:void 0};if(c)return E;if(f&&d)if(u){if(v&&f!=v)return E;v=f}else{if(v&&f!=v&&d!=v)return E;v||(v=f)}else v||(v=s[0].id());var b=function(R){for(var D=R,O=[R],I,M,k;g[D].length;)I=g[D].shift(),M=p[I][0],k=p[I][1],D!=k?(g[k]=g[k].filter(function(j){return j!=I}),D=k):!u&&D!=M&&(g[M]=g[M].filter(function(j){return j!=I}),D=M),O.unshift(I),O.unshift(D);return O},C=[],S=[];for(S=b(v);S.length!=1;)g[S[0]].length==0?(C.unshift(s.getElementById(S.shift())),C.unshift(s.getElementById(S.shift()))):S=b(S.shift()).concat(S);C.unshift(s.getElementById(S.shift()));for(var T in g)if(g[T].length)return E;return E.found=!0,E.trail=this.spawn(C,!0),E}},If=function(){var e=this,r={},n=0,l=0,u=[],s=[],c={},d=function(p,E){for(var b=s.length-1,C=[],S=e.spawn();s[b].x!=p||s[b].y!=E;)C.push(s.pop().edge),b--;C.push(s.pop().edge),C.forEach(function(T){var N=T.connectedNodes().intersection(e);S.merge(T),N.forEach(function(R){var D=R.id(),O=R.connectedEdges().intersection(e);S.merge(R),r[D].cutVertex?S.merge(O.filter(function(I){return I.isLoop()})):S.merge(O)})}),u.push(S)},f=function(p,E,b){p===b&&(l+=1),r[E]={id:n,low:n++,cutVertex:!1};var C=e.getElementById(E).connectedEdges().intersection(e);if(C.size()===0)u.push(e.spawn(e.getElementById(E)));else{var S,T,N,R;C.forEach(function(D){S=D.source().id(),T=D.target().id(),N=S===E?T:S,N!==b&&(R=D.id(),c[R]||(c[R]=!0,s.push({x:E,y:N,edge:D})),N in r?r[E].low=Math.min(r[E].low,r[N].id):(f(p,N,E),r[E].low=Math.min(r[E].low,r[N].low),r[E].id<=r[N].low&&(r[E].cutVertex=!0,d(E,N))))})}};e.forEach(function(g){if(g.isNode()){var p=g.id();p in r||(l=0,f(p,p),r[p].cutVertex=l>1)}});var v=Object.keys(r).filter(function(g){return r[g].cutVertex}).map(function(g){return e.getElementById(g)});return{cut:e.spawn(v),components:u}},QA={hopcroftTarjanBiconnected:If,htbc:If,htb:If,hopcroftTarjanBiconnectedComponents:If},Lf=function(){var e=this,r={},n=0,l=[],u=[],s=e.spawn(e),c=function(f){u.push(f),r[f]={index:n,low:n++,explored:!1};var v=e.getElementById(f).connectedEdges().intersection(e);if(v.forEach(function(C){var S=C.target().id();S!==f&&(S in r||c(S),r[S].explored||(r[f].low=Math.min(r[f].low,r[S].low)))}),r[f].index===r[f].low){for(var g=e.spawn();;){var p=u.pop();if(g.merge(e.getElementById(p)),r[p].low=r[f].index,r[p].explored=!0,p===f)break}var E=g.edgesWith(g),b=g.merge(E);l.push(b),s=s.difference(b)}};return e.forEach(function(d){if(d.isNode()){var f=d.id();f in r||c(f)}}),{cut:s,components:l}},WA={tarjanStronglyConnected:Lf,tsc:Lf,tscc:Lf,tarjanStronglyConnectedComponents:Lf},Ox={};[Mo,N2,R2,O2,B2,L2,_2,cA,Fu,Yu,zp,TA,zA,jA,KA,ZA,QA,WA].forEach(function(t){$e(Ox,t)});var Mx=0,Bx=1,Ix=2,en=function(e){if(!(this instanceof en))return new en(e);this.id="Thenable/1.0.7",this.state=Mx,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};en.prototype={fulfill:function(e){return i1(this,Bx,"fulfillValue",e)},reject:function(e){return i1(this,Ix,"rejectReason",e)},then:function(e,r){var n=this,l=new en;return n.onFulfilled.push(u1(e,l,"fulfill")),n.onRejected.push(u1(r,l,"reject")),Lx(n),l.proxy}};var i1=function(e,r,n,l){return e.state===Mx&&(e.state=r,e[n]=l,Lx(e)),e},Lx=function(e){e.state===Bx?l1(e,"onFulfilled",e.fulfillValue):e.state===Ix&&l1(e,"onRejected",e.rejectReason)},l1=function(e,r,n){if(e[r].length!==0){var l=e[r];e[r]=[];var u=function(){for(var c=0;c<l.length;c++)l[c](n)};typeof setImmediate=="function"?setImmediate(u):setTimeout(u,0)}},u1=function(e,r,n){return function(l){if(typeof e!="function")r[n].call(r,l);else{var u;try{u=e(l)}catch(s){r.reject(s);return}kx(r,u)}}},kx=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Dr(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(u){e.reject(u);return}if(typeof n=="function"){var l=!1;try{n.call(r,function(u){l||(l=!0,u===r?e.reject(new TypeError("circular thenable chain")):kx(e,u))},function(u){l||(l=!0,e.reject(u))})}catch(u){l||e.reject(u)}return}e.fulfill(r)};en.all=function(t){return new en(function(e,r){for(var n=new Array(t.length),l=0,u=function(d,f){n[d]=f,l++,l===t.length&&e(n)},s=0;s<t.length;s++)(function(c){var d=t[c],f=d!=null&&d.then!=null;if(f)d.then(function(g){u(c,g)},function(g){r(g)});else{var v=d;u(c,v)}})(s)})};en.resolve=function(t){return new en(function(e,r){e(t)})};en.reject=function(t){return new en(function(e,r){r(t)})};var $u=typeof Promise<"u"?Promise:en,Pp=function(e,r,n){var l=rm(e),u=!l,s=this._private=$e({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&ar(s.complete)&&s.completes.push(s.complete),u){var c=e.position();s.startPosition=s.startPosition||{x:c.x,y:c.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(l){var d=e.pan();s.startPan={x:d.x,y:d.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},Il=Pp.prototype;$e(Il,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Da(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(f,v){var g=e[f];g!=null&&(e[f]=e[v],e[v]=g)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var l=0;l<e.style.length;l++){var u=e.style[l],s=u.name,c=e.startStyle[s];e.startStyle[s]=u,e.style[l]=c}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new $u(function(l,u){n.push(function(){l()})})}});Il.complete=Il.completed;Il.run=Il.play;Il.running=Il.playing;var $A={animated:function(){return function(){var r=this,n=r.length!==void 0,l=n?r:[r],u=this._private.cy||this;if(!u.styleEnabled())return!1;var s=l[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,l=n?r:[r],u=this._private.cy||this;if(!u.styleEnabled())return this;for(var s=0;s<l.length;s++){var c=l[s];c._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var l=this._private.cy||this;return l.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var l=this._private.cy||this;return l.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var l=this,u=l.length!==void 0,s=u?l:[l],c=this._private.cy||this,d=!u,f=!d;if(!c.styleEnabled())return this;var v=c.style();r=$e({},r,n);var g=Object.keys(r).length===0;if(g)return new Pp(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(f&&(r.style=v.getPropsList(r.style||r.css),r.css=void 0),f&&r.renderedPosition!=null){var p=r.renderedPosition,E=c.pan(),b=c.zoom();r.position=Ex(p,b,E)}if(d&&r.panBy!=null){var C=r.panBy,S=c.pan();r.pan={x:S.x+C.x,y:S.y+C.y}}var T=r.center||r.centre;if(d&&T!=null){var N=c.getCenterPan(T.eles,r.zoom);N!=null&&(r.pan=N)}if(d&&r.fit!=null){var R=r.fit,D=c.getFitViewport(R.eles||R.boundingBox,R.padding);D!=null&&(r.pan=D.pan,r.zoom=D.zoom)}if(d&&wt(r.zoom)){var O=c.getZoomedViewport(r.zoom);O!=null?(O.zoomed&&(r.zoom=O.zoom),O.panned&&(r.pan=O.pan)):r.zoom=null}return new Pp(s[0],r)}},animate:function(){return function(r,n){var l=this,u=l.length!==void 0,s=u?l:[l],c=this._private.cy||this;if(!c.styleEnabled())return this;n&&(r=$e({},r,n));for(var d=0;d<s.length;d++){var f=s[d],v=f.animated()&&(r.queue===void 0||r.queue),g=f.animation(r,v?{queue:!0}:void 0);g.play()}return this}},stop:function(){return function(r,n){var l=this,u=l.length!==void 0,s=u?l:[l],c=this._private.cy||this;if(!c.styleEnabled())return this;for(var d=0;d<s.length;d++){for(var f=s[d],v=f._private,g=v.animation.current,p=0;p<g.length;p++){var E=g[p],b=E._private;n&&(b.duration=0)}r&&(v.animation.queue=[]),n||(v.animation.current=[])}return c.notify("draw"),this}}},bg,s1;function Td(){if(s1)return bg;s1=1;var t=Array.isArray;return bg=t,bg}var Eg,o1;function JA(){if(o1)return Eg;o1=1;var t=Td(),e=Ho(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function l(u,s){if(t(u))return!1;var c=typeof u;return c=="number"||c=="symbol"||c=="boolean"||u==null||e(u)?!0:n.test(u)||!r.test(u)||s!=null&&u in Object(s)}return Eg=l,Eg}var xg,c1;function eC(){if(c1)return xg;c1=1;var t=fx(),e=Go(),r="[object AsyncFunction]",n="[object Function]",l="[object GeneratorFunction]",u="[object Proxy]";function s(c){if(!e(c))return!1;var d=t(c);return d==n||d==l||d==r||d==u}return xg=s,xg}var wg,f1;function tC(){if(f1)return wg;f1=1;var t=bd(),e=t["__core-js_shared__"];return wg=e,wg}var Tg,d1;function rC(){if(d1)return Tg;d1=1;var t=tC(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return Tg=r,Tg}var Sg,v1;function aC(){if(v1)return Sg;v1=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Sg=r,Sg}var Ag,h1;function nC(){if(h1)return Ag;h1=1;var t=eC(),e=rC(),r=Go(),n=aC(),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,f=c.hasOwnProperty,v=RegExp("^"+d.call(f).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(p){if(!r(p)||e(p))return!1;var E=t(p)?v:u;return E.test(n(p))}return Ag=g,Ag}var Cg,g1;function iC(){if(g1)return Cg;g1=1;function t(e,r){return e?.[r]}return Cg=t,Cg}var Ng,p1;function vm(){if(p1)return Ng;p1=1;var t=nC(),e=iC();function r(n,l){var u=e(n,l);return t(u)?u:void 0}return Ng=r,Ng}var Rg,m1;function Sd(){if(m1)return Rg;m1=1;var t=vm(),e=t(Object,"create");return Rg=e,Rg}var Dg,y1;function lC(){if(y1)return Dg;y1=1;var t=Sd();function e(){this.__data__=t?t(null):{},this.size=0}return Dg=e,Dg}var Og,b1;function uC(){if(b1)return Og;b1=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Og=t,Og}var Mg,E1;function sC(){if(E1)return Mg;E1=1;var t=Sd(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function l(u){var s=this.__data__;if(t){var c=s[u];return c===e?void 0:c}return n.call(s,u)?s[u]:void 0}return Mg=l,Mg}var Bg,x1;function oC(){if(x1)return Bg;x1=1;var t=Sd(),e=Object.prototype,r=e.hasOwnProperty;function n(l){var u=this.__data__;return t?u[l]!==void 0:r.call(u,l)}return Bg=n,Bg}var Ig,w1;function cC(){if(w1)return Ig;w1=1;var t=Sd(),e="__lodash_hash_undefined__";function r(n,l){var u=this.__data__;return this.size+=this.has(n)?0:1,u[n]=t&&l===void 0?e:l,this}return Ig=r,Ig}var Lg,T1;function fC(){if(T1)return Lg;T1=1;var t=lC(),e=uC(),r=sC(),n=oC(),l=cC();function u(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=l,Lg=u,Lg}var kg,S1;function dC(){if(S1)return kg;S1=1;function t(){this.__data__=[],this.size=0}return kg=t,kg}var zg,A1;function zx(){if(A1)return zg;A1=1;function t(e,r){return e===r||e!==e&&r!==r}return zg=t,zg}var _g,C1;function Ad(){if(C1)return _g;C1=1;var t=zx();function e(r,n){for(var l=r.length;l--;)if(t(r[l][0],n))return l;return-1}return _g=e,_g}var Ug,N1;function vC(){if(N1)return Ug;N1=1;var t=Ad(),e=Array.prototype,r=e.splice;function n(l){var u=this.__data__,s=t(u,l);if(s<0)return!1;var c=u.length-1;return s==c?u.pop():r.call(u,s,1),--this.size,!0}return Ug=n,Ug}var Pg,R1;function hC(){if(R1)return Pg;R1=1;var t=Ad();function e(r){var n=this.__data__,l=t(n,r);return l<0?void 0:n[l][1]}return Pg=e,Pg}var jg,D1;function gC(){if(D1)return jg;D1=1;var t=Ad();function e(r){return t(this.__data__,r)>-1}return jg=e,jg}var qg,O1;function pC(){if(O1)return qg;O1=1;var t=Ad();function e(r,n){var l=this.__data__,u=t(l,r);return u<0?(++this.size,l.push([r,n])):l[u][1]=n,this}return qg=e,qg}var Gg,M1;function mC(){if(M1)return Gg;M1=1;var t=dC(),e=vC(),r=hC(),n=gC(),l=pC();function u(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=l,Gg=u,Gg}var Hg,B1;function yC(){if(B1)return Hg;B1=1;var t=vm(),e=bd(),r=t(e,"Map");return Hg=r,Hg}var Vg,I1;function bC(){if(I1)return Vg;I1=1;var t=fC(),e=mC(),r=yC();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Vg=n,Vg}var Fg,L1;function EC(){if(L1)return Fg;L1=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Fg=t,Fg}var Yg,k1;function Cd(){if(k1)return Yg;k1=1;var t=EC();function e(r,n){var l=r.__data__;return t(n)?l[typeof n=="string"?"string":"hash"]:l.map}return Yg=e,Yg}var Kg,z1;function xC(){if(z1)return Kg;z1=1;var t=Cd();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Kg=e,Kg}var Xg,_1;function wC(){if(_1)return Xg;_1=1;var t=Cd();function e(r){return t(this,r).get(r)}return Xg=e,Xg}var Zg,U1;function TC(){if(U1)return Zg;U1=1;var t=Cd();function e(r){return t(this,r).has(r)}return Zg=e,Zg}var Qg,P1;function SC(){if(P1)return Qg;P1=1;var t=Cd();function e(r,n){var l=t(this,r),u=l.size;return l.set(r,n),this.size+=l.size==u?0:1,this}return Qg=e,Qg}var Wg,j1;function AC(){if(j1)return Wg;j1=1;var t=bC(),e=xC(),r=wC(),n=TC(),l=SC();function u(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return u.prototype.clear=t,u.prototype.delete=e,u.prototype.get=r,u.prototype.has=n,u.prototype.set=l,Wg=u,Wg}var $g,q1;function CC(){if(q1)return $g;q1=1;var t=AC(),e="Expected a function";function r(n,l){if(typeof n!="function"||l!=null&&typeof l!="function")throw new TypeError(e);var u=function(){var s=arguments,c=l?l.apply(this,s):s[0],d=u.cache;if(d.has(c))return d.get(c);var f=n.apply(this,s);return u.cache=d.set(c,f)||d,f};return u.cache=new(r.Cache||t),u}return r.Cache=t,$g=r,$g}var Jg,G1;function NC(){if(G1)return Jg;G1=1;var t=CC(),e=500;function r(n){var l=t(n,function(s){return u.size===e&&u.clear(),s}),u=l.cache;return l}return Jg=r,Jg}var ep,H1;function _x(){if(H1)return ep;H1=1;var t=NC(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(l){var u=[];return l.charCodeAt(0)===46&&u.push(""),l.replace(e,function(s,c,d,f){u.push(d?f.replace(r,"$1"):c||s)}),u});return ep=n,ep}var tp,V1;function Ux(){if(V1)return tp;V1=1;function t(e,r){for(var n=-1,l=e==null?0:e.length,u=Array(l);++n<l;)u[n]=r(e[n],n,e);return u}return tp=t,tp}var rp,F1;function RC(){if(F1)return rp;F1=1;var t=nm(),e=Ux(),r=Td(),n=Ho(),l=t?t.prototype:void 0,u=l?l.toString:void 0;function s(c){if(typeof c=="string")return c;if(r(c))return e(c,s)+"";if(n(c))return u?u.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return rp=s,rp}var ap,Y1;function Px(){if(Y1)return ap;Y1=1;var t=RC();function e(r){return r==null?"":t(r)}return ap=e,ap}var np,K1;function jx(){if(K1)return np;K1=1;var t=Td(),e=JA(),r=_x(),n=Px();function l(u,s){return t(u)?u:e(u,s)?[u]:r(n(u))}return np=l,np}var ip,X1;function hm(){if(X1)return ip;X1=1;var t=Ho();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return ip=e,ip}var lp,Z1;function DC(){if(Z1)return lp;Z1=1;var t=jx(),e=hm();function r(n,l){l=t(l,n);for(var u=0,s=l.length;n!=null&&u<s;)n=n[e(l[u++])];return u&&u==s?n:void 0}return lp=r,lp}var up,Q1;function OC(){if(Q1)return up;Q1=1;var t=DC();function e(r,n,l){var u=r==null?void 0:t(r,n);return u===void 0?l:u}return up=e,up}var MC=OC(),BC=qo(MC),sp,W1;function IC(){if(W1)return sp;W1=1;var t=vm(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return sp=e,sp}var op,$1;function LC(){if($1)return op;$1=1;var t=IC();function e(r,n,l){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:l,writable:!0}):r[n]=l}return op=e,op}var cp,J1;function kC(){if(J1)return cp;J1=1;var t=LC(),e=zx(),r=Object.prototype,n=r.hasOwnProperty;function l(u,s,c){var d=u[s];(!(n.call(u,s)&&e(d,c))||c===void 0&&!(s in u))&&t(u,s,c)}return cp=l,cp}var fp,eE;function zC(){if(eE)return fp;eE=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,l){var u=typeof n;return l=l??t,!!l&&(u=="number"||u!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<l}return fp=r,fp}var dp,tE;function _C(){if(tE)return dp;tE=1;var t=kC(),e=jx(),r=zC(),n=Go(),l=hm();function u(s,c,d,f){if(!n(s))return s;c=e(c,s);for(var v=-1,g=c.length,p=g-1,E=s;E!=null&&++v<g;){var b=l(c[v]),C=d;if(b==="__proto__"||b==="constructor"||b==="prototype")return s;if(v!=p){var S=E[b];C=f?f(S,b,E):void 0,C===void 0&&(C=n(S)?S:r(c[v+1])?[]:{})}t(E,b,C),E=E[b]}return s}return dp=u,dp}var vp,rE;function UC(){if(rE)return vp;rE=1;var t=_C();function e(r,n,l){return r==null?r:t(r,n,l)}return vp=e,vp}var PC=UC(),jC=qo(PC),hp,aE;function qC(){if(aE)return hp;aE=1;function t(e,r){var n=-1,l=e.length;for(r||(r=Array(l));++n<l;)r[n]=e[n];return r}return hp=t,hp}var gp,nE;function GC(){if(nE)return gp;nE=1;var t=Ux(),e=qC(),r=Td(),n=Ho(),l=_x(),u=hm(),s=Px();function c(d){return r(d)?t(d,u):n(d)?[d]:e(l(s(d)))}return gp=c,gp}var HC=GC(),VC=qo(HC),FC={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(l){},beforeSet:function(l,u){},onSet:function(l){},canSet:function(l){return!0}};return e=$e({},r,e),function(l,u){var s=e,c=this,d=c.length!==void 0,f=d?c:[c],v=d?c[0]:c;if(Xe(l)){var g=l.indexOf(".")!==-1,p=g&&VC(l);if(s.allowGetting&&u===void 0){var E;return v&&(s.beforeGet(v),p&&v._private[s.field][l]===void 0?E=BC(v._private[s.field],p):E=v._private[s.field][l]),E}else if(s.allowSetting&&u!==void 0){var b=!s.immutableKeys[l];if(b){var C=tx({},l,u);s.beforeSet(c,C);for(var S=0,T=f.length;S<T;S++){var N=f[S];s.canSet(N)&&(p&&v._private[s.field][l]===void 0?jC(N._private[s.field],p,u):N._private[s.field][l]=u)}s.updateStyle&&c.updateStyle(),s.onSet(c),s.settingTriggersEvent&&c[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&wt(l)){var R=l,D,O,I=Object.keys(R);s.beforeSet(c,R);for(var M=0;M<I.length;M++){D=I[M],O=R[D];var k=!s.immutableKeys[D];if(k)for(var j=0;j<f.length;j++){var _=f[j];s.canSet(_)&&(_._private[s.field][D]=O)}}s.updateStyle&&c.updateStyle(),s.onSet(c),s.settingTriggersEvent&&c[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&ar(l)){var P=l;c.on(s.bindingEvent,P)}else if(s.allowGetting&&l===void 0){var L;return v&&(s.beforeGet(v),L=v._private[s.field]),L}return c}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=$e({},r,e),function(l){var u=e,s=this,c=s.length!==void 0,d=c?s:[s];if(Xe(l)){for(var f=l.split(/\s+/),v=f.length,g=0;g<v;g++){var p=f[g];if(!Gi(p)){var E=!u.immutableKeys[p];if(E)for(var b=0,C=d.length;b<C;b++)d[b]._private[u.field][p]=void 0}}u.triggerEvent&&s[u.triggerFnName](u.event)}else if(l===void 0){for(var S=0,T=d.length;S<T;S++)for(var N=d[S]._private[u.field],R=Object.keys(N),D=0;D<R.length;D++){var O=R[D],I=!u.immutableKeys[O];I&&(N[O]=void 0)}u.triggerEvent&&s[u.triggerFnName](u.event)}return s}}},YC={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,l){var u=this,s=Array.prototype.slice.call(arguments,0);return new $u(function(c,d){var f=function(E){u.off.apply(u,g),c(E)},v=s.concat([f]),g=v.concat([]);u.on.apply(u,v)})}}},Ot={};[$A,FC,YC].forEach(function(t){$e(Ot,t)});var KC={animate:Ot.animate(),animation:Ot.animation(),animated:Ot.animated(),clearQueue:Ot.clearQueue(),delay:Ot.delay(),delayAnimation:Ot.delayAnimation(),stop:Ot.stop()},Zf={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(b){return n.push(b)}),n}else qt(e)||(e=(e||"").match(/\S+/g)||[]);for(var l=[],u=new Wu(e),s=0;s<r.length;s++){for(var c=r[s],d=c._private,f=d.classes,v=!1,g=0;g<e.length;g++){var p=e[g],E=f.has(p);if(!E){v=!0;break}}v||(v=f.size!==e.length),v&&(d.classes=u,l.push(c))}return l.length>0&&this.spawn(l).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){qt(e)||(e=e.match(/\S+/g)||[]);for(var n=this,l=r===void 0,u=[],s=0,c=n.length;s<c;s++)for(var d=n[s],f=d._private.classes,v=!1,g=0;g<e.length;g++){var p=e[g],E=f.has(p),b=!1;r||l&&!E?(f.add(p),b=!0):(!r||l&&E)&&(f.delete(p),b=!0),!v&&b&&(u.push(d),v=!0)}return u.length>0&&this.spawn(u).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Zf.className=Zf.classNames=Zf.classes;var xt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Rr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};xt.variable="(?:[\\w-.]|(?:\\\\"+xt.metaChar+"))+";xt.className="(?:[\\w-]|(?:\\\\"+xt.metaChar+"))+";xt.value=xt.string+"|"+xt.number;xt.id=xt.variable;(function(){var t,e,r;for(t=xt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],xt.comparatorOp+="|@"+e;for(t=xt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(xt.comparatorOp+="|\\!"+e)})();var _t=function(){return{checks:[]}},Pe={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},jp=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return FS(t.selector,e.selector)}),XC=(function(){for(var t={},e,r=0;r<jp.length;r++)e=jp[r],t[e.selector]=e.matches;return t})(),ZC=function(e,r){return XC[e](r)},QC="("+jp.map(function(t){return t.selector}).join("|")+")",Mu=function(e){return e.replace(new RegExp("\\\\("+xt.metaChar+")","g"),function(r,n){return n})},ki=function(e,r,n){e[e.length-1]=n},qp=[{name:"group",query:!0,regex:"("+xt.group+")",populate:function(e,r,n){var l=xr(n,1),u=l[0];r.checks.push({type:Pe.GROUP,value:u==="*"?u:u+"s"})}},{name:"state",query:!0,regex:QC,populate:function(e,r,n){var l=xr(n,1),u=l[0];r.checks.push({type:Pe.STATE,value:u})}},{name:"id",query:!0,regex:"\\#("+xt.id+")",populate:function(e,r,n){var l=xr(n,1),u=l[0];r.checks.push({type:Pe.ID,value:Mu(u)})}},{name:"className",query:!0,regex:"\\.("+xt.className+")",populate:function(e,r,n){var l=xr(n,1),u=l[0];r.checks.push({type:Pe.CLASS,value:Mu(u)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+xt.variable+")\\s*\\]",populate:function(e,r,n){var l=xr(n,1),u=l[0];r.checks.push({type:Pe.DATA_EXIST,field:Mu(u)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+xt.variable+")\\s*("+xt.comparatorOp+")\\s*("+xt.value+")\\s*\\]",populate:function(e,r,n){var l=xr(n,3),u=l[0],s=l[1],c=l[2],d=new RegExp("^"+xt.string+"$").exec(c)!=null;d?c=c.substring(1,c.length-1):c=parseFloat(c),r.checks.push({type:Pe.DATA_COMPARE,field:Mu(u),operator:s,value:c})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+xt.boolOp+")\\s*("+xt.variable+")\\s*\\]",populate:function(e,r,n){var l=xr(n,2),u=l[0],s=l[1];r.checks.push({type:Pe.DATA_BOOL,field:Mu(s),operator:u})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+xt.meta+")\\s*("+xt.comparatorOp+")\\s*("+xt.number+")\\s*\\]\\]",populate:function(e,r,n){var l=xr(n,3),u=l[0],s=l[1],c=l[2];r.checks.push({type:Pe.META_COMPARE,field:Mu(u),operator:s,value:parseFloat(c)})}},{name:"nextQuery",separator:!0,regex:xt.separator,populate:function(e,r){var n=e.currentSubject,l=e.edgeCount,u=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=l,s.compoundCount=u,e.edgeCount=0,e.compoundCount=0;var c=e[e.length++]=_t();return c}},{name:"directedEdge",separator:!0,regex:xt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=_t(),l=r,u=_t();return n.checks.push({type:Pe.DIRECTED_EDGE,source:l,target:u}),ki(e,r,n),e.edgeCount++,u}else{var s=_t(),c=r,d=_t();return s.checks.push({type:Pe.NODE_SOURCE,source:c,target:d}),ki(e,r,s),e.edgeCount++,d}}},{name:"undirectedEdge",separator:!0,regex:xt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=_t(),l=r,u=_t();return n.checks.push({type:Pe.UNDIRECTED_EDGE,nodes:[l,u]}),ki(e,r,n),e.edgeCount++,u}else{var s=_t(),c=r,d=_t();return s.checks.push({type:Pe.NODE_NEIGHBOR,node:c,neighbor:d}),ki(e,r,s),d}}},{name:"child",separator:!0,regex:xt.child,populate:function(e,r){if(e.currentSubject==null){var n=_t(),l=_t(),u=e[e.length-1];return n.checks.push({type:Pe.CHILD,parent:u,child:l}),ki(e,r,n),e.compoundCount++,l}else if(e.currentSubject===r){var s=_t(),c=e[e.length-1],d=_t(),f=_t(),v=_t(),g=_t();return s.checks.push({type:Pe.COMPOUND_SPLIT,left:c,right:d,subject:f}),f.checks=r.checks,r.checks=[{type:Pe.TRUE}],g.checks.push({type:Pe.TRUE}),d.checks.push({type:Pe.PARENT,parent:g,child:v}),ki(e,c,s),e.currentSubject=f,e.compoundCount++,v}else{var p=_t(),E=_t(),b=[{type:Pe.PARENT,parent:p,child:E}];return p.checks=r.checks,r.checks=b,e.compoundCount++,E}}},{name:"descendant",separator:!0,regex:xt.descendant,populate:function(e,r){if(e.currentSubject==null){var n=_t(),l=_t(),u=e[e.length-1];return n.checks.push({type:Pe.DESCENDANT,ancestor:u,descendant:l}),ki(e,r,n),e.compoundCount++,l}else if(e.currentSubject===r){var s=_t(),c=e[e.length-1],d=_t(),f=_t(),v=_t(),g=_t();return s.checks.push({type:Pe.COMPOUND_SPLIT,left:c,right:d,subject:f}),f.checks=r.checks,r.checks=[{type:Pe.TRUE}],g.checks.push({type:Pe.TRUE}),d.checks.push({type:Pe.ANCESTOR,ancestor:g,descendant:v}),ki(e,c,s),e.currentSubject=f,e.compoundCount++,v}else{var p=_t(),E=_t(),b=[{type:Pe.ANCESTOR,ancestor:p,descendant:E}];return p.checks=r.checks,r.checks=b,e.compoundCount++,E}}},{name:"subject",modifier:!0,regex:xt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return Mt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],l=n.checks[0],u=l==null?null:l.type;u===Pe.DIRECTED_EDGE?l.type=Pe.NODE_TARGET:u===Pe.UNDIRECTED_EDGE&&(l.type=Pe.NODE_NEIGHBOR,l.node=l.nodes[1],l.neighbor=l.nodes[0],l.nodes=null)}}];qp.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var WC=function(e){for(var r,n,l,u=0;u<qp.length;u++){var s=qp[u],c=s.name,d=e.match(s.regexObj);if(d!=null){n=d,r=s,l=c;var f=d[0];e=e.substring(f.length);break}}return{expr:r,match:n,name:l,remaining:e}},$C=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},JC=function(e){var r=this,n=r.inputText=e,l=r[0]=_t();for(r.length=1,n=$C(n);;){var u=WC(n);if(u.expr==null)return Mt("The selector `"+e+"`is invalid"),!1;var s=u.match.slice(1),c=u.expr.populate(r,l,s);if(c===!1)return!1;if(c!=null&&(l=c),n=u.remaining,n.match(/^\s*$/))break}var d=r[r.length-1];r.currentSubject!=null&&(d.subject=r.currentSubject),d.edgeCount=r.edgeCount,d.compoundCount=r.compoundCount;for(var f=0;f<r.length;f++){var v=r[f];if(v.compoundCount>0&&v.edgeCount>0)return Mt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(v.edgeCount>1)return Mt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;v.edgeCount===1&&Mt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},eN=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(v){return v??""},r=function(v){return Xe(v)?'"'+v+'"':e(v)},n=function(v){return" "+v+" "},l=function(v,g){var p=v.type,E=v.value;switch(p){case Pe.GROUP:{var b=e(E);return b.substring(0,b.length-1)}case Pe.DATA_COMPARE:{var C=v.field,S=v.operator;return"["+C+n(e(S))+r(E)+"]"}case Pe.DATA_BOOL:{var T=v.operator,N=v.field;return"["+e(T)+N+"]"}case Pe.DATA_EXIST:{var R=v.field;return"["+R+"]"}case Pe.META_COMPARE:{var D=v.operator,O=v.field;return"[["+O+n(e(D))+r(E)+"]]"}case Pe.STATE:return E;case Pe.ID:return"#"+E;case Pe.CLASS:return"."+E;case Pe.PARENT:case Pe.CHILD:return u(v.parent,g)+n(">")+u(v.child,g);case Pe.ANCESTOR:case Pe.DESCENDANT:return u(v.ancestor,g)+" "+u(v.descendant,g);case Pe.COMPOUND_SPLIT:{var I=u(v.left,g),M=u(v.subject,g),k=u(v.right,g);return I+(I.length>0?" ":"")+M+k}case Pe.TRUE:return""}},u=function(v,g){return v.checks.reduce(function(p,E,b){return p+(g===v&&b===0?"$":"")+l(E,g)},"")},s="",c=0;c<this.length;c++){var d=this[c];s+=u(d,d.subject),this.length>1&&c<this.length-1&&(s+=", ")}return this.toStringCache=s,s},tN={parse:JC,toString:eN},qx=function(e,r,n){var l,u=Xe(e),s=Me(e),c=Xe(n),d,f,v=!1,g=!1,p=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),g=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),v=!0),(u||c||v)&&(d=!u&&!s?"":""+e,f=""+n),v&&(e=d=d.toLowerCase(),n=f=f.toLowerCase()),r){case"*=":l=d.indexOf(f)>=0;break;case"$=":l=d.indexOf(f,d.length-f.length)>=0;break;case"^=":l=d.indexOf(f)===0;break;case"=":l=e===n;break;case">":p=!0,l=e>n;break;case">=":p=!0,l=e>=n;break;case"<":p=!0,l=e<n;break;case"<=":p=!0,l=e<=n;break;default:l=!1;break}return g&&(e!=null||!p)&&(l=!l),l},rN=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},aN=function(e){return e!==void 0},gm=function(e,r){return e.data(r)},nN=function(e,r){return e[r]()},ur=[],Qt=function(e,r){return e.checks.every(function(n){return ur[n.type](n,r)})};ur[Pe.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};ur[Pe.STATE]=function(t,e){var r=t.value;return ZC(r,e)};ur[Pe.ID]=function(t,e){var r=t.value;return e.id()===r};ur[Pe.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};ur[Pe.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,l=t.value;return qx(nN(e,r),n,l)};ur[Pe.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,l=t.value;return qx(gm(e,r),n,l)};ur[Pe.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return rN(gm(e,r),n)};ur[Pe.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,aN(gm(e,r))};ur[Pe.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],l=e.source(),u=e.target();return Qt(r,l)&&Qt(n,u)||Qt(n,l)&&Qt(r,u)};ur[Pe.NODE_NEIGHBOR]=function(t,e){return Qt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Qt(t.neighbor,r)})};ur[Pe.DIRECTED_EDGE]=function(t,e){return Qt(t.source,e.source())&&Qt(t.target,e.target())};ur[Pe.NODE_SOURCE]=function(t,e){return Qt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Qt(t.target,r)})};ur[Pe.NODE_TARGET]=function(t,e){return Qt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Qt(t.source,r)})};ur[Pe.CHILD]=function(t,e){return Qt(t.child,e)&&Qt(t.parent,e.parent())};ur[Pe.PARENT]=function(t,e){return Qt(t.parent,e)&&e.children().some(function(r){return Qt(t.child,r)})};ur[Pe.DESCENDANT]=function(t,e){return Qt(t.descendant,e)&&e.ancestors().some(function(r){return Qt(t.ancestor,r)})};ur[Pe.ANCESTOR]=function(t,e){return Qt(t.ancestor,e)&&e.descendants().some(function(r){return Qt(t.descendant,r)})};ur[Pe.COMPOUND_SPLIT]=function(t,e){return Qt(t.subject,e)&&Qt(t.left,e)&&Qt(t.right,e)};ur[Pe.TRUE]=function(){return!0};ur[Pe.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};ur[Pe.FILTER]=function(t,e){var r=t.value;return r(e)};var iN=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Pe.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(u){for(var s=0;s<r.length;s++){var c=r[s];if(Qt(c,u))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},lN=function(e){for(var r=this,n=0;n<r.length;n++){var l=r[n];if(Qt(l,e))return!0}return!1},uN={matches:lN,filter:iN},Fi=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Xe(e)&&e.match(/^\s*$/)||(Da(e)?this.addQuery({checks:[{type:Pe.COLLECTION,value:e.collection()}]}):ar(e)?this.addQuery({checks:[{type:Pe.FILTER,value:e}]}):Xe(e)?this.parse(e)||(this.invalid=!0):er("A selector must be created from a string; found "))},Yi=Fi.prototype;[tN,uN].forEach(function(t){return $e(Yi,t)});Yi.text=function(){return this.inputText};Yi.size=function(){return this.length};Yi.eq=function(t){return this[t]};Yi.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Yi.addQuery=function(t){this[this.length++]=t};Yi.selector=Yi.toString;var ji={allAre:function(e){var r=new Fi(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new Fi(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var l=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(l)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var l=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!l)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(l){return e.hasElementWithId(l.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};ji.allAreNeighbours=ji.allAreNeighbors;ji.has=ji.contains;ji.equal=ji.equals=ji.same;var ja=function(e,r){return function(l,u,s,c){var d=l,f=this,v;if(d==null?v="":Da(d)&&d.length===1&&(v=d.id()),f.length===1&&v){var g=f[0]._private,p=g.traversalCache=g.traversalCache||{},E=p[r]=p[r]||[],b=Ml(v),C=E[b];return C||(E[b]=e.call(f,l,u,s,c))}else return e.call(f,l,u,s,c)}},Qu={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var l=0;l<this.length;l++){var u=this[l],s=u._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var l=0;l<n.length;l++){var u=n[l];r.push(u)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var l=this[n],u=l.parents();r=r||u,r=r.intersect(u)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:ja(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],l=n._private.children,u=0;u<l.length;u++)e.push(l[u]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(l){for(var u=0;u<l.length;u++){var s=l[u];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function pm(t,e,r,n){for(var l=[],u=new Wu,s=t.cy(),c=s.hasCompoundNodes(),d=0;d<t.length;d++){var f=t[d];r?l.push(f):c&&n(l,u,f)}for(;l.length>0;){var v=l.shift();e(v),u.add(v.id()),c&&n(l,u,v)}return t}function Gx(t,e,r){if(r.isParent())for(var n=r._private.children,l=0;l<n.length;l++){var u=n[l];e.has(u.id())||t.push(u)}}Qu.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return pm(this,t,e,Gx)};function Hx(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}Qu.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return pm(this,t,e,Hx)};function sN(t,e,r){Hx(t,e,r),Gx(t,e,r)}Qu.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return pm(this,t,e,sN)};Qu.ancestors=Qu.parents;var Lo,Vx;Lo=Vx={data:Ot.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Ot.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Ot.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ot.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Ot.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Ot.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Lo.attr=Lo.data;Lo.removeAttr=Lo.removeData;var oN=Vx,Nd={};function pp(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,l=r[0],u=l._private.edges,s=0;s<u.length;s++){var c=u[s];!e&&c.isLoop()||(n+=t(l,c))}return n}else return}}$e(Nd,{degree:pp(function(t,e){return e.source().same(e.target())?2:1}),indegree:pp(function(t,e){return e.target().same(t)?1:0}),outdegree:pp(function(t,e){return e.source().same(t)?1:0})});function Bu(t,e){return function(r){for(var n,l=this.nodes(),u=0;u<l.length;u++){var s=l[u],c=s[t](r);c!==void 0&&(n===void 0||e(c,n))&&(n=c)}return n}}$e(Nd,{minDegree:Bu("degree",function(t,e){return t<e}),maxDegree:Bu("degree",function(t,e){return t>e}),minIndegree:Bu("indegree",function(t,e){return t<e}),maxIndegree:Bu("indegree",function(t,e){return t>e}),minOutdegree:Bu("outdegree",function(t,e){return t<e}),maxOutdegree:Bu("outdegree",function(t,e){return t>e})});$e(Nd,{totalDegree:function(e){for(var r=0,n=this.nodes(),l=0;l<n.length;l++)r+=n[l].degree(e);return r}});var Ja,Fx,Yx=function(e,r,n){for(var l=0;l<e.length;l++){var u=e[l];if(!u.locked()){var s=u._private.position,c={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};u.isParent()&&!(c.x===0&&c.y===0)&&u.children().shift(c,n),u.dirtyBoundingBoxCache()}}},iE={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Yx(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};Ja=Fx={position:Ot.data(iE),silentPosition:Ot.data($e({},iE,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Yx(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(wt(e))r?this.silentPosition(e):this.position(e);else if(ar(e)){var n=e,l=this.cy();l.startBatch();for(var u=0;u<this.length;u++){var s=this[u],c=void 0;(c=n(s,u))&&(r?s.silentPosition(c):s.position(c))}l.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var l;if(wt(e)?(l={x:Me(e.x)?e.x:0,y:Me(e.y)?e.y:0},n=r):Xe(e)&&Me(r)&&(l={x:0,y:0},l[e]=r),l!=null){var u=this.cy();u.startBatch();for(var s=0;s<this.length;s++){var c=this[s];if(!(u.hasCompoundNodes()&&c.isChild()&&c.ancestors().anySame(this))){var d=c.position(),f={x:d.x+l.x,y:d.y+l.y};n?c.silentPosition(f):c.position(f)}}u.endBatch()}return this},silentShift:function(e,r){return wt(e)?this.shift(e,!0):Xe(e)&&Me(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],l=this.cy(),u=l.zoom(),s=l.pan(),c=wt(e)?e:void 0,d=c!==void 0||r!==void 0&&Xe(e);if(n&&n.isNode())if(d)for(var f=0;f<this.length;f++){var v=this[f];r!==void 0?v.position(e,(r-s[e])/u):c!==void 0&&v.position(Ex(c,u,s))}else{var g=n.position();return c=xd(g,u,s),e===void 0?c:c[e]}else if(!d)return;return this},relativePosition:function(e,r){var n=this[0],l=this.cy(),u=wt(e)?e:void 0,s=u!==void 0||r!==void 0&&Xe(e),c=l.hasCompoundNodes();if(n&&n.isNode())if(s)for(var d=0;d<this.length;d++){var f=this[d],v=c?f.parent():null,g=v&&v.length>0,p=g;g&&(v=v[0]);var E=p?v.position():{x:0,y:0};r!==void 0?f.position(e,r+E[e]):u!==void 0&&f.position({x:u.x+E.x,y:u.y+E.y})}else{var b=n.position(),C=c?n.parent():null,S=C&&C.length>0,T=S;S&&(C=C[0]);var N=T?C.position():{x:0,y:0};return u={x:b.x-N.x,y:b.y-N.y},e===void 0?u:u[e]}else if(!s)return;return this}};Ja.modelPosition=Ja.point=Ja.position;Ja.modelPositions=Ja.points=Ja.positions;Ja.renderedPoint=Ja.renderedPosition;Ja.relativePoint=Ja.relativePosition;var cN=Fx,Ku,Qi;Ku=Qi={};Qi.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),l=r.pan(),u=e.x1*n+l.x,s=e.x2*n+l.x,c=e.y1*n+l.y,d=e.y2*n+l.y;return{x1:u,x2:s,y1:c,y2:d,w:s-u,h:d-c}};Qi.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};Qi.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var c=s._private,d=s.children(),f=s.pstyle("compound-sizing-wrt-labels").value==="include",v={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},g=d.boundingBox({includeLabels:f,includeOverlays:!1,useCache:!1}),p=c.position;(g.w===0||g.h===0)&&(g={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},g.x1=p.x-g.w/2,g.x2=p.x+g.w/2,g.y1=p.y-g.h/2,g.y2=p.y+g.h/2);function E(j,_,P){var L=0,H=0,X=_+P;return j>0&&X>0&&(L=_/X*j,H=P/X*j),{biasDiff:L,biasComplementDiff:H}}function b(j,_,P,L){if(P.units==="%")switch(L){case"width":return j>0?P.pfValue*j:0;case"height":return _>0?P.pfValue*_:0;case"average":return j>0&&_>0?P.pfValue*(j+_)/2:0;case"min":return j>0&&_>0?j>_?P.pfValue*_:P.pfValue*j:0;case"max":return j>0&&_>0?j>_?P.pfValue*j:P.pfValue*_:0;default:return 0}else return P.units==="px"?P.pfValue:0}var C=v.width.left.value;v.width.left.units==="px"&&v.width.val>0&&(C=C*100/v.width.val);var S=v.width.right.value;v.width.right.units==="px"&&v.width.val>0&&(S=S*100/v.width.val);var T=v.height.top.value;v.height.top.units==="px"&&v.height.val>0&&(T=T*100/v.height.val);var N=v.height.bottom.value;v.height.bottom.units==="px"&&v.height.val>0&&(N=N*100/v.height.val);var R=E(v.width.val-g.w,C,S),D=R.biasDiff,O=R.biasComplementDiff,I=E(v.height.val-g.h,T,N),M=I.biasDiff,k=I.biasComplementDiff;c.autoPadding=b(g.w,g.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),c.autoWidth=Math.max(g.w,v.width.val),p.x=(-D+g.x1+g.x2+O)/2,c.autoHeight=Math.max(g.h,v.height.val),p.y=(-M+g.y1+g.y2+k)/2}for(var n=0;n<this.length;n++){var l=this[n],u=l._private;(!u.compoundBoundsClean||t)&&(r(l),e.batching()||(u.compoundBoundsClean=!0))}return this};var Pa=function(e){return e===1/0||e===-1/0?0:e},$a=function(e,r,n,l,u){l-r===0||u-n===0||r==null||n==null||l==null||u==null||(e.x1=r<e.x1?r:e.x1,e.x2=l>e.x2?l:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=u>e.y2?u:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},zi=function(e,r){return r==null?e:$a(e,r.x1,r.y1,r.x2,r.y2)},ho=function(e,r,n){return ya(e,r,n)},kf=function(e,r,n){if(!r.cy().headless()){var l=r._private,u=l.rstyle,s=u.arrowWidth/2,c=r.pstyle(n+"-arrow-shape").value,d,f;if(c!=="none"){n==="source"?(d=u.srcX,f=u.srcY):n==="target"?(d=u.tgtX,f=u.tgtY):(d=u.midX,f=u.midY);var v=l.arrowBounds=l.arrowBounds||{},g=v[n]=v[n]||{};g.x1=d-s,g.y1=f-s,g.x2=d+s,g.y2=f+s,g.w=g.x2-g.x1,g.h=g.y2-g.y1,Kf(g,1),$a(e,g.x1,g.y1,g.x2,g.y2)}}},mp=function(e,r,n){if(!r.cy().headless()){var l;n?l=n+"-":l="";var u=r._private,s=u.rstyle,c=r.pstyle(l+"label").strValue;if(c){var d=r.pstyle("text-halign"),f=r.pstyle("text-valign"),v=ho(s,"labelWidth",n),g=ho(s,"labelHeight",n),p=ho(s,"labelX",n),E=ho(s,"labelY",n),b=r.pstyle(l+"text-margin-x").pfValue,C=r.pstyle(l+"text-margin-y").pfValue,S=r.isEdge(),T=r.pstyle(l+"text-rotation"),N=r.pstyle("text-outline-width").pfValue,R=r.pstyle("text-border-width").pfValue,D=R/2,O=r.pstyle("text-background-padding").pfValue,I=2,M=g,k=v,j=k/2,_=M/2,P,L,H,X;if(S)P=p-j,L=p+j,H=E-_,X=E+_;else{switch(d.value){case"left":P=p-k,L=p;break;case"center":P=p-j,L=p+j;break;case"right":P=p,L=p+k;break}switch(f.value){case"top":H=E-M,X=E;break;case"center":H=E-_,X=E+_;break;case"bottom":H=E,X=E+M;break}}var Z=b-Math.max(N,D)-O-I,G=b+Math.max(N,D)+O+I,F=C-Math.max(N,D)-O-I,W=C+Math.max(N,D)+O+I;P+=Z,L+=G,H+=F,X+=W;var ee=n||"main",te=u.labelBounds,q=te[ee]=te[ee]||{};q.x1=P,q.y1=H,q.x2=L,q.y2=X,q.w=L-P,q.h=X-H,q.leftPad=Z,q.rightPad=G,q.topPad=F,q.botPad=W;var Q=S&&T.strValue==="autorotate",J=T.pfValue!=null&&T.pfValue!==0;if(Q||J){var ie=Q?ho(u.rstyle,"labelAngle",n):T.pfValue,oe=Math.cos(ie),he=Math.sin(ie),be=(P+L)/2,Re=(H+X)/2;if(!S){switch(d.value){case"left":be=L;break;case"right":be=P;break}switch(f.value){case"top":Re=X;break;case"bottom":Re=H;break}}var ye=function(Qe,je){return Qe=Qe-be,je=je-Re,{x:Qe*oe-je*he+be,y:Qe*he+je*oe+Re}},ne=ye(P,H),ue=ye(P,X),fe=ye(L,H),Ee=ye(L,X);P=Math.min(ne.x,ue.x,fe.x,Ee.x),L=Math.max(ne.x,ue.x,fe.x,Ee.x),H=Math.min(ne.y,ue.y,fe.y,Ee.y),X=Math.max(ne.y,ue.y,fe.y,Ee.y)}var De=ee+"Rot",Le=te[De]=te[De]||{};Le.x1=P,Le.y1=H,Le.x2=L,Le.y2=X,Le.w=L-P,Le.h=X-H,$a(e,P,H,L,X),$a(u.labelBounds.all,P,H,L,X)}return e}},lE=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,l=r.pstyle("outline-width").value,u=r.pstyle("outline-offset").value,s=l+u;Kx(e,r,n,s,"outside",s/2)}},Kx=function(e,r,n,l,u,s){if(!(n===0||l<=0||u==="inside")){var c=r.cy(),d=r.pstyle("shape").value,f=c.renderer().nodeShapes[d],v=r.position(),g=v.x,p=v.y,E=r.width(),b=r.height();if(f.hasMiterBounds){u==="center"&&(l/=2);var C=f.miterBounds(g,p,E,b,l);zi(e,C)}else s!=null&&s>0&&Xf(e,[s,s,s,s])}},fN=function(e,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,l=r.pstyle("border-width").pfValue,u=r.pstyle("border-position").value;Kx(e,r,n,l,u)}},dN=function(e,r){var n=e._private.cy,l=n.styleEnabled(),u=n.headless(),s=aa(),c=e._private,d=e.isNode(),f=e.isEdge(),v,g,p,E,b,C,S=c.rstyle,T=d&&l?e.pstyle("bounds-expansion").pfValue:[0],N=function(lt){return lt.pstyle("display").value!=="none"},R=!l||N(e)&&(!f||N(e.source())&&N(e.target()));if(R){var D=0,O=0;l&&r.includeOverlays&&(D=e.pstyle("overlay-opacity").value,D!==0&&(O=e.pstyle("overlay-padding").value));var I=0,M=0;l&&r.includeUnderlays&&(I=e.pstyle("underlay-opacity").value,I!==0&&(M=e.pstyle("underlay-padding").value));var k=Math.max(O,M),j=0,_=0;if(l&&(j=e.pstyle("width").pfValue,_=j/2),d&&r.includeNodes){var P=e.position();b=P.x,C=P.y;var L=e.outerWidth(),H=L/2,X=e.outerHeight(),Z=X/2;v=b-H,g=b+H,p=C-Z,E=C+Z,$a(s,v,p,g,E),l&&lE(s,e),l&&r.includeOutlines&&!u&&lE(s,e),l&&fN(s,e)}else if(f&&r.includeEdges)if(l&&!u){var G=e.pstyle("curve-style").strValue;if(v=Math.min(S.srcX,S.midX,S.tgtX),g=Math.max(S.srcX,S.midX,S.tgtX),p=Math.min(S.srcY,S.midY,S.tgtY),E=Math.max(S.srcY,S.midY,S.tgtY),v-=_,g+=_,p-=_,E+=_,$a(s,v,p,g,E),G==="haystack"){var F=S.haystackPts;if(F&&F.length===2){if(v=F[0].x,p=F[0].y,g=F[1].x,E=F[1].y,v>g){var W=v;v=g,g=W}if(p>E){var ee=p;p=E,E=ee}$a(s,v-_,p-_,g+_,E+_)}}else if(G==="bezier"||G==="unbundled-bezier"||_i(G,"segments")||_i(G,"taxi")){var te;switch(G){case"bezier":case"unbundled-bezier":te=S.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":te=S.linePts;break}if(te!=null)for(var q=0;q<te.length;q++){var Q=te[q];v=Q.x-_,g=Q.x+_,p=Q.y-_,E=Q.y+_,$a(s,v,p,g,E)}}}else{var J=e.source(),ie=J.position(),oe=e.target(),he=oe.position();if(v=ie.x,g=he.x,p=ie.y,E=he.y,v>g){var be=v;v=g,g=be}if(p>E){var Re=p;p=E,E=Re}v-=_,g+=_,p-=_,E+=_,$a(s,v,p,g,E)}if(l&&r.includeEdges&&f&&(kf(s,e,"mid-source"),kf(s,e,"mid-target"),kf(s,e,"source"),kf(s,e,"target")),l){var ye=e.pstyle("ghost").value==="yes";if(ye){var ne=e.pstyle("ghost-offset-x").pfValue,ue=e.pstyle("ghost-offset-y").pfValue;$a(s,s.x1+ne,s.y1+ue,s.x2+ne,s.y2+ue)}}var fe=c.bodyBounds=c.bodyBounds||{};Fb(fe,s),Xf(fe,T),Kf(fe,1),l&&(v=s.x1,g=s.x2,p=s.y1,E=s.y2,$a(s,v-k,p-k,g+k,E+k));var Ee=c.overlayBounds=c.overlayBounds||{};Fb(Ee,s),Xf(Ee,T),Kf(Ee,1);var De=c.labelBounds=c.labelBounds||{};De.all!=null?K2(De.all):De.all=aa(),l&&r.includeLabels&&(r.includeMainLabels&&mp(s,e,null),f&&(r.includeSourceLabels&&mp(s,e,"source"),r.includeTargetLabels&&mp(s,e,"target")))}return s.x1=Pa(s.x1),s.y1=Pa(s.y1),s.x2=Pa(s.x2),s.y2=Pa(s.y2),s.w=Pa(s.x2-s.x1),s.h=Pa(s.y2-s.y1),s.w>0&&s.h>0&&R&&(Xf(s,T),Kf(s,1)),s},Xx=function(e){var r=0,n=function(s){return(s?1:0)<<r++},l=0;return l+=n(e.incudeNodes),l+=n(e.includeEdges),l+=n(e.includeLabels),l+=n(e.includeMainLabels),l+=n(e.includeSourceLabels),l+=n(e.includeTargetLabels),l+=n(e.includeOverlays),l+=n(e.includeOutlines),l},Zx=function(e){var r=function(c){return Math.round(c)};if(e.isEdge()){var n=e.source().position(),l=e.target().position();return Pb([r(n.x),r(n.y),r(l.x),r(l.y)])}else{var u=e.position();return Pb([r(u.x),r(u.y)])}},uE=function(e,r){var n=e._private,l,u=e.isEdge(),s=r==null?sE:Xx(r),c=s===sE;if(n.bbCache==null?(l=dN(e,ko),n.bbCache=l,n.bbCachePosKey=Zx(e)):l=n.bbCache,!c){var d=e.isNode();l=aa(),(r.includeNodes&&d||r.includeEdges&&!d)&&(r.includeOverlays?zi(l,n.overlayBounds):zi(l,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!u||r.includeSourceLabels&&r.includeTargetLabels)?zi(l,n.labelBounds.all):(r.includeMainLabels&&zi(l,n.labelBounds.mainRot),r.includeSourceLabels&&zi(l,n.labelBounds.sourceRot),r.includeTargetLabels&&zi(l,n.labelBounds.targetRot))),l.w=l.x2-l.x1,l.h=l.y2-l.y1}return l},ko={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},sE=Xx(ko),oE=Hr(ko);Qi.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=Xu(function(v){var g=v._private;return g.bbCache==null||g.styleDirty||g.bbCachePosKey!==Zx(v)},function(v){return v.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=ko:t=oE(t),e=uE(this[0],t);else{e=aa(),t=t||ko;var l=oE(t),u=this,s=u.cy(),c=s.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),c&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var d=0;d<u.length;d++){var f=u[d];n(f)&&f.dirtyBoundingBoxCache(),zi(e,uE(f,l))}}return e.x1=Pa(e.x1),e.y1=Pa(e.y1),e.x2=Pa(e.x2),e.y2=Pa(e.y2),e.w=Pa(e.x2-e.x1),e.h=Pa(e.y2-e.y1),e};Qi.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Qi.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),l=r.collection();if(n&&(l=e.filter(function(f){return f.isParent()}),e=e.not(l)),wt(t)){var u=t;t=function(){return u}}var s=function(v,g){return v._private.bbAtOldPos=t(v,g)},c=function(v){return v._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),l.updateCompoundBounds(!0));var d=Y2(this.boundingBox({useCache:!1}));return e.silentPositions(c),n&&(l.dirtyCompoundBoundsCache(),l.dirtyBoundingBoxCache(),l.updateCompoundBounds(!0)),r.endBatch(),d};Ku.boundingbox=Ku.bb=Ku.boundingBox;Ku.renderedBoundingbox=Ku.renderedBoundingBox;var vN=Qi,So,Yo;So=Yo={};var Qx=function(e){e.uppercaseName=Sb(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Sb(e.outerName),So[e.name]=function(){var n=this[0],l=n._private,u=l.cy,s=u._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),l[e.autoName]||0;var c=n.pstyle(e.name);return c.strValue==="label"?(n.recalculateRenderedStyle(),l.rstyle[e.labelName]||0):c.pfValue}else return 1},So["outer"+e.uppercaseName]=function(){var n=this[0],l=n._private,u=l.cy,s=u._private.styleEnabled;if(n)if(s){var c=n[e.name](),d=n.pstyle("border-position").value,f;d==="center"?f=n.pstyle("border-width").pfValue:d==="outside"?f=2*n.pstyle("border-width").pfValue:f=0;var v=2*n.padding();return c+f+v}else return 1},So["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var l=n[e.name]();return l*this.cy().zoom()}},So["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var l=n[e.outerName]();return l*this.cy().zoom()}}};Qx({name:"width"});Qx({name:"height"});Yo.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};Yo.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};Yo.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var hN=Yo,gN=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},pN=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return xd(r(e),n.zoom(),n.pan())}},mN=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),l=n.pan(),u=n.zoom();return r(e).map(function(s){return xd(s,u,l)})}},yN=function(e){return e.renderer().getControlPoints(e)},bN=function(e){return e.renderer().getSegmentPoints(e)},EN=function(e){return e.renderer().getSourceEndpoint(e)},xN=function(e){return e.renderer().getTargetEndpoint(e)},wN=function(e){return e.renderer().getEdgeMidpoint(e)},cE={controlPoints:{get:yN,mult:!0},segmentPoints:{get:bN,mult:!0},sourceEndpoint:{get:EN},targetEndpoint:{get:xN},midpoint:{get:wN}},TN=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},SN=Object.keys(cE).reduce(function(t,e){var r=cE[e],n=TN(e);return t[e]=function(){return gN(this,r.get)},r.mult?t[n]=function(){return mN(this,r.get)}:t[n]=function(){return pN(this,r.get)},t},{}),AN=$e({},cN,vN,hN,SN);var Wx=function(e,r){this.recycle(e,r)};function go(){return!1}function zf(){return!0}Wx.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=go,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?zf:go):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,l=this.cy.zoom(),u=this.cy.pan();this.renderedPosition={x:n.x*l+u.x,y:n.y*l+u.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=zf;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=zf;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=zf,this.stopPropagation()},isDefaultPrevented:go,isPropagationStopped:go,isImmediatePropagationStopped:go};var $x=/^([^.]+)(\.(?:[^.]+))?$/,CN=".*",Jx={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},fE=Object.keys(Jx),NN={};function Rd(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:NN,e=arguments.length>1?arguments[1]:void 0,r=0;r<fE.length;r++){var n=fE[r];this[n]=t[n]||Jx[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Ki=Rd.prototype,ew=function(e,r,n,l,u,s,c){ar(l)&&(u=l,l=null),c&&(s==null?s=c:s=$e({},s,c));for(var d=qt(n)?n:n.split(/\s+/),f=0;f<d.length;f++){var v=d[f];if(!Gi(v)){var g=v.match($x);if(g){var p=g[1],E=g[2]?g[2]:null,b=r(e,v,p,E,l,u,s);if(b===!1)break}}}},dE=function(e,r){return e.addEventFields(e.context,r),new Wx(r.type,r)},RN=function(e,r,n){if(LS(n)){r(e,n);return}else if(wt(n)){r(e,dE(e,n));return}for(var l=qt(n)?n:n.split(/\s+/),u=0;u<l.length;u++){var s=l[u];if(!Gi(s)){var c=s.match($x);if(c){var d=c[1],f=c[2]?c[2]:null,v=dE(e,{type:d,namespace:f,target:e.context});r(e,v)}}}};Ki.on=Ki.addListener=function(t,e,r,n,l){return ew(this,function(u,s,c,d,f,v,g){ar(v)&&u.listeners.push({event:s,callback:v,type:c,namespace:d,qualifier:f,conf:g})},t,e,r,n,l),this};Ki.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};Ki.removeListener=Ki.off=function(t,e,r,n){var l=this;this.emitting!==0&&(this.listeners=p2(this.listeners));for(var u=this.listeners,s=function(f){var v=u[f];ew(l,function(g,p,E,b,C,S){if((v.type===E||t==="*")&&(!b&&v.namespace!==".*"||v.namespace===b)&&(!C||g.qualifierCompare(v.qualifier,C))&&(!S||v.callback===S))return u.splice(f,1),!1},t,e,r,n)},c=u.length-1;c>=0;c--)s(c);return this};Ki.removeAllListeners=function(){return this.removeListener("*")};Ki.emit=Ki.trigger=function(t,e,r){var n=this.listeners,l=n.length;return this.emitting++,qt(e)||(e=[e]),RN(this,function(u,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],l=n.length);for(var c=function(){var v=n[d];if(v.type===s.type&&(!v.namespace||v.namespace===s.namespace||v.namespace===CN)&&u.eventMatches(u.context,v,s)){var g=[s];e!=null&&y2(g,e),u.beforeEmit(u.context,v,s),v.conf&&v.conf.one&&(u.listeners=u.listeners.filter(function(b){return b!==v}));var p=u.callbackContext(u.context,v,s),E=v.callback.apply(p,g);u.afterEmit(u.context,v,s),E===!1&&(s.stopPropagation(),s.preventDefault())}},d=0;d<l;d++)c();u.bubble(u.context)&&!s.isPropagationStopped()&&u.parent(u.context).emit(s,e)},t),this.emitting--,this};var DN={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var l=r.qualifier;return l!=null?e!==n.target&&jo(n.target)&&l.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},_f=function(e){return Xe(e)?new Fi(e):e},tw={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new Rd(DN,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var l=_f(r),u=0;u<this.length;u++){var s=this[u];s.emitter().on(e,l,n)}return this},removeListener:function(e,r,n){for(var l=_f(r),u=0;u<this.length;u++){var s=this[u];s.emitter().removeListener(e,l,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var l=_f(r),u=0;u<this.length;u++){var s=this[u];s.emitter().one(e,l,n)}return this},once:function(e,r,n){for(var l=_f(r),u=0;u<this.length;u++){var s=this[u];s.emitter().on(e,l,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var l=this[n];l.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};Ot.eventAliasesOn(tw);var rw={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var l=this[n];l.isNode()?e.push(l):r.push(l)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Xe(e)||Da(e))return new Fi(e).filter(this);if(ar(e)){for(var n=this.spawn(),l=this,u=0;u<l.length;u++){var s=l[u],c=r?e.apply(r,[s,u,l]):e(s,u,l);c&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){Xe(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var l=this[n],u=e.has(l);u||r.push(l)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Xe(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),l=this,u=e,s=this.length<e.length,c=s?l:u,d=s?u:l,f=0;f<c.length;f++){var v=c[f];d.has(v)&&n.push(v)}return n},xor:function(e){var r=this._private.cy;Xe(e)&&(e=r.$(e));var n=this.spawn(),l=this,u=e,s=function(d,f){for(var v=0;v<d.length;v++){var g=d[v],p=g._private.data.id,E=f.hasElementWithId(p);E||n.push(g)}};return s(l,u),s(u,l),n},diff:function(e){var r=this._private.cy;Xe(e)&&(e=r.$(e));var n=this.spawn(),l=this.spawn(),u=this.spawn(),s=this,c=e,d=function(v,g,p){for(var E=0;E<v.length;E++){var b=v[E],C=b._private.data.id,S=g.hasElementWithId(C);S?u.merge(b):p.push(b)}};return d(s,c,n),d(c,s,l),{left:n,right:l,both:u}},add:function(e){var r=this._private.cy;if(!e)return this;if(Xe(e)){var n=e;e=r.mutableElements().filter(n)}for(var l=this.spawnSelf(),u=0;u<e.length;u++){var s=e[u],c=!this.has(s);c&&l.push(s)}return l},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Xe(e)){var l=e;e=n.mutableElements().filter(l)}for(var u=r.map,s=0;s<e.length;s++){var c=e[s],d=c._private.data.id,f=!u.has(d);if(f){var v=this.length++;this[v]=c,u.set(d,{ele:c,index:v})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),l=this._private,u=l.map;this[e]=void 0,u.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var c=this.length-1,d=this[c],f=d._private.data.id;this[c]=void 0,this[e]=d,u.set(f,{ele:d,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,l=r.map,u=l.get(n);if(!u)return this;var s=u.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Xe(e)){var n=e;e=r.mutableElements().filter(n)}for(var l=0;l<e.length;l++)this.unmergeOne(e[l]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],l=this,u=0;u<l.length;u++){var s=l[u],c=r?e.apply(r,[s,u,l]):e(s,u,l);n.push(c)}return n},reduce:function(e,r){for(var n=r,l=this,u=0;u<l.length;u++)n=e(n,l[u],u,l);return n},max:function(e,r){for(var n=-1/0,l,u=this,s=0;s<u.length;s++){var c=u[s],d=r?e.apply(r,[c,s,u]):e(c,s,u);d>n&&(n=d,l=c)}return{value:n,ele:l}},min:function(e,r){for(var n=1/0,l,u=this,s=0;s<u.length;s++){var c=u[s],d=r?e.apply(r,[c,s,u]):e(c,s,u);d<n&&(n=d,l=c)}return{value:n,ele:l}}},Nt=rw;Nt.u=Nt["|"]=Nt["+"]=Nt.union=Nt.or=Nt.add;Nt["\\"]=Nt["!"]=Nt["-"]=Nt.difference=Nt.relativeComplement=Nt.subtract=Nt.not;Nt.n=Nt["&"]=Nt["."]=Nt.and=Nt.intersection=Nt.intersect;Nt["^"]=Nt["(+)"]=Nt["(-)"]=Nt.symmetricDifference=Nt.symdiff=Nt.xor;Nt.fnFilter=Nt.filterFn=Nt.stdFilter=Nt.filter;Nt.complement=Nt.abscomp=Nt.absoluteComplement;var ON={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},aw=function(e,r){var n=e.cy(),l=n.hasCompoundNodes();function u(v){var g=v.pstyle("z-compound-depth");return g.value==="auto"?l?v.zDepth():0:g.value==="bottom"?-1:g.value==="top"?im:0}var s=u(e)-u(r);if(s!==0)return s;function c(v){var g=v.pstyle("z-index-compare");return g.value==="auto"&&v.isNode()?1:0}var d=c(e)-c(r);if(d!==0)return d;var f=e.pstyle("z-index").value-r.pstyle("z-index").value;return f!==0?f:e.poolIndex()-r.poolIndex()},fd={forEach:function(e,r){if(ar(e))for(var n=this.length,l=0;l<n;l++){var u=this[l],s=r?e.apply(r,[u,l,this]):e(u,l,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],l=this.length;r==null&&(r=l),e==null&&(e=0),e<0&&(e=l+e),r<0&&(r=l+r);for(var u=e;u>=0&&u<r&&u<l;u++)n.push(this[u]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!ar(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(aw)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var l=r.data.parent?e.parents().size():0;return e.isParent()?l:im-1}else{var u=r.source,s=r.target,c=u.zDepth(),d=s.zDepth();return Math.max(c,d,0)}}}};fd.each=fd.forEach;var MN=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Dr(Symbol))!=e&&Dr(Symbol.iterator)!=e;r&&(fd[Symbol.iterator]=function(){var n=this,l={value:void 0,done:!1},u=0,s=this.length;return tx({next:function(){return u<s?l.value=n[u++]:(l.value=void 0,l.done=!0),l}},Symbol.iterator,function(){return this})})};MN();var BN=Hr({nodeDimensionsIncludeLabels:!1}),Qf={layoutDimensions:function(e){e=BN(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var l=this.nodes().filter(function(O){return!O.isParent()}),u=this.cy(),s=r.eles,c=function(I){return I.id()},d=Xu(n,c);e.emit({type:"layoutstart",layout:e}),e.animations=[];var f=function(I,M,k){var j={x:M.x1+M.w/2,y:M.y1+M.h/2},_={x:(k.x-j.x)*I,y:(k.y-j.y)*I};return{x:j.x+_.x,y:j.y+_.y}},v=r.spacingFactor&&r.spacingFactor!==1,g=function(){if(!v)return null;for(var I=aa(),M=0;M<l.length;M++){var k=l[M],j=d(k,M);xx(I,j.x,j.y)}return I},p=g(),E=Xu(function(O,I){var M=d(O,I);if(v){var k=Math.abs(r.spacingFactor);M=f(k,p,M)}return r.transform!=null&&(M=r.transform(O,M)),M},c);if(r.animate){for(var b=0;b<l.length;b++){var C=l[b],S=E(C,b),T=r.animateFilter==null||r.animateFilter(C,b);if(T){var N=C.animation({position:S,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(N)}else C.position(S)}if(r.fit){var R=u.animation({fit:{boundingBox:s.boundingBoxAt(E),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(R)}else if(r.zoom!==void 0&&r.pan!==void 0){var D=u.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(D)}e.animations.forEach(function(O){return O.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),$u.all(e.animations.map(function(O){return O.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else l.positions(E),r.fit&&u.fit(r.eles,r.padding),r.zoom!=null&&u.zoom(r.zoom),r.pan&&u.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout($e({},e,{eles:this}))}};Qf.createLayout=Qf.makeLayout=Qf.layout;function nw(t,e,r){var n=r._private,l=n.styleCache=n.styleCache||[],u;return(u=l[t])!=null||(u=l[t]=e(r)),u}function Dd(t,e){return t=Ml(t),function(n){return nw(t,e,n)}}function Od(t,e){t=Ml(t);var r=function(l){return e.call(l)};return function(){var l=this[0];if(l)return nw(t,r,l)}}var qr={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),l=r.styleEnabled();return n&&l&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(u){return u._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(l){r(l),l.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var l=r.hasCompoundNodes(),u=this;e=!!(e||e===void 0),l&&(u=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=u;return e?s.emitAndNotify("style"):s.emit("style"),u.forEach(function(c){return c._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],l=n.cy();if(l.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,l.style().apply(n));var u=n._private.style[e];return u??(r?l.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var l=!1,u=n.style();if(wt(e)){var s=e;u.applyBypass(this,s,l),this.emitAndNotify("style")}else if(Xe(e))if(r===void 0){var c=this[0];return c?u.getStylePropertyValue(c,e):void 0}else u.applyBypass(this,e,r,l),this.emitAndNotify("style");else if(e===void 0){var d=this[0];return d?u.getRawStyle(d):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,l=r.style(),u=this;if(e===void 0)for(var s=0;s<u.length;s++){var c=u[s];l.removeAllBypasses(c,n)}else{e=e.split(/\s+/);for(var d=0;d<u.length;d++){var f=u[d];l.removeBypasses(f,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var l=n._private,u=n.pstyle("opacity").value;if(!r)return u;var s=l.data.parent?n.parents():null;if(s)for(var c=0;c<s.length;c++){var d=s[c],f=d.pstyle("opacity").value;u=f*u}return u}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function yp(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var l=0;l<n.length;l++){var u=n[l];if(!e(u))return!1}return!0}function mm(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var l=this.cy();if(!l.styleEnabled())return!0;var u=this[0],s=l.hasCompoundNodes();if(u){var c=u._private;if(!e(u))return!1;if(u.isNode())return!s||yp(u,n);var d=c.source,f=c.target;return r(d)&&(!s||yp(d,r))&&(d===f||r(f)&&(!s||yp(f,r)))}}}var Ju=Dd("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});qr.takesUpSpace=Od("takesUpSpace",mm({ok:Ju}));var IN=Dd("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&Ju(t)}),LN=Dd("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&Ju(t)});qr.interactive=Od("interactive",mm({ok:IN,parentOk:LN,edgeOkViaNode:Ju}));qr.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var kN=Dd("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&Ju(t)}),zN=Ju;qr.visible=Od("visible",mm({ok:kN,edgeOkViaNode:zN}));qr.hidden=function(){var t=this[0];if(t)return!t.visible()};qr.isBundledBezier=Od("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});qr.bypass=qr.css=qr.style;qr.renderedCss=qr.renderedStyle;qr.removeBypass=qr.removeCss=qr.removeStyle;qr.pstyle=qr.parsedStyle;var qi={};function vE(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],l=e[1];this.on(t.event,n,l)}else if(e.length===1&&ar(e[0])){var u=e[0];this.on(t.event,u)}else if(e.length===0||e.length===1&&qt(e[0])){for(var s=e.length===1?e[0]:null,c=0;c<this.length;c++){var d=this[c],f=!t.ableField||d._private[t.ableField],v=d._private[t.field]!=t.value;if(t.overrideAble){var g=t.overrideAble(d);if(g!==void 0&&(f=g,!g))return this}f&&(d._private[t.field]=t.value,v&&r.push(d))}var p=this.spawn(r);p.updateStyle(),p.emit(t.event),s&&p.emit(s)}return this}}function es(t){qi[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},qi[t.on]=vE({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),qi[t.off]=vE({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}es({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});es({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});es({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});es({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});qi.deselect=qi.unselect;qi.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};es({field:"active",on:"activate",off:"unactivate"});es({field:"pannable",on:"panify",off:"unpanify"});qi.inactive=function(){var t=this[0];if(t)return!t._private.active};var Xr={},hE=function(e){return function(n){for(var l=this,u=[],s=0;s<l.length;s++){var c=l[s];if(c.isNode()){for(var d=!1,f=c.connectedEdges(),v=0;v<f.length;v++){var g=f[v],p=g.source(),E=g.target();if(e.noIncomingEdges&&E===c&&p!==c||e.noOutgoingEdges&&p===c&&E!==c){d=!0;break}}d||u.push(c)}}return this.spawn(u,!0).filter(n)}},gE=function(e){return function(r){for(var n=this,l=[],u=0;u<n.length;u++){var s=n[u];if(s.isNode())for(var c=s.connectedEdges(),d=0;d<c.length;d++){var f=c[d],v=f.source(),g=f.target();e.outgoing&&v===s?(l.push(f),l.push(g)):e.incoming&&g===s&&(l.push(f),l.push(v))}}return this.spawn(l,!0).filter(r)}},pE=function(e){return function(r){for(var n=this,l=[],u={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var c=!1,d=0;d<s.length;d++){var f=s[d],v=f.id();u[v]||(u[v]=!0,l.push(f),c=!0)}if(!c)break;n=s}return this.spawn(l,!0).filter(r)}};Xr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};$e(Xr,{roots:hE({noIncomingEdges:!0}),leaves:hE({noOutgoingEdges:!0}),outgoers:ja(gE({outgoing:!0}),"outgoers"),successors:pE({outgoing:!0}),incomers:ja(gE({incoming:!0}),"incomers"),predecessors:pE({})});$e(Xr,{neighborhood:ja(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var l=r[n],u=l.connectedEdges(),s=0;s<u.length;s++){var c=u[s],d=c.source(),f=c.target(),v=l===d?f:d;v.length>0&&e.push(v[0]),e.push(c[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Xr.neighbourhood=Xr.neighborhood;Xr.closedNeighbourhood=Xr.closedNeighborhood;Xr.openNeighbourhood=Xr.openNeighborhood;$e(Xr,{source:ja(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:ja(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:mE({attr:"source"}),targets:mE({attr:"target"})});function mE(t){return function(r){for(var n=[],l=0;l<this.length;l++){var u=this[l],s=u._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}$e(Xr,{edgesWith:ja(yE(),"edgesWith"),edgesTo:ja(yE({thisIsSrc:!0}),"edgesTo")});function yE(t){return function(r){var n=[],l=this._private.cy,u=t||{};Xe(r)&&(r=l.$(r));for(var s=0;s<r.length;s++)for(var c=r[s]._private.edges,d=0;d<c.length;d++){var f=c[d],v=f._private.data,g=this.hasElementWithId(v.source)&&r.hasElementWithId(v.target),p=r.hasElementWithId(v.source)&&this.hasElementWithId(v.target),E=g||p;E&&((u.thisIsSrc||u.thisIsTgt)&&(u.thisIsSrc&&!g||u.thisIsTgt&&!p)||n.push(f))}return this.spawn(n,!0)}}$e(Xr,{connectedEdges:ja(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var l=r[n];if(l.isNode())for(var u=l._private.edges,s=0;s<u.length;s++){var c=u[s];e.push(c)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:ja(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var l=r[n];l.isEdge()&&(e.push(l.source()[0]),e.push(l.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:ja(bE(),"parallelEdges"),codirectedEdges:ja(bE({codirected:!0}),"codirectedEdges")});function bE(t){var e={codirected:!1};return t=$e({},e,t),function(n){for(var l=[],u=this.edges(),s=t,c=0;c<u.length;c++)for(var d=u[c],f=d._private,v=f.source,g=v._private.data.id,p=f.data.target,E=v._private.edges,b=0;b<E.length;b++){var C=E[b],S=C._private.data,T=S.target,N=S.source,R=T===p&&N===g,D=g===T&&p===N;(s.codirected&&R||!s.codirected&&(R||D))&&l.push(C)}return this.spawn(l,!0).filter(n)}}$e(Xr,{components:function(e){var r=this,n=r.cy(),l=n.collection(),u=e==null?r.nodes():e.nodes(),s=[];e!=null&&u.empty()&&(u=e.sources());var c=function(v,g){l.merge(v),u.unmerge(v),g.merge(v)};if(u.empty())return r.spawn();var d=function(){var v=n.collection();s.push(v);var g=u[0];c(g,v),r.bfs({directed:!1,roots:g,visit:function(E){return c(E,v)}}),v.forEach(function(p){p.connectedEdges().forEach(function(E){r.has(E)&&v.has(E.source())&&v.has(E.target())&&v.merge(E)})})};do d();while(u.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Xr.componentsOf=Xr.components;var Gr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){er("A collection must have a reference to the core");return}var u=new Jn,s=!1;if(!r)r=[];else if(r.length>0&&wt(r[0])&&!jo(r[0])){s=!0;for(var c=[],d=new Wu,f=0,v=r.length;f<v;f++){var g=r[f];g.data==null&&(g.data={});var p=g.data;if(p.id==null)p.id=yx();else if(e.hasElementWithId(p.id)||d.has(p.id))continue;var E=new Ed(e,g,!1);c.push(E),d.add(p.id)}r=c}this.length=0;for(var b=0,C=r.length;b<C;b++){var S=r[b][0];if(S!=null){var T=S._private.data.id;(!n||!u.has(T))&&(n&&u.set(T,{index:this.length,ele:S}),this[this.length]=S,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(N){this.lazyMap=N},rebuildMap:function(){for(var R=this.lazyMap=new Jn,D=this.eles,O=0;O<D.length;O++){var I=D[O];R.set(I.id(),{index:O,ele:I})}}},n&&(this._private.map=u),s&&!l&&this.restore()},Yt=Ed.prototype=Gr.prototype=Object.create(Array.prototype);Yt.instanceString=function(){return"collection"};Yt.spawn=function(t,e){return new Gr(this.cy(),t,e)};Yt.spawnSelf=function(){return this.spawn(this)};Yt.cy=function(){return this._private.cy};Yt.renderer=function(){return this._private.cy.renderer()};Yt.element=function(){return this[0]};Yt.collection=function(){return nx(this)?this:new Gr(this._private.cy,[this])};Yt.unique=function(){return new Gr(this._private.cy,this,!0)};Yt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Yt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Gr(e)};Yt.$id=Yt.getElementById;Yt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};Yt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Yt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Yt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(wt(t)){if(r.startBatch(),t.data){e.data(t.data);var l=n.data;if(e.isEdge()){var u=!1,s={},c=t.data.source,d=t.data.target;c!=null&&c!=l.source&&(s.source=""+c,u=!0),d!=null&&d!=l.target&&(s.target=""+d,u=!0),u&&(e=e.move(s))}else{var f="parent"in t.data,v=t.data.parent;f&&(v!=null||l.parent!=null)&&v!=l.parent&&(v===void 0&&(v=null),v!=null&&(v=""+v),e=e.move({parent:v}))}}t.position&&e.position(t.position);var g=function(C,S,T){var N=t[C];N!=null&&N!==n[C]&&(N?e[S]():e[T]())};return g("removed","remove","restore"),g("selected","select","unselect"),g("selectable","selectify","unselectify"),g("locked","lock","unlock"),g("grabbable","grabify","ungrabify"),g("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var p={data:gn(n.data),position:gn(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var E=0;return n.classes.forEach(function(b){return p.classes+=E++===0?b:" "+b}),p}}};Yt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};Yt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],l=n.json(),u=new Ed(t,l,!1);e.push(u)}return new Gr(t,e)};Yt.copy=Yt.clone;Yt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),l=n._private,u=[],s=[],c,d=0,f=r.length;d<f;d++){var v=r[d];e&&!v.removed()||(v.isNode()?u.push(v):s.push(v))}c=u.concat(s);var g,p=function(){c.splice(g,1),g--};for(g=0;g<c.length;g++){var E=c[g],b=E._private,C=b.data;if(E.clearTraversalCache(),!(!e&&!b.removed)){if(C.id===void 0)C.id=yx();else if(Me(C.id))C.id=""+C.id;else if(Gi(C.id)||!Xe(C.id)){er("Can not create element with invalid string ID `"+C.id+"`"),p();continue}else if(n.hasElementWithId(C.id)){er("Can not create second element with ID `"+C.id+"`"),p();continue}}var S=C.id;if(E.isNode()){var T=b.position;T.x==null&&(T.x=0),T.y==null&&(T.y=0)}if(E.isEdge()){for(var N=E,R=["source","target"],D=R.length,O=!1,I=0;I<D;I++){var M=R[I],k=C[M];Me(k)&&(k=C[M]=""+C[M]),k==null||k===""?(er("Can not create edge `"+S+"` with unspecified "+M),O=!0):n.hasElementWithId(k)||(er("Can not create edge `"+S+"` with nonexistant "+M+" `"+k+"`"),O=!0)}if(O){p();continue}var j=n.getElementById(C.source),_=n.getElementById(C.target);j.same(_)?j._private.edges.push(N):(j._private.edges.push(N),_._private.edges.push(N)),N._private.source=j,N._private.target=_}b.map=new Jn,b.map.set(S,{ele:E,index:0}),b.removed=!1,e&&n.addToPool(E)}for(var P=0;P<u.length;P++){var L=u[P],H=L._private.data;Me(H.parent)&&(H.parent=""+H.parent);var X=H.parent,Z=X!=null;if(Z||L._private.parent){var G=L._private.parent?n.collection().merge(L._private.parent):n.getElementById(X);if(G.empty())H.parent=void 0;else if(G[0].removed())Mt("Node added with missing parent, reference to parent removed"),H.parent=void 0,L._private.parent=null;else{for(var F=!1,W=G;!W.empty();){if(L.same(W)){F=!0,H.parent=void 0;break}W=W.parent()}F||(G[0]._private.children.push(L),L._private.parent=G[0],l.hasCompoundNodes=!0)}}}if(c.length>0){for(var ee=c.length===r.length?r:new Gr(n,c),te=0;te<ee.length;te++){var q=ee[te];q.isNode()||(q.parallelEdges().clearTraversalCache(),q.source().clearTraversalCache(),q.target().clearTraversalCache())}var Q;l.hasCompoundNodes?Q=n.collection().merge(ee).merge(ee.connectedNodes()).merge(ee.parent()):Q=ee,Q.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?ee.emitAndNotify("add"):e&&ee.emit("add")}return r};Yt.removed=function(){var t=this[0];return t&&t._private.removed};Yt.inside=function(){var t=this[0];return t&&!t._private.removed};Yt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],l={},u=r._private.cy;function s(X){for(var Z=X._private.edges,G=0;G<Z.length;G++)d(Z[G])}function c(X){for(var Z=X._private.children,G=0;G<Z.length;G++)d(Z[G])}function d(X){var Z=l[X.id()];e&&X.removed()||Z||(l[X.id()]=!0,X.isNode()?(n.push(X),s(X),c(X)):n.unshift(X))}for(var f=0,v=r.length;f<v;f++){var g=r[f];d(g)}function p(X,Z){var G=X._private.edges;Hi(G,Z),X.clearTraversalCache()}function E(X){X.clearTraversalCache()}var b=[];b.ids={};function C(X,Z){Z=Z[0],X=X[0];var G=X._private.children,F=X.id();Hi(G,Z),Z._private.parent=null,b.ids[F]||(b.ids[F]=!0,b.push(X))}r.dirtyCompoundBoundsCache(),e&&u.removeFromPool(n);for(var S=0;S<n.length;S++){var T=n[S];if(T.isEdge()){var N=T.source()[0],R=T.target()[0];p(N,T),p(R,T);for(var D=T.parallelEdges(),O=0;O<D.length;O++){var I=D[O];E(I),I.isBundledBezier()&&I.dirtyBoundingBoxCache()}}else{var M=T.parent();M.length!==0&&C(M,T)}e&&(T._private.removed=!0)}var k=u._private.elements;u._private.hasCompoundNodes=!1;for(var j=0;j<k.length;j++){var _=k[j];if(_.isParent()){u._private.hasCompoundNodes=!0;break}}var P=new Gr(this.cy(),n);P.size()>0&&(t?P.emitAndNotify("remove"):e&&P.emit("remove"));for(var L=0;L<b.length;L++){var H=b[L];(!e||!H.removed())&&H.updateStyle()}return P};Yt.move=function(t){var e=this._private.cy,r=this,n=!1,l=!1,u=function(b){return b==null?b:""+b};if(t.source!==void 0||t.target!==void 0){var s=u(t.source),c=u(t.target),d=s!=null&&e.hasElementWithId(s),f=c!=null&&e.hasElementWithId(c);(d||f)&&(e.batch(function(){r.remove(n,l),r.emitAndNotify("moveout");for(var E=0;E<r.length;E++){var b=r[E],C=b._private.data;b.isEdge()&&(d&&(C.source=s),f&&(C.target=c))}r.restore(n,l)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var v=u(t.parent),g=v===null||e.hasElementWithId(v);if(g){var p=v===null?void 0:v;e.batch(function(){var E=r.remove(n,l);E.emitAndNotify("moveout");for(var b=0;b<r.length;b++){var C=r[b],S=C._private.data;C.isNode()&&(S.parent=p)}E.restore(n,l)}),r.emitAndNotify("move")}}return this};[Ox,KC,Zf,ji,Qu,oN,Nd,AN,tw,rw,ON,fd,Qf,qr,qi,Xr].forEach(function(t){$e(Yt,t)});var _N={add:function(e){var r,n=this;if(Da(e)){var l=e;if(l._private.cy===n)r=l.restore();else{for(var u=[],s=0;s<l.length;s++){var c=l[s];u.push(c.json())}r=new Gr(n,u)}}else if(qt(e)){var d=e;r=new Gr(n,d)}else if(wt(e)&&(qt(e.nodes)||qt(e.edges))){for(var f=e,v=[],g=["nodes","edges"],p=0,E=g.length;p<E;p++){var b=g[p],C=f[b];if(qt(C))for(var S=0,T=C.length;S<T;S++){var N=$e({group:b},C[S]);v.push(N)}}r=new Gr(n,v)}else{var R=e;r=new Ed(n,R).collection()}return r},remove:function(e){if(!Da(e)){if(Xe(e)){var r=e;e=this.$(r)}}return e.remove()}};function UN(t,e,r,n){var l=4,u=.001,s=1e-7,c=10,d=11,f=1/(d-1),v=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var g=0;g<4;++g)if(typeof arguments[g]!="number"||isNaN(arguments[g])||!isFinite(arguments[g]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var p=v?new Float32Array(d):new Array(d);function E(_,P){return 1-3*P+3*_}function b(_,P){return 3*P-6*_}function C(_){return 3*_}function S(_,P,L){return((E(P,L)*_+b(P,L))*_+C(P))*_}function T(_,P,L){return 3*E(P,L)*_*_+2*b(P,L)*_+C(P)}function N(_,P){for(var L=0;L<l;++L){var H=T(P,t,r);if(H===0)return P;var X=S(P,t,r)-_;P-=X/H}return P}function R(){for(var _=0;_<d;++_)p[_]=S(_*f,t,r)}function D(_,P,L){var H,X,Z=0;do X=P+(L-P)/2,H=S(X,t,r)-_,H>0?L=X:P=X;while(Math.abs(H)>s&&++Z<c);return X}function O(_){for(var P=0,L=1,H=d-1;L!==H&&p[L]<=_;++L)P+=f;--L;var X=(_-p[L])/(p[L+1]-p[L]),Z=P+X*f,G=T(Z,t,r);return G>=u?N(_,Z):G===0?Z:D(_,P,P+f)}var I=!1;function M(){I=!0,(t!==e||r!==n)&&R()}var k=function(P){return I||M(),t===e&&r===n?P:P===0?0:P===1?1:S(O(P),e,n)};k.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var j="generateBezier("+[t,e,r,n]+")";return k.toString=function(){return j},k}var PN=(function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,l,u){var s={x:n.x+u.dx*l,v:n.v+u.dv*l,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,l){var u={dx:n.v,dv:t(n)},s=e(n,l*.5,u),c=e(n,l*.5,s),d=e(n,l,c),f=1/6*(u.dx+2*(s.dx+c.dx)+d.dx),v=1/6*(u.dv+2*(s.dv+c.dv)+d.dv);return n.x=n.x+f*l,n.v=n.v+v*l,n}return function n(l,u,s){var c={x:-1,v:0,tension:null,friction:null},d=[0],f=0,v=1/1e4,g=16/1e3,p,E,b;for(l=parseFloat(l)||500,u=parseFloat(u)||20,s=s||null,c.tension=l,c.friction=u,p=s!==null,p?(f=n(l,u),E=f/s*g):E=g;b=r(b||c,E),d.push(1+b.x),f+=16,Math.abs(b.x)>v&&Math.abs(b.v)>v;);return p?function(C){return d[C*(d.length-1)|0]}:f}})(),Ft=function(e,r,n,l){var u=UN(e,r,n,l);return function(s,c,d){return s+(c-s)*u(d)}},Wf={linear:function(e,r,n){return e+(r-e)*n},ease:Ft(.25,.1,.25,1),"ease-in":Ft(.42,0,1,1),"ease-out":Ft(0,0,.58,1),"ease-in-out":Ft(.42,0,.58,1),"ease-in-sine":Ft(.47,0,.745,.715),"ease-out-sine":Ft(.39,.575,.565,1),"ease-in-out-sine":Ft(.445,.05,.55,.95),"ease-in-quad":Ft(.55,.085,.68,.53),"ease-out-quad":Ft(.25,.46,.45,.94),"ease-in-out-quad":Ft(.455,.03,.515,.955),"ease-in-cubic":Ft(.55,.055,.675,.19),"ease-out-cubic":Ft(.215,.61,.355,1),"ease-in-out-cubic":Ft(.645,.045,.355,1),"ease-in-quart":Ft(.895,.03,.685,.22),"ease-out-quart":Ft(.165,.84,.44,1),"ease-in-out-quart":Ft(.77,0,.175,1),"ease-in-quint":Ft(.755,.05,.855,.06),"ease-out-quint":Ft(.23,1,.32,1),"ease-in-out-quint":Ft(.86,0,.07,1),"ease-in-expo":Ft(.95,.05,.795,.035),"ease-out-expo":Ft(.19,1,.22,1),"ease-in-out-expo":Ft(1,0,0,1),"ease-in-circ":Ft(.6,.04,.98,.335),"ease-out-circ":Ft(.075,.82,.165,1),"ease-in-out-circ":Ft(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return Wf.linear;var l=PN(e,r,n);return function(u,s,c){return u+(s-u)*l(c)}},"cubic-bezier":Ft};function EE(t,e,r,n,l){if(n===1||e===r)return r;var u=l(e,r,n);return t==null||((t.roundValue||t.color)&&(u=Math.round(u)),t.min!==void 0&&(u=Math.max(u,t.min)),t.max!==void 0&&(u=Math.min(u,t.max))),u}function xE(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Iu(t,e,r,n,l){var u=l!=null?l.type:null;r<0?r=0:r>1&&(r=1);var s=xE(t,l),c=xE(e,l);if(Me(s)&&Me(c))return EE(u,s,c,r,n);if(qt(s)&&qt(c)){for(var d=[],f=0;f<c.length;f++){var v=s[f],g=c[f];if(v!=null&&g!=null){var p=EE(u,v,g,r,n);d.push(p)}else d.push(g)}return d}}function jN(t,e,r,n){var l=!n,u=t._private,s=e._private,c=s.easing,d=s.startTime,f=n?t:t.cy(),v=f.style();if(!s.easingImpl)if(c==null)s.easingImpl=Wf.linear;else{var g;if(Xe(c)){var p=v.parse("transition-timing-function",c);g=p.value}else g=c;var E,b;Xe(g)?(E=g,b=[]):(E=g[1],b=g.slice(2).map(function(ee){return+ee})),b.length>0?(E==="spring"&&b.push(s.duration),s.easingImpl=Wf[E].apply(null,b)):s.easingImpl=Wf[E]}var C=s.easingImpl,S;if(s.duration===0?S=1:S=(r-d)/s.duration,s.applying&&(S=s.progress),S<0?S=0:S>1&&(S=1),s.delay==null){var T=s.startPosition,N=s.position;if(N&&l&&!t.locked()){var R={};po(T.x,N.x)&&(R.x=Iu(T.x,N.x,S,C)),po(T.y,N.y)&&(R.y=Iu(T.y,N.y,S,C)),t.position(R)}var D=s.startPan,O=s.pan,I=u.pan,M=O!=null&&n;M&&(po(D.x,O.x)&&(I.x=Iu(D.x,O.x,S,C)),po(D.y,O.y)&&(I.y=Iu(D.y,O.y,S,C)),t.emit("pan"));var k=s.startZoom,j=s.zoom,_=j!=null&&n;_&&(po(k,j)&&(u.zoom=Bo(u.minZoom,Iu(k,j,S,C),u.maxZoom)),t.emit("zoom")),(M||_)&&t.emit("viewport");var P=s.style;if(P&&P.length>0&&l){for(var L=0;L<P.length;L++){var H=P[L],X=H.name,Z=H,G=s.startStyle[X],F=v.properties[G.name],W=Iu(G,Z,S,C,F);v.overrideBypass(t,X,W)}t.emit("style")}}return s.progress=S,S}function po(t,e){return t==null||e==null?!1:Me(t)&&Me(e)?!0:!!(t&&e)}function qN(t,e,r,n){var l=e._private;l.started=!0,l.startTime=r-l.progress*l.duration}function wE(t,e){var r=e._private.aniEles,n=[];function l(v,g){var p=v._private,E=p.animation.current,b=p.animation.queue,C=!1;if(E.length===0){var S=b.shift();S&&E.push(S)}for(var T=function(I){for(var M=I.length-1;M>=0;M--){var k=I[M];k()}I.splice(0,I.length)},N=E.length-1;N>=0;N--){var R=E[N],D=R._private;if(D.stopped){E.splice(N,1),D.hooked=!1,D.playing=!1,D.started=!1,T(D.frames);continue}!D.playing&&!D.applying||(D.playing&&D.applying&&(D.applying=!1),D.started||qN(v,R,t),jN(v,R,t,g),D.applying&&(D.applying=!1),T(D.frames),D.step!=null&&D.step(t),R.completed()&&(E.splice(N,1),D.hooked=!1,D.playing=!1,D.started=!1,T(D.completes)),C=!0)}return!g&&E.length===0&&b.length===0&&n.push(v),C}for(var u=!1,s=0;s<r.length;s++){var c=r[s],d=l(c);u=u||d}var f=l(e,!0);(u||f)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var GN={animate:Ot.animate(),animation:Ot.animation(),animated:Ot.animated(),clearQueue:Ot.clearQueue(),delay:Ot.delay(),delayAnimation:Ot.delayAnimation(),stop:Ot.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&ld(function(u){wE(u,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(u,s){wE(s,e)},n.beforeRenderPriorities.animations):r()}},HN={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var l=r.qualifier;return l!=null?e!==n.target&&jo(n.target)&&l.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},Uf=function(e){return Xe(e)?new Fi(e):e},iw={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Rd(HN,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,Uf(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,Uf(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,Uf(r),n),this},once:function(e,r,n){return this.emitter().one(e,Uf(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};Ot.eventAliasesOn(iw);var Gp={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Gp.jpeg=Gp.jpg;var $f={layout:function(e){var r=this;if(e==null){er("Layout options must be specified to make a layout");return}if(e.name==null){er("A `name` must be specified to make a layout");return}var n=e.name,l=r.extension("layout",n);if(l==null){er("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var u;Xe(e.eles)?u=r.$(e.eles):u=e.eles!=null?e.eles:r.$();var s=new l($e({},e,{cy:r,eles:u}));return s}};$f.createLayout=$f.makeLayout=$f.layout;var VN={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var l=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&l.merge(r);return}if(n.notificationsEnabled){var u=this.renderer();this.destroyed()||!u||u.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var l=e.batchNotifications[n];l.empty()?r.notify(n):r.notify(n,l)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),l=0;l<n.length;l++){var u=n[l],s=e[u],c=r.getElementById(u);c.data(s)}})}},FN=Hr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Hp={renderTo:function(e,r,n,l){var u=this._private.renderer;return u.renderTo(e,r,n,l),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){er("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Mt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var l=FN(e);l.cy=r,r._private.renderer=new n(l),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var l=n._private;l.rscratch={},l.rstyle={},l.animation.current=[],l.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Hp.invalidateDimensions=Hp.resize;var Jf={collection:function(e,r){return Xe(e)?this.$(e):Da(e)?e.collection():qt(e)?(r||(r={}),new Gr(this,e,r.unique,r.removed)):new Gr(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Jf.elements=Jf.filter=Jf.$;var zr={},Co="t",YN="f";zr.apply=function(t){for(var e=this,r=e._private,n=r.cy,l=n.collection(),u=0;u<t.length;u++){var s=t[u],c=e.getContextMeta(s);if(!c.empty){var d=e.getContextStyle(c),f=e.applyContextStyle(c,d,s);s._private.appliedInitStyle?e.updateTransitions(s,f.diffProps):s._private.appliedInitStyle=!0;var v=e.updateStyleHints(s);v&&l.push(s)}}return l};zr.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},l=t+"-"+e,u=n[l];if(u)return u;for(var s=[],c={},d=0;d<r.length;d++){var f=r[d],v=t[d]===Co,g=e[d]===Co,p=v!==g,E=f.mappedProperties.length>0;if(p||g&&E){var b=void 0;p&&E||p?b=f.properties:E&&(b=f.mappedProperties);for(var C=0;C<b.length;C++){for(var S=b[C],T=S.name,N=!1,R=d+1;R<r.length;R++){var D=r[R],O=e[R]===Co;if(O&&(N=D.properties[S.name]!=null,N))break}!c[T]&&!N&&(c[T]=!0,s.push(T))}}}return n[l]=s,s};zr.getContextMeta=function(t){for(var e=this,r="",n,l=t._private.styleCxtKey||"",u=0;u<e.length;u++){var s=e[u],c=s.selector&&s.selector.matches(t);c?r+=Co:r+=YN}return n=e.getPropertiesDiff(l,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};zr.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var l={_private:{key:e}},u=0;u<r.length;u++){var s=r[u],c=e[u]===Co;if(c)for(var d=0;d<s.properties.length;d++){var f=s.properties[d];l[f.name]=f}}return n[e]=l,l};zr.applyContextStyle=function(t,e,r){for(var n=this,l=t.diffPropNames,u={},s=n.types,c=0;c<l.length;c++){var d=l[c],f=e[d],v=r.pstyle(d);if(!f)if(v)v.bypass?f={name:d,deleteBypassed:!0}:f={name:d,delete:!0};else continue;if(v!==f){if(f.mapped===s.fn&&v!=null&&v.mapping!=null&&v.mapping.value===f.value){var g=v.mapping,p=g.fnValue=f.value(r);if(p===g.prevFnValue)continue}var E=u[d]={prev:v};n.applyParsedProperty(r,f),E.next=r.pstyle(d),E.next&&E.next.bypass&&(E.next=E.next.bypassed)}}return{diffProps:u}};zr.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,l=r.propertyGroupKeys,u=function(fe,Ee,De){return r.getPropertiesHash(fe,Ee,De)},s=e.styleKey;if(t.removed())return!1;var c=e.group==="nodes",d=t._private.style;n=Object.keys(d);for(var f=0;f<l.length;f++){var v=l[f];e.styleKeys[v]=[Rl,ju]}for(var g=function(fe,Ee){return e.styleKeys[Ee][0]=Do(fe,e.styleKeys[Ee][0])},p=function(fe,Ee){return e.styleKeys[Ee][1]=Oo(fe,e.styleKeys[Ee][1])},E=function(fe,Ee){g(fe,Ee),p(fe,Ee)},b=function(fe,Ee){for(var De=0;De<fe.length;De++){var Le=fe.charCodeAt(De);g(Le,Ee),p(Le,Ee)}},C=2e9,S=function(fe){return-128<fe&&fe<128&&Math.floor(fe)!==fe?C-(fe*1024|0):fe},T=0;T<n.length;T++){var N=n[T],R=d[N];if(R!=null){var D=this.properties[N],O=D.type,I=D.groupKey,M=void 0;D.hashOverride!=null?M=D.hashOverride(t,R):R.pfValue!=null&&(M=R.pfValue);var k=D.enums==null?R.value:null,j=M!=null,_=k!=null,P=j||_,L=R.units;if(O.number&&P&&!O.multiple){var H=j?M:k;E(S(H),I),!j&&L!=null&&b(L,I)}else b(R.strValue,I)}}for(var X=[Rl,ju],Z=0;Z<l.length;Z++){var G=l[Z],F=e.styleKeys[G];X[0]=Do(F[0],X[0]),X[1]=Oo(F[1],X[1])}e.styleKey=s2(X[0],X[1]);var W=e.styleKeys;e.labelDimsKey=Li(W.labelDimensions);var ee=u(t,["label"],W.labelDimensions);if(e.labelKey=Li(ee),e.labelStyleKey=Li(Of(W.commonLabel,ee)),!c){var te=u(t,["source-label"],W.labelDimensions);e.sourceLabelKey=Li(te),e.sourceLabelStyleKey=Li(Of(W.commonLabel,te));var q=u(t,["target-label"],W.labelDimensions);e.targetLabelKey=Li(q),e.targetLabelStyleKey=Li(Of(W.commonLabel,q))}if(c){var Q=e.styleKeys,J=Q.nodeBody,ie=Q.nodeBorder,oe=Q.nodeOutline,he=Q.backgroundImage,be=Q.compound,Re=Q.pie,ye=Q.stripe,ne=[J,ie,oe,he,be,Re,ye].filter(function(ue){return ue!=null}).reduce(Of,[Rl,ju]);e.nodeKey=Li(ne),e.hasPie=Re!=null&&Re[0]!==Rl&&Re[1]!==ju,e.hasStripe=ye!=null&&ye[0]!==Rl&&ye[1]!==ju}return s!==e.styleKey};zr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};zr.applyParsedProperty=function(t,e){var r=this,n=e,l=t._private.style,u,s=r.types,c=r.properties[n.name].type,d=n.bypass,f=l[n.name],v=f&&f.bypass,g=t._private,p="mapping",E=function(J){return J==null?null:J.pfValue!=null?J.pfValue:J.value},b=function(){var J=E(f),ie=E(n);r.checkTriggers(t,n.name,J,ie)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",d)),n.delete)return l[n.name]=void 0,b(),!0;if(n.deleteBypassed)return f?f.bypass?(f.bypassed=void 0,b(),!0):!1:(b(),!0);if(n.deleteBypass)return f?f.bypass?(l[n.name]=f.bypassed,b(),!0):!1:(b(),!0);var C=function(){Mt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var S=n.field.split("."),T=g.data,N=0;N<S.length&&T;N++){var R=S[N];T=T[R]}if(T==null)return C(),!1;var D;if(Me(T)){var O=n.fieldMax-n.fieldMin;O===0?D=0:D=(T-n.fieldMin)/O}else return Mt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+T+"` for `"+t.id()+"` is non-numeric)"),!1;if(D<0?D=0:D>1&&(D=1),c.color){var I=n.valueMin[0],M=n.valueMax[0],k=n.valueMin[1],j=n.valueMax[1],_=n.valueMin[2],P=n.valueMax[2],L=n.valueMin[3]==null?1:n.valueMin[3],H=n.valueMax[3]==null?1:n.valueMax[3],X=[Math.round(I+(M-I)*D),Math.round(k+(j-k)*D),Math.round(_+(P-_)*D),Math.round(L+(H-L)*D)];u={bypass:n.bypass,name:n.name,value:X,strValue:"rgb("+X[0]+", "+X[1]+", "+X[2]+")"}}else if(c.number){var Z=n.valueMin+(n.valueMax-n.valueMin)*D;u=this.parse(n.name,Z,n.bypass,p)}else return!1;if(!u)return C(),!1;u.mapping=n,n=u;break}case s.data:{for(var G=n.field.split("."),F=g.data,W=0;W<G.length&&F;W++){var ee=G[W];F=F[ee]}if(F!=null&&(u=this.parse(n.name,F,n.bypass,p)),!u)return C(),!1;u.mapping=n,n=u;break}case s.fn:{var te=n.value,q=n.fnValue!=null?n.fnValue:te(t);if(n.prevFnValue=q,q==null)return Mt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(u=this.parse(n.name,q,n.bypass,p),!u)return Mt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;u.mapping=gn(n),n=u;break}case void 0:break;default:return!1}return d?(v?n.bypassed=f.bypassed:n.bypassed=f,l[n.name]=n):v?f.bypassed=n:l[n.name]=n,b(),!0};zr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var l=n._private.style,u=Object.keys(l),s=0;s<u.length;s++){var c=u[s],d=l[c];d!=null&&(d.bypass?d.bypassed=null:l[c]=null)}}};zr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};zr.updateTransitions=function(t,e){var r=this,n=t._private,l=t.pstyle("transition-property").value,u=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(l.length>0&&u>0){for(var c={},d=!1,f=0;f<l.length;f++){var v=l[f],g=t.pstyle(v),p=e[v];if(p){var E=p.prev,b=E,C=p.next!=null?p.next:g,S=!1,T=void 0,N=1e-6;b&&(Me(b.pfValue)&&Me(C.pfValue)?(S=C.pfValue-b.pfValue,T=b.pfValue+N*S):Me(b.value)&&Me(C.value)?(S=C.value-b.value,T=b.value+N*S):qt(b.value)&&qt(C.value)&&(S=b.value[0]!==C.value[0]||b.value[1]!==C.value[1]||b.value[2]!==C.value[2],T=b.strValue),S&&(c[v]=C.strValue,this.applyBypass(t,v,T),d=!0))}}if(!d)return;n.transitioning=!0,new $u(function(R){s>0?t.delayAnimation(s).play().promise().then(R):R()}).then(function(){return t.animation({style:c,duration:u,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,l),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,l),t.emitAndNotify("style"),n.transitioning=!1)};zr.checkTrigger=function(t,e,r,n,l,u){var s=this.properties[e],c=l(s);t.removed()||c!=null&&c(r,n,t)&&u(s)};zr.checkZOrderTrigger=function(t,e,r,n){var l=this;this.checkTrigger(t,e,r,n,function(u){return u.triggersZOrder},function(){l._private.cy.notify("zorder",t)})};zr.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(l){return l.triggersBounds},function(l){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};zr.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(l){return l.triggersBoundsOfConnectedEdges},function(l){t.connectedEdges().forEach(function(u){u.dirtyBoundingBoxCache()})})};zr.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(l){return l.triggersBoundsOfParallelEdges},function(l){t.parallelEdges().forEach(function(u){u.dirtyBoundingBoxCache()})})};zr.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var Ko={};Ko.applyBypass=function(t,e,r,n){var l=this,u=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var c=0;c<l.properties.length;c++){var d=l.properties[c],f=d.name,v=this.parse(f,r,!0);v&&u.push(v)}}else if(Xe(e)){var g=this.parse(e,r,!0);g&&u.push(g)}else if(wt(e)){var p=e;n=r;for(var E=Object.keys(p),b=0;b<E.length;b++){var C=E[b],S=p[C];if(S===void 0&&(S=p[yd(C)]),S!==void 0){var T=this.parse(C,S,!0);T&&u.push(T)}}}else return!1;if(u.length===0)return!1;for(var N=!1,R=0;R<t.length;R++){for(var D=t[R],O={},I=void 0,M=0;M<u.length;M++){var k=u[M];if(n){var j=D.pstyle(k.name);I=O[k.name]={prev:j}}N=this.applyParsedProperty(D,gn(k))||N,n&&(I.next=D.pstyle(k.name))}N&&this.updateStyleHints(D),n&&this.updateTransitions(D,O,s)}return N};Ko.overrideBypass=function(t,e,r){e=am(e);for(var n=0;n<t.length;n++){var l=t[n],u=l._private.style[e],s=this.properties[e].type,c=s.color,d=s.mutiple,f=u?u.pfValue!=null?u.pfValue:u.value:null;!u||!u.bypass?this.applyBypass(l,e,r):(u.value=r,u.pfValue!=null&&(u.pfValue=r),c?u.strValue="rgb("+r.join(",")+")":d?u.strValue=r.join(" "):u.strValue=""+r,this.updateStyleHints(l)),this.checkTriggers(l,e,f,r)}};Ko.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};Ko.removeBypasses=function(t,e,r){for(var n=!0,l=0;l<t.length;l++){for(var u=t[l],s={},c=0;c<e.length;c++){var d=e[c],f=this.properties[d],v=u.pstyle(f.name);if(!(!v||!v.bypass)){var g="",p=this.parse(d,g,!0),E=s[f.name]={prev:v};this.applyParsedProperty(u,p),E.next=u.pstyle(f.name)}}this.updateStyleHints(u),r&&this.updateTransitions(u,s,n)}};var ym={};ym.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};ym.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var pn={};pn.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};pn.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},l=0;l<r.properties.length;l++){var u=r.properties[l],s=r.getStylePropertyValue(t,u.name,e);s!=null&&(n[u.name]=s,n[yd(u.name)]=s)}return n}};pn.getIndexedStyle=function(t,e,r,n){var l=t.pstyle(e)[r][n];return l??t.cy().style().getDefaultProperty(e)[r][0]};pn.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var l=n.properties[e];l.alias&&(l=l.pointsTo);var u=l.type,s=t.pstyle(l.name);if(s){var c=s.value,d=s.units,f=s.strValue;if(r&&u.number&&c!=null&&Me(c)){var v=t.cy().zoom(),g=function(S){return S*v},p=function(S,T){return g(S)+T},E=qt(c),b=E?d.every(function(C){return C!=null}):d!=null;return b?E?c.map(function(C,S){return p(C,d[S])}).join(" "):p(c,d):E?c.map(function(C){return Xe(C)?C:""+g(C)}).join(" "):""+g(c)}else if(f!=null)return f}return null}};pn.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var l=e[n],u=l.name,s=t.pstyle(u);s!==void 0&&(wt(s)?s=this.parse(u,s.strValue):s=this.parse(u,s)),s&&(r[u]=s)}return r};pn.getPropsList=function(t){var e=this,r=[],n=t,l=e.properties;if(n)for(var u=Object.keys(n),s=0;s<u.length;s++){var c=u[s],d=n[c],f=l[c]||l[am(c)],v=this.parse(f.name,d);v&&r.push(v)}return r};pn.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),l,u,s,c,d,f;for(d=0;d<e.length;d++)if(l=e[d],u=t.pstyle(l,!1),u!=null)if(u.pfValue!=null)n[0]=Do(c,n[0]),n[1]=Oo(c,n[1]);else for(s=u.strValue,f=0;f<s.length;f++)c=s.charCodeAt(f),n[0]=Do(c,n[0]),n[1]=Oo(c,n[1]);return n};pn.getPropertiesHash=pn.getNonDefaultPropertiesHash;var Md={};Md.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],l=n.selector,u=n.style||n.css,s=Object.keys(u);e.selector(l);for(var c=0;c<s.length;c++){var d=s[c],f=u[d];e.css(d,f)}}return e};Md.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Md.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,l=r.properties,u={},s=0;s<l.length;s++){var c=l[s];u[c.name]=c.strValue}t.push({selector:n?n.toString():"core",style:u})}return t};var bm={};bm.appendFromString=function(t){var e=this,r=this,n=""+t,l,u,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function c(){n.length>l.length?n=n.substr(l.length):n=""}function d(){u.length>s.length?u=u.substr(s.length):u=""}for(;;){var f=n.match(/^\s*$/);if(f)break;var v=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!v){Mt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}l=v[0];var g=v[1];if(g!=="core"){var p=new Fi(g);if(p.invalid){Mt("Skipping parsing of block: Invalid selector found in string stylesheet: "+g),c();continue}}var E=v[2],b=!1;u=E;for(var C=[];;){var S=u.match(/^\s*$/);if(S)break;var T=u.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!T){Mt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+E),b=!0;break}s=T[0];var N=T[1],R=T[2],D=e.properties[N];if(!D){Mt("Skipping property: Invalid property name in: "+s),d();continue}var O=r.parse(N,R);if(!O){Mt("Skipping property: Invalid property definition in: "+s),d();continue}C.push({name:N,val:R}),d()}if(b){c();break}r.selector(g);for(var I=0;I<C.length;I++){var M=C[I];r.css(M.name,M.val)}c()}return r};bm.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Er={};(function(){var t=Rr,e=jS,r=GS,n=HS,l=VS,u=function(ue){return"^"+ue+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(ue){var fe=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+l;return"^"+ue+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+fe+")\\s*\\,\\s*("+fe+")\\)$"},c=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Er.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:u("data")},layoutData:{mapping:!0,regex:u("layoutData")},scratch:{mapping:!0,regex:u("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:c,singleRegexMatchValue:!0},urls:{regexes:c,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(ue,fe){switch(ue.length){case 2:return fe[0]!=="deg"&&fe[0]!=="rad"&&fe[1]!=="deg"&&fe[1]!=="rad";case 1:return Xe(ue[0])||fe[0]==="deg"||fe[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(ue){var fe=ue.length;return fe===1||fe===2||fe===4}}};var d={zeroNonZero:function(ue,fe){return(ue==null||fe==null)&&ue!==fe||ue==0&&fe!=0?!0:ue!=0&&fe==0},any:function(ue,fe){return ue!=fe},emptyNonEmpty:function(ue,fe){var Ee=Gi(ue),De=Gi(fe);return Ee&&!De||!Ee&&De}},f=Er.types,v=[{name:"label",type:f.text,triggersBounds:d.any,triggersZOrder:d.emptyNonEmpty},{name:"text-rotation",type:f.textRotation,triggersBounds:d.any},{name:"text-margin-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"text-margin-y",type:f.bidirectionalSize,triggersBounds:d.any}],g=[{name:"source-label",type:f.text,triggersBounds:d.any},{name:"source-text-rotation",type:f.textRotation,triggersBounds:d.any},{name:"source-text-margin-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"source-text-margin-y",type:f.bidirectionalSize,triggersBounds:d.any},{name:"source-text-offset",type:f.size,triggersBounds:d.any}],p=[{name:"target-label",type:f.text,triggersBounds:d.any},{name:"target-text-rotation",type:f.textRotation,triggersBounds:d.any},{name:"target-text-margin-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"target-text-margin-y",type:f.bidirectionalSize,triggersBounds:d.any},{name:"target-text-offset",type:f.size,triggersBounds:d.any}],E=[{name:"font-family",type:f.fontFamily,triggersBounds:d.any},{name:"font-style",type:f.fontStyle,triggersBounds:d.any},{name:"font-weight",type:f.fontWeight,triggersBounds:d.any},{name:"font-size",type:f.size,triggersBounds:d.any},{name:"text-transform",type:f.textTransform,triggersBounds:d.any},{name:"text-wrap",type:f.textWrap,triggersBounds:d.any},{name:"text-overflow-wrap",type:f.textOverflowWrap,triggersBounds:d.any},{name:"text-max-width",type:f.size,triggersBounds:d.any},{name:"text-outline-width",type:f.size,triggersBounds:d.any},{name:"line-height",type:f.positiveNumber,triggersBounds:d.any}],b=[{name:"text-valign",type:f.valign,triggersBounds:d.any},{name:"text-halign",type:f.halign,triggersBounds:d.any},{name:"color",type:f.color},{name:"text-outline-color",type:f.color},{name:"text-outline-opacity",type:f.zeroOneNumber},{name:"text-background-color",type:f.color},{name:"text-background-opacity",type:f.zeroOneNumber},{name:"text-background-padding",type:f.size,triggersBounds:d.any},{name:"text-border-opacity",type:f.zeroOneNumber},{name:"text-border-color",type:f.color},{name:"text-border-width",type:f.size,triggersBounds:d.any},{name:"text-border-style",type:f.borderStyle,triggersBounds:d.any},{name:"text-background-shape",type:f.textBackgroundShape,triggersBounds:d.any},{name:"text-justification",type:f.justification},{name:"box-select-labels",type:f.bool,triggersBounds:d.any}],C=[{name:"events",type:f.bool,triggersZOrder:d.any},{name:"text-events",type:f.bool,triggersZOrder:d.any},{name:"box-selection",type:f.boxSelection,triggersZOrder:d.any}],S=[{name:"display",type:f.display,triggersZOrder:d.any,triggersBounds:d.any,triggersBoundsOfConnectedEdges:d.any,triggersBoundsOfParallelEdges:function(ue,fe,Ee){return ue===fe?!1:Ee.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:f.visibility,triggersZOrder:d.any},{name:"opacity",type:f.zeroOneNumber,triggersZOrder:d.zeroNonZero},{name:"text-opacity",type:f.zeroOneNumber},{name:"min-zoomed-font-size",type:f.size},{name:"z-compound-depth",type:f.zCompoundDepth,triggersZOrder:d.any},{name:"z-index-compare",type:f.zIndexCompare,triggersZOrder:d.any},{name:"z-index",type:f.number,triggersZOrder:d.any}],T=[{name:"overlay-padding",type:f.size,triggersBounds:d.any},{name:"overlay-color",type:f.color},{name:"overlay-opacity",type:f.zeroOneNumber,triggersBounds:d.zeroNonZero},{name:"overlay-shape",type:f.overlayShape,triggersBounds:d.any},{name:"overlay-corner-radius",type:f.cornerRadius}],N=[{name:"underlay-padding",type:f.size,triggersBounds:d.any},{name:"underlay-color",type:f.color},{name:"underlay-opacity",type:f.zeroOneNumber,triggersBounds:d.zeroNonZero},{name:"underlay-shape",type:f.overlayShape,triggersBounds:d.any},{name:"underlay-corner-radius",type:f.cornerRadius}],R=[{name:"transition-property",type:f.propList},{name:"transition-duration",type:f.time},{name:"transition-delay",type:f.time},{name:"transition-timing-function",type:f.easing}],D=function(ue,fe){return fe.value==="label"?-ue.poolIndex():fe.pfValue},O=[{name:"height",type:f.nodeSize,triggersBounds:d.any,hashOverride:D},{name:"width",type:f.nodeSize,triggersBounds:d.any,hashOverride:D},{name:"shape",type:f.nodeShape,triggersBounds:d.any},{name:"shape-polygon-points",type:f.polygonPointList,triggersBounds:d.any},{name:"corner-radius",type:f.cornerRadius},{name:"background-color",type:f.color},{name:"background-fill",type:f.fill},{name:"background-opacity",type:f.zeroOneNumber},{name:"background-blacken",type:f.nOneOneNumber},{name:"background-gradient-stop-colors",type:f.colors},{name:"background-gradient-stop-positions",type:f.percentages},{name:"background-gradient-direction",type:f.gradientDirection},{name:"padding",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"padding-relative-to",type:f.paddingRelativeTo,triggersBounds:d.any},{name:"bounds-expansion",type:f.boundsExpansion,triggersBounds:d.any}],I=[{name:"border-color",type:f.color},{name:"border-opacity",type:f.zeroOneNumber},{name:"border-width",type:f.size,triggersBounds:d.any},{name:"border-style",type:f.borderStyle},{name:"border-cap",type:f.lineCap},{name:"border-join",type:f.lineJoin},{name:"border-dash-pattern",type:f.numbers},{name:"border-dash-offset",type:f.number},{name:"border-position",type:f.linePosition}],M=[{name:"outline-color",type:f.color},{name:"outline-opacity",type:f.zeroOneNumber},{name:"outline-width",type:f.size,triggersBounds:d.any},{name:"outline-style",type:f.borderStyle},{name:"outline-offset",type:f.size,triggersBounds:d.any}],k=[{name:"background-image",type:f.urls},{name:"background-image-crossorigin",type:f.bgCrossOrigin},{name:"background-image-opacity",type:f.zeroOneNumbers},{name:"background-image-containment",type:f.bgContainment},{name:"background-image-smoothing",type:f.bools},{name:"background-position-x",type:f.bgPos},{name:"background-position-y",type:f.bgPos},{name:"background-width-relative-to",type:f.bgRelativeTo},{name:"background-height-relative-to",type:f.bgRelativeTo},{name:"background-repeat",type:f.bgRepeat},{name:"background-fit",type:f.bgFit},{name:"background-clip",type:f.bgClip},{name:"background-width",type:f.bgWH},{name:"background-height",type:f.bgWH},{name:"background-offset-x",type:f.bgPos},{name:"background-offset-y",type:f.bgPos}],j=[{name:"position",type:f.position,triggersBounds:d.any},{name:"compound-sizing-wrt-labels",type:f.compoundIncludeLabels,triggersBounds:d.any},{name:"min-width",type:f.size,triggersBounds:d.any},{name:"min-width-bias-left",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"min-width-bias-right",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"min-height",type:f.size,triggersBounds:d.any},{name:"min-height-bias-top",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"min-height-bias-bottom",type:f.sizeMaybePercent,triggersBounds:d.any}],_=[{name:"line-style",type:f.lineStyle},{name:"line-color",type:f.color},{name:"line-fill",type:f.fill},{name:"line-cap",type:f.lineCap},{name:"line-opacity",type:f.zeroOneNumber},{name:"line-dash-pattern",type:f.numbers},{name:"line-dash-offset",type:f.number},{name:"line-outline-width",type:f.size},{name:"line-outline-color",type:f.color},{name:"line-gradient-stop-colors",type:f.colors},{name:"line-gradient-stop-positions",type:f.percentages},{name:"curve-style",type:f.curveStyle,triggersBounds:d.any,triggersBoundsOfParallelEdges:function(ue,fe){return ue===fe?!1:ue==="bezier"||fe==="bezier"}},{name:"haystack-radius",type:f.zeroOneNumber,triggersBounds:d.any},{name:"source-endpoint",type:f.edgeEndpoint,triggersBounds:d.any},{name:"target-endpoint",type:f.edgeEndpoint,triggersBounds:d.any},{name:"control-point-step-size",type:f.size,triggersBounds:d.any},{name:"control-point-distances",type:f.bidirectionalSizes,triggersBounds:d.any},{name:"control-point-weights",type:f.numbers,triggersBounds:d.any},{name:"segment-distances",type:f.bidirectionalSizes,triggersBounds:d.any},{name:"segment-weights",type:f.numbers,triggersBounds:d.any},{name:"segment-radii",type:f.numbers,triggersBounds:d.any},{name:"radius-type",type:f.radiusType,triggersBounds:d.any},{name:"taxi-turn",type:f.bidirectionalSizeMaybePercent,triggersBounds:d.any},{name:"taxi-turn-min-distance",type:f.size,triggersBounds:d.any},{name:"taxi-direction",type:f.axisDirection,triggersBounds:d.any},{name:"taxi-radius",type:f.number,triggersBounds:d.any},{name:"edge-distances",type:f.edgeDistances,triggersBounds:d.any},{name:"arrow-scale",type:f.positiveNumber,triggersBounds:d.any},{name:"loop-direction",type:f.angle,triggersBounds:d.any},{name:"loop-sweep",type:f.angle,triggersBounds:d.any},{name:"source-distance-from-node",type:f.size,triggersBounds:d.any},{name:"target-distance-from-node",type:f.size,triggersBounds:d.any}],P=[{name:"ghost",type:f.bool,triggersBounds:d.any},{name:"ghost-offset-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"ghost-offset-y",type:f.bidirectionalSize,triggersBounds:d.any},{name:"ghost-opacity",type:f.zeroOneNumber}],L=[{name:"selection-box-color",type:f.color},{name:"selection-box-opacity",type:f.zeroOneNumber},{name:"selection-box-border-color",type:f.color},{name:"selection-box-border-width",type:f.size},{name:"active-bg-color",type:f.color},{name:"active-bg-opacity",type:f.zeroOneNumber},{name:"active-bg-size",type:f.size},{name:"outside-texture-bg-color",type:f.color},{name:"outside-texture-bg-opacity",type:f.zeroOneNumber}],H=[];Er.pieBackgroundN=16,H.push({name:"pie-size",type:f.sizeMaybePercent}),H.push({name:"pie-hole",type:f.sizeMaybePercent}),H.push({name:"pie-start-angle",type:f.angle});for(var X=1;X<=Er.pieBackgroundN;X++)H.push({name:"pie-"+X+"-background-color",type:f.color}),H.push({name:"pie-"+X+"-background-size",type:f.percent}),H.push({name:"pie-"+X+"-background-opacity",type:f.zeroOneNumber});var Z=[];Er.stripeBackgroundN=16,Z.push({name:"stripe-size",type:f.sizeMaybePercent}),Z.push({name:"stripe-direction",type:f.axisDirectionPrimary});for(var G=1;G<=Er.stripeBackgroundN;G++)Z.push({name:"stripe-"+G+"-background-color",type:f.color}),Z.push({name:"stripe-"+G+"-background-size",type:f.percent}),Z.push({name:"stripe-"+G+"-background-opacity",type:f.zeroOneNumber});var F=[],W=Er.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:f.arrowShape,triggersBounds:d.any},{name:"arrow-color",type:f.color},{name:"arrow-fill",type:f.arrowFill},{name:"arrow-width",type:f.arrowWidth}].forEach(function(ne){W.forEach(function(ue){var fe=ue+"-"+ne.name,Ee=ne.type,De=ne.triggersBounds;F.push({name:fe,type:Ee,triggersBounds:De})})},{});var ee=Er.properties=[].concat(C,R,S,T,N,P,b,E,v,g,p,O,I,M,k,H,Z,j,_,F,L),te=Er.propertyGroups={behavior:C,transition:R,visibility:S,overlay:T,underlay:N,ghost:P,commonLabel:b,labelDimensions:E,mainLabel:v,sourceLabel:g,targetLabel:p,nodeBody:O,nodeBorder:I,nodeOutline:M,backgroundImage:k,pie:H,stripe:Z,compound:j,edgeLine:_,edgeArrow:F,core:L},q=Er.propertyGroupNames={},Q=Er.propertyGroupKeys=Object.keys(te);Q.forEach(function(ne){q[ne]=te[ne].map(function(ue){return ue.name}),te[ne].forEach(function(ue){return ue.groupKey=ne})});var J=Er.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Er.propertyNames=ee.map(function(ne){return ne.name});for(var ie=0;ie<ee.length;ie++){var oe=ee[ie];ee[oe.name]=oe}for(var he=0;he<J.length;he++){var be=J[he],Re=ee[be.pointsTo],ye={name:be.name,alias:!0,pointsTo:Re};ee.push(ye),ee[be.name]=ye}})();Er.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Er.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=$e({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(d,f){for(var v=1;v<=Er.pieBackgroundN;v++){var g=f.name.replace("{{i}}",v),p=f.value;d[g]=p}return d},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(d,f){for(var v=1;v<=Er.stripeBackgroundN;v++){var g=f.name.replace("{{i}}",v),p=f.value;d[g]=p}return d},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(d,f){return Er.arrowPrefixes.forEach(function(v){var g=v+"-"+f.name,p=f.value;d[g]=p}),d},{})),r={},n=0;n<this.properties.length;n++){var l=this.properties[n];if(!l.pointsTo){var u=l.name,s=e[u],c=this.parse(u,s);r[u]=c}}return t.defaultProperties=r,t.defaultProperties};Er.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Bd={};Bd.parse=function(t,e,r,n){var l=this;if(ar(e))return l.parseImplWarn(t,e,r,n);var u=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",c=""+e,d=gx(t,c,s,u),f=l.propCache=l.propCache||[],v;return(v=f[d])||(v=f[d]=l.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(v=gn(v),v&&(v.value=gn(v.value))),v};Bd.parseImplWarn=function(t,e,r,n){var l=this.parseImpl(t,e,r,n);return!l&&e!=null&&Mt("The style property `".concat(t,": ").concat(e,"` is invalid")),l&&(l.name==="width"||l.name==="height")&&e==="label"&&Mt("The style value of `label` is deprecated for `"+l.name+"`"),l};Bd.parseImpl=function(t,e,r,n){var l=this;t=am(t);var u=l.properties[t],s=e,c=l.types;if(!u||e===void 0)return null;u.alias&&(u=u.pointsTo,t=u.name);var d=Xe(e);d&&(e=e.trim());var f=u.type;if(!f)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(ar(e))return{name:t,value:e,strValue:"fn",mapped:c.fn,bypass:r};var v,g;if(!(!d||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(v=new RegExp(c.data.regex).exec(e))){if(r)return!1;var p=c.data;return{name:t,value:v,strValue:""+e,mapped:p,field:v[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(g=new RegExp(c.mapData.regex).exec(e))){if(r||f.multiple)return!1;var E=c.mapData;if(!(f.color||f.number))return!1;var b=this.parse(t,g[4]);if(!b||b.mapped)return!1;var C=this.parse(t,g[5]);if(!C||C.mapped)return!1;if(b.pfValue===C.pfValue||b.strValue===C.strValue)return Mt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+b.strValue+"`"),this.parse(t,b.strValue);if(f.color){var S=b.value,T=C.value,N=S[0]===T[0]&&S[1]===T[1]&&S[2]===T[2]&&(S[3]===T[3]||(S[3]==null||S[3]===1)&&(T[3]==null||T[3]===1));if(N)return!1}return{name:t,value:g,strValue:""+e,mapped:E,field:g[1],fieldMin:parseFloat(g[2]),fieldMax:parseFloat(g[3]),valueMin:b.value,valueMax:C.value,bypass:r}}}if(f.multiple&&n!=="multiple"){var R;if(d?R=e.split(/\s+/):qt(e)?R=e:R=[e],f.evenMultiple&&R.length%2!==0)return null;for(var D=[],O=[],I=[],M="",k=!1,j=0;j<R.length;j++){var _=l.parse(t,R[j],r,"multiple");k=k||Xe(_.value),D.push(_.value),I.push(_.pfValue!=null?_.pfValue:_.value),O.push(_.units),M+=(j>0?" ":"")+_.strValue}return f.validate&&!f.validate(D,O)?null:f.singleEnum&&k?D.length===1&&Xe(D[0])?{name:t,value:D[0],strValue:D[0],bypass:r}:null:{name:t,value:D,pfValue:I,strValue:M,bypass:r,units:O}}var P=function(){for(var ye=0;ye<f.enums.length;ye++){var ne=f.enums[ye];if(ne===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(f.number){var L,H="px";if(f.units&&(L=f.units),f.implicitUnits&&(H=f.implicitUnits),!f.unitless)if(d){var X="px|em"+(f.allowPercent?"|\\%":"");L&&(X=L);var Z=e.match("^("+Rr+")("+X+")?$");Z&&(e=Z[1],L=Z[2]||H)}else(!L||f.implicitUnits)&&(L=H);if(e=parseFloat(e),isNaN(e)&&f.enums===void 0)return null;if(isNaN(e)&&f.enums!==void 0)return e=s,P();if(f.integer&&!IS(e)||f.min!==void 0&&(e<f.min||f.strictMin&&e===f.min)||f.max!==void 0&&(e>f.max||f.strictMax&&e===f.max))return null;var G={name:t,value:e,strValue:""+e+(L||""),units:L,bypass:r};return f.unitless||L!=="px"&&L!=="em"?G.pfValue=e:G.pfValue=L==="px"||!L?e:this.getEmSizeInPixels()*e,(L==="ms"||L==="s")&&(G.pfValue=L==="ms"?e:1e3*e),(L==="deg"||L==="rad")&&(G.pfValue=L==="rad"?e:H2(e)),L==="%"&&(G.pfValue=e/100),G}else if(f.propList){var F=[],W=""+e;if(W!=="none"){for(var ee=W.split(/\s*,\s*|\s+/),te=0;te<ee.length;te++){var q=ee[te].trim();l.properties[q]?F.push(q):Mt("`"+q+"` is not a valid property name")}if(F.length===0)return null}return{name:t,value:F,strValue:F.length===0?"none":F.join(" "),bypass:r}}else if(f.color){var Q=sx(e);return Q?{name:t,value:Q,pfValue:Q,strValue:"rgb("+Q[0]+","+Q[1]+","+Q[2]+")",bypass:r}:null}else if(f.regex||f.regexes){if(f.enums){var J=P();if(J)return J}for(var ie=f.regexes?f.regexes:[f.regex],oe=0;oe<ie.length;oe++){var he=new RegExp(ie[oe]),be=he.exec(e);if(be)return{name:t,value:f.singleRegexMatchValue?be[1]:be,strValue:""+e,bypass:r}}return null}else return f.string?{name:t,value:""+e,strValue:""+e,bypass:r}:f.enums?P():null};var kr=function(e){if(!(this instanceof kr))return new kr(e);if(!rm(e)){er("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Zr=kr.prototype;Zr.instanceString=function(){return"style"};Zr.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(l){var u=l[0]._private;u.styleDirty=!0,u.appliedInitStyle=!1}),this};Zr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Zr.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Zr.selector=function(t){var e=t==="core"?null:new Fi(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Zr.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var l=t.properties[n],u=r[l.name];u===void 0&&(u=r[yd(l.name)]),u!==void 0&&this.cssRule(l.name,u)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Zr.style=Zr.css;Zr.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var l=!this[n].selector;l&&(this._private.coreStyle[r.name]=r)}return this};Zr.append=function(t){return ix(t)?t.appendToStyle(this):qt(t)?this.appendFromJson(t):Xe(t)&&this.appendFromString(t),this};kr.fromJson=function(t,e){var r=new kr(t);return r.fromJson(e),r};kr.fromString=function(t,e){return new kr(t).fromString(e)};[zr,Ko,ym,pn,Md,bm,Er,Bd].forEach(function(t){$e(Zr,t)});kr.types=Zr.types;kr.properties=Zr.properties;kr.propertyGroups=Zr.propertyGroups;kr.propertyGroupNames=Zr.propertyGroupNames;kr.propertyGroupKeys=Zr.propertyGroupKeys;var KN={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return ix(e)?r.style=e.generateStyle(this):qt(e)?r.style=kr.fromJson(this,e):Xe(e)?r.style=kr.fromString(this,e):r.style=kr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},XN="single",Ll={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=XN),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,l,u,s,c;switch(e.length){case 0:return r;case 1:if(Xe(e[0]))return n=e[0],r[n];if(wt(e[0])){if(!this._private.panningEnabled)return this;u=e[0],s=u.x,c=u.y,Me(s)&&(r.x=s),Me(c)&&(r.y=c),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],l=e[1],(n==="x"||n==="y")&&Me(l)&&(r[n]=l),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,l=this._private.pan,u,s,c,d,f;if(!this._private.panningEnabled)return this;switch(n.length){case 1:wt(e)&&(c=n[0],d=c.x,f=c.y,Me(d)&&(l.x+=d),Me(f)&&(l.y+=f),this.emit("pan viewport"));break;case 2:u=e,s=r,(u==="x"||u==="y")&&Me(s)&&(l[u]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var l=this._private;l.zoom=n.zoom,l.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Me(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Xe(e)){var l=e;e=this.$(l)}else if(zS(e)){var u=e;n={x1:u.x1,y1:u.y1,x2:u.x2,y2:u.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Da(e)||(e=this.mutableElements());if(!(Da(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),c=this.height(),d;if(r=Me(r)?r:0,!isNaN(s)&&!isNaN(c)&&s>0&&c>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){d=Math.min((s-2*r)/n.w,(c-2*r)/n.h),d=d>this._private.maxZoom?this._private.maxZoom:d,d=d<this._private.minZoom?this._private.minZoom:d;var f={x:(s-d*(n.x1+n.x2))/2,y:(c-d*(n.y1+n.y2))/2};return{zoom:d,pan:f}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var l=e;e=l.min,r=l.max}return Me(e)&&Me(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Me(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Me(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,l=r.zoom,u,s,c=!1;if(r.zoomingEnabled||(c=!0),Me(e)?s=e:wt(e)&&(s=e.level,e.position!=null?u=xd(e.position,l,n):e.renderedPosition!=null&&(u=e.renderedPosition),u!=null&&!r.panningEnabled&&(c=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,c||!Me(s)||s===l||u!=null&&(!Me(u.x)||!Me(u.y)))return null;if(u!=null){var d=n,f=l,v=s,g={x:-v/f*(u.x-d.x)+u.x,y:-v/f*(u.y-d.y)+u.y};return{zoomed:!0,panned:!0,zoom:v,pan:g}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,l=!0,u=[],s=!1,c=!1;if(!e)return this;if(Me(e.zoom)||(n=!1),wt(e.pan)||(l=!1),!n&&!l)return this;if(n){var d=e.zoom;d<r.minZoom||d>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=d,u.push("zoom"))}if(l&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var f=e.pan;Me(f.x)&&(r.pan.x=f.x,c=!1),Me(f.y)&&(r.pan.y=f.y,c=!1),c||u.push("pan")}return u.length>0&&(u.push("viewport"),this.emit(u.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Xe(e)){var n=e;e=this.mutableElements().filter(n)}else Da(e)||(e=this.mutableElements());if(e.length!==0){var l=e.boundingBox(),u=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var c={x:(u-r*(l.x1+l.x2))/2,y:(s-r*(l.y1+l.y2))/2};return c}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?(function(){var l=n.window().getComputedStyle(r),u=function(c){return parseFloat(l.getPropertyValue(c))};return{width:r.clientWidth-u("padding-left")-u("padding-right"),height:r.clientHeight-u("padding-top")-u("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),l={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return l.w=l.x2-l.x1,l.h=l.y2-l.y1,l},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Ll.centre=Ll.center;Ll.autolockNodes=Ll.autolock;Ll.autoungrabifyNodes=Ll.autoungrabify;var zo={data:Ot.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Ot.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Ot.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ot.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};zo.attr=zo.data;zo.removeAttr=zo.removeData;var _o=function(e){var r=this;e=$e({},e);var n=e.container;n&&!id(n)&&id(n[0])&&(n=n[0]);var l=n?n._cyreg:null;l=l||{},l&&l.cy&&(l.cy.destroy(),l={});var u=l.readies=l.readies||[];n&&(n._cyreg=l),l.cy=r;var s=Nr!==void 0&&n!==void 0&&!e.headless,c=e;c.layout=$e({name:s?"grid":"null"},c.layout),c.renderer=$e({name:s?"canvas":"null"},c.renderer);var d=function(b,C,S){return C!==void 0?C:S!==void 0?S:b},f=this._private={container:n,ready:!1,options:c,elements:new Gr(this),listeners:[],aniEles:new Gr(this),data:c.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:d(!0,c.zoomingEnabled),userZoomingEnabled:d(!0,c.userZoomingEnabled),panningEnabled:d(!0,c.panningEnabled),userPanningEnabled:d(!0,c.userPanningEnabled),boxSelectionEnabled:d(!0,c.boxSelectionEnabled),autolock:d(!1,c.autolock,c.autolockNodes),autoungrabify:d(!1,c.autoungrabify,c.autoungrabifyNodes),autounselectify:d(!1,c.autounselectify),styleEnabled:c.styleEnabled===void 0?s:c.styleEnabled,zoom:Me(c.zoom)?c.zoom:1,pan:{x:wt(c.pan)&&Me(c.pan.x)?c.pan.x:0,y:wt(c.pan)&&Me(c.pan.y)?c.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:d(250,c.multiClickDebounceTime)};this.createEmitter(),this.selectionType(c.selectionType),this.zoomRange({min:c.minZoom,max:c.maxZoom});var v=function(b,C){var S=b.some(_S);if(S)return $u.all(b).then(C);C(b)};f.styleEnabled&&r.setStyle([]);var g=$e({},c,c.renderer);r.initRenderer(g);var p=function(b,C,S){r.notifications(!1);var T=r.mutableElements();T.length>0&&T.remove(),b!=null&&(wt(b)||qt(b))&&r.add(b),r.one("layoutready",function(R){r.notifications(!0),r.emit(R),r.one("load",C),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",S),r.emit("done")});var N=$e({},r._private.options.layout);N.eles=r.elements(),r.layout(N).run()};v([c.style,c.elements],function(E){var b=E[0],C=E[1];f.styleEnabled&&r.style().append(b),p(C,function(){r.startAnimationLoop(),f.ready=!0,ar(c.ready)&&r.on("ready",c.ready);for(var S=0;S<u.length;S++){var T=u[S];r.on("ready",T)}l&&(l.readies=[]),r.emit("ready")},c.done)})},dd=_o.prototype;$e(dd,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Nr;var r=this._private.container.ownerDocument;return r===void 0||r==null?Nr:r.defaultView||Nr},mount:function(e){if(e!=null){var r=this,n=r._private,l=n.options;return!id(e)&&id(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer($e({},l,l.renderer,{name:l.renderer.name==="null"?"canvas":l.renderer.name})),r.startAnimationLoop(),r.style(l.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return gn(this._private.options)},json:function(e){var r=this,n=r._private,l=r.mutableElements(),u=function(D){return r.getElementById(D.id())};if(wt(e)){if(r.startBatch(),e.elements){var s={},c=function(D,O){for(var I=[],M=[],k=0;k<D.length;k++){var j=D[k];if(!j.data.id){Mt("cy.json() cannot handle elements without an ID attribute");continue}var _=""+j.data.id,P=r.getElementById(_);s[_]=!0,P.length!==0?M.push({ele:P,json:j}):(O&&(j.group=O),I.push(j))}r.add(I);for(var L=0;L<M.length;L++){var H=M[L],X=H.ele,Z=H.json;X.json(Z)}};if(qt(e.elements))c(e.elements);else for(var d=["nodes","edges"],f=0;f<d.length;f++){var v=d[f],g=e.elements[v];qt(g)&&c(g,v)}var p=r.collection();l.filter(function(R){return!s[R.id()]}).forEach(function(R){R.isParent()?p.merge(R):R.remove()}),p.forEach(function(R){return R.children().move({parent:null})}),p.forEach(function(R){return u(R).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var E=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],b=0;b<E.length;b++){var C=E[b];e[C]!=null&&r[C](e[C])}return r.endBatch(),this}else{var S=!!e,T={};S?T.elements=this.elements().map(function(R){return R.json()}):(T.elements={},l.forEach(function(R){var D=R.group();T.elements[D]||(T.elements[D]=[]),T.elements[D].push(R.json())})),this._private.styleEnabled&&(T.style=r.style().json()),T.data=gn(r.data());var N=n.options;return T.zoomingEnabled=n.zoomingEnabled,T.userZoomingEnabled=n.userZoomingEnabled,T.zoom=n.zoom,T.minZoom=n.minZoom,T.maxZoom=n.maxZoom,T.panningEnabled=n.panningEnabled,T.userPanningEnabled=n.userPanningEnabled,T.pan=gn(n.pan),T.boxSelectionEnabled=n.boxSelectionEnabled,T.renderer=gn(N.renderer),T.hideEdgesOnViewport=N.hideEdgesOnViewport,T.textureOnViewport=N.textureOnViewport,T.wheelSensitivity=N.wheelSensitivity,T.motionBlur=N.motionBlur,T.multiClickDebounceTime=N.multiClickDebounceTime,T}}});dd.$id=dd.getElementById;[_N,GN,iw,Gp,$f,VN,Hp,Jf,KN,Ll,zo].forEach(function(t){$e(dd,t)});var ZN={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},QN={maximal:!1,acyclic:!1},Lu=function(e){return e.scratch("breadthfirst")},TE=function(e,r){return e.scratch("breadthfirst",r)};function lw(t){this.options=$e({},ZN,QN,t)}lw.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(Ke){return Ke.isChildless()}),l=r,u=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,c=!!t.boundingBox,d=aa(c?t.boundingBox:structuredClone(e.extent())),f;if(Da(t.roots))f=t.roots;else if(qt(t.roots)){for(var v=[],g=0;g<t.roots.length;g++){var p=t.roots[g],E=e.getElementById(p);v.push(E)}f=e.collection(v)}else if(Xe(t.roots))f=e.$(t.roots);else if(u)f=n.roots();else{var b=r.components();f=e.collection();for(var C=function(){var Oe=b[S],Ge=Oe.maxDegree(!1),Fe=Oe.filter(function(tt){return tt.degree(!1)===Ge});f=f.add(Fe)},S=0;S<b.length;S++)C()}var T=[],N={},R=function(Oe,Ge){T[Ge]==null&&(T[Ge]=[]);var Fe=T[Ge].length;T[Ge].push(Oe),TE(Oe,{index:Fe,depth:Ge})},D=function(Oe,Ge){var Fe=Lu(Oe),tt=Fe.depth,Ie=Fe.index;T[tt][Ie]=null,Oe.isChildless()&&R(Oe,Ge)};l.bfs({roots:f,directed:t.directed,visit:function(Oe,Ge,Fe,tt,Ie){var at=Oe[0],ct=at.id();at.isChildless()&&R(at,Ie),N[ct]=!0}});for(var O=[],I=0;I<n.length;I++){var M=n[I];N[M.id()]||O.push(M)}var k=function(Oe){for(var Ge=T[Oe],Fe=0;Fe<Ge.length;Fe++){var tt=Ge[Fe];if(tt==null){Ge.splice(Fe,1),Fe--;continue}TE(tt,{depth:Oe,index:Fe})}},j=function(Oe,Ge){for(var Fe=Lu(Oe),tt=Oe.incomers().filter(function(We){return We.isNode()&&r.has(We)}),Ie=-1,at=Oe.id(),ct=0;ct<tt.length;ct++){var yt=tt[ct],dt=Lu(yt);Ie=Math.max(Ie,dt.depth)}if(Fe.depth<=Ie){if(!t.acyclic&&Ge[at])return null;var bt=Ie+1;return D(Oe,bt),Ge[at]=bt,!0}return!1};if(u&&s){var _=[],P={},L=function(Oe){return _.push(Oe)},H=function(){return _.shift()};for(n.forEach(function(Ke){return _.push(Ke)});_.length>0;){var X=H(),Z=j(X,P);if(Z)X.outgoers().filter(function(Ke){return Ke.isNode()&&r.has(Ke)}).forEach(L);else if(Z===null){Mt("Detected double maximal shift for node `"+X.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var G=0;if(t.avoidOverlap)for(var F=0;F<n.length;F++){var W=n[F],ee=W.layoutDimensions(t),te=ee.w,q=ee.h;G=Math.max(G,te,q)}var Q={},J=function(Oe){if(Q[Oe.id()])return Q[Oe.id()];for(var Ge=Lu(Oe).depth,Fe=Oe.neighborhood(),tt=0,Ie=0,at=0;at<Fe.length;at++){var ct=Fe[at];if(!(ct.isEdge()||ct.isParent()||!n.has(ct))){var yt=Lu(ct);if(yt!=null){var dt=yt.index,bt=yt.depth;if(!(dt==null||bt==null)){var We=T[bt].length;bt<Ge&&(tt+=dt/We,Ie++)}}}}return Ie=Math.max(1,Ie),tt=tt/Ie,Ie===0&&(tt=0),Q[Oe.id()]=tt,tt},ie=function(Oe,Ge){var Fe=J(Oe),tt=J(Ge),Ie=Fe-tt;return Ie===0?ux(Oe.id(),Ge.id()):Ie};t.depthSort!==void 0&&(ie=t.depthSort);for(var oe=T.length,he=0;he<oe;he++)T[he].sort(ie),k(he);for(var be=[],Re=0;Re<O.length;Re++)be.push(O[Re]);var ye=function(){for(var Oe=0;Oe<oe;Oe++)k(Oe)};be.length&&(T.unshift(be),oe=T.length,ye());for(var ne=0,ue=0;ue<oe;ue++)ne=Math.max(T[ue].length,ne);var fe={x:d.x1+d.w/2,y:d.y1+d.h/2},Ee=n.reduce(function(Ke,Oe){return(function(Ge){return{w:Ke.w===-1?Ge.w:(Ke.w+Ge.w)/2,h:Ke.h===-1?Ge.h:(Ke.h+Ge.h)/2}})(Oe.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),De=Math.max(oe===1?0:c?(d.h-t.padding*2-Ee.h)/(oe-1):(d.h-t.padding*2-Ee.h)/(oe+1),G),Le=T.reduce(function(Ke,Oe){return Math.max(Ke,Oe.length)},0),lt=function(Oe){var Ge=Lu(Oe),Fe=Ge.depth,tt=Ge.index;if(t.circle){var Ie=Math.min(d.w/2/oe,d.h/2/oe);Ie=Math.max(Ie,G);var at=Ie*Fe+Ie-(oe>0&&T[0].length<=3?Ie/2:0),ct=2*Math.PI/T[Fe].length*tt;return Fe===0&&T[0].length===1&&(at=1),{x:fe.x+at*Math.cos(ct),y:fe.y+at*Math.sin(ct)}}else{var yt=T[Fe].length,dt=Math.max(yt===1?0:c?(d.w-t.padding*2-Ee.w)/((t.grid?Le:yt)-1):(d.w-t.padding*2-Ee.w)/((t.grid?Le:yt)+1),G),bt={x:fe.x+(tt+1-(yt+1)/2)*dt,y:fe.y+(Fe+1-(oe+1)/2)*De};return bt}},Qe={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Qe).indexOf(t.direction)===-1&&er("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Qe).join(", ")));var je=function(Oe){return d2(lt(Oe),d,Qe[t.direction])};return r.nodes().layoutPositions(this,t,je),this};var WN={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function uw(t){this.options=$e({},WN,t)}uw.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,l=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,u=n.nodes().not(":parent");e.sort&&(u=u.sort(e.sort));for(var s=aa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),c={x:s.x1+s.w/2,y:s.y1+s.h/2},d=e.sweep===void 0?2*Math.PI-2*Math.PI/u.length:e.sweep,f=d/Math.max(1,u.length-1),v,g=0,p=0;p<u.length;p++){var E=u[p],b=E.layoutDimensions(e),C=b.w,S=b.h;g=Math.max(g,C,S)}if(Me(e.radius)?v=e.radius:u.length<=1?v=0:v=Math.min(s.h,s.w)/2-g,u.length>1&&e.avoidOverlap){g*=1.75;var T=Math.cos(f)-Math.cos(0),N=Math.sin(f)-Math.sin(0),R=Math.sqrt(g*g/(T*T+N*N));v=Math.max(R,v)}var D=function(I,M){var k=e.startAngle+M*f*(l?1:-1),j=v*Math.cos(k),_=v*Math.sin(k),P={x:c.x+j,y:c.y+_};return P};return n.nodes().layoutPositions(this,e,D),this};var $N={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function sw(t){this.options=$e({},$N,t)}sw.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,l=e.eles,u=l.nodes().not(":parent"),s=aa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),c={x:s.x1+s.w/2,y:s.y1+s.h/2},d=[],f=0,v=0;v<u.length;v++){var g=u[v],p=void 0;p=e.concentric(g),d.push({value:p,node:g}),g._private.scratch.concentric=p}u.updateStyle();for(var E=0;E<u.length;E++){var b=u[E],C=b.layoutDimensions(e);f=Math.max(f,C.w,C.h)}d.sort(function(De,Le){return Le.value-De.value});for(var S=e.levelWidth(u),T=[[]],N=T[0],R=0;R<d.length;R++){var D=d[R];if(N.length>0){var O=Math.abs(N[0].value-D.value);O>=S&&(N=[],T.push(N))}N.push(D)}var I=f+e.minNodeSpacing;if(!e.avoidOverlap){var M=T.length>0&&T[0].length>1,k=Math.min(s.w,s.h)/2-I,j=k/(T.length+M?1:0);I=Math.min(I,j)}for(var _=0,P=0;P<T.length;P++){var L=T[P],H=e.sweep===void 0?2*Math.PI-2*Math.PI/L.length:e.sweep,X=L.dTheta=H/Math.max(1,L.length-1);if(L.length>1&&e.avoidOverlap){var Z=Math.cos(X)-Math.cos(0),G=Math.sin(X)-Math.sin(0),F=Math.sqrt(I*I/(Z*Z+G*G));_=Math.max(F,_)}L.r=_,_+=I}if(e.equidistant){for(var W=0,ee=0,te=0;te<T.length;te++){var q=T[te],Q=q.r-ee;W=Math.max(W,Q)}ee=0;for(var J=0;J<T.length;J++){var ie=T[J];J===0&&(ee=ie.r),ie.r=ee,ee+=W}}for(var oe={},he=0;he<T.length;he++)for(var be=T[he],Re=be.dTheta,ye=be.r,ne=0;ne<be.length;ne++){var ue=be[ne],fe=e.startAngle+(r?1:-1)*Re*ne,Ee={x:c.x+ye*Math.cos(fe),y:c.y+ye*Math.sin(fe)};oe[ue.node.id()]=Ee}return l.nodes().layoutPositions(this,e,function(De){var Le=De.id();return oe[Le]}),this};var bp,JN={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Id(t){this.options=$e({},JN,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(l){var u=l.source().data("id"),s=l.target().data("id"),c=e.some(function(f){return f.data("id")===u}),d=e.some(function(f){return f.data("id")===s});return!c||!d});this.options.eles=this.options.eles.not(n)}Id.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?bp=!0:bp=!1;var n=eR(e,r,t);bp&&rR(n),t.randomize&&aR(n);var l=ei(),u=function(){nR(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(p){return!(r.stopped||p>=t.numIter||(iR(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},c=function(){if(t.animate===!0||t.animate===!1)u(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var p=t.eles.nodes(),E=cw(n,t,p);p.layoutPositions(r,t,E)}},d=0,f=!0;if(t.animate===!0){var v=function(){for(var p=0;f&&p<t.refresh;)f=s(d),d++,p++;if(!f)AE(n,t),c();else{var E=ei();E-l>=t.animationThreshold&&u(),ld(v)}};v()}else{for(;f;)f=s(d),d++;AE(n,t),c()}return this};Id.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Id.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var eR=function(e,r,n){for(var l=n.eles.edges(),u=n.eles.nodes(),s=aa(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),c={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:u.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:l.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},d=n.eles.components(),f={},v=0;v<d.length;v++)for(var g=d[v],p=0;p<g.length;p++){var E=g[p];f[E.id()]=v}for(var v=0;v<c.nodeSize;v++){var b=u[v],C=b.layoutDimensions(n),S={};S.isLocked=b.locked(),S.id=b.data("id"),S.parentId=b.data("parent"),S.cmptId=f[b.id()],S.children=[],S.positionX=b.position("x"),S.positionY=b.position("y"),S.offsetX=0,S.offsetY=0,S.height=C.w,S.width=C.h,S.maxX=S.positionX+S.width/2,S.minX=S.positionX-S.width/2,S.maxY=S.positionY+S.height/2,S.minY=S.positionY-S.height/2,S.padLeft=parseFloat(b.style("padding")),S.padRight=parseFloat(b.style("padding")),S.padTop=parseFloat(b.style("padding")),S.padBottom=parseFloat(b.style("padding")),S.nodeRepulsion=ar(n.nodeRepulsion)?n.nodeRepulsion(b):n.nodeRepulsion,c.layoutNodes.push(S),c.idToIndex[S.id]=v}for(var T=[],N=0,R=-1,D=[],v=0;v<c.nodeSize;v++){var b=c.layoutNodes[v],O=b.parentId;O!=null?c.layoutNodes[c.idToIndex[O]].children.push(b.id):(T[++R]=b.id,D.push(b.id))}for(c.graphSet.push(D);N<=R;){var I=T[N++],M=c.idToIndex[I],E=c.layoutNodes[M],k=E.children;if(k.length>0){c.graphSet.push(k);for(var v=0;v<k.length;v++)T[++R]=k[v]}}for(var v=0;v<c.graphSet.length;v++)for(var j=c.graphSet[v],p=0;p<j.length;p++){var _=c.idToIndex[j[p]];c.indexToGraph[_]=v}for(var v=0;v<c.edgeSize;v++){var P=l[v],L={};L.id=P.data("id"),L.sourceId=P.data("source"),L.targetId=P.data("target");var H=ar(n.idealEdgeLength)?n.idealEdgeLength(P):n.idealEdgeLength,X=ar(n.edgeElasticity)?n.edgeElasticity(P):n.edgeElasticity,Z=c.idToIndex[L.sourceId],G=c.idToIndex[L.targetId],F=c.indexToGraph[Z],W=c.indexToGraph[G];if(F!=W){for(var ee=tR(L.sourceId,L.targetId,c),te=c.graphSet[ee],q=0,S=c.layoutNodes[Z];te.indexOf(S.id)===-1;)S=c.layoutNodes[c.idToIndex[S.parentId]],q++;for(S=c.layoutNodes[G];te.indexOf(S.id)===-1;)S=c.layoutNodes[c.idToIndex[S.parentId]],q++;H*=q*n.nestingFactor}L.idealLength=H,L.elasticity=X,c.layoutEdges.push(L)}return c},tR=function(e,r,n){var l=ow(e,r,0,n);return 2>l.count?0:l.graph},ow=function(e,r,n,l){var u=l.graphSet[n];if(-1<u.indexOf(e)&&-1<u.indexOf(r))return{count:2,graph:n};for(var s=0,c=0;c<u.length;c++){var d=u[c],f=l.idToIndex[d],v=l.layoutNodes[f].children;if(v.length!==0){var g=l.indexToGraph[l.idToIndex[v[0]]],p=ow(e,r,g,l);if(p.count!==0)if(p.count===1){if(s++,s===2)break}else return p}}return{count:s,graph:n}},rR,aR=function(e,r){for(var n=e.clientWidth,l=e.clientHeight,u=0;u<e.nodeSize;u++){var s=e.layoutNodes[u];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*l)}},cw=function(e,r,n){var l=e.boundingBox,u={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var c=e.layoutNodes[e.idToIndex[s.data("id")]];u.x1=Math.min(u.x1,c.positionX),u.x2=Math.max(u.x2,c.positionX),u.y1=Math.min(u.y1,c.positionY),u.y2=Math.max(u.y2,c.positionY)}),u.w=u.x2-u.x1,u.h=u.y2-u.y1),function(s,c){var d=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var f=u.w===0?.5:(d.positionX-u.x1)/u.w,v=u.h===0?.5:(d.positionY-u.y1)/u.h;return{x:l.x1+f*l.w,y:l.y1+v*l.h}}else return{x:d.positionX,y:d.positionY}}},nR=function(e,r,n){var l=n.layout,u=n.eles.nodes(),s=cw(e,n,u);u.positions(s),e.ready!==!0&&(e.ready=!0,l.one("layoutready",n.ready),l.emit({type:"layoutready",layout:this}))},iR=function(e,r,n){lR(e,r),oR(e),cR(e,r),fR(e),dR(e)},lR=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var l=e.graphSet[n],u=l.length,s=0;s<u;s++)for(var c=e.layoutNodes[e.idToIndex[l[s]]],d=s+1;d<u;d++){var f=e.layoutNodes[e.idToIndex[l[d]]];uR(c,f,e,r)}},SE=function(e){return-1+2*e*Math.random()},uR=function(e,r,n,l){var u=e.cmptId,s=r.cmptId;if(!(u!==s&&!n.isCompound)){var c=r.positionX-e.positionX,d=r.positionY-e.positionY,f=1;c===0&&d===0&&(c=SE(f),d=SE(f));var v=sR(e,r,c,d);if(v>0)var g=l.nodeOverlap*v,p=Math.sqrt(c*c+d*d),E=g*c/p,b=g*d/p;else var C=vd(e,c,d),S=vd(r,-1*c,-1*d),T=S.x-C.x,N=S.y-C.y,R=T*T+N*N,p=Math.sqrt(R),g=(e.nodeRepulsion+r.nodeRepulsion)/R,E=g*T/p,b=g*N/p;e.isLocked||(e.offsetX-=E,e.offsetY-=b),r.isLocked||(r.offsetX+=E,r.offsetY+=b)}},sR=function(e,r,n,l){if(n>0)var u=e.maxX-r.minX;else var u=r.maxX-e.minX;if(l>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return u>=0&&s>=0?Math.sqrt(u*u+s*s):0},vd=function(e,r,n){var l=e.positionX,u=e.positionY,s=e.height||1,c=e.width||1,d=n/r,f=s/c,v={};return r===0&&0<n||r===0&&0>n?(v.x=l,v.y=u+s/2,v):0<r&&-1*f<=d&&d<=f?(v.x=l+c/2,v.y=u+c*n/2/r,v):0>r&&-1*f<=d&&d<=f?(v.x=l-c/2,v.y=u-c*n/2/r,v):0<n&&(d<=-1*f||d>=f)?(v.x=l+s*r/2/n,v.y=u+s/2,v):(0>n&&(d<=-1*f||d>=f)&&(v.x=l-s*r/2/n,v.y=u-s/2),v)},oR=function(e,r){for(var n=0;n<e.edgeSize;n++){var l=e.layoutEdges[n],u=e.idToIndex[l.sourceId],s=e.layoutNodes[u],c=e.idToIndex[l.targetId],d=e.layoutNodes[c],f=d.positionX-s.positionX,v=d.positionY-s.positionY;if(!(f===0&&v===0)){var g=vd(s,f,v),p=vd(d,-1*f,-1*v),E=p.x-g.x,b=p.y-g.y,C=Math.sqrt(E*E+b*b),S=Math.pow(l.idealLength-C,2)/l.elasticity;if(C!==0)var T=S*E/C,N=S*b/C;else var T=0,N=0;s.isLocked||(s.offsetX+=T,s.offsetY+=N),d.isLocked||(d.offsetX-=T,d.offsetY-=N)}}},cR=function(e,r){if(r.gravity!==0)for(var n=1,l=0;l<e.graphSet.length;l++){var u=e.graphSet[l],s=u.length;if(l===0)var c=e.clientHeight/2,d=e.clientWidth/2;else var f=e.layoutNodes[e.idToIndex[u[0]]],v=e.layoutNodes[e.idToIndex[f.parentId]],c=v.positionX,d=v.positionY;for(var g=0;g<s;g++){var p=e.layoutNodes[e.idToIndex[u[g]]];if(!p.isLocked){var E=c-p.positionX,b=d-p.positionY,C=Math.sqrt(E*E+b*b);if(C>n){var S=r.gravity*E/C,T=r.gravity*b/C;p.offsetX+=S,p.offsetY+=T}}}}},fR=function(e,r){var n=[],l=0,u=-1;for(n.push.apply(n,e.graphSet[0]),u+=e.graphSet[0].length;l<=u;){var s=n[l++],c=e.idToIndex[s],d=e.layoutNodes[c],f=d.children;if(0<f.length&&!d.isLocked){for(var v=d.offsetX,g=d.offsetY,p=0;p<f.length;p++){var E=e.layoutNodes[e.idToIndex[f[p]]];E.offsetX+=v,E.offsetY+=g,n[++u]=f[p]}d.offsetX=0,d.offsetY=0}}},dR=function(e,r){for(var n=0;n<e.nodeSize;n++){var l=e.layoutNodes[n];0<l.children.length&&(l.maxX=void 0,l.minX=void 0,l.maxY=void 0,l.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var l=e.layoutNodes[n];if(!(0<l.children.length||l.isLocked)){var u=vR(l.offsetX,l.offsetY,e.temperature);l.positionX+=u.x,l.positionY+=u.y,l.offsetX=0,l.offsetY=0,l.minX=l.positionX-l.width,l.maxX=l.positionX+l.width,l.minY=l.positionY-l.height,l.maxY=l.positionY+l.height,fw(l,e)}}for(var n=0;n<e.nodeSize;n++){var l=e.layoutNodes[n];0<l.children.length&&!l.isLocked&&(l.positionX=(l.maxX+l.minX)/2,l.positionY=(l.maxY+l.minY)/2,l.width=l.maxX-l.minX,l.height=l.maxY-l.minY)}},vR=function(e,r,n){var l=Math.sqrt(e*e+r*r);if(l>n)var u={x:n*e/l,y:n*r/l};else var u={x:e,y:r};return u},fw=function(e,r){var n=e.parentId;if(n!=null){var l=r.layoutNodes[r.idToIndex[n]],u=!1;if((l.maxX==null||e.maxX+l.padRight>l.maxX)&&(l.maxX=e.maxX+l.padRight,u=!0),(l.minX==null||e.minX-l.padLeft<l.minX)&&(l.minX=e.minX-l.padLeft,u=!0),(l.maxY==null||e.maxY+l.padBottom>l.maxY)&&(l.maxY=e.maxY+l.padBottom,u=!0),(l.minY==null||e.minY-l.padTop<l.minY)&&(l.minY=e.minY-l.padTop,u=!0),u)return fw(l,r)}},AE=function(e,r){for(var n=e.layoutNodes,l=[],u=0;u<n.length;u++){var s=n[u],c=s.cmptId,d=l[c]=l[c]||[];d.push(s)}for(var f=0,u=0;u<l.length;u++){var v=l[u];if(v){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var g=0;g<v.length;g++){var p=v[g];v.x1=Math.min(v.x1,p.positionX-p.width/2),v.x2=Math.max(v.x2,p.positionX+p.width/2),v.y1=Math.min(v.y1,p.positionY-p.height/2),v.y2=Math.max(v.y2,p.positionY+p.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,f+=v.w*v.h}}l.sort(function(N,R){return R.w*R.h-N.w*N.h});for(var E=0,b=0,C=0,S=0,T=Math.sqrt(f)*e.clientWidth/e.clientHeight,u=0;u<l.length;u++){var v=l[u];if(v){for(var g=0;g<v.length;g++){var p=v[g];p.isLocked||(p.positionX+=E-v.x1,p.positionY+=b-v.y1)}E+=v.w+r.componentSpacing,C+=v.w+r.componentSpacing,S=Math.max(S,v.h),C>T&&(b+=S+r.componentSpacing,E=0,C=0,S=0)}}},hR={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function dw(t){this.options=$e({},hR,t)}dw.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,l=n.nodes().not(":parent");e.sort&&(l=l.sort(e.sort));var u=aa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(u.h===0||u.w===0)n.nodes().layoutPositions(this,e,function(J){return{x:u.x1,y:u.y1}});else{var s=l.size(),c=Math.sqrt(s*u.h/u.w),d=Math.round(c),f=Math.round(u.w/u.h*c),v=function(ie){if(ie==null)return Math.min(d,f);var oe=Math.min(d,f);oe==d?d=ie:f=ie},g=function(ie){if(ie==null)return Math.max(d,f);var oe=Math.max(d,f);oe==d?d=ie:f=ie},p=e.rows,E=e.cols!=null?e.cols:e.columns;if(p!=null&&E!=null)d=p,f=E;else if(p!=null&&E==null)d=p,f=Math.ceil(s/d);else if(p==null&&E!=null)f=E,d=Math.ceil(s/f);else if(f*d>s){var b=v(),C=g();(b-1)*C>=s?v(b-1):(C-1)*b>=s&&g(C-1)}else for(;f*d<s;){var S=v(),T=g();(T+1)*S>=s?g(T+1):v(S+1)}var N=u.w/f,R=u.h/d;if(e.condense&&(N=0,R=0),e.avoidOverlap)for(var D=0;D<l.length;D++){var O=l[D],I=O._private.position;(I.x==null||I.y==null)&&(I.x=0,I.y=0);var M=O.layoutDimensions(e),k=e.avoidOverlapPadding,j=M.w+k,_=M.h+k;N=Math.max(N,j),R=Math.max(R,_)}for(var P={},L=function(ie,oe){return!!P["c-"+ie+"-"+oe]},H=function(ie,oe){P["c-"+ie+"-"+oe]=!0},X=0,Z=0,G=function(){Z++,Z>=f&&(Z=0,X++)},F={},W=0;W<l.length;W++){var ee=l[W],te=e.position(ee);if(te&&(te.row!==void 0||te.col!==void 0)){var q={row:te.row,col:te.col};if(q.col===void 0)for(q.col=0;L(q.row,q.col);)q.col++;else if(q.row===void 0)for(q.row=0;L(q.row,q.col);)q.row++;F[ee.id()]=q,H(q.row,q.col)}}var Q=function(ie,oe){var he,be;if(ie.locked()||ie.isParent())return!1;var Re=F[ie.id()];if(Re)he=Re.col*N+N/2+u.x1,be=Re.row*R+R/2+u.y1;else{for(;L(X,Z);)G();he=Z*N+N/2+u.x1,be=X*R+R/2+u.y1,H(X,Z),G()}return{x:he,y:be}};l.layoutPositions(this,e,Q)}return this};var gR={ready:function(){},stop:function(){}};function Em(t){this.options=$e({},gR,t)}Em.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};Em.prototype.stop=function(){return this};var pR={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function vw(t){this.options=$e({},pR,t)}vw.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=ar(t.positions);function l(u){if(t.positions==null)return U2(u.position());if(n)return t.positions(u);var s=t.positions[u._private.data.id];return s??null}return r.layoutPositions(this,t,function(u,s){var c=l(u);return u.locked()||c==null?!1:c}),this};var mR={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function hw(t){this.options=$e({},mR,t)}hw.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=aa(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),l=function(s,c){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,l),this};var yR=[{name:"breadthfirst",impl:lw},{name:"circle",impl:uw},{name:"concentric",impl:sw},{name:"cose",impl:Id},{name:"grid",impl:dw},{name:"null",impl:Em},{name:"preset",impl:vw},{name:"random",impl:hw}];function gw(t){this.options=t,this.notifications=0}var CE=function(){},NE=function(){throw new Error("A headless instance can not render images")};gw.prototype={recalculateRenderedStyle:CE,notify:function(){this.notifications++},init:CE,isHeadless:function(){return!0},png:NE,jpg:NE};var xm={};xm.arrowShapeWidth=.3;xm.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(f,v,g,p,E,b,C){var S=E.x-g/2-C,T=E.x+g/2+C,N=E.y-g/2-C,R=E.y+g/2+C,D=S<=f&&f<=T&&N<=v&&v<=R;return D},n=function(f,v,g,p,E){var b=f*Math.cos(p)-v*Math.sin(p),C=f*Math.sin(p)+v*Math.cos(p),S=b*g,T=C*g,N=S+E.x,R=T+E.y;return{x:N,y:R}},l=function(f,v,g,p){for(var E=[],b=0;b<f.length;b+=2){var C=f[b],S=f[b+1];E.push(n(C,S,v,g,p))}return E},u=function(f){for(var v=[],g=0;g<f.length;g++){var p=f[g];v.push(p.x,p.y)}return v},s=function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").pfValue*2},c=function(f,v){Xe(v)&&(v=t[v]),t[f]=$e({name:f,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,E,b,C,S,T){var N=u(l(this.points,b+2*T,C,S)),R=ba(p,E,N);return R},roughCollide:r,draw:function(p,E,b,C){var S=l(this.points,E,b,C);e.arrowShapeImpl("polygon")(p,S)},spacing:function(p){return 0},gap:s},v)};c("none",{collide:ud,roughCollide:ud,draw:lm,spacing:qb,gap:qb}),c("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),c("arrow","triangle"),c("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(f,v,g,p,E){var b=l(this.points,v,g,p),C=this.controlPoint,S=n(C[0],C[1],v,g,p);e.arrowShapeImpl(this.name)(f,b,S)},gap:function(f){return s(f)*.8}}),c("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(f,v,g,p,E,b,C){var S=u(l(this.points,g+2*C,p,E)),T=u(l(this.pointsTee,g+2*C,p,E)),N=ba(f,v,S)||ba(f,v,T);return N},draw:function(f,v,g,p,E){var b=l(this.points,v,g,p),C=l(this.pointsTee,v,g,p);e.arrowShapeImpl(this.name)(f,b,C)}}),c("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(f,v,g,p,E,b,C){var S=E,T=Math.pow(S.x-f,2)+Math.pow(S.y-v,2)<=Math.pow((g+2*C)*this.radius,2),N=u(l(this.points,g+2*C,p,E));return ba(f,v,N)||T},draw:function(f,v,g,p,E){var b=l(this.pointsTr,v,g,p);e.arrowShapeImpl(this.name)(f,b,p.x,p.y,this.radius*v)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),c("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(f,v){var g=this.baseCrossLinePts.slice(),p=v/f,E=3,b=5;return g[E]=g[E]-p,g[b]=g[b]-p,g},collide:function(f,v,g,p,E,b,C){var S=u(l(this.points,g+2*C,p,E)),T=u(l(this.crossLinePts(g,b),g+2*C,p,E)),N=ba(f,v,S)||ba(f,v,T);return N},draw:function(f,v,g,p,E){var b=l(this.points,v,g,p),C=l(this.crossLinePts(v,E),v,g,p);e.arrowShapeImpl(this.name)(f,b,C)}}),c("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(f){return s(f)*.525}}),c("circle",{radius:.15,collide:function(f,v,g,p,E,b,C){var S=E,T=Math.pow(S.x-f,2)+Math.pow(S.y-v,2)<=Math.pow((g+2*C)*this.radius,2);return T},draw:function(f,v,g,p,E){e.arrowShapeImpl(this.name)(f,p.x,p.y,this.radius*v)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),c("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(f){return 1},gap:function(f){return 1}}),c("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),c("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}}),c("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(f){return .95*f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}})};var _l={};_l.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),l=n[0],u=n[1],s=n[4],c=r.pan(),d=r.zoom(),f=((t-l)/s-c.x)/d,v=((e-u)/s-c.y)/d;return[f,v]};_l.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(T){return parseFloat(r.getPropertyValue(T))},l={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},u={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,c=t.clientHeight,d=l.left+l.right,f=l.top+l.bottom,v=u.left+u.right,g=e.width/(s+v),p=s-d,E=c-f,b=e.left+l.left+u.left,C=e.top+l.top+u.top;return this.containerBB=[b,C,p,E,g]};_l.invalidateContainerClientCoordsCache=function(){this.containerBB=null};_l.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};_l.findNearestElements=function(t,e,r,n){var l=this,u=this,s=u.getCachedZSortedEles(),c=[],d=u.cy.zoom(),f=u.cy.hasCompoundNodes(),v=(n?24:8)/d,g=(n?8:2)/d,p=(n?8:2)/d,E=1/0,b,C;r&&(s=s.interactive);function S(M,k){if(M.isNode()){if(C)return;C=M,c.push(M)}if(M.isEdge()&&(k==null||k<E))if(b){if(b.pstyle("z-compound-depth").value===M.pstyle("z-compound-depth").value&&b.pstyle("z-compound-depth").value===M.pstyle("z-compound-depth").value){for(var j=0;j<c.length;j++)if(c[j].isEdge()){c[j]=M,b=M,E=k??E;break}}}else c.push(M),b=M,E=k??E}function T(M){var k=M.outerWidth()+2*g,j=M.outerHeight()+2*g,_=k/2,P=j/2,L=M.position(),H=M.pstyle("corner-radius").value==="auto"?"auto":M.pstyle("corner-radius").pfValue,X=M._private.rscratch;if(L.x-_<=t&&t<=L.x+_&&L.y-P<=e&&e<=L.y+P){var Z=u.nodeShapes[l.getNodeShape(M)];if(Z.checkPoint(t,e,0,k,j,L.x,L.y,H,X))return S(M,0),!0}}function N(M){var k=M._private,j=k.rscratch,_=M.pstyle("width").pfValue,P=M.pstyle("arrow-scale").value,L=_/2+v,H=L*L,X=L*2,W=k.source,ee=k.target,Z;if(j.edgeType==="segments"||j.edgeType==="straight"||j.edgeType==="haystack"){for(var G=j.allpts,F=0;F+3<G.length;F+=2)if($2(t,e,G[F],G[F+1],G[F+2],G[F+3],X)&&H>(Z=aA(t,e,G[F],G[F+1],G[F+2],G[F+3])))return S(M,Z),!0}else if(j.edgeType==="bezier"||j.edgeType==="multibezier"||j.edgeType==="self"||j.edgeType==="compound"){for(var G=j.allpts,F=0;F+5<j.allpts.length;F+=4)if(J2(t,e,G[F],G[F+1],G[F+2],G[F+3],G[F+4],G[F+5],X)&&H>(Z=rA(t,e,G[F],G[F+1],G[F+2],G[F+3],G[F+4],G[F+5])))return S(M,Z),!0}for(var W=W||k.source,ee=ee||k.target,te=l.getArrowWidth(_,P),q=[{name:"source",x:j.arrowStartX,y:j.arrowStartY,angle:j.srcArrowAngle},{name:"target",x:j.arrowEndX,y:j.arrowEndY,angle:j.tgtArrowAngle},{name:"mid-source",x:j.midX,y:j.midY,angle:j.midsrcArrowAngle},{name:"mid-target",x:j.midX,y:j.midY,angle:j.midtgtArrowAngle}],F=0;F<q.length;F++){var Q=q[F],J=u.arrowShapes[M.pstyle(Q.name+"-arrow-shape").value],ie=M.pstyle("width").pfValue;if(J.roughCollide(t,e,te,Q.angle,{x:Q.x,y:Q.y},ie,v)&&J.collide(t,e,te,Q.angle,{x:Q.x,y:Q.y},ie,v))return S(M),!0}f&&c.length>0&&(T(W),T(ee))}function R(M,k,j){return ya(M,k,j)}function D(M,k){var j=M._private,_=p,P;k?P=k+"-":P="",M.boundingBox();var L=j.labelBounds[k||"main"],H=M.pstyle(P+"label").value,X=M.pstyle("text-events").strValue==="yes";if(!(!X||!H)){var Z=R(j.rscratch,"labelX",k),G=R(j.rscratch,"labelY",k),F=R(j.rscratch,"labelAngle",k),W=M.pstyle(P+"text-margin-x").pfValue,ee=M.pstyle(P+"text-margin-y").pfValue,te=L.x1-_-W,q=L.x2+_-W,Q=L.y1-_-ee,J=L.y2+_-ee;if(F){var ie=Math.cos(F),oe=Math.sin(F),he=function(Ee,De){return Ee=Ee-Z,De=De-G,{x:Ee*ie-De*oe+Z,y:Ee*oe+De*ie+G}},be=he(te,Q),Re=he(te,J),ye=he(q,Q),ne=he(q,J),ue=[be.x+W,be.y+ee,ye.x+W,ye.y+ee,ne.x+W,ne.y+ee,Re.x+W,Re.y+ee];if(ba(t,e,ue))return S(M),!0}else if(Ui(L,t,e))return S(M),!0}}for(var O=s.length-1;O>=0;O--){var I=s[O];I.isNode()?T(I)||D(I):N(I)||D(I)||D(I,"source")||D(I,"target")}return c};_l.getAllInBox=function(t,e,r,n){var l=this.getCachedZSortedEles().interactive,u=this.cy.zoom(),s=2/u,c=[],d=Math.min(t,r),f=Math.max(t,r),v=Math.min(e,n),g=Math.max(e,n);t=d,r=f,e=v,n=g;var p=aa({x1:t,y1:e,x2:r,y2:n}),E=[{x:p.x1,y:p.y1},{x:p.x2,y:p.y1},{x:p.x2,y:p.y2},{x:p.x1,y:p.y2}],b=[[E[0],E[1]],[E[1],E[2]],[E[2],E[3]],[E[3],E[0]]];function C(Ee,De,Le){return ya(Ee,De,Le)}function S(Ee,De){var Le=Ee._private,lt=s,Qe="";Ee.boundingBox();var je=Le.labelBounds.main;if(!je)return null;var Ke=C(Le.rscratch,"labelX",De),Oe=C(Le.rscratch,"labelY",De),Ge=C(Le.rscratch,"labelAngle",De),Fe=Ee.pstyle(Qe+"text-margin-x").pfValue,tt=Ee.pstyle(Qe+"text-margin-y").pfValue,Ie=je.x1-lt-Fe,at=je.x2+lt-Fe,ct=je.y1-lt-tt,yt=je.y2+lt-tt;if(Ge){var dt=Math.cos(Ge),bt=Math.sin(Ge),We=function(we,Y){return we=we-Ke,Y=Y-Oe,{x:we*dt-Y*bt+Ke,y:we*bt+Y*dt+Oe}};return[We(Ie,ct),We(at,ct),We(at,yt),We(Ie,yt)]}else return[{x:Ie,y:ct},{x:at,y:ct},{x:at,y:yt},{x:Ie,y:yt}]}function T(Ee,De,Le,lt){function Qe(je,Ke,Oe){return(Oe.y-je.y)*(Ke.x-je.x)>(Ke.y-je.y)*(Oe.x-je.x)}return Qe(Ee,Le,lt)!==Qe(De,Le,lt)&&Qe(Ee,De,Le)!==Qe(Ee,De,lt)}for(var N=0;N<l.length;N++){var R=l[N];if(R.isNode()){var D=R,O=D.pstyle("text-events").strValue==="yes",I=D.pstyle("box-selection").strValue,M=D.pstyle("box-select-labels").strValue==="yes";if(I==="none")continue;var k=(I==="overlap"||M)&&O,j=D.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:k});if(I==="contain"){var _=!1;if(M&&O){var P=S(D);P&&mg(P,E)&&(c.push(D),_=!0)}!_&&wx(p,j)&&c.push(D)}else if(I==="overlap"&&cm(p,j)){var L=D.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),H=[{x:L.x1,y:L.y1},{x:L.x2,y:L.y1},{x:L.x2,y:L.y2},{x:L.x1,y:L.y2}];if(mg(H,E))c.push(D);else{var X=S(D);X&&mg(X,E)&&c.push(D)}}}else{var Z=R,G=Z._private,F=G.rscratch,W=Z.pstyle("box-selection").strValue;if(W==="none")continue;if(W==="contain"){if(F.startX!=null&&F.startY!=null&&!Ui(p,F.startX,F.startY)||F.endX!=null&&F.endY!=null&&!Ui(p,F.endX,F.endY))continue;if(F.edgeType==="bezier"||F.edgeType==="multibezier"||F.edgeType==="self"||F.edgeType==="compound"||F.edgeType==="segments"||F.edgeType==="haystack"){for(var ee=G.rstyle.bezierPts||G.rstyle.linePts||G.rstyle.haystackPts,te=!0,q=0;q<ee.length;q++)if(!Yb(p,ee[q])){te=!1;break}te&&c.push(Z)}else F.edgeType==="straight"&&c.push(Z)}else if(W==="overlap"){var Q=!1;if(F.startX!=null&&F.startY!=null&&F.endX!=null&&F.endY!=null&&(Ui(p,F.startX,F.startY)||Ui(p,F.endX,F.endY)))c.push(Z),Q=!0;else if(!Q&&F.edgeType==="haystack"){for(var J=G.rstyle.haystackPts,ie=0;ie<J.length;ie++)if(Yb(p,J[ie])){c.push(Z),Q=!0;break}}if(!Q){var oe=G.rstyle.bezierPts||G.rstyle.linePts||G.rstyle.haystackPts;if((!oe||oe.length<2)&&F.edgeType==="straight"&&F.startX!=null&&F.startY!=null&&F.endX!=null&&F.endY!=null&&(oe=[{x:F.startX,y:F.startY},{x:F.endX,y:F.endY}]),!oe||oe.length<2)continue;for(var he=0;he<oe.length-1;he++){for(var be=oe[he],Re=oe[he+1],ye=0;ye<b.length;ye++){var ne=xr(b[ye],2),ue=ne[0],fe=ne[1];if(T(be,Re,ue,fe)){c.push(Z),Q=!0;break}}if(Q)break}}}}}return c};var hd={};hd.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",l=e.edgeType==="multibezier",u=e.edgeType==="segments",s=e.edgeType==="compound",c=e.edgeType==="self",d,f,v,g,p,E,T,N;if(r?(v=e.haystackPts[0],g=e.haystackPts[1],p=e.haystackPts[2],E=e.haystackPts[3]):(v=e.arrowStartX,g=e.arrowStartY,p=e.arrowEndX,E=e.arrowEndY),T=e.midX,N=e.midY,u)d=v-e.segpts[0],f=g-e.segpts[1];else if(l||s||c||n){var b=e.allpts,C=Ir(b[0],b[2],b[4],.1),S=Ir(b[1],b[3],b[5],.1);d=v-C,f=g-S}else d=v-T,f=g-N;e.srcArrowAngle=Mf(d,f);var T=e.midX,N=e.midY;if(r&&(T=(v+p)/2,N=(g+E)/2),d=p-v,f=E-g,u){var b=e.allpts;if(b.length/2%2===0){var R=b.length/2,D=R-2;d=b[R]-b[D],f=b[R+1]-b[D+1]}else if(e.isRound)d=e.midVector[1],f=-e.midVector[0];else{var R=b.length/2-1,D=R-2;d=b[R]-b[D],f=b[R+1]-b[D+1]}}else if(l||s||c){var b=e.allpts,O=e.ctrlpts,I,M,k,j;if(O.length/2%2===0){var _=b.length/2-1,P=_+2,L=P+2;I=Ir(b[_],b[P],b[L],0),M=Ir(b[_+1],b[P+1],b[L+1],0),k=Ir(b[_],b[P],b[L],1e-4),j=Ir(b[_+1],b[P+1],b[L+1],1e-4)}else{var P=b.length/2-1,_=P-2,L=P+2;I=Ir(b[_],b[P],b[L],.4999),M=Ir(b[_+1],b[P+1],b[L+1],.4999),k=Ir(b[_],b[P],b[L],.5),j=Ir(b[_+1],b[P+1],b[L+1],.5)}d=k-I,f=j-M}if(e.midtgtArrowAngle=Mf(d,f),e.midDispX=d,e.midDispY=f,d*=-1,f*=-1,u){var b=e.allpts;if(b.length/2%2!==0){if(!e.isRound){var R=b.length/2-1,H=R+2;d=-(b[H]-b[R]),f=-(b[H+1]-b[R+1])}}}if(e.midsrcArrowAngle=Mf(d,f),u)d=p-e.segpts[e.segpts.length-2],f=E-e.segpts[e.segpts.length-1];else if(l||s||c||n){var b=e.allpts,X=b.length,C=Ir(b[X-6],b[X-4],b[X-2],.9),S=Ir(b[X-5],b[X-3],b[X-1],.9);d=p-C,f=E-S}else d=p-T,f=E-N;e.tgtArrowAngle=Mf(d,f)};hd.getArrowWidth=hd.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var Vp,Fp,hn={},Ua={},RE,DE,Dl,ed,Wn,Sl,Nl,dn,ku,Pf,pw,mw,Yp,Kp,OE,ME=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},bR=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},ER=function(e,r,n,l,u){if(e!==OE?ME(r,e,hn):bR(Ua,hn),ME(r,n,Ua),RE=hn.nx*Ua.ny-hn.ny*Ua.nx,DE=hn.nx*Ua.nx-hn.ny*-Ua.ny,Wn=Math.asin(Math.max(-1,Math.min(1,RE))),Math.abs(Wn)<1e-6){Vp=r.x,Fp=r.y,Nl=ku=0;return}Dl=1,ed=!1,DE<0?Wn<0?Wn=Math.PI+Wn:(Wn=Math.PI-Wn,Dl=-1,ed=!0):Wn>0&&(Dl=-1,ed=!0),r.radius!==void 0?ku=r.radius:ku=l,Sl=Wn/2,Pf=Math.min(hn.len/2,Ua.len/2),u?(dn=Math.abs(Math.cos(Sl)*ku/Math.sin(Sl)),dn>Pf?(dn=Pf,Nl=Math.abs(dn*Math.sin(Sl)/Math.cos(Sl))):Nl=ku):(dn=Math.min(Pf,ku),Nl=Math.abs(dn*Math.sin(Sl)/Math.cos(Sl))),Yp=r.x+Ua.nx*dn,Kp=r.y+Ua.ny*dn,Vp=Yp-Ua.ny*Nl*Dl,Fp=Kp+Ua.nx*Nl*Dl,pw=r.x+hn.nx*dn,mw=r.y+hn.ny*dn,OE=r};function yw(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function wm(t,e,r,n){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(ER(t,e,r,n,l),{cx:Vp,cy:Fp,radius:Nl,startX:pw,startY:mw,stopX:Yp,stopY:Kp,startAngle:hn.ang+Math.PI/2*Dl,endAngle:Ua.ang-Math.PI/2*Dl,counterClockwise:ed})}var Uo=.01,xR=Math.sqrt(2*Uo),Qr={};Qr.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,l=e.vectorNormInverse,u,s=t.pstyle("source-endpoint"),c=t.pstyle("target-endpoint"),d=s.units!=null&&c.units!=null,f=function(O,I,M,k){var j=k-I,_=M-O,P=Math.sqrt(_*_+j*j);return{x:-j/P,y:_/P}},v=t.pstyle("edge-distances").value;switch(v){case"node-position":u=r;break;case"intersection":u=n;break;case"endpoints":{if(d){var g=this.manualEndptToPx(t.source()[0],s),p=xr(g,2),E=p[0],b=p[1],C=this.manualEndptToPx(t.target()[0],c),S=xr(C,2),T=S[0],N=S[1],R={x1:E,y1:b,x2:T,y2:N};l=f(E,b,T,N),u=R}else Mt("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),u=n;break}}return{midptPts:u,vectorNormInverse:l}};Qr.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,l=n.rscratch;if(!l.haystack){var u=Math.random()*2*Math.PI;l.source={x:Math.cos(u),y:Math.sin(u)},u=Math.random()*2*Math.PI,l.target={x:Math.cos(u),y:Math.sin(u)}}var s=n.source,c=n.target,d=s.position(),f=c.position(),v=s.width(),g=c.width(),p=s.height(),E=c.height(),b=r.pstyle("haystack-radius").value,C=b/2;l.haystackPts=l.allpts=[l.source.x*v*C+d.x,l.source.y*p*C+d.y,l.target.x*g*C+f.x,l.target.y*E*C+f.y],l.midX=(l.allpts[0]+l.allpts[2])/2,l.midY=(l.allpts[1]+l.allpts[3])/2,l.edgeType="haystack",l.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Qr.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),l=t.pstyle("segment-distances"),u=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),c=Math.min(n.pfValue.length,l.pfValue.length),d=u.pfValue[u.pfValue.length-1],f=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var v=0;v<c;v++){var g=n.pfValue[v],p=l.pfValue[v],E=1-g,b=g,C=this.findMidptPtsEtc(t,e),S=C.midptPts,T=C.vectorNormInverse,N={x:S.x1*E+S.x2*b,y:S.y1*E+S.y2*b};r.segpts.push(N.x+T.x*p,N.y+T.y*p),r.radii.push(u.pfValue[v]!==void 0?u.pfValue[v]:d),r.isArcRadius.push((s.pfValue[v]!==void 0?s.pfValue[v]:f)==="arc-radius")}};Qr.findLoopPoints=function(t,e,r,n){var l=t._private.rscratch,u=e.dirCounts,s=e.srcPos,c=t.pstyle("control-point-distances"),d=c?c.pfValue[0]:void 0,f=t.pstyle("loop-direction").pfValue,v=t.pstyle("loop-sweep").pfValue,g=t.pstyle("control-point-step-size").pfValue;l.edgeType="self";var p=r,E=g;n&&(p=0,E=d);var b=f-Math.PI/2,C=b-v/2,S=b+v/2,T=f+"_"+v;p=u[T]===void 0?u[T]=0:++u[T],l.ctrlpts=[s.x+Math.cos(C)*1.4*E*(p/3+1),s.y+Math.sin(C)*1.4*E*(p/3+1),s.x+Math.cos(S)*1.4*E*(p/3+1),s.y+Math.sin(S)*1.4*E*(p/3+1)]};Qr.findCompoundLoopPoints=function(t,e,r,n){var l=t._private.rscratch;l.edgeType="compound";var u=e.srcPos,s=e.tgtPos,c=e.srcW,d=e.srcH,f=e.tgtW,v=e.tgtH,g=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),E=p?p.pfValue[0]:void 0,b=r,C=g;n&&(b=0,C=E);var S=50,T={x:u.x-c/2,y:u.y-d/2},N={x:s.x-f/2,y:s.y-v/2},R={x:Math.min(T.x,N.x),y:Math.min(T.y,N.y)},D=.5,O=Math.max(D,Math.log(c*Uo)),I=Math.max(D,Math.log(f*Uo));l.ctrlpts=[R.x,R.y-(1+Math.pow(S,1.12)/100)*C*(b/3+1)*O,R.x-(1+Math.pow(S,1.12)/100)*C*(b/3+1)*I,R.y]};Qr.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Qr.findBezierPoints=function(t,e,r,n,l){var u=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,c=t.pstyle("control-point-distances"),d=t.pstyle("control-point-weights"),f=c&&d?Math.min(c.value.length,d.value.length):1,v=c?c.pfValue[0]:void 0,g=d.value[0],p=n;u.edgeType=p?"multibezier":"bezier",u.ctrlpts=[];for(var E=0;E<f;E++){var b=(.5-e.eles.length/2+r)*s*(l?-1:1),C=void 0,S=om(b);p&&(v=c?c.pfValue[E]:s,g=d.value[E]),n?C=v:C=v!==void 0?S*v:void 0;var T=C!==void 0?C:b,N=1-g,R=g,D=this.findMidptPtsEtc(t,e),O=D.midptPts,I=D.vectorNormInverse,M={x:O.x1*N+O.x2*R,y:O.y1*N+O.y2*R};u.ctrlpts.push(M.x+I.x*T,M.y+I.y*T)}};Qr.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",l="horizontal",u="leftward",s="rightward",c="downward",d="upward",f="auto",v=e.posPts,g=e.srcW,p=e.srcH,E=e.tgtW,b=e.tgtH,C=t.pstyle("edge-distances").value,S=C!=="node-position",T=t.pstyle("taxi-direction").value,N=T,R=t.pstyle("taxi-turn"),D=R.units==="%",O=R.pfValue,I=O<0,M=t.pstyle("taxi-turn-min-distance").pfValue,k=S?(g+E)/2:0,j=S?(p+b)/2:0,_=v.x2-v.x1,P=v.y2-v.y1,L=function(Y,se){return Y>0?Math.max(Y-se,0):Math.min(Y+se,0)},H=L(_,k),X=L(P,j),Z=!1;N===f?T=Math.abs(H)>Math.abs(X)?l:n:N===d||N===c?(T=n,Z=!0):(N===u||N===s)&&(T=l,Z=!0);var G=T===n,F=G?X:H,W=G?P:_,ee=om(W),te=!1;!(Z&&(D||I))&&(N===c&&W<0||N===d&&W>0||N===u&&W>0||N===s&&W<0)&&(ee*=-1,F=ee*Math.abs(F),te=!0);var q;if(D){var Q=O<0?1+O:O;q=Q*F}else{var J=O<0?F:0;q=J+O*ee}var ie=function(Y){return Math.abs(Y)<M||Math.abs(Y)>=Math.abs(F)},oe=ie(q),he=ie(Math.abs(F)-Math.abs(q)),be=oe||he;if(be&&!te)if(G){var Re=Math.abs(W)<=p/2,ye=Math.abs(_)<=E/2;if(Re){var ne=(v.x1+v.x2)/2,ue=v.y1,fe=v.y2;r.segpts=[ne,ue,ne,fe]}else if(ye){var Ee=(v.y1+v.y2)/2,De=v.x1,Le=v.x2;r.segpts=[De,Ee,Le,Ee]}else r.segpts=[v.x1,v.y2]}else{var lt=Math.abs(W)<=g/2,Qe=Math.abs(P)<=b/2;if(lt){var je=(v.y1+v.y2)/2,Ke=v.x1,Oe=v.x2;r.segpts=[Ke,je,Oe,je]}else if(Qe){var Ge=(v.x1+v.x2)/2,Fe=v.y1,tt=v.y2;r.segpts=[Ge,Fe,Ge,tt]}else r.segpts=[v.x2,v.y1]}else if(G){var Ie=v.y1+q+(S?p/2*ee:0),at=v.x1,ct=v.x2;r.segpts=[at,Ie,ct,Ie]}else{var yt=v.x1+q+(S?g/2*ee:0),dt=v.y1,bt=v.y2;r.segpts=[yt,dt,yt,bt]}if(r.isRound){var We=t.pstyle("taxi-radius").value,ze=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(We),r.isArcRadius=new Array(r.segpts.length/2).fill(ze)}};Qr.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,l=e.tgtPos,u=e.srcW,s=e.srcH,c=e.tgtW,d=e.tgtH,f=e.srcShape,v=e.tgtShape,g=e.srcCornerRadius,p=e.tgtCornerRadius,E=e.srcRs,b=e.tgtRs,C=!Me(r.startX)||!Me(r.startY),S=!Me(r.arrowStartX)||!Me(r.arrowStartY),T=!Me(r.endX)||!Me(r.endY),N=!Me(r.arrowEndX)||!Me(r.arrowEndY),R=3,D=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,O=R*D,I=Bl({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),M=I<O,k=Bl({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),j=k<O,_=!1;if(C||S||M){_=!0;var P={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},L=Math.sqrt(P.x*P.x+P.y*P.y),H={x:P.x/L,y:P.y/L},X=Math.max(u,s),Z={x:r.ctrlpts[0]+H.x*2*X,y:r.ctrlpts[1]+H.y*2*X},G=f.intersectLine(n.x,n.y,u,s,Z.x,Z.y,0,g,E);M?(r.ctrlpts[0]=r.ctrlpts[0]+H.x*(O-I),r.ctrlpts[1]=r.ctrlpts[1]+H.y*(O-I)):(r.ctrlpts[0]=G[0]+H.x*O,r.ctrlpts[1]=G[1]+H.y*O)}if(T||N||j){_=!0;var F={x:r.ctrlpts[0]-l.x,y:r.ctrlpts[1]-l.y},W=Math.sqrt(F.x*F.x+F.y*F.y),ee={x:F.x/W,y:F.y/W},te=Math.max(u,s),q={x:r.ctrlpts[0]+ee.x*2*te,y:r.ctrlpts[1]+ee.y*2*te},Q=v.intersectLine(l.x,l.y,c,d,q.x,q.y,0,p,b);j?(r.ctrlpts[0]=r.ctrlpts[0]+ee.x*(O-k),r.ctrlpts[1]=r.ctrlpts[1]+ee.y*(O-k)):(r.ctrlpts[0]=Q[0]+ee.x*O,r.ctrlpts[1]=Q[1]+ee.y*O)}_&&this.findEndpoints(t)}};Qr.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,l;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,l=.5,e.midX=Ir(e.allpts[n],e.allpts[n+2],e.allpts[n+4],l),e.midY=Ir(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],l))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var u=2;u+3<e.allpts.length;u+=2){var s=e.radii[u/2-1],c=e.isArcRadius[u/2-1];e.roundCorners.push(wm({x:e.allpts[u-2],y:e.allpts[u-1]},{x:e.allpts[u],y:e.allpts[u+1],radius:s},{x:e.allpts[u+2],y:e.allpts[u+3]},s,c))}}if(e.segpts.length%4===0){var d=e.segpts.length/2,f=d-2;e.midX=(e.segpts[f]+e.segpts[d])/2,e.midY=(e.segpts[f+1]+e.segpts[d+1])/2}else{var v=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[v],e.midY=e.segpts[v+1];else{var g={x:e.segpts[v],y:e.segpts[v+1]},p=e.roundCorners[v/2];if(p.radius===0){var E={x:e.segpts[v+2],y:e.segpts[v+3]};e.midX=g.x,e.midY=g.y,e.midVector=[g.y-E.y,E.x-g.x]}else{var b=[g.x-p.cx,g.y-p.cy],C=p.radius/Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2));b=b.map(function(S){return S*C}),e.midX=p.cx+b[0],e.midY=p.cy+b[1],e.midVector=b}}}}};Qr.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Me(e.startX)&&Me(e.startY)&&Me(e.endX)&&Me(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Mt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Qr.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,l=n.hasCompoundNodes(),u=new Jn,s=function(j,_){return[].concat(nd(j),[_?1:0]).join("-")},c=[],d=[],f=0;f<t.length;f++){var v=t[f],g=v._private,p=v.pstyle("curve-style").value;if(!(v.removed()||!v.takesUpSpace())){if(p==="haystack"){d.push(v);continue}var E=p==="unbundled-bezier"||_i(p,"segments")||p==="straight"||p==="straight-triangle"||_i(p,"taxi"),b=p==="unbundled-bezier"||p==="bezier",C=g.source,S=g.target,T=C.poolIndex(),N=S.poolIndex(),R=[T,N].sort(),D=s(R,E),O=u.get(D);O==null&&(O={eles:[]},c.push({pairId:R,edgeIsUnbundled:E}),u.set(D,O)),O.eles.push(v),E&&(O.hasUnbundled=!0),b&&(O.hasBezier=!0)}}for(var I=function(){var j=c[M],_=j.pairId,P=j.edgeIsUnbundled,L=s(_,P),H=u.get(L),X;if(!H.hasUnbundled){var Z=H.eles[0].parallelEdges().filter(function(ze){return ze.isBundledBezier()});um(H.eles),Z.forEach(function(ze){return H.eles.push(ze)}),H.eles.sort(function(ze,we){return ze.poolIndex()-we.poolIndex()})}var G=H.eles[0],F=G.source(),W=G.target();if(F.poolIndex()>W.poolIndex()){var ee=F;F=W,W=ee}var te=H.srcPos=F.position(),q=H.tgtPos=W.position(),Q=H.srcW=F.outerWidth(),J=H.srcH=F.outerHeight(),ie=H.tgtW=W.outerWidth(),oe=H.tgtH=W.outerHeight(),he=H.srcShape=r.nodeShapes[e.getNodeShape(F)],be=H.tgtShape=r.nodeShapes[e.getNodeShape(W)],Re=H.srcCornerRadius=F.pstyle("corner-radius").value==="auto"?"auto":F.pstyle("corner-radius").pfValue,ye=H.tgtCornerRadius=W.pstyle("corner-radius").value==="auto"?"auto":W.pstyle("corner-radius").pfValue,ne=H.tgtRs=W._private.rscratch,ue=H.srcRs=F._private.rscratch;H.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var fe=0;fe<H.eles.length;fe++){var Ee=H.eles[fe],De=Ee[0]._private.rscratch,Le=Ee.pstyle("curve-style").value,lt=Le==="unbundled-bezier"||_i(Le,"segments")||_i(Le,"taxi"),Qe=!F.same(Ee.source());if(!H.calculatedIntersection&&F!==W&&(H.hasBezier||H.hasUnbundled)){H.calculatedIntersection=!0;var je=he.intersectLine(te.x,te.y,Q,J,q.x,q.y,0,Re,ue),Ke=H.srcIntn=je,Oe=be.intersectLine(q.x,q.y,ie,oe,te.x,te.y,0,ye,ne),Ge=H.tgtIntn=Oe,Fe=H.intersectionPts={x1:je[0],x2:Oe[0],y1:je[1],y2:Oe[1]},tt=H.posPts={x1:te.x,x2:q.x,y1:te.y,y2:q.y},Ie=Oe[1]-je[1],at=Oe[0]-je[0],ct=Math.sqrt(at*at+Ie*Ie);Me(ct)&&ct>=xR||(ct=Math.sqrt(Math.max(at*at,Uo)+Math.max(Ie*Ie,Uo)));var yt=H.vector={x:at,y:Ie},dt=H.vectorNorm={x:yt.x/ct,y:yt.y/ct},bt={x:-dt.y,y:dt.x};H.nodesOverlap=!Me(ct)||be.checkPoint(je[0],je[1],0,ie,oe,q.x,q.y,ye,ne)||he.checkPoint(Oe[0],Oe[1],0,Q,J,te.x,te.y,Re,ue),H.vectorNormInverse=bt,X={nodesOverlap:H.nodesOverlap,dirCounts:H.dirCounts,calculatedIntersection:!0,hasBezier:H.hasBezier,hasUnbundled:H.hasUnbundled,eles:H.eles,srcPos:q,srcRs:ne,tgtPos:te,tgtRs:ue,srcW:ie,srcH:oe,tgtW:Q,tgtH:J,srcIntn:Ge,tgtIntn:Ke,srcShape:be,tgtShape:he,posPts:{x1:tt.x2,y1:tt.y2,x2:tt.x1,y2:tt.y1},intersectionPts:{x1:Fe.x2,y1:Fe.y2,x2:Fe.x1,y2:Fe.y1},vector:{x:-yt.x,y:-yt.y},vectorNorm:{x:-dt.x,y:-dt.y},vectorNormInverse:{x:-bt.x,y:-bt.y}}}var We=Qe?X:H;De.nodesOverlap=We.nodesOverlap,De.srcIntn=We.srcIntn,De.tgtIntn=We.tgtIntn,De.isRound=Le.startsWith("round"),l&&(F.isParent()||F.isChild()||W.isParent()||W.isChild())&&(F.parents().anySame(W)||W.parents().anySame(F)||F.same(W)&&F.isParent())?e.findCompoundLoopPoints(Ee,We,fe,lt):F===W?e.findLoopPoints(Ee,We,fe,lt):Le.endsWith("segments")?e.findSegmentsPoints(Ee,We):Le.endsWith("taxi")?e.findTaxiPoints(Ee,We):Le==="straight"||!lt&&H.eles.length%2===1&&fe===Math.floor(H.eles.length/2)?e.findStraightEdgePoints(Ee):e.findBezierPoints(Ee,We,fe,lt,Qe),e.findEndpoints(Ee),e.tryToCorrectInvalidPoints(Ee,We),e.checkForInvalidEdgeWarning(Ee),e.storeAllpts(Ee),e.storeEdgeProjections(Ee),e.calculateArrowAngles(Ee),e.recalculateEdgeLabelProjections(Ee),e.calculateLabelAngles(Ee)}},M=0;M<c.length;M++)I();this.findHaystackPoints(d)}};function bw(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],l=t[r+1];e.push({x:n,y:l})}return e}}Qr.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return bw(e.segpts)};Qr.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return bw(e.ctrlpts)};Qr.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Xo={};Xo.manualEndptToPx=function(t,e){var r=this,n=t.position(),l=t.outerWidth(),u=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var c=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(c[0]=c[0]*l),e.units[1]==="%"&&(c[1]=c[1]*u),c[0]+=n.x,c[1]+=n.y,c}else{var d=e.pfValue[0];d=-Math.PI/2+d;var f=2*Math.max(l,u),v=[n.x+Math.cos(d)*f,n.y+Math.sin(d)*f];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,l,u,v[0],v[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};Xo.findEndpoints=function(t){var e,r,n,l,u=this,s,c=t.source()[0],d=t.target()[0],f=c.position(),v=d.position(),g=t.pstyle("target-arrow-shape").value,p=t.pstyle("source-arrow-shape").value,E=t.pstyle("target-distance-from-node").pfValue,b=t.pstyle("source-distance-from-node").pfValue,C=c._private.rscratch,S=d._private.rscratch,T=t.pstyle("curve-style").value,N=t._private.rscratch,R=N.edgeType,D=_i(T,"taxi"),O=R==="self"||R==="compound",I=R==="bezier"||R==="multibezier"||O,M=R!=="bezier",k=R==="straight"||R==="segments",j=R==="segments",_=I||M||k,P=O||D,L=t.pstyle("source-endpoint"),H=P?"outside-to-node":L.value,X=c.pstyle("corner-radius").value==="auto"?"auto":c.pstyle("corner-radius").pfValue,Z=t.pstyle("target-endpoint"),G=P?"outside-to-node":Z.value,F=d.pstyle("corner-radius").value==="auto"?"auto":d.pstyle("corner-radius").pfValue;N.srcManEndpt=L,N.tgtManEndpt=Z;var W,ee,te,q,Q=(e=(Z==null||(r=Z.pfValue)===null||r===void 0?void 0:r.length)===2?Z.pfValue:null)!==null&&e!==void 0?e:[0,0],J=(n=(L==null||(l=L.pfValue)===null||l===void 0?void 0:l.length)===2?L.pfValue:null)!==null&&n!==void 0?n:[0,0];if(I){var ie=[N.ctrlpts[0],N.ctrlpts[1]],oe=M?[N.ctrlpts[N.ctrlpts.length-2],N.ctrlpts[N.ctrlpts.length-1]]:ie;W=oe,ee=ie}else if(k){var he=j?N.segpts.slice(0,2):[v.x+Q[0],v.y+Q[1]],be=j?N.segpts.slice(N.segpts.length-2):[f.x+J[0],f.y+J[1]];W=be,ee=he}if(G==="inside-to-node")s=[v.x,v.y];else if(Z.units)s=this.manualEndptToPx(d,Z);else if(G==="outside-to-line")s=N.tgtIntn;else if(G==="outside-to-node"||G==="outside-to-node-or-label"?te=W:(G==="outside-to-line"||G==="outside-to-line-or-label")&&(te=[f.x,f.y]),s=u.nodeShapes[this.getNodeShape(d)].intersectLine(v.x,v.y,d.outerWidth(),d.outerHeight(),te[0],te[1],0,F,S),G==="outside-to-node-or-label"||G==="outside-to-line-or-label"){var Re=d._private.rscratch,ye=Re.labelWidth,ne=Re.labelHeight,ue=Re.labelX,fe=Re.labelY,Ee=ye/2,De=ne/2,Le=d.pstyle("text-valign").value;Le==="top"?fe-=De:Le==="bottom"&&(fe+=De);var lt=d.pstyle("text-halign").value;lt==="left"?ue-=Ee:lt==="right"&&(ue+=Ee);var Qe=Io(te[0],te[1],[ue-Ee,fe-De,ue+Ee,fe-De,ue+Ee,fe+De,ue-Ee,fe+De],v.x,v.y);if(Qe.length>0){var je=f,Ke=Cl(je,qu(s)),Oe=Cl(je,qu(Qe)),Ge=Ke;if(Oe<Ke&&(s=Qe,Ge=Oe),Qe.length>2){var Fe=Cl(je,{x:Qe[2],y:Qe[3]});Fe<Ge&&(s=[Qe[2],Qe[3]])}}}var tt=Bf(s,W,u.arrowShapes[g].spacing(t)+E),Ie=Bf(s,W,u.arrowShapes[g].gap(t)+E);if(N.endX=Ie[0],N.endY=Ie[1],N.arrowEndX=tt[0],N.arrowEndY=tt[1],H==="inside-to-node")s=[f.x,f.y];else if(L.units)s=this.manualEndptToPx(c,L);else if(H==="outside-to-line")s=N.srcIntn;else if(H==="outside-to-node"||H==="outside-to-node-or-label"?q=ee:(H==="outside-to-line"||H==="outside-to-line-or-label")&&(q=[v.x,v.y]),s=u.nodeShapes[this.getNodeShape(c)].intersectLine(f.x,f.y,c.outerWidth(),c.outerHeight(),q[0],q[1],0,X,C),H==="outside-to-node-or-label"||H==="outside-to-line-or-label"){var at=c._private.rscratch,ct=at.labelWidth,yt=at.labelHeight,dt=at.labelX,bt=at.labelY,We=ct/2,ze=yt/2,we=c.pstyle("text-valign").value;we==="top"?bt-=ze:we==="bottom"&&(bt+=ze);var Y=c.pstyle("text-halign").value;Y==="left"?dt-=We:Y==="right"&&(dt+=We);var se=Io(q[0],q[1],[dt-We,bt-ze,dt+We,bt-ze,dt+We,bt+ze,dt-We,bt+ze],f.x,f.y);if(se.length>0){var pe=v,ge=Cl(pe,qu(s)),Te=Cl(pe,qu(se)),ke=ge;if(Te<ge&&(s=[se[0],se[1]],ke=Te),se.length>2){var Ne=Cl(pe,{x:se[2],y:se[3]});Ne<ke&&(s=[se[2],se[3]])}}}var Ue=Bf(s,ee,u.arrowShapes[p].spacing(t)+b),Be=Bf(s,ee,u.arrowShapes[p].gap(t)+b);N.startX=Be[0],N.startY=Be[1],N.arrowStartX=Ue[0],N.arrowStartY=Ue[1],_&&(!Me(N.startX)||!Me(N.startY)||!Me(N.endX)||!Me(N.endY)?N.badLine=!0:N.badLine=!1)};Xo.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),e.edgeType==="haystack"?{x:e.haystackPts[0],y:e.haystackPts[1]}:{x:e.arrowStartX,y:e.arrowStartY}};Xo.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),e.edgeType==="haystack"?{x:e.haystackPts[2],y:e.haystackPts[3]}:{x:e.arrowEndX,y:e.arrowEndY}};var Tm={};function wR(t,e,r){for(var n=function(f,v,g,p){return Ir(f,v,g,p)},l=e._private,u=l.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var c=t.bezierProjPcts[s];u.push({x:n(r[0],r[2],r[4],c),y:n(r[1],r[3],r[5],c)})}}Tm.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var l=0;l+5<r.allpts.length;l+=4)wR(this,t,r.allpts.slice(l,l+6))}else if(n==="segments")for(var u=e.rstyle.linePts=[],l=0;l+1<r.allpts.length;l+=2)u.push({x:r.allpts[l],y:r.allpts[l+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};Tm.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var mn={};mn.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Gi(e)){var r,n,l=t._private,u=t.width(),s=t.height(),c=t.padding(),d=t.position(),f=t.pstyle("text-halign").strValue,v=t.pstyle("text-valign").strValue,g=l.rscratch,p=l.rstyle;switch(f){case"left":r=d.x-u/2-c;break;case"right":r=d.x+u/2+c;break;default:r=d.x}switch(v){case"top":n=d.y-s/2-c;break;case"bottom":n=d.y+s/2+c;break;default:n=d.y}g.labelX=r,g.labelY=n,p.labelX=r,p.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var Ew=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},xw=function(e,r){var n=r.x-e.x,l=r.y-e.y;return Ew(n,l)},TR=function(e,r,n,l){var u=Bo(0,l-.001,1),s=Bo(0,l+.001,1),c=Vu(e,r,n,u),d=Vu(e,r,n,s);return xw(c,d)};mn.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,l=this,u={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(u.mid||u.source||u.target){e={x:n.midX,y:n.midY};var s=function(g,p,E){$n(r.rscratch,g,p,E),$n(r.rstyle,g,p,E)};s("labelX",null,e.x),s("labelY",null,e.y);var c=Ew(n.midDispX,n.midDispY);s("labelAutoAngle",null,c);var d=function(){if(d.cache)return d.cache;for(var g=[],p=0;p+5<n.allpts.length;p+=4){var E={x:n.allpts[p],y:n.allpts[p+1]},b={x:n.allpts[p+2],y:n.allpts[p+3]},C={x:n.allpts[p+4],y:n.allpts[p+5]};g.push({p0:E,p1:b,p2:C,startDist:0,length:0,segments:[]})}var S=r.rstyle.bezierPts,T=l.bezierProjPcts.length;function N(M,k,j,_,P){var L=Bl(k,j),H=M.segments[M.segments.length-1],X={p0:k,p1:j,t0:_,t1:P,startDist:H?H.startDist+H.length:0,length:L};M.segments.push(X),M.length+=L}for(var R=0;R<g.length;R++){var D=g[R],O=g[R-1];O&&(D.startDist=O.startDist+O.length),N(D,D.p0,S[R*T],0,l.bezierProjPcts[0]);for(var I=0;I<T-1;I++)N(D,S[R*T+I],S[R*T+I+1],l.bezierProjPcts[I],l.bezierProjPcts[I+1]);N(D,S[R*T+T-1],D.p2,l.bezierProjPcts[T-1],1)}return d.cache=g},f=function(g){var p,E=g==="source";if(u[g]){var b=t.pstyle(g+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var C=d(),S,T=0,N=0,R=0;R<C.length;R++){for(var D=C[E?R:C.length-1-R],O=0;O<D.segments.length;O++){var I=D.segments[E?O:D.segments.length-1-O],M=R===C.length-1&&O===D.segments.length-1;if(T=N,N+=I.length,N>=b||M){S={cp:D,segment:I};break}}if(S)break}var k=S.cp,j=S.segment,_=(b-T)/j.length,P=j.t1-j.t0,L=E?j.t0+P*_:j.t1-P*_;L=Bo(0,L,1),e=Vu(k.p0,k.p1,k.p2,L),p=TR(k.p0,k.p1,k.p2,L);break}case"straight":case"segments":case"haystack":{for(var H=0,X,Z,G,F,W=n.allpts.length,ee=0;ee+3<W&&(E?(G={x:n.allpts[ee],y:n.allpts[ee+1]},F={x:n.allpts[ee+2],y:n.allpts[ee+3]}):(G={x:n.allpts[W-2-ee],y:n.allpts[W-1-ee]},F={x:n.allpts[W-4-ee],y:n.allpts[W-3-ee]}),X=Bl(G,F),Z=H,H+=X,!(H>=b));ee+=2);var te=b-Z,q=te/X;q=Bo(0,q,1),e=F2(G,F,q),p=xw(G,F);break}}s("labelX",g,e.x),s("labelY",g,e.y),s("labelAutoAngle",g,p)}};f("source"),f("target"),this.applyLabelDimensions(t)}};mn.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};mn.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),l=Ml(n,t._private.labelDimsKey);if(ya(r.rscratch,"prefixedLabelDimsKey",e)!==l){$n(r.rscratch,"prefixedLabelDimsKey",e,l);var u=this.calculateLabelDimensions(t,n),s=t.pstyle("line-height").pfValue,c=t.pstyle("text-wrap").strValue,d=ya(r.rscratch,"labelWrapCachedLines",e)||[],f=c!=="wrap"?1:Math.max(d.length,1),v=u.height/f,g=v*s,p=u.width,E=u.height+(f-1)*(s-1)*v;$n(r.rstyle,"labelWidth",e,p),$n(r.rscratch,"labelWidth",e,p),$n(r.rstyle,"labelHeight",e,E),$n(r.rscratch,"labelHeight",e,E),$n(r.rscratch,"labelLineHeight",e,g)}};mn.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",l=t.pstyle(n+"label").strValue,u=t.pstyle("text-transform").value,s=function(J,ie){return ie?($n(r.rscratch,J,e,ie),ie):ya(r.rscratch,J,e)};if(!l)return"";u=="none"||(u=="uppercase"?l=l.toUpperCase():u=="lowercase"&&(l=l.toLowerCase()));var c=t.pstyle("text-wrap").value;if(c==="wrap"){var d=s("labelKey");if(d!=null&&s("labelWrapKey")===d)return s("labelWrapCachedText");for(var f="",v=l.split(`
`),g=t.pstyle("text-max-width").pfValue,p=t.pstyle("text-overflow-wrap").value,E=p==="anywhere",b=[],C=/[\s\u200b]+|$/g,S=0;S<v.length;S++){var T=v[S],N=this.calculateLabelDimensions(t,T),R=N.width;if(E){var D=T.split("").join(f);T=D}if(R>g){var O=T.matchAll(C),I="",M=0,k=Ea(O),j;try{for(k.s();!(j=k.n()).done;){var _=j.value,P=_[0],L=T.substring(M,_.index);M=_.index+P.length;var H=I.length===0?L:I+L+P,X=this.calculateLabelDimensions(t,H),Z=X.width;Z<=g?I+=L+P:(I&&b.push(I),I=L+P)}}catch(Q){k.e(Q)}finally{k.f()}I.match(/^[\s\u200b]+$/)||b.push(I)}else b.push(T)}s("labelWrapCachedLines",b),l=s("labelWrapCachedText",b.join(`
`)),s("labelWrapKey",d)}else if(c==="ellipsis"){var G=t.pstyle("text-max-width").pfValue,F="",W="",ee=!1;if(this.calculateLabelDimensions(t,l).width<G)return l;for(var te=0;te<l.length;te++){var q=this.calculateLabelDimensions(t,F+l[te]+W).width;if(q>G)break;F+=l[te],te===l.length-1&&(ee=!0)}return ee||(F+=W),F}return l};mn.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};mn.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),l=n.document,u=0,s=t.pstyle("font-style").strValue,c=t.pstyle("font-size").pfValue,d=t.pstyle("font-family").strValue,f=t.pstyle("font-weight").strValue,v=this.labelCalcCanvas,g=this.labelCalcCanvasContext;if(!v){v=this.labelCalcCanvas=l.createElement("canvas"),g=this.labelCalcCanvasContext=v.getContext("2d");var p=v.style;p.position="absolute",p.left="-9999px",p.top="-9999px",p.zIndex="-1",p.visibility="hidden",p.pointerEvents="none"}g.font="".concat(s," ").concat(f," ").concat(c,"px ").concat(d);for(var E=0,b=0,C=e.split(`
`),S=0;S<C.length;S++){var T=C[S],N=g.measureText(T),R=Math.ceil(N.width),D=c;E=Math.max(R,E),b+=D}return E+=u,b+=u,{width:E,height:b}};mn.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,l=t.isEdge(),u=e?e+"-":"",s=t.pstyle(u+"text-rotation"),c=s.strValue;return c==="none"?0:l&&c==="autorotate"?n.labelAutoAngle:c==="autorotate"?0:s.pfValue};mn.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,l=n.rscratch;l.labelAngle=e.calculateLabelAngle(t),r&&(l.sourceLabelAngle=e.calculateLabelAngle(t,"source"),l.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var ww={},BE=28,IE=!1;ww.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<BE||t.height()<BE))return IE||(Mt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),IE=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Ld={};Ld.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),c)for(var d=0;d<s.length;d++){var f=s[d],v=f._private,g=v.rstyle;g.clean=!1,g.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var c=s.target;n(c)}).on("style.* background.*",function(s){var c=s.target;n(c,!1)});var l=function(s){if(s){var c=r.onUpdateEleCalcsFns;e.cleanStyle();for(var d=0;d<e.length;d++){var f=e[d],v=f._private.rstyle;f.isNode()&&!v.cleanConnected&&(n(f.connectedEdges()),v.cleanConnected=!0)}if(c)for(var g=0;g<c.length;g++){var p=c[g];p(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){l(!0)},r.beforeRender(l,r.beforeRenderPriorities.eleCalcs)};Ld.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Ld.recalculateRenderedStyle=function(t,e){var r=function(D){return D._private.rstyle.cleanConnected};if(t.length!==0){var n=[],l=[];if(!this.destroyed){e===void 0&&(e=!0);for(var u=0;u<t.length;u++){var s=t[u],c=s._private,d=c.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(d.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(R){return!R._private.rstyle.clean&&R.isBundledBezier()})&&(d.clean=!1),!(e&&d.clean||s.removed())&&s.pstyle("display").value!=="none"&&(c.group==="nodes"?l.push(s):n.push(s),d.clean=!0)}for(var f=0;f<l.length;f++){var v=l[f],g=v._private,p=g.rstyle,E=v.position();this.recalculateNodeLabelProjection(v),p.nodeX=E.x,p.nodeY=E.y,p.nodeW=v.pstyle("width").pfValue,p.nodeH=v.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var b=0;b<n.length;b++){var C=n[b],S=C._private,T=S.rstyle,N=S.rscratch;T.srcX=N.arrowStartX,T.srcY=N.arrowStartY,T.tgtX=N.arrowEndX,T.tgtY=N.arrowEndY,T.midX=N.midX,T.midY=N.midY,T.labelAngle=N.labelAngle,T.sourceLabelAngle=N.sourceLabelAngle,T.targetLabelAngle=N.targetLabelAngle}}}};var kd={};kd.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],l=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):l.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};kd.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};kd.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(aw),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var Tw={};[_l,hd,Qr,Xo,Tm,mn,ww,Ld,kd].forEach(function(t){$e(Tw,t)});var Sw={};Sw.getCachedImage=function(t,e,r){var n=this,l=n.imageCache=n.imageCache||{},u=l[t];if(u)return u.image.complete||u.image.addEventListener("load",r),u.image;u=l[t]=l[t]||{};var s=u.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var c="data:",d=t.substring(0,c.length).toLowerCase()===c;return d||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var ts={};ts.registerBinding=function(t,e,r,n){var l=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var u=[],s=0;s<t.length;s++){var c=t[s];if(c!==void 0){var d=this.binder(c);u.push(d.on.apply(d,l))}}return u}var d=this.binder(t);return d.on.apply(d,l)};ts.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||kS(t);if(e.supportsPassiveEvents==null){var l=!1;try{var u=Object.defineProperty({},"passive",{get:function(){return l=!0,!0}});r.addEventListener("test",null,u)}catch{}e.supportsPassiveEvents=l}var s=function(d,f,v){var g=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(g[2]={capture:v??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:g}),(t.addEventListener||t.on).apply(t,g),this};return{on:s,addEventListener:s,addListener:s,bind:s}};ts.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};ts.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};ts.load=function(){var t=this,e=t.cy.window(),r=function(Y){return Y.selected()},n=function(Y){var se=Y.getRootNode();if(se&&se.nodeType===11&&se.host!==void 0)return se},l=function(Y,se,pe,ge){Y==null&&(Y=t.cy);for(var Te=0;Te<se.length;Te++){var ke=se[Te];Y.emit({originalEvent:pe,type:ke,position:ge})}},u=function(Y){return Y.shiftKey||Y.metaKey||Y.ctrlKey},s=function(Y,se){var pe=!0;if(t.cy.hasCompoundNodes()&&Y&&Y.pannable())for(var ge=0;se&&ge<se.length;ge++){var Y=se[ge];if(Y.isNode()&&Y.isParent()&&!Y.pannable()){pe=!1;break}}else pe=!0;return pe},c=function(Y){Y[0]._private.grabbed=!0},d=function(Y){Y[0]._private.grabbed=!1},f=function(Y){Y[0]._private.rscratch.inDragLayer=!0},v=function(Y){Y[0]._private.rscratch.inDragLayer=!1},g=function(Y){Y[0]._private.rscratch.isGrabTarget=!0},p=function(Y){Y[0]._private.rscratch.isGrabTarget=!1},E=function(Y,se){var pe=se.addToList,ge=pe.has(Y);!ge&&Y.grabbable()&&!Y.locked()&&(pe.merge(Y),c(Y))},b=function(Y,se){if(Y.cy().hasCompoundNodes()&&!(se.inDragLayer==null&&se.addToList==null)){var pe=Y.descendants();se.inDragLayer&&(pe.forEach(f),pe.connectedEdges().forEach(f)),se.addToList&&E(pe,se)}},C=function(Y,se){se=se||{};var pe=Y.cy().hasCompoundNodes();se.inDragLayer&&(Y.forEach(f),Y.neighborhood().stdFilter(function(ge){return!pe||ge.isEdge()}).forEach(f)),se.addToList&&Y.forEach(function(ge){E(ge,se)}),b(Y,se),N(Y,{inDragLayer:se.inDragLayer}),t.updateCachedGrabbedEles()},S=C,T=function(Y){Y&&(t.getCachedZSortedEles().forEach(function(se){d(se),v(se),p(se)}),t.updateCachedGrabbedEles())},N=function(Y,se){if(!(se.inDragLayer==null&&se.addToList==null)&&Y.cy().hasCompoundNodes()){var pe=Y.ancestors().orphans();if(!pe.same(Y)){var ge=pe.descendants().spawnSelf().merge(pe).unmerge(Y).unmerge(Y.descendants()),Te=ge.connectedEdges();se.inDragLayer&&(Te.forEach(f),ge.forEach(f)),se.addToList&&ge.forEach(function(ke){E(ke,se)})}}},R=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},D=typeof MutationObserver<"u",O=typeof ResizeObserver<"u";D?(t.removeObserver=new MutationObserver(function(we){for(var Y=0;Y<we.length;Y++){var se=we[Y],pe=se.removedNodes;if(pe)for(var ge=0;ge<pe.length;ge++){var Te=pe[ge];if(Te===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(we){t.destroy()});var I=Vo(function(){t.cy.resize()},100);D&&(t.styleObserver=new MutationObserver(I),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",I),O&&(t.resizeObserver=new ResizeObserver(I),t.resizeObserver.observe(t.container));var M=function(Y,se){for(;Y!=null;)se(Y),Y=Y.parentNode},k=function(){t.invalidateContainerClientCoordsCache()};M(t.container,function(we){t.registerBinding(we,"transitionend",k),t.registerBinding(we,"animationend",k),t.registerBinding(we,"scroll",k)}),t.registerBinding(t.container,"contextmenu",function(we){we.preventDefault()});var j=function(){return t.selection[4]!==0},_=function(Y){for(var se=t.findContainerClientCoords(),pe=se[0],ge=se[1],Te=se[2],ke=se[3],Ne=Y.touches?Y.touches:[Y],Ue=!1,Be=0;Be<Ne.length;Be++){var Ye=Ne[Be];if(pe<=Ye.clientX&&Ye.clientX<=pe+Te&&ge<=Ye.clientY&&Ye.clientY<=ge+ke){Ue=!0;break}}if(!Ue)return!1;for(var Je=t.container,rt=Y.target,_e=rt.parentNode,st=!1;_e;){if(_e===Je){st=!0;break}_e=_e.parentNode}return!!st};t.registerBinding(t.container,"mousedown",function(Y){if(_(Y)&&!(t.hoverData.which===1&&Y.which!==1)){Y.preventDefault(),R(),t.hoverData.capture=!0,t.hoverData.which=Y.which;var se=t.cy,pe=[Y.clientX,Y.clientY],ge=t.projectIntoViewport(pe[0],pe[1]),Te=t.selection,ke=t.findNearestElements(ge[0],ge[1],!0,!1),Ne=ke[0],Ue=t.dragData.possibleDragElements;t.hoverData.mdownPos=ge,t.hoverData.mdownGPos=pe;var Be=function(nt){return{originalEvent:Y,type:nt,position:{x:ge[0],y:ge[1]}}},Ye=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var nt=t.hoverData.down;nt?nt.emit(Be("taphold")):se.emit(Be("taphold"))}},t.tapholdDuration)};if(Y.which==3){t.hoverData.cxtStarted=!0;var Je={originalEvent:Y,type:"cxttapstart",position:{x:ge[0],y:ge[1]}};Ne?(Ne.activate(),Ne.emit(Je),t.hoverData.down=Ne):se.emit(Je),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(Y.which==1){Ne&&Ne.activate();{if(Ne!=null&&t.nodeIsGrabbable(Ne)){var rt=function(nt){nt.emit(Be("grab"))};if(g(Ne),!Ne.selected())Ue=t.dragData.possibleDragElements=se.collection(),S(Ne,{addToList:Ue}),Ne.emit(Be("grabon")).emit(Be("grab"));else{Ue=t.dragData.possibleDragElements=se.collection();var _e=se.$(function(st){return st.isNode()&&st.selected()&&t.nodeIsGrabbable(st)});C(_e,{addToList:Ue}),Ne.emit(Be("grabon")),_e.forEach(rt)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=Ne,t.hoverData.downs=ke,t.hoverData.downTime=new Date().getTime()}l(Ne,["mousedown","tapstart","vmousedown"],Y,{x:ge[0],y:ge[1]}),Ne==null?(Te[4]=1,t.data.bgActivePosistion={x:ge[0],y:ge[1]},t.redrawHint("select",!0),t.redraw()):Ne.pannable()&&(Te[4]=1),Ye()}Te[0]=Te[2]=ge[0],Te[1]=Te[3]=ge[1]}},!1);var P=n(t.container);t.registerBinding([e,P],"mousemove",function(Y){var se=t.hoverData.capture;if(!(!se&&!_(Y))){var pe=!1,ge=t.cy,Te=ge.zoom(),ke=[Y.clientX,Y.clientY],Ne=t.projectIntoViewport(ke[0],ke[1]),Ue=t.hoverData.mdownPos,Be=t.hoverData.mdownGPos,Ye=t.selection,Je=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Je=t.findNearestElement(Ne[0],Ne[1],!0,!1));var rt=t.hoverData.last,_e=t.hoverData.down,st=[Ne[0]-Ye[2],Ne[1]-Ye[3]],nt=t.dragData.possibleDragElements,Kt;if(Be){var Tt=ke[0]-Be[0],wr=Tt*Tt,Gt=ke[1]-Be[1],Ht=Gt*Gt,Ut=wr+Ht;t.hoverData.isOverThresholdDrag=Kt=Ut>=t.desktopTapThreshold2}var tr=u(Y);Kt&&(t.hoverData.tapholdCancelled=!0);var ia=function(){var vr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];vr.length===0?(vr.push(st[0]),vr.push(st[1])):(vr[0]+=st[0],vr[1]+=st[1])};pe=!0,l(Je,["mousemove","vmousemove","tapdrag"],Y,{x:Ne[0],y:Ne[1]});var Vt=function(vr){return{originalEvent:Y,type:vr,position:{x:Ne[0],y:Ne[1]}}},la=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||ge.emit(Vt("boxstart")),Ye[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(Kt){var dr=Vt("cxtdrag");_e?_e.emit(dr):ge.emit(dr),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Je!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit(Vt("cxtdragout")),t.hoverData.cxtOver=Je,Je&&Je.emit(Vt("cxtdragover")))}}else if(t.hoverData.dragging){if(pe=!0,ge.panningEnabled()&&ge.userPanningEnabled()){var Dt;if(t.hoverData.justStartedPan){var St=t.hoverData.mdownPos;Dt={x:(Ne[0]-St[0])*Te,y:(Ne[1]-St[1])*Te},t.hoverData.justStartedPan=!1}else Dt={x:st[0]*Te,y:st[1]*Te};ge.panBy(Dt),ge.emit(Vt("dragpan")),t.hoverData.dragged=!0}Ne=t.projectIntoViewport(Y.clientX,Y.clientY)}else if(Ye[4]==1&&(_e==null||_e.pannable())){if(Kt){if(!t.hoverData.dragging&&ge.boxSelectionEnabled()&&(tr||!ge.panningEnabled()||!ge.userPanningEnabled()))la();else if(!t.hoverData.selecting&&ge.panningEnabled()&&ge.userPanningEnabled()){var Tr=s(_e,t.hoverData.downs);Tr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ye[4]=0,t.data.bgActivePosistion=qu(Ue),t.redrawHint("select",!0),t.redraw())}_e&&_e.pannable()&&_e.active()&&_e.unactivate()}}else{if(_e&&_e.pannable()&&_e.active()&&_e.unactivate(),(!_e||!_e.grabbed())&&Je!=rt&&(rt&&l(rt,["mouseout","tapdragout"],Y,{x:Ne[0],y:Ne[1]}),Je&&l(Je,["mouseover","tapdragover"],Y,{x:Ne[0],y:Ne[1]}),t.hoverData.last=Je),_e)if(Kt){if(ge.boxSelectionEnabled()&&tr)_e&&_e.grabbed()&&(T(nt),_e.emit(Vt("freeon")),nt.emit(Vt("free")),t.dragData.didDrag&&(_e.emit(Vt("dragfreeon")),nt.emit(Vt("dragfree")))),la();else if(_e&&_e.grabbed()&&t.nodeIsDraggable(_e)){var sr=!t.dragData.didDrag;sr&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||C(nt,{inDragLayer:!0});var Wt={x:0,y:0};if(Me(st[0])&&Me(st[1])&&(Wt.x+=st[0],Wt.y+=st[1],sr)){var or=t.hoverData.dragDelta;or&&Me(or[0])&&Me(or[1])&&(Wt.x+=or[0],Wt.y+=or[1])}t.hoverData.draggingEles=!0,nt.silentShift(Wt).emit(Vt("position")).emit(Vt("drag")),t.redrawHint("drag",!0),t.redraw()}}else ia();pe=!0}if(Ye[2]=Ne[0],Ye[3]=Ne[1],pe)return Y.stopPropagation&&Y.stopPropagation(),Y.preventDefault&&Y.preventDefault(),!1}},!1);var L,H,X;t.registerBinding(e,"mouseup",function(Y){if(!(t.hoverData.which===1&&Y.which!==1&&t.hoverData.capture)){var se=t.hoverData.capture;if(se){t.hoverData.capture=!1;var pe=t.cy,ge=t.projectIntoViewport(Y.clientX,Y.clientY),Te=t.selection,ke=t.findNearestElement(ge[0],ge[1],!0,!1),Ne=t.dragData.possibleDragElements,Ue=t.hoverData.down,Be=u(Y);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Ue&&Ue.unactivate();var Ye=function(Tt){return{originalEvent:Y,type:Tt,position:{x:ge[0],y:ge[1]}}};if(t.hoverData.which===3){var Je=Ye("cxttapend");if(Ue?Ue.emit(Je):pe.emit(Je),!t.hoverData.cxtDragged){var rt=Ye("cxttap");Ue?Ue.emit(rt):pe.emit(rt)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(l(ke,["mouseup","tapend","vmouseup"],Y,{x:ge[0],y:ge[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(l(Ue,["click","tap","vclick"],Y,{x:ge[0],y:ge[1]}),H=!1,Y.timeStamp-X<=pe.multiClickDebounceTime()?(L&&clearTimeout(L),H=!0,X=null,l(Ue,["dblclick","dbltap","vdblclick"],Y,{x:ge[0],y:ge[1]})):(L=setTimeout(function(){H||l(Ue,["oneclick","onetap","voneclick"],Y,{x:ge[0],y:ge[1]})},pe.multiClickDebounceTime()),X=Y.timeStamp)),Ue==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!u(Y)&&(pe.$(r).unselect(["tapunselect"]),Ne.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Ne=pe.collection()),ke==Ue&&!t.dragData.didDrag&&!t.hoverData.selecting&&ke!=null&&ke._private.selectable&&(t.hoverData.dragging||(pe.selectionType()==="additive"||Be?ke.selected()?ke.unselect(["tapunselect"]):ke.select(["tapselect"]):Be||(pe.$(r).unmerge(ke).unselect(["tapunselect"]),ke.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var _e=pe.collection(t.getAllInBox(Te[0],Te[1],Te[2],Te[3]));t.redrawHint("select",!0),_e.length>0&&t.redrawHint("eles",!0),pe.emit(Ye("boxend"));var st=function(Tt){return Tt.selectable()&&!Tt.selected()};pe.selectionType()==="additive"||Be||pe.$(r).unmerge(_e).unselect(),_e.emit(Ye("box")).stdFilter(st).select().emit(Ye("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!Te[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var nt=Ue&&Ue.grabbed();T(Ne),nt&&(Ue.emit(Ye("freeon")),Ne.emit(Ye("free")),t.dragData.didDrag&&(Ue.emit(Ye("dragfreeon")),Ne.emit(Ye("dragfree"))))}}Te[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var Z=[],G=4,F,W=1e5,ee=function(Y,se){for(var pe=0;pe<Y.length;pe++)if(Y[pe]%se!==0)return!1;return!0},te=function(Y){for(var se=Math.abs(Y[0]),pe=1;pe<Y.length;pe++)if(Math.abs(Y[pe])!==se)return!1;return!0},q=function(Y){var se=!1,pe=Y.deltaY;if(pe==null&&(Y.wheelDeltaY!=null?pe=Y.wheelDeltaY/4:Y.wheelDelta!=null&&(pe=Y.wheelDelta/4)),pe!==0){if(F==null)if(Z.length>=G){var ge=Z;if(F=ee(ge,5),!F){var Te=Math.abs(ge[0]);F=te(ge)&&Te>5}if(F)for(var ke=0;ke<ge.length;ke++)W=Math.min(Math.abs(ge[ke]),W)}else Z.push(pe),se=!0;else F&&(W=Math.min(Math.abs(pe),W));if(!t.scrollingPage){var Ne=t.cy,Ue=Ne.zoom(),Be=Ne.pan(),Ye=t.projectIntoViewport(Y.clientX,Y.clientY),Je=[Ye[0]*Ue+Be.x,Ye[1]*Ue+Be.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||j()){Y.preventDefault();return}if(Ne.panningEnabled()&&Ne.userPanningEnabled()&&Ne.zoomingEnabled()&&Ne.userZoomingEnabled()){Y.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var rt;se&&Math.abs(pe)>5&&(pe=om(pe)*5),rt=pe/-250,F&&(rt/=W,rt*=3),rt=rt*t.wheelSensitivity;var _e=Y.deltaMode===1;_e&&(rt*=33);var st=Ne.zoom()*Math.pow(10,rt);Y.type==="gesturechange"&&(st=t.gestureStartZoom*Y.scale),Ne.zoom({level:st,renderedPosition:{x:Je[0],y:Je[1]}}),Ne.emit({type:Y.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:Y,position:{x:Ye[0],y:Ye[1]}})}}}};t.registerBinding(t.container,"wheel",q,!0),t.registerBinding(e,"scroll",function(Y){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(Y){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||Y.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(we){t.hasTouchStarted||q(we)},!0),t.registerBinding(t.container,"mouseout",function(Y){var se=t.projectIntoViewport(Y.clientX,Y.clientY);t.cy.emit({originalEvent:Y,type:"mouseout",position:{x:se[0],y:se[1]}})},!1),t.registerBinding(t.container,"mouseover",function(Y){var se=t.projectIntoViewport(Y.clientX,Y.clientY);t.cy.emit({originalEvent:Y,type:"mouseover",position:{x:se[0],y:se[1]}})},!1);var Q,J,ie,oe,he,be,Re,ye,ne,ue,fe,Ee,De,Le=function(Y,se,pe,ge){return Math.sqrt((pe-Y)*(pe-Y)+(ge-se)*(ge-se))},lt=function(Y,se,pe,ge){return(pe-Y)*(pe-Y)+(ge-se)*(ge-se)},Qe;t.registerBinding(t.container,"touchstart",Qe=function(Y){if(t.hasTouchStarted=!0,!!_(Y)){R(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var se=t.cy,pe=t.touchData.now,ge=t.touchData.earlier;if(Y.touches[0]){var Te=t.projectIntoViewport(Y.touches[0].clientX,Y.touches[0].clientY);pe[0]=Te[0],pe[1]=Te[1]}if(Y.touches[1]){var Te=t.projectIntoViewport(Y.touches[1].clientX,Y.touches[1].clientY);pe[2]=Te[0],pe[3]=Te[1]}if(Y.touches[2]){var Te=t.projectIntoViewport(Y.touches[2].clientX,Y.touches[2].clientY);pe[4]=Te[0],pe[5]=Te[1]}var ke=function(tr){return{originalEvent:Y,type:tr,position:{x:pe[0],y:pe[1]}}};if(Y.touches[1]){t.touchData.singleTouchMoved=!0,T(t.dragData.touchDragEles);var Ne=t.findContainerClientCoords();ne=Ne[0],ue=Ne[1],fe=Ne[2],Ee=Ne[3],Q=Y.touches[0].clientX-ne,J=Y.touches[0].clientY-ue,ie=Y.touches[1].clientX-ne,oe=Y.touches[1].clientY-ue,De=0<=Q&&Q<=fe&&0<=ie&&ie<=fe&&0<=J&&J<=Ee&&0<=oe&&oe<=Ee;var Ue=se.pan(),Be=se.zoom();he=Le(Q,J,ie,oe),be=lt(Q,J,ie,oe),Re=[(Q+ie)/2,(J+oe)/2],ye=[(Re[0]-Ue.x)/Be,(Re[1]-Ue.y)/Be];var Ye=200,Je=Ye*Ye;if(be<Je&&!Y.touches[2]){var rt=t.findNearestElement(pe[0],pe[1],!0,!0),_e=t.findNearestElement(pe[2],pe[3],!0,!0);rt&&rt.isNode()?(rt.activate().emit(ke("cxttapstart")),t.touchData.start=rt):_e&&_e.isNode()?(_e.activate().emit(ke("cxttapstart")),t.touchData.start=_e):se.emit(ke("cxttapstart")),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(Y.touches[2])se.boxSelectionEnabled()&&Y.preventDefault();else if(!Y.touches[1]){if(Y.touches[0]){var st=t.findNearestElements(pe[0],pe[1],!0,!0),nt=st[0];if(nt!=null&&(nt.activate(),t.touchData.start=nt,t.touchData.starts=st,t.nodeIsGrabbable(nt))){var Kt=t.dragData.touchDragEles=se.collection(),Tt=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),nt.selected()?(Tt=se.$(function(Ut){return Ut.selected()&&t.nodeIsGrabbable(Ut)}),C(Tt,{addToList:Kt})):S(nt,{addToList:Kt}),g(nt),nt.emit(ke("grabon")),Tt?Tt.forEach(function(Ut){Ut.emit(ke("grab"))}):nt.emit(ke("grab"))}l(nt,["touchstart","tapstart","vmousedown"],Y,{x:pe[0],y:pe[1]}),nt==null&&(t.data.bgActivePosistion={x:Te[0],y:Te[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&l(t.touchData.start,["taphold"],Y,{x:pe[0],y:pe[1]})},t.tapholdDuration)}}if(Y.touches.length>=1){for(var wr=t.touchData.startPosition=[null,null,null,null,null,null],Gt=0;Gt<pe.length;Gt++)wr[Gt]=ge[Gt]=pe[Gt];var Ht=Y.touches[0];t.touchData.startGPosition=[Ht.clientX,Ht.clientY]}}},!1);var je;t.registerBinding(e,"touchmove",je=function(Y){var se=t.touchData.capture;if(!(!se&&!_(Y))){var pe=t.selection,ge=t.cy,Te=t.touchData.now,ke=t.touchData.earlier,Ne=ge.zoom();if(Y.touches[0]){var Ue=t.projectIntoViewport(Y.touches[0].clientX,Y.touches[0].clientY);Te[0]=Ue[0],Te[1]=Ue[1]}if(Y.touches[1]){var Ue=t.projectIntoViewport(Y.touches[1].clientX,Y.touches[1].clientY);Te[2]=Ue[0],Te[3]=Ue[1]}if(Y.touches[2]){var Ue=t.projectIntoViewport(Y.touches[2].clientX,Y.touches[2].clientY);Te[4]=Ue[0],Te[5]=Ue[1]}var Be=function(ql){return{originalEvent:Y,type:ql,position:{x:Te[0],y:Te[1]}}},Ye=t.touchData.startGPosition,Je;if(se&&Y.touches[0]&&Ye){for(var rt=[],_e=0;_e<Te.length;_e++)rt[_e]=Te[_e]-ke[_e];var st=Y.touches[0].clientX-Ye[0],nt=st*st,Kt=Y.touches[0].clientY-Ye[1],Tt=Kt*Kt,wr=nt+Tt;Je=wr>=t.touchTapThreshold2}if(se&&t.touchData.cxt){Y.preventDefault();var Gt=Y.touches[0].clientX-ne,Ht=Y.touches[0].clientY-ue,Ut=Y.touches[1].clientX-ne,tr=Y.touches[1].clientY-ue,ia=lt(Gt,Ht,Ut,tr),Vt=ia/be,la=150,dr=la*la,Dt=1.5,St=Dt*Dt;if(Vt>=St||ia>=dr){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Tr=Be("cxttapend");t.touchData.start?(t.touchData.start.unactivate().emit(Tr),t.touchData.start=null):ge.emit(Tr)}}if(se&&t.touchData.cxt){var Tr=Be("cxtdrag");t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Tr):ge.emit(Tr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var sr=t.findNearestElement(Te[0],Te[1],!0,!0);(!t.touchData.cxtOver||sr!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit(Be("cxtdragout")),t.touchData.cxtOver=sr,sr&&sr.emit(Be("cxtdragover")))}else if(se&&Y.touches[2]&&ge.boxSelectionEnabled())Y.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||ge.emit(Be("boxstart")),t.touchData.selecting=!0,t.touchData.didSelect=!0,pe[4]=1,!pe||pe.length===0||pe[0]===void 0?(pe[0]=(Te[0]+Te[2]+Te[4])/3,pe[1]=(Te[1]+Te[3]+Te[5])/3,pe[2]=(Te[0]+Te[2]+Te[4])/3+1,pe[3]=(Te[1]+Te[3]+Te[5])/3+1):(pe[2]=(Te[0]+Te[2]+Te[4])/3,pe[3]=(Te[1]+Te[3]+Te[5])/3),t.redrawHint("select",!0),t.redraw();else if(se&&Y.touches[1]&&!t.touchData.didSelect&&ge.zoomingEnabled()&&ge.panningEnabled()&&ge.userZoomingEnabled()&&ge.userPanningEnabled()){Y.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Wt=t.dragData.touchDragEles;if(Wt){t.redrawHint("drag",!0);for(var or=0;or<Wt.length;or++){var qa=Wt[or]._private;qa.grabbed=!1,qa.rscratch.inDragLayer=!1}}var vr=t.touchData.start,Gt=Y.touches[0].clientX-ne,Ht=Y.touches[0].clientY-ue,Ut=Y.touches[1].clientX-ne,tr=Y.touches[1].clientY-ue,bn=Le(Gt,Ht,Ut,tr),tn=bn/he;if(De){var Ga=Gt-Q,xa=Ht-J,wa=Ut-ie,rr=tr-oe,Pl=(Ga+wa)/2,Ji=(xa+rr)/2,hr=ge.zoom(),Wr=hr*tn,En=ge.pan(),xn=ye[0]*hr+En.x,Sr=ye[1]*hr+En.y,jl={x:-Wr/hr*(xn-En.x-Pl)+xn,y:-Wr/hr*(Sr-En.y-Ji)+Sr};if(vr&&vr.active()){var Wt=t.dragData.touchDragEles;T(Wt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),vr.unactivate().emit(Be("freeon")),Wt.emit(Be("free")),t.dragData.didDrag&&(vr.emit(Be("dragfreeon")),Wt.emit(Be("dragfree")))}ge.viewport({zoom:Wr,pan:jl,cancelOnFailedZoom:!0}),ge.emit(Be("pinchzoom")),he=bn,Q=Gt,J=Ht,ie=Ut,oe=tr,t.pinching=!0}if(Y.touches[0]){var Ue=t.projectIntoViewport(Y.touches[0].clientX,Y.touches[0].clientY);Te[0]=Ue[0],Te[1]=Ue[1]}if(Y.touches[1]){var Ue=t.projectIntoViewport(Y.touches[1].clientX,Y.touches[1].clientY);Te[2]=Ue[0],Te[3]=Ue[1]}if(Y.touches[2]){var Ue=t.projectIntoViewport(Y.touches[2].clientX,Y.touches[2].clientY);Te[4]=Ue[0],Te[5]=Ue[1]}}else if(Y.touches[0]&&!t.touchData.didSelect){var $t=t.touchData.start,Oa=t.touchData.last,sr;if(!t.hoverData.draggingEles&&!t.swipePanning&&(sr=t.findNearestElement(Te[0],Te[1],!0,!0)),se&&$t!=null&&Y.preventDefault(),se&&$t!=null&&t.nodeIsDraggable($t))if(Je){var Wt=t.dragData.touchDragEles,Mr=!t.dragData.didDrag;Mr&&C(Wt,{inDragLayer:!0}),t.dragData.didDrag=!0;var gr={x:0,y:0};if(Me(rt[0])&&Me(rt[1])&&(gr.x+=rt[0],gr.y+=rt[1],Mr)){t.redrawHint("eles",!0);var _r=t.touchData.dragDelta;_r&&Me(_r[0])&&Me(_r[1])&&(gr.x+=_r[0],gr.y+=_r[1])}t.hoverData.draggingEles=!0,Wt.silentShift(gr).emit(Be("position")).emit(Be("drag")),t.redrawHint("drag",!0),t.touchData.startPosition[0]==ke[0]&&t.touchData.startPosition[1]==ke[1]&&t.redrawHint("eles",!0),t.redraw()}else{var _r=t.touchData.dragDelta=t.touchData.dragDelta||[];_r.length===0?(_r.push(rt[0]),_r.push(rt[1])):(_r[0]+=rt[0],_r[1]+=rt[1])}if(l($t||sr,["touchmove","tapdrag","vmousemove"],Y,{x:Te[0],y:Te[1]}),(!$t||!$t.grabbed())&&sr!=Oa&&(Oa&&Oa.emit(Be("tapdragout")),sr&&sr.emit(Be("tapdragover"))),t.touchData.last=sr,se)for(var or=0;or<Te.length;or++)Te[or]&&t.touchData.startPosition[or]&&Je&&(t.touchData.singleTouchMoved=!0);if(se&&($t==null||$t.pannable())&&ge.panningEnabled()&&ge.userPanningEnabled()){var el=s($t,t.touchData.starts);el&&(Y.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=qu(t.touchData.startPosition)),t.swipePanning?(ge.panBy({x:rt[0]*Ne,y:rt[1]*Ne}),ge.emit(Be("dragpan"))):Je&&(t.swipePanning=!0,ge.panBy({x:st*Ne,y:Kt*Ne}),ge.emit(Be("dragpan")),$t&&($t.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Ue=t.projectIntoViewport(Y.touches[0].clientX,Y.touches[0].clientY);Te[0]=Ue[0],Te[1]=Ue[1]}}for(var _e=0;_e<Te.length;_e++)ke[_e]=Te[_e];se&&Y.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Ke;t.registerBinding(e,"touchcancel",Ke=function(Y){var se=t.touchData.start;t.touchData.capture=!1,se&&se.unactivate()});var Oe,Ge,Fe,tt;if(t.registerBinding(e,"touchend",Oe=function(Y){var se=t.touchData.start,pe=t.touchData.capture;if(pe)Y.touches.length===0&&(t.touchData.capture=!1),Y.preventDefault();else return;var ge=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var Te=t.cy,ke=Te.zoom(),Ne=t.touchData.now,Ue=t.touchData.earlier;if(Y.touches[0]){var Be=t.projectIntoViewport(Y.touches[0].clientX,Y.touches[0].clientY);Ne[0]=Be[0],Ne[1]=Be[1]}if(Y.touches[1]){var Be=t.projectIntoViewport(Y.touches[1].clientX,Y.touches[1].clientY);Ne[2]=Be[0],Ne[3]=Be[1]}if(Y.touches[2]){var Be=t.projectIntoViewport(Y.touches[2].clientX,Y.touches[2].clientY);Ne[4]=Be[0],Ne[5]=Be[1]}var Ye=function(dr){return{originalEvent:Y,type:dr,position:{x:Ne[0],y:Ne[1]}}};se&&se.unactivate();var Je;if(t.touchData.cxt){if(Je=Ye("cxttapend"),se?se.emit(Je):Te.emit(Je),!t.touchData.cxtDragged){var rt=Ye("cxttap");se?se.emit(rt):Te.emit(rt)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!Y.touches[2]&&Te.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var _e=Te.collection(t.getAllInBox(ge[0],ge[1],ge[2],ge[3]));ge[0]=void 0,ge[1]=void 0,ge[2]=void 0,ge[3]=void 0,ge[4]=0,t.redrawHint("select",!0),Te.emit(Ye("boxend"));var st=function(dr){return dr.selectable()&&!dr.selected()};_e.emit(Ye("box")).stdFilter(st).select().emit(Ye("boxselect")),_e.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(se?.unactivate(),Y.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!Y.touches[1]){if(!Y.touches[0]){if(!Y.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var nt=t.dragData.touchDragEles;if(se!=null){var Kt=se._private.grabbed;T(nt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Kt&&(se.emit(Ye("freeon")),nt.emit(Ye("free")),t.dragData.didDrag&&(se.emit(Ye("dragfreeon")),nt.emit(Ye("dragfree")))),l(se,["touchend","tapend","vmouseup","tapdragout"],Y,{x:Ne[0],y:Ne[1]}),se.unactivate(),t.touchData.start=null}else{var Tt=t.findNearestElement(Ne[0],Ne[1],!0,!0);l(Tt,["touchend","tapend","vmouseup","tapdragout"],Y,{x:Ne[0],y:Ne[1]})}var wr=t.touchData.startPosition[0]-Ne[0],Gt=wr*wr,Ht=t.touchData.startPosition[1]-Ne[1],Ut=Ht*Ht,tr=Gt+Ut,ia=tr*ke*ke;t.touchData.singleTouchMoved||(se||Te.$(":selected").unselect(["tapunselect"]),l(se,["tap","vclick"],Y,{x:Ne[0],y:Ne[1]}),Ge=!1,Y.timeStamp-tt<=Te.multiClickDebounceTime()?(Fe&&clearTimeout(Fe),Ge=!0,tt=null,l(se,["dbltap","vdblclick"],Y,{x:Ne[0],y:Ne[1]})):(Fe=setTimeout(function(){Ge||l(se,["onetap","voneclick"],Y,{x:Ne[0],y:Ne[1]})},Te.multiClickDebounceTime()),tt=Y.timeStamp)),se!=null&&!t.dragData.didDrag&&se._private.selectable&&ia<t.touchTapThreshold2&&!t.pinching&&(Te.selectionType()==="single"?(Te.$(r).unmerge(se).unselect(["tapunselect"]),se.select(["tapselect"])):se.selected()?se.unselect(["tapunselect"]):se.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var Vt=0;Vt<Ne.length;Vt++)Ue[Vt]=Ne[Vt];t.dragData.didDrag=!1,Y.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),Y.touches.length<2&&(Y.touches.length===1&&(t.touchData.startGPosition=[Y.touches[0].clientX,Y.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Ie=[],at=function(Y){return{clientX:Y.clientX,clientY:Y.clientY,force:1,identifier:Y.pointerId,pageX:Y.pageX,pageY:Y.pageY,radiusX:Y.width/2,radiusY:Y.height/2,screenX:Y.screenX,screenY:Y.screenY,target:Y.target}},ct=function(Y){return{event:Y,touch:at(Y)}},yt=function(Y){Ie.push(ct(Y))},dt=function(Y){for(var se=0;se<Ie.length;se++){var pe=Ie[se];if(pe.event.pointerId===Y.pointerId){Ie.splice(se,1);return}}},bt=function(Y){var se=Ie.filter(function(pe){return pe.event.pointerId===Y.pointerId})[0];se.event=Y,se.touch=at(Y)},We=function(Y){Y.touches=Ie.map(function(se){return se.touch})},ze=function(Y){return Y.pointerType==="mouse"||Y.pointerType===4};t.registerBinding(t.container,"pointerdown",function(we){ze(we)||(we.preventDefault(),yt(we),We(we),Qe(we))}),t.registerBinding(t.container,"pointerup",function(we){ze(we)||(dt(we),We(we),Oe(we))}),t.registerBinding(t.container,"pointercancel",function(we){ze(we)||(dt(we),We(we),Ke(we))}),t.registerBinding(t.container,"pointermove",function(we){ze(we)||(we.preventDefault(),bt(we),We(we),je(we))})}};var ri={};ri.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,l,u,s,c,d){this.renderer.nodeShapeImpl("polygon",n,l,u,s,c,this.points)},intersectLine:function(n,l,u,s,c,d,f,v){return Io(c,d,this.points,n,l,u/2,s/2,f)},checkPoint:function(n,l,u,s,c,d,f,v){return ti(n,l,this.points,d,f,s,c,[0,-1],u)},hasMiterBounds:t!=="rectangle",miterBounds:function(n,l,u,s,c,d){return W2(this.points,n,l,u,s,c)}}};ri.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,l,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,l,u)},intersectLine:function(e,r,n,l,u,s,c,d){return iA(u,s,e,r,n/2+c,l/2+c)},checkPoint:function(e,r,n,l,u,s,c,d){return Ol(e,r,l,u,s,c,n)}}};ri.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,l,u,s,c,d,f){if(d[f]!==void 0&&d[f+"-cx"]===n&&d[f+"-cy"]===l)return d[f];d[f]=new Array(e.length/2),d[f+"-cx"]=n,d[f+"-cy"]=l;var v=u/2,g=s/2;c=c==="auto"?Ax(u,s):c;for(var p=new Array(e.length/2),E=0;E<e.length/2;E++)p[E]={x:n+v*e[E*2],y:l+g*e[E*2+1]};var b,C,S,T,N=p.length;for(C=p[N-1],b=0;b<N;b++)S=p[b%N],T=p[(b+1)%N],d[f][b]=wm(C,S,T,c),C=S,S=T;return d[f]},draw:function(n,l,u,s,c,d,f){this.renderer.nodeShapeImpl("round-polygon",n,l,u,s,c,this.points,this.getOrCreateCorners(l,u,s,c,d,f,"drawCorners"))},intersectLine:function(n,l,u,s,c,d,f,v,g){return uA(c,d,this.points,n,l,u,s,f,this.getOrCreateCorners(n,l,u,s,v,g,"corners"))},checkPoint:function(n,l,u,s,c,d,f,v,g){return nA(n,l,this.points,d,f,s,c,this.getOrCreateCorners(d,f,s,c,v,g,"corners"))}}};ri.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:ra(4,0),draw:function(e,r,n,l,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,l,u,this.points,s)},intersectLine:function(e,r,n,l,u,s,c,d){return Tx(u,s,e,r,n,l,c,d)},checkPoint:function(e,r,n,l,u,s,c,d){var f=l/2,v=u/2;d=d==="auto"?Vi(l,u):d,d=Math.min(f,v,d);var g=d*2;return!!(ti(e,r,this.points,s,c,l,u-g,[0,-1],n)||ti(e,r,this.points,s,c,l-g,u,[0,-1],n)||Ol(e,r,g,g,s-f+d,c-v+d,n)||Ol(e,r,g,g,s+f-d,c-v+d,n)||Ol(e,r,g,g,s+f-d,c+v-d,n)||Ol(e,r,g,g,s-f+d,c+v-d,n))}}};ri.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:fm(),points:ra(4,0),draw:function(e,r,n,l,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,l,u,null,s)},generateCutTrianglePts:function(e,r,n,l,u){var s=u==="auto"?this.cornerLength:u,c=r/2,d=e/2,f=n-d,v=n+d,g=l-c,p=l+c;return{topLeft:[f,g+s,f+s,g,f+s,g+s],topRight:[v-s,g,v,g+s,v-s,g+s],bottomRight:[v,p-s,v-s,p,v-s,p-s],bottomLeft:[f+s,p,f,p-s,f+s,p-s]}},intersectLine:function(e,r,n,l,u,s,c,d){var f=this.generateCutTrianglePts(n+2*c,l+2*c,e,r,d),v=[].concat.apply([],[f.topLeft.splice(0,4),f.topRight.splice(0,4),f.bottomRight.splice(0,4),f.bottomLeft.splice(0,4)]);return Io(u,s,v,e,r)},checkPoint:function(e,r,n,l,u,s,c,d){var f=d==="auto"?this.cornerLength:d;if(ti(e,r,this.points,s,c,l,u-2*f,[0,-1],n)||ti(e,r,this.points,s,c,l-2*f,u,[0,-1],n))return!0;var v=this.generateCutTrianglePts(l,u,s,c);return ba(e,r,v.topLeft)||ba(e,r,v.topRight)||ba(e,r,v.bottomRight)||ba(e,r,v.bottomLeft)}}};ri.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:ra(4,0),draw:function(e,r,n,l,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,l,u)},intersectLine:function(e,r,n,l,u,s,c,d){var f=.15,v=.5,g=.85,p=this.generateBarrelBezierPts(n+2*c,l+2*c,e,r),E=function(S){var T=Vu({x:S[0],y:S[1]},{x:S[2],y:S[3]},{x:S[4],y:S[5]},f),N=Vu({x:S[0],y:S[1]},{x:S[2],y:S[3]},{x:S[4],y:S[5]},v),R=Vu({x:S[0],y:S[1]},{x:S[2],y:S[3]},{x:S[4],y:S[5]},g);return[S[0],S[1],T.x,T.y,N.x,N.y,R.x,R.y,S[4],S[5]]},b=[].concat(E(p.topLeft),E(p.topRight),E(p.bottomRight),E(p.bottomLeft));return Io(u,s,b,e,r)},generateBarrelBezierPts:function(e,r,n,l){var u=r/2,s=e/2,c=n-s,d=n+s,f=l-u,v=l+u,g=kp(e,r),p=g.heightOffset,E=g.widthOffset,b=g.ctrlPtOffsetPct*e,C={topLeft:[c,f+p,c+b,f,c+E,f],topRight:[d-E,f,d-b,f,d,f+p],bottomRight:[d,v-p,d-b,v,d-E,v],bottomLeft:[c+E,v,c+b,v,c,v-p]};return C.topLeft.isTop=!0,C.topRight.isTop=!0,C.bottomLeft.isBottom=!0,C.bottomRight.isBottom=!0,C},checkPoint:function(e,r,n,l,u,s,c,d){var f=kp(l,u),v=f.heightOffset,g=f.widthOffset;if(ti(e,r,this.points,s,c,l,u-2*v,[0,-1],n)||ti(e,r,this.points,s,c,l-2*g,u,[0,-1],n))return!0;for(var p=this.generateBarrelBezierPts(l,u,s,c),E=function(k,j,_){var P=_[4],L=_[2],H=_[0],X=_[5],Z=_[1],G=Math.min(P,H),F=Math.max(P,H),W=Math.min(X,Z),ee=Math.max(X,Z);if(G<=k&&k<=F&&W<=j&&j<=ee){var te=sA(P,L,H),q=eA(te[0],te[1],te[2],k),Q=q.filter(function(J){return 0<=J&&J<=1});if(Q.length>0)return Q[0]}return null},b=Object.keys(p),C=0;C<b.length;C++){var S=b[C],T=p[S],N=E(e,r,T);if(N!=null){var R=T[5],D=T[3],O=T[1],I=Ir(R,D,O,N);if(T.isTop&&I<=r||T.isBottom&&r<=I)return!0}}return!1}}};ri.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:ra(4,0),draw:function(e,r,n,l,u,s){this.renderer.nodeShapeImpl(this.name,e,r,n,l,u,this.points,s)},intersectLine:function(e,r,n,l,u,s,c,d){var f=e-(n/2+c),v=r-(l/2+c),g=v,p=e+(n/2+c),E=Pi(u,s,e,r,f,v,p,g,!1);return E.length>0?E:Tx(u,s,e,r,n,l,c,d)},checkPoint:function(e,r,n,l,u,s,c,d){d=d==="auto"?Vi(l,u):d;var f=2*d;if(ti(e,r,this.points,s,c,l,u-f,[0,-1],n)||ti(e,r,this.points,s,c,l-f,u,[0,-1],n))return!0;var v=l/2+2*n,g=u/2+2*n,p=[s-v,c-g,s-v,c,s+v,c,s+v,c-g];return!!(ba(e,r,p)||Ol(e,r,f,f,s+l/2-d,c+u/2-d,n)||Ol(e,r,f,f,s-l/2+d,c+u/2-d,n))}}};ri.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",ra(3,0)),this.generateRoundPolygon("round-triangle",ra(3,0)),this.generatePolygon("rectangle",ra(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",ra(5,0)),this.generateRoundPolygon("round-pentagon",ra(5,0)),this.generatePolygon("hexagon",ra(6,0)),this.generateRoundPolygon("round-hexagon",ra(6,0)),this.generatePolygon("heptagon",ra(7,0)),this.generateRoundPolygon("round-heptagon",ra(7,0)),this.generatePolygon("octagon",ra(8,0)),this.generateRoundPolygon("round-octagon",ra(8,0));var n=new Array(20);{var l=Lp(5,0),u=Lp(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var c=0;c<u.length/2;c++)u[c*2]*=s,u[c*2+1]*=s;for(var c=0;c<20/4;c++)n[c*4]=l[c*2],n[c*4+1]=l[c*2+1],n[c*4+2]=u[c*2],n[c*4+3]=u[c*2+1]}n=Sx(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var d=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",d),this.generateRoundPolygon("round-tag",d)}t.makePolygon=function(f){var v=f.join("$"),g="polygon-"+v,p;return(p=this[g])?p:e.generatePolygon(g,f)}};var Zo={};Zo.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Zo.redraw=function(t){t=t||bx();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Zo.beforeRender=function(t,e){if(!this.destroyed){e==null&&er("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,l){return l.priority-n.priority})}};var LE=function(e,r,n){for(var l=e.beforeRenderCallbacks,u=0;u<l.length;u++)l[u].fn(r,n)};Zo.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(l){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){LE(t,!0,l);var u=ei();t.render(t.renderOptions);var s=t.lastDrawTime=ei();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-u),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var c=s-u;t.redrawTotalTime+=c,t.lastRedrawTime=c,t.averageRedrawTime=t.averageRedrawTime/2+c/2,t.requestedFrame=!1}else LE(t,!1,l);t.skipFrame=!1,ld(r)}};ld(r)}};var SR=function(e){this.init(e)},Aw=SR,rs=Aw.prototype;rs.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];rs.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var l=n.document,u=l.head,s="__________cytoscape_stylesheet",c="__________cytoscape_container",d=l.getElementById(s)!=null;if(r.className.indexOf(c)<0&&(r.className=(r.className||"")+" "+c),!d){var f=l.createElement("style");f.id=s,f.textContent="."+c+" { position: relative; }",u.insertBefore(f,u.children[0])}var v=n.getComputedStyle(r),g=v.getPropertyValue("position");g==="static"&&Mt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Me(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};rs.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};rs.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,l=n.target;(l.off||l.removeEventListener).apply(l,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};rs.isHeadless=function(){return!1};[xm,Tw,Sw,ts,ri,Zo].forEach(function(t){$e(rs,t)});var Ep=1e3/60,Cw={setupDequeueing:function(e){return function(){var n=this,l=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var u=Vo(function(){l.redrawHint("eles",!0),l.redrawHint("drag",!0),l.redraw()},e.deqRedrawThreshold),s=function(f,v){var g=ei(),p=l.averageRedrawTime,E=l.lastRedrawTime,b=[],C=l.cy.extent(),S=l.getPixelRatio();for(f||l.flushRenderedStyleQueue();;){var T=ei(),N=T-g,R=T-v;if(E<Ep){var D=Ep-(f?p:0);if(R>=e.deqFastCost*D)break}else if(f){if(N>=e.deqCost*E||N>=e.deqAvgCost*p)break}else if(R>=e.deqNoDrawCost*Ep)break;var O=e.deq(n,S,C);if(O.length>0)for(var I=0;I<O.length;I++)b.push(O[I]);else break}b.length>0&&(e.onDeqd(n,b),!f&&e.shouldRedraw(n,b,S,C)&&u())},c=e.priority||lm;l.beforeRender(s,c(n))}}}},AR=(function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ud;Xi(this,t),this.idsByKey=new Jn,this.keyForId=new Jn,this.cachesByLvl=new Jn,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Zi(t,[{key:"getIdsFor",value:function(r){r==null&&er("Can not get id list for null key");var n=this.idsByKey,l=this.idsByKey.get(r);return l||(l=new Wu,n.set(r,l)),l}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),l=this.keyForId.get(n),u=this.getKey(r);this.deleteIdForKey(l,n),this.addIdForKey(u,n),this.keyForId.set(n,u)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),l=this.keyForId.get(n);this.deleteIdForKey(l,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),l=this.keyForId.get(n),u=this.getKey(r);return l!==u}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,l=this.lvls,u=n.get(r);return u||(u=new Jn,n.set(r,u),l.push(r)),u}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var l=this.getKey(r),u=this.getCache(l,n);return u!=null&&this.updateKeyMappingFor(r),u}},{key:"getForCachedKey",value:function(r,n){var l=this.keyForId.get(r.id()),u=this.getCache(l,n);return u}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var l=this.getKey(r);return this.hasCache(l,n)}},{key:"setCache",value:function(r,n,l){l.key=r,this.getCachesAt(n).set(r,l)}},{key:"set",value:function(r,n,l){var u=this.getKey(r);this.setCache(u,n,l),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var l=this.getKey(r);this.deleteCache(l,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(l){return n.deleteCache(r,l)})}},{key:"invalidate",value:function(r){var n=r.id(),l=this.keyForId.get(n);this.deleteKeyMappingFor(r);var u=this.doesEleInvalidateKey(r);return u&&this.invalidateKey(l),u||this.getNumberOfIdsForKey(l)===0}}])})(),kE=25,jf=50,td=-4,Xp=3,Nw=7.99,CR=8,NR=1024,RR=1024,DR=1024,OR=.2,MR=.8,BR=10,IR=.15,LR=.1,kR=.9,zR=.9,_R=100,UR=1,Hu={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},PR=Hr({getKey:null,doesEleInvalidateKey:ud,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:px,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ao=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var l=PR(r);$e(n,l),n.lookup=new AR(l.getKey,l.doesEleInvalidateKey),n.setupDequeueing()},Or=Ao.prototype;Or.reasons=Hu;Or.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Or.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Or.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Fo(function(r,n){return n.reqs-r.reqs});return e};Or.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Or.getElement=function(t,e,r,n,l){var u=this,s=this.renderer,c=s.cy.zoom(),d=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!u.allowEdgeTxrCaching&&t.isEdge()||!u.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(sm(c*r))),n<td)n=td;else if(c>=Nw||n>Xp)return null;var f=Math.pow(2,n),v=e.h*f,g=e.w*f,p=s.eleTextBiggerThanMin(t,f);if(!this.isVisible(t,p))return null;var E=d.get(t,n);if(E&&E.invalidated&&(E.invalidated=!1,E.texture.invalidatedWidth-=E.width),E)return E;var b;if(v<=kE?b=kE:v<=jf?b=jf:b=Math.ceil(v/jf)*jf,v>DR||g>RR)return null;var C=u.getTextureQueue(b),S=C[C.length-2],T=function(){return u.recycleTexture(b,g)||u.addTexture(b,g)};S||(S=C[C.length-1]),S||(S=T()),S.width-S.usedWidth<g&&(S=T());for(var N=function(G){return G&&G.scaledLabelShown===p},R=l&&l===Hu.dequeue,D=l&&l===Hu.highQuality,O=l&&l===Hu.downscale,I,M=n+1;M<=Xp;M++){var k=d.get(t,M);if(k){I=k;break}}var j=I&&I.level===n+1?I:null,_=function(){S.context.drawImage(j.texture.canvas,j.x,0,j.width,j.height,S.usedWidth,0,g,v)};if(S.context.setTransform(1,0,0,1,0,0),S.context.clearRect(S.usedWidth,0,g,b),N(j))_();else if(N(I))if(D){for(var P=I.level;P>n;P--)j=u.getElement(t,e,r,P,Hu.downscale);_()}else return u.queueElement(t,I.level-1),I;else{var L;if(!R&&!D&&!O)for(var H=n-1;H>=td;H--){var X=d.get(t,H);if(X){L=X;break}}if(N(L))return u.queueElement(t,n),L;S.context.translate(S.usedWidth,0),S.context.scale(f,f),this.drawElement(S.context,t,e,p,!1),S.context.scale(1/f,1/f),S.context.translate(-S.usedWidth,0)}return E={x:S.usedWidth,texture:S,level:n,scale:f,width:g,height:v,scaledLabelShown:p},S.usedWidth+=Math.ceil(g+CR),S.eleCaches.push(E),d.set(t,n,E),u.checkTextureFullness(S),E};Or.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Or.invalidateElement=function(t){var e=this,r=e.lookup,n=[],l=r.isInvalid(t);if(l){for(var u=td;u<=Xp;u++){var s=r.getForCachedKey(t,u);s&&n.push(s)}var c=r.invalidate(t);if(c)for(var d=0;d<n.length;d++){var f=n[d],v=f.texture;v.invalidatedWidth+=f.width,f.invalidated=!0,e.checkTextureUtility(v)}e.removeFromQueue(t)}};Or.checkTextureUtility=function(t){t.invalidatedWidth>=OR*t.width&&this.retireTexture(t)};Or.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>MR&&t.fullnessChecks>=BR?Hi(r,t):t.fullnessChecks++};Or.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),l=this.lookup;Hi(n,t),t.retired=!0;for(var u=t.eleCaches,s=0;s<u.length;s++){var c=u[s];l.deleteCache(c.key,c.level)}um(u);var d=e.getRetiredTextureQueue(r);d.push(t)};Or.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),l={};return n.push(l),l.eleCaches=[],l.height=t,l.width=Math.max(NR,e),l.usedWidth=0,l.invalidatedWidth=0,l.fullnessChecks=0,l.canvas=r.renderer.makeOffscreenCanvas(l.width,l.height),l.context=l.canvas.getContext("2d"),l};Or.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),l=r.getRetiredTextureQueue(t),u=0;u<l.length;u++){var s=l[u];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,um(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),Hi(l,s),n.push(s),s}};Or.queueElement=function(t,e){var r=this,n=r.getElementQueue(),l=r.getElementKeyToQueue(),u=this.getKey(t),s=l[u];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var c={eles:t.spawn().merge(t),level:e,reqs:1,key:u};n.push(c),l[u]=c}};Or.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),l=[],u=e.lookup,s=0;s<UR&&r.size()>0;s++){var c=r.pop(),d=c.key,f=c.eles[0],v=u.hasCache(f,c.level);if(n[d]=null,v)continue;l.push(c);var g=e.getBoundingBox(f);e.getElement(f,g,t,c.level,Hu.dequeue)}return l};Or.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),l=this.getKey(t),u=n[l];u!=null&&(u.eles.length===1?(u.reqs=im,r.updateItem(u),r.pop(),n[l]=null):u.eles.unmerge(t))};Or.onDequeue=function(t){this.onDequeues.push(t)};Or.offDequeue=function(t){Hi(this.onDequeues,t)};Or.setupDequeueing=Cw.setupDequeueing({deqRedrawThreshold:_R,deqCost:IR,deqAvgCost:LR,deqNoDrawCost:kR,deqFastCost:zR,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var l=e.onDequeues[n];l(r)}},shouldRedraw:function(e,r,n,l){for(var u=0;u<r.length;u++)for(var s=r[u].eles,c=0;c<s.length;c++){var d=s[c].boundingBox();if(cm(d,l))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var jR=1,No=-4,gd=2,qR=3.99,GR=50,HR=50,VR=.15,FR=.1,YR=.9,KR=.9,XR=1,zE=250,ZR=4e3*4e3,_E=32767,QR=!0,Rw=function(e){var r=this,n=r.renderer=e,l=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=ei()-2*zE,r.skipping=!1,r.eleTxrDeqs=l.collection(),r.scheduleElementRefinement=Vo(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},HR),n.beforeRender(function(s,c){c-r.lastInvalidationTime<=zE?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var u=function(c,d){return d.reqs-c.reqs};r.layersQueue=new Fo(u),r.setupDequeueing()},Vr=Rw.prototype,UE=0,WR=Math.pow(2,53)-1;Vr.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),l=Math.ceil(t.h*r),u=this.renderer.makeOffscreenCanvas(n,l),s={id:UE=++UE%WR,bb:t,level:e,width:n,height:l,canvas:u,context:u.getContext("2d"),eles:[],elesQueue:[],reqs:0},c=s.context,d=-s.bb.x1,f=-s.bb.y1;return c.scale(r,r),c.translate(d,f),s};Vr.getLayers=function(t,e,r){var n=this,l=n.renderer,u=l.cy,s=u.zoom(),c=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(sm(s*e)),r<No)r=No;else if(s>=qR||r>gd)return null}n.validateLayersElesOrdering(r,t);var d=n.layersByLevel,f=Math.pow(2,r),v=d[r]=d[r]||[],g,p=n.levelIsComplete(r,t),E,b=function(){var _=function(Z){if(n.validateLayersElesOrdering(Z,t),n.levelIsComplete(Z,t))return E=d[Z],!0},P=function(Z){if(!E)for(var G=r+Z;No<=G&&G<=gd&&!_(G);G+=Z);};P(1),P(-1);for(var L=v.length-1;L>=0;L--){var H=v[L];H.invalid&&Hi(v,H)}};if(!p)b();else return v;var C=function(){if(!g){g=aa();for(var _=0;_<t.length;_++)X2(g,t[_].boundingBox())}return g},S=function(_){_=_||{};var P=_.after;C();var L=Math.ceil(g.w*f),H=Math.ceil(g.h*f);if(L>_E||H>_E)return null;var X=L*H;if(X>ZR)return null;var Z=n.makeLayer(g,r);if(P!=null){var G=v.indexOf(P)+1;v.splice(G,0,Z)}else(_.insert===void 0||_.insert)&&v.unshift(Z);return Z};if(n.skipping&&!c)return null;for(var T=null,N=t.length/jR,R=!c,D=0;D<t.length;D++){var O=t[D],I=O._private.rscratch,M=I.imgLayerCaches=I.imgLayerCaches||{},k=M[r];if(k){T=k;continue}if((!T||T.eles.length>=N||!wx(T.bb,O.boundingBox()))&&(T=S({insert:!0,after:T}),!T))return null;E||R?n.queueLayer(T,O):n.drawEleInLayer(T,O,r,e),T.eles.push(O),M[r]=T}return E||(R?null:v)};Vr.getEleLevelForLayerLevel=function(t,e){return t};Vr.drawEleInLayer=function(t,e,r,n){var l=this,u=this.renderer,s=t.context,c=e.boundingBox();c.w===0||c.h===0||!e.visible()||(r=l.getEleLevelForLayerLevel(r,n),u.setImgSmoothing(s,!1),u.drawCachedElement(s,e,null,null,r,QR),u.setImgSmoothing(s,!0))};Vr.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var l=0,u=0;u<n.length;u++){var s=n[u];if(s.reqs>0||s.invalid)return!1;l+=s.eles.length}return l===e.length};Vr.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var l=r[n],u=-1,s=0;s<e.length;s++)if(l.eles[0]===e[s]){u=s;break}if(u<0){this.invalidateLayer(l);continue}for(var c=u,s=0;s<l.eles.length;s++)if(l.eles[s]!==e[c+s]){this.invalidateLayer(l);break}}};Vr.updateElementsInLayers=function(t,e){for(var r=this,n=jo(t[0]),l=0;l<t.length;l++)for(var u=n?null:t[l],s=n?t[l]:t[l].ele,c=s._private.rscratch,d=c.imgLayerCaches=c.imgLayerCaches||{},f=No;f<=gd;f++){var v=d[f];v&&(u&&r.getEleLevelForLayerLevel(v.level)!==u.level||e(v,s,u))}};Vr.haveLayers=function(){for(var t=this,e=!1,r=No;r<=gd;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Vr.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=ei(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,l,u){e.invalidateLayer(n)}))};Vr.invalidateLayer=function(t){if(this.lastInvalidationTime=ei(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];Hi(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var l=0;l<r.length;l++){var u=r[l]._private.rscratch.imgLayerCaches;u&&(u[e]=null)}}};Vr.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,l,u){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var c=0;c<s.eles.length;c++)e.queueLayer(s,s.eles[c])})};Vr.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Vr.queueLayer=function(t,e){var r=this,n=r.layersQueue,l=t.elesQueue,u=l.hasId=l.hasId||{};if(!t.replacement){if(e){if(u[e.id()])return;l.push(e),u[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Vr.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],l=0;l<XR&&r.size()!==0;){var u=r.peek();if(u.replacement){r.pop();continue}if(u.replaces&&u!==u.replaces.replacement){r.pop();continue}if(u.invalid){r.pop();continue}var s=u.elesQueue.shift();s&&(e.drawEleInLayer(u,s,u.level,t),l++),n.length===0&&n.push(!0),u.elesQueue.length===0&&(r.pop(),u.reqs=0,u.replaces&&e.applyLayerReplacement(u),e.requestRedraw())}return n};Vr.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,l=r.indexOf(n);if(!(l<0||n.invalid)){r[l]=t;for(var u=0;u<t.eles.length;u++){var s=t.eles[u]._private,c=s.imgLayerCaches=s.imgLayerCaches||{};c&&(c[t.level]=t)}e.requestRedraw()}};Vr.requestRedraw=Vo(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Vr.setupDequeueing=Cw.setupDequeueing({deqRedrawThreshold:GR,deqCost:VR,deqAvgCost:FR,deqNoDrawCost:YR,deqFastCost:KR,deq:function(e,r){return e.dequeue(r)},onDeqd:lm,shouldRedraw:px,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Dw={},PE;function $R(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function JR(t,e,r){for(var n,l=0;l<e.length;l++){var u=e[l];l===0&&(n=u),t.lineTo(u.x,u.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function jE(t,e,r){t.beginPath&&t.beginPath();for(var n=e,l=0;l<n.length;l++){var u=n[l];t.lineTo(u.x,u.y)}var s=r,c=r[0];t.moveTo(c.x,c.y);for(var l=1;l<s.length;l++){var u=s[l];t.lineTo(u.x,u.y)}t.closePath&&t.closePath()}function eD(t,e,r,n,l){t.beginPath&&t.beginPath(),t.arc(r,n,l,0,Math.PI*2,!1);var u=e,s=u[0];t.moveTo(s.x,s.y);for(var c=0;c<u.length;c++){var d=u[c];t.lineTo(d.x,d.y)}t.closePath&&t.closePath()}function tD(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}Dw.arrowShapeImpl=function(t){return(PE||(PE={polygon:$R,"triangle-backcurve":JR,"triangle-tee":jE,"circle-triangle":eD,"triangle-cross":jE,circle:tD}))[t]};var yn={};yn.drawElement=function(t,e,r,n,l,u){var s=this;e.isNode()?s.drawNode(t,e,r,n,l,u):s.drawEdge(t,e,r,n,l,u)};yn.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};yn.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};yn.drawCachedElementPortion=function(t,e,r,n,l,u,s,c){var d=this,f=r.getBoundingBox(e);if(!(f.w===0||f.h===0)){var v=r.getElement(e,f,n,l,u);if(v!=null){var g=c(d,e);if(g===0)return;var p=s(d,e),E=f.x1,b=f.y1,C=f.w,S=f.h,T,N,R,D,O;if(p!==0){var I=r.getRotationPoint(e);R=I.x,D=I.y,t.translate(R,D),t.rotate(p),O=d.getImgSmoothing(t),O||d.setImgSmoothing(t,!0);var M=r.getRotationOffset(e);T=M.x,N=M.y}else T=E,N=b;var k;g!==1&&(k=t.globalAlpha,t.globalAlpha=k*g),t.drawImage(v.texture.canvas,v.x,0,v.width,v.height,T,N,C,S),g!==1&&(t.globalAlpha=k),p!==0&&(t.rotate(-p),t.translate(-R,-D),O||d.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var rD=function(){return 0},aD=function(e,r){return e.getTextAngle(r,null)},nD=function(e,r){return e.getTextAngle(r,"source")},iD=function(e,r){return e.getTextAngle(r,"target")},lD=function(e,r){return r.effectiveOpacity()},xp=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};yn.drawCachedElement=function(t,e,r,n,l,u){var s=this,c=s.data,d=c.eleTxrCache,f=c.lblTxrCache,v=c.slbTxrCache,g=c.tlbTxrCache,p=e.boundingBox(),E=u===!0?d.reasons.highQuality:null;if(!(p.w===0||p.h===0||!e.visible())&&(!n||cm(p,n))){var b=e.isEdge(),C=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,d,r,l,E,rD,lD),(!b||!C)&&s.drawCachedElementPortion(t,e,f,r,l,E,aD,xp),b&&!C&&(s.drawCachedElementPortion(t,e,v,r,l,E,nD,xp),s.drawCachedElementPortion(t,e,g,r,l,E,iD,xp)),s.drawElementOverlay(t,e)}};yn.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var l=e[n];r.drawElement(t,l)}};yn.drawCachedElements=function(t,e,r,n){for(var l=this,u=0;u<e.length;u++){var s=e[u];l.drawCachedElement(t,s,r,n)}};yn.drawCachedNodes=function(t,e,r,n){for(var l=this,u=0;u<e.length;u++){var s=e[u];s.isNode()&&l.drawCachedElement(t,s,r,n)}};yn.drawLayeredElements=function(t,e,r,n){var l=this,u=l.data.lyrTxrCache.getLayers(e,r);if(u)for(var s=0;s<u.length;s++){var c=u[s],d=c.bb;d.w===0||d.h===0||t.drawImage(c.canvas,d.x1,d.y1,d.w,d.h)}else l.drawCachedElements(t,e,r,n)};var ai={};ai.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,c=e._private.rscratch;if(!(u&&!e.visible())&&!(c.badLine||c.allpts==null||isNaN(c.allpts[0]))){var d;r&&(d=r,t.translate(-d.x1,-d.y1));var f=u?e.pstyle("opacity").value:1,v=u?e.pstyle("line-opacity").value:1,g=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,E=e.pstyle("width").pfValue,b=e.pstyle("line-cap").value,C=e.pstyle("line-outline-width").value,S=e.pstyle("line-outline-color").value,T=f*v,N=f*v,R=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;g==="straight-triangle"?(s.eleStrokeStyle(t,e,Z),s.drawEdgeTrianglePath(e,t,c.allpts)):(t.lineWidth=E,t.lineCap=b,s.eleStrokeStyle(t,e,Z),s.drawEdgePath(e,t,c.allpts,p),t.lineCap="butt")},D=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T;if(t.lineWidth=E+C,t.lineCap=b,C>0)s.colorStrokeStyle(t,S[0],S[1],S[2],Z);else{t.lineCap="butt";return}g==="straight-triangle"?s.drawEdgeTrianglePath(e,t,c.allpts):(s.drawEdgePath(e,t,c.allpts,p),t.lineCap="butt")},O=function(){l&&s.drawEdgeOverlay(t,e)},I=function(){l&&s.drawEdgeUnderlay(t,e)},M=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N;s.drawArrowheads(t,e,Z)},k=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var j=e.pstyle("ghost").value==="yes";if(j){var _=e.pstyle("ghost-offset-x").pfValue,P=e.pstyle("ghost-offset-y").pfValue,L=e.pstyle("ghost-opacity").value,H=T*L;t.translate(_,P),R(H),M(H),t.translate(-_,-P)}else D();I(),R(),M(),O(),k(),r&&t.translate(d.x1,d.y1)}};var Ow=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var l=n.pstyle("".concat(e,"-opacity")).value;if(l!==0){var u=this,s=u.usePaths(),c=n._private.rscratch,d=n.pstyle("".concat(e,"-padding")).pfValue,f=2*d,v=n.pstyle("".concat(e,"-color")).value;r.lineWidth=f,c.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",u.colorStrokeStyle(r,v[0],v[1],v[2],l),u.drawEdgePath(n,r,c.allpts,"solid")}}}};ai.drawEdgeOverlay=Ow("overlay");ai.drawEdgeUnderlay=Ow("underlay");ai.drawEdgePath=function(t,e,r,n){var l=t._private.rscratch,u=e,s,c=!1,d=this.usePaths(),f=t.pstyle("line-dash-pattern").pfValue,v=t.pstyle("line-dash-offset").pfValue;if(d){var g=r.join("$"),p=l.pathCacheKey&&l.pathCacheKey===g;p?(s=e=l.pathCache,c=!0):(s=e=new Path2D,l.pathCacheKey=g,l.pathCache=s)}if(u.setLineDash)switch(n){case"dotted":u.setLineDash([1,1]);break;case"dashed":u.setLineDash(f),u.lineDashOffset=v;break;case"solid":u.setLineDash([]);break}if(!c&&!l.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),l.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var E=2;E+3<r.length;E+=4)e.quadraticCurveTo(r[E],r[E+1],r[E+2],r[E+3]);break;case"straight":case"haystack":for(var b=2;b+1<r.length;b+=2)e.lineTo(r[b],r[b+1]);break;case"segments":if(l.isRound){var C=Ea(l.roundCorners),S;try{for(C.s();!(S=C.n()).done;){var T=S.value;yw(e,T)}}catch(R){C.e(R)}finally{C.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var N=2;N+1<r.length;N+=2)e.lineTo(r[N],r[N+1]);break}e=u,d?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};ai.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,l=0;l+1<r.length;l+=2){var u=[r[l+2]-r[l],r[l+3]-r[l+1]],s=Math.sqrt(u[0]*u[0]+u[1]*u[1]),c=[u[1]/s,-u[0]/s],d=[c[0]*n/2,c[1]*n/2];e.beginPath(),e.moveTo(r[l]-d[0],r[l+1]-d[1]),e.lineTo(r[l]+d[0],r[l+1]+d[1]),e.lineTo(r[l+2],r[l+3]),e.closePath(),e.fill()}};ai.drawArrowheads=function(t,e,r){var n=e._private.rscratch,l=n.edgeType==="haystack";l||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),l||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};ai.drawArrowhead=function(t,e,r,n,l,u,s){if(!(isNaN(n)||n==null||isNaN(l)||l==null||isNaN(u)||u==null)){var c=this,d=e.pstyle(r+"-arrow-shape").value;if(d!=="none"){var f=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",v=e.pstyle(r+"-arrow-fill").value,g=e.pstyle("width").pfValue,p=e.pstyle(r+"-arrow-width"),E=p.value==="match-line"?g:p.pfValue;p.units==="%"&&(E*=g);var b=e.pstyle("opacity").value;s===void 0&&(s=b);var C=t.globalCompositeOperation;(s!==1||v==="hollow")&&(t.globalCompositeOperation="destination-out",c.colorFillStyle(t,255,255,255,1),c.colorStrokeStyle(t,255,255,255,1),c.drawArrowShape(e,t,f,g,d,E,n,l,u),t.globalCompositeOperation=C);var S=e.pstyle(r+"-arrow-color").value;c.colorFillStyle(t,S[0],S[1],S[2],s),c.colorStrokeStyle(t,S[0],S[1],S[2],s),c.drawArrowShape(e,t,v,g,d,E,n,l,u)}}};ai.drawArrowShape=function(t,e,r,n,l,u,s,c,d){var f=this,v=this.usePaths()&&l!=="triangle-cross",g=!1,p,E=e,b={x:s,y:c},C=t.pstyle("arrow-scale").value,S=this.getArrowWidth(n,C),T=f.arrowShapes[l];if(v){var N=f.arrowPathCache=f.arrowPathCache||[],R=Ml(l),D=N[R];D!=null?(p=e=D,g=!0):(p=e=new Path2D,N[R]=p)}g||(e.beginPath&&e.beginPath(),v?T.draw(e,1,0,{x:0,y:0},1):T.draw(e,S,d,b,n),e.closePath&&e.closePath()),e=E,v&&(e.translate(s,c),e.rotate(d),e.scale(S,S)),(r==="filled"||r==="both")&&(v?e.fill(p):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=u/(v?S:1),e.lineJoin="miter",v?e.stroke(p):e.stroke()),v&&(e.scale(1/S,1/S),e.rotate(-d),e.translate(-s,-c))};var Sm={};Sm.safeDrawImage=function(t,e,r,n,l,u,s,c,d,f){if(!(l<=0||u<=0||d<=0||f<=0))try{t.drawImage(e,r,n,l,u,s,c,d,f)}catch(v){Mt(v)}};Sm.drawInscribedImage=function(t,e,r,n,l){var u=this,s=r.position(),c=s.x,d=s.y,f=r.cy().style(),v=f.getIndexedStyle.bind(f),g=v(r,"background-fit","value",n),p=v(r,"background-repeat","value",n),E=r.width(),b=r.height(),C=r.padding()*2,S=E+(v(r,"background-width-relative-to","value",n)==="inner"?0:C),T=b+(v(r,"background-height-relative-to","value",n)==="inner"?0:C),N=r._private.rscratch,R=v(r,"background-clip","value",n),D=R==="node",O=v(r,"background-image-opacity","value",n)*l,I=v(r,"background-image-smoothing","value",n),M=r.pstyle("corner-radius").value;M!=="auto"&&(M=r.pstyle("corner-radius").pfValue);var k=e.width||e.cachedW,j=e.height||e.cachedH;(k==null||j==null)&&(document.body.appendChild(e),k=e.cachedW=e.width||e.offsetWidth,j=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var _=k,P=j;if(v(r,"background-width","value",n)!=="auto"&&(v(r,"background-width","units",n)==="%"?_=v(r,"background-width","pfValue",n)*S:_=v(r,"background-width","pfValue",n)),v(r,"background-height","value",n)!=="auto"&&(v(r,"background-height","units",n)==="%"?P=v(r,"background-height","pfValue",n)*T:P=v(r,"background-height","pfValue",n)),!(_===0||P===0)){if(g==="contain"){var L=Math.min(S/_,T/P);_*=L,P*=L}else if(g==="cover"){var L=Math.max(S/_,T/P);_*=L,P*=L}var H=c-S/2,X=v(r,"background-position-x","units",n),Z=v(r,"background-position-x","pfValue",n);X==="%"?H+=(S-_)*Z:H+=Z;var G=v(r,"background-offset-x","units",n),F=v(r,"background-offset-x","pfValue",n);G==="%"?H+=(S-_)*F:H+=F;var W=d-T/2,ee=v(r,"background-position-y","units",n),te=v(r,"background-position-y","pfValue",n);ee==="%"?W+=(T-P)*te:W+=te;var q=v(r,"background-offset-y","units",n),Q=v(r,"background-offset-y","pfValue",n);q==="%"?W+=(T-P)*Q:W+=Q,N.pathCache&&(H-=c,W-=d,c=0,d=0);var J=t.globalAlpha;t.globalAlpha=O;var ie=u.getImgSmoothing(t),oe=!1;if(I==="no"&&ie?(u.setImgSmoothing(t,!1),oe=!0):I==="yes"&&!ie&&(u.setImgSmoothing(t,!0),oe=!0),p==="no-repeat")D&&(t.save(),N.pathCache?t.clip(N.pathCache):(u.nodeShapes[u.getNodeShape(r)].draw(t,c,d,S,T,M,N),t.clip())),u.safeDrawImage(t,e,0,0,k,j,H,W,_,P),D&&t.restore();else{var he=t.createPattern(e,p);t.fillStyle=he,u.nodeShapes[u.getNodeShape(r)].draw(t,c,d,S,T,M,N),t.translate(H,W),t.fill(),t.translate(-H,-W)}t.globalAlpha=J,oe&&u.setImgSmoothing(t,ie)}};var Ul={};Ul.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),l=Math.ceil(sm(r*n));e=Math.pow(2,l)}var u=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(u<s)};Ul.drawElementText=function(t,e,r,n,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(u&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var c=e.pstyle("label");if(!c||!c.value)return;var d=s.getLabelJustification(e);t.textAlign=d,t.textBaseline="bottom"}else{var f=e.element()._private.rscratch.badLine,v=e.pstyle("label"),g=e.pstyle("source-label"),p=e.pstyle("target-label");if(f||(!v||!v.value)&&(!g||!g.value)&&(!p||!p.value))return;t.textAlign="center",t.textBaseline="bottom"}var E=!r,b;r&&(b=r,t.translate(-b.x1,-b.y1)),l==null?(s.drawText(t,e,null,E,u),e.isEdge()&&(s.drawText(t,e,"source",E,u),s.drawText(t,e,"target",E,u))):s.drawText(t,e,l,E,u),r&&t.translate(b.x1,b.y1)};Ul.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};Ul.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,l=e.pstyle("font-size").pfValue+"px",u=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,c=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,d=e.pstyle("text-outline-opacity").value*c,f=e.pstyle("color").value,v=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+l+" "+u,t.lineJoin="round",this.colorFillStyle(t,f[0],f[1],f[2],c),this.colorStrokeStyle(t,v[0],v[1],v[2],d)};function uD(t,e,r,n,l){var u=Math.min(n,l),s=u/2,c=e+n/2,d=r+l/2;t.beginPath(),t.arc(c,d,s,0,Math.PI*2),t.closePath()}function qE(t,e,r,n,l){var u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=Math.min(u,n/2,l/2);t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.quadraticCurveTo(e+n,r,e+n,r+s),t.lineTo(e+n,r+l-s),t.quadraticCurveTo(e+n,r+l,e+n-s,r+l),t.lineTo(e+s,r+l),t.quadraticCurveTo(e,r+l,e,r+l-s),t.lineTo(e,r+s),t.quadraticCurveTo(e,r,e+s,r),t.closePath()}Ul.getTextAngle=function(t,e){var r,n=t._private,l=n.rscratch,u=e?e+"-":"",s=t.pstyle(u+"text-rotation");if(s.strValue==="autorotate"){var c=ya(l,"labelAngle",e);r=t.isEdge()?c:0}else s.strValue==="none"?r=0:r=s.pfValue;return r};Ul.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=e._private,s=u.rscratch,c=l?e.effectiveOpacity():1;if(!(l&&(c===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var d=ya(s,"labelX",r),f=ya(s,"labelY",r),v,g,p=this.getLabelText(e,r);if(p!=null&&p!==""&&!isNaN(d)&&!isNaN(f)){this.setupTextStyle(t,e,l);var E=r?r+"-":"",b=ya(s,"labelWidth",r),C=ya(s,"labelHeight",r),S=e.pstyle(E+"text-margin-x").pfValue,T=e.pstyle(E+"text-margin-y").pfValue,N=e.isEdge(),R=e.pstyle("text-halign").value,D=e.pstyle("text-valign").value;N&&(R="center",D="center"),d+=S,f+=T;var O;switch(n?O=this.getTextAngle(e,r):O=0,O!==0&&(v=d,g=f,t.translate(v,g),t.rotate(O),d=0,f=0),D){case"top":break;case"center":f+=C/2;break;case"bottom":f+=C;break}var I=e.pstyle("text-background-opacity").value,M=e.pstyle("text-border-opacity").value,k=e.pstyle("text-border-width").pfValue,j=e.pstyle("text-background-padding").pfValue,_=e.pstyle("text-background-shape").strValue,P=_==="round-rectangle"||_==="roundrectangle",L=_==="circle",H=2;if(I>0||k>0&&M>0){var X=t.fillStyle,Z=t.strokeStyle,G=t.lineWidth,F=e.pstyle("text-background-color").value,W=e.pstyle("text-border-color").value,ee=e.pstyle("text-border-style").value,te=I>0,q=k>0&&M>0,Q=d-j;switch(R){case"left":Q-=b;break;case"center":Q-=b/2;break}var J=f-C-j,ie=b+2*j,oe=C+2*j;if(te&&(t.fillStyle="rgba(".concat(F[0],",").concat(F[1],",").concat(F[2],",").concat(I*c,")")),q&&(t.strokeStyle="rgba(".concat(W[0],",").concat(W[1],",").concat(W[2],",").concat(M*c,")"),t.lineWidth=k,t.setLineDash))switch(ee){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=k/4,t.setLineDash([]);break;default:t.setLineDash([]);break}if(P?(t.beginPath(),qE(t,Q,J,ie,oe,H)):L?(t.beginPath(),uD(t,Q,J,ie,oe)):(t.beginPath(),t.rect(Q,J,ie,oe)),te&&t.fill(),q&&t.stroke(),q&&ee==="double"){var he=k/2;t.beginPath(),P?qE(t,Q+he,J+he,ie-2*he,oe-2*he,H):t.rect(Q+he,J+he,ie-2*he,oe-2*he),t.stroke()}t.fillStyle=X,t.strokeStyle=Z,t.lineWidth=G,t.setLineDash&&t.setLineDash([])}var be=2*e.pstyle("text-outline-width").pfValue;if(be>0&&(t.lineWidth=be),e.pstyle("text-wrap").value==="wrap"){var Re=ya(s,"labelWrapCachedLines",r),ye=ya(s,"labelLineHeight",r),ne=b/2,ue=this.getLabelJustification(e);switch(ue==="auto"||(R==="left"?ue==="left"?d+=-b:ue==="center"&&(d+=-ne):R==="center"?ue==="left"?d+=-ne:ue==="right"&&(d+=ne):R==="right"&&(ue==="center"?d+=ne:ue==="right"&&(d+=b))),D){case"top":f-=(Re.length-1)*ye;break;case"center":case"bottom":f-=(Re.length-1)*ye;break}for(var fe=0;fe<Re.length;fe++)be>0&&t.strokeText(Re[fe],d,f),t.fillText(Re[fe],d,f),f+=ye}else be>0&&t.strokeText(p,d,f),t.fillText(p,d,f);O!==0&&(t.rotate(-O),t.translate(-v,-g))}}};var Wi={};Wi.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,c,d,f=e._private,v=f.rscratch,g=e.position();if(!(!Me(g.x)||!Me(g.y))&&!(u&&!e.visible())){var p=u?e.effectiveOpacity():1,E=s.usePaths(),b,C=!1,S=e.padding();c=e.width()+2*S,d=e.height()+2*S;var T;r&&(T=r,t.translate(-T.x1,-T.y1));for(var N=e.pstyle("background-image"),R=N.value,D=new Array(R.length),O=new Array(R.length),I=0,M=0;M<R.length;M++){var k=R[M],j=D[M]=k!=null&&k!=="none";if(j){var _=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",M);I++,O[M]=s.getCachedImage(k,_,function(){f.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var P=e.pstyle("background-blacken").value,L=e.pstyle("border-width").pfValue,H=e.pstyle("background-opacity").value*p,X=e.pstyle("border-color").value,Z=e.pstyle("border-style").value,G=e.pstyle("border-join").value,F=e.pstyle("border-cap").value,W=e.pstyle("border-position").value,ee=e.pstyle("border-dash-pattern").pfValue,te=e.pstyle("border-dash-offset").pfValue,q=e.pstyle("border-opacity").value*p,Q=e.pstyle("outline-width").pfValue,J=e.pstyle("outline-color").value,ie=e.pstyle("outline-style").value,oe=e.pstyle("outline-opacity").value*p,he=e.pstyle("outline-offset").value,be=e.pstyle("corner-radius").value;be!=="auto"&&(be=e.pstyle("corner-radius").pfValue);var Re=function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:H;s.eleFillStyle(t,e,ze)},ye=function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q;s.colorStrokeStyle(t,X[0],X[1],X[2],ze)},ne=function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oe;s.colorStrokeStyle(t,J[0],J[1],J[2],ze)},ue=function(ze,we,Y,se){var pe=s.nodePathCache=s.nodePathCache||[],ge=gx(Y==="polygon"?Y+","+se.join(","):Y,""+we,""+ze,""+be),Te=pe[ge],ke,Ne=!1;return Te!=null?(ke=Te,Ne=!0,v.pathCache=ke):(ke=new Path2D,pe[ge]=v.pathCache=ke),{path:ke,cacheHit:Ne}},fe=e.pstyle("shape").strValue,Ee=e.pstyle("shape-polygon-points").pfValue;if(E){t.translate(g.x,g.y);var De=ue(c,d,fe,Ee);b=De.path,C=De.cacheHit}var Le=function(){if(!C){var ze=g;E&&(ze={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(b||t,ze.x,ze.y,c,d,be,v)}E?t.fill(b):t.fill()},lt=function(){for(var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Y=f.backgrounding,se=0,pe=0;pe<O.length;pe++){var ge=e.cy().style().getIndexedStyle(e,"background-image-containment","value",pe);if(we&&ge==="over"||!we&&ge==="inside"){se++;continue}D[pe]&&O[pe].complete&&!O[pe].error&&(se++,s.drawInscribedImage(t,O[pe],e,pe,ze))}f.backgrounding=se!==I,Y!==f.backgrounding&&e.updateStyle(!1)},Qe=function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;s.hasPie(e)&&(s.drawPie(t,e,we),ze&&(E||s.nodeShapes[s.getNodeShape(e)].draw(t,g.x,g.y,c,d,be,v)))},je=function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;s.hasStripe(e)&&(t.save(),E?t.clip(v.pathCache):(s.nodeShapes[s.getNodeShape(e)].draw(t,g.x,g.y,c,d,be,v),t.clip()),s.drawStripe(t,e,we),t.restore(),ze&&(E||s.nodeShapes[s.getNodeShape(e)].draw(t,g.x,g.y,c,d,be,v)))},Ke=function(){var ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,we=(P>0?P:-P)*ze,Y=P>0?0:255;P!==0&&(s.colorFillStyle(t,Y,Y,Y,we),E?t.fill(b):t.fill())},Oe=function(){if(L>0){if(t.lineWidth=L,t.lineCap=F,t.lineJoin=G,t.setLineDash)switch(Z){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(ee),t.lineDashOffset=te;break;case"solid":case"double":t.setLineDash([]);break}if(W!=="center"){if(t.save(),t.lineWidth*=2,W==="inside")E?t.clip(b):t.clip();else{var ze=new Path2D;ze.rect(-c/2-L,-d/2-L,c+2*L,d+2*L),ze.addPath(b),t.clip(ze,"evenodd")}E?t.stroke(b):t.stroke(),t.restore()}else E?t.stroke(b):t.stroke();if(Z==="double"){t.lineWidth=L/3;var we=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",E?t.stroke(b):t.stroke(),t.globalCompositeOperation=we}t.setLineDash&&t.setLineDash([])}},Ge=function(){if(Q>0){if(t.lineWidth=Q,t.lineCap="butt",t.setLineDash)switch(ie){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var ze=g;E&&(ze={x:0,y:0});var we=s.getNodeShape(e),Y=L;W==="inside"&&(Y=0),W==="outside"&&(Y*=2);var se=(c+Y+(Q+he))/c,pe=(d+Y+(Q+he))/d,ge=c*se,Te=d*pe,ke=s.nodeShapes[we].points,Ne;if(E){var Ue=ue(ge,Te,we,ke);Ne=Ue.path}if(we==="ellipse")s.drawEllipsePath(Ne||t,ze.x,ze.y,ge,Te);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(we)){var Be=0,Ye=0,Je=0;we==="round-diamond"?Be=(Y+he+Q)*1.4:we==="round-heptagon"?(Be=(Y+he+Q)*1.075,Je=-(Y/2+he+Q)/35):we==="round-hexagon"?Be=(Y+he+Q)*1.12:we==="round-pentagon"?(Be=(Y+he+Q)*1.13,Je=-(Y/2+he+Q)/15):we==="round-tag"?(Be=(Y+he+Q)*1.12,Ye=(Y/2+Q+he)*.07):we==="round-triangle"&&(Be=(Y+he+Q)*(Math.PI/2),Je=-(Y+he/2+Q)/Math.PI),Be!==0&&(se=(c+Be)/c,ge=c*se,["round-hexagon","round-tag"].includes(we)||(pe=(d+Be)/d,Te=d*pe)),be=be==="auto"?Ax(ge,Te):be;for(var rt=ge/2,_e=Te/2,st=be+(Y+Q+he)/2,nt=new Array(ke.length/2),Kt=new Array(ke.length/2),Tt=0;Tt<ke.length/2;Tt++)nt[Tt]={x:ze.x+Ye+rt*ke[Tt*2],y:ze.y+Je+_e*ke[Tt*2+1]};var wr,Gt,Ht,Ut,tr=nt.length;for(Gt=nt[tr-1],wr=0;wr<tr;wr++)Ht=nt[wr%tr],Ut=nt[(wr+1)%tr],Kt[wr]=wm(Gt,Ht,Ut,st),Gt=Ht,Ht=Ut;s.drawRoundPolygonPath(Ne||t,ze.x+Ye,ze.y+Je,c*se,d*pe,ke,Kt)}else if(["roundrectangle","round-rectangle"].includes(we))be=be==="auto"?Vi(ge,Te):be,s.drawRoundRectanglePath(Ne||t,ze.x,ze.y,ge,Te,be+(Y+Q+he)/2);else if(["cutrectangle","cut-rectangle"].includes(we))be=be==="auto"?fm():be,s.drawCutRectanglePath(Ne||t,ze.x,ze.y,ge,Te,null,be+(Y+Q+he)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(we))be=be==="auto"?Vi(ge,Te):be,s.drawBottomRoundRectanglePath(Ne||t,ze.x,ze.y,ge,Te,be+(Y+Q+he)/2);else if(we==="barrel")s.drawBarrelPath(Ne||t,ze.x,ze.y,ge,Te);else if(we.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(we)){var ia=(Y+Q+he)/c;ke=sd(od(ke,ia)),s.drawPolygonPath(Ne||t,ze.x,ze.y,c,d,ke)}else{var Vt=(Y+Q+he)/c;ke=sd(od(ke,-Vt)),s.drawPolygonPath(Ne||t,ze.x,ze.y,c,d,ke)}if(E?t.stroke(Ne):t.stroke(),ie==="double"){t.lineWidth=Y/3;var la=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",E?t.stroke(Ne):t.stroke(),t.globalCompositeOperation=la}t.setLineDash&&t.setLineDash([])}},Fe=function(){l&&s.drawNodeOverlay(t,e,g,c,d)},tt=function(){l&&s.drawNodeUnderlay(t,e,g,c,d)},Ie=function(){s.drawElementText(t,e,null,n)},at=e.pstyle("ghost").value==="yes";if(at){var ct=e.pstyle("ghost-offset-x").pfValue,yt=e.pstyle("ghost-offset-y").pfValue,dt=e.pstyle("ghost-opacity").value,bt=dt*p;t.translate(ct,yt),ne(),Ge(),Re(dt*H),Le(),lt(bt,!0),ye(dt*q),Oe(),Qe(P!==0||L!==0),je(P!==0||L!==0),lt(bt,!1),Ke(bt),t.translate(-ct,-yt)}E&&t.translate(-g.x,-g.y),tt(),E&&t.translate(g.x,g.y),ne(),Ge(),Re(),Le(),lt(p,!0),ye(),Oe(),Qe(P!==0||L!==0),je(P!==0||L!==0),lt(p,!1),Ke(),E&&t.translate(-g.x,-g.y),Ie(),Fe(),r&&t.translate(T.x1,T.y1)}};var Mw=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,l,u,s){var c=this;if(n.visible()){var d=n.pstyle("".concat(e,"-padding")).pfValue,f=n.pstyle("".concat(e,"-opacity")).value,v=n.pstyle("".concat(e,"-color")).value,g=n.pstyle("".concat(e,"-shape")).value,p=n.pstyle("".concat(e,"-corner-radius")).value;if(f>0){if(l=l||n.position(),u==null||s==null){var E=n.padding();u=n.width()+2*E,s=n.height()+2*E}c.colorFillStyle(r,v[0],v[1],v[2],f),c.nodeShapes[g].draw(r,l.x,l.y,u+d*2,s+d*2,p),r.fill()}}}};Wi.drawNodeOverlay=Mw("overlay");Wi.drawNodeUnderlay=Mw("underlay");Wi.hasPie=function(t){return t=t[0],t._private.hasPie};Wi.hasStripe=function(t){return t=t[0],t._private.hasStripe};Wi.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var l=e.cy().style(),u=e.pstyle("pie-size"),s=e.pstyle("pie-hole"),c=e.pstyle("pie-start-angle").pfValue,d=n.x,f=n.y,v=e.width(),g=e.height(),p=Math.min(v,g)/2,E,b=0,C=this.usePaths();if(C&&(d=0,f=0),u.units==="%"?p=p*u.pfValue:u.pfValue!==void 0&&(p=u.pfValue/2),s.units==="%"?E=p*s.pfValue:s.pfValue!==void 0&&(E=s.pfValue/2),!(E>=p))for(var S=1;S<=l.pieBackgroundN;S++){var T=e.pstyle("pie-"+S+"-background-size").value,N=e.pstyle("pie-"+S+"-background-color").value,R=e.pstyle("pie-"+S+"-background-opacity").value*r,D=T/100;D+b>1&&(D=1-b);var O=1.5*Math.PI+2*Math.PI*b;O+=c;var I=2*Math.PI*D,M=O+I;T===0||b>=1||b+D>1||(E===0?(t.beginPath(),t.moveTo(d,f),t.arc(d,f,p,O,M),t.closePath()):(t.beginPath(),t.arc(d,f,p,O,M),t.arc(d,f,E,M,O,!0),t.closePath()),this.colorFillStyle(t,N[0],N[1],N[2],R),t.fill(),b+=D)}};Wi.drawStripe=function(t,e,r,n){e=e[0],n=n||e.position();var l=e.cy().style(),u=n.x,s=n.y,c=e.width(),d=e.height(),f=0,v=this.usePaths();t.save();var g=e.pstyle("stripe-direction").value,p=e.pstyle("stripe-size");switch(g){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var E=c,b=d;p.units==="%"?(E=E*p.pfValue,b=b*p.pfValue):p.pfValue!==void 0&&(E=p.pfValue,b=p.pfValue),v&&(u=0,s=0),s-=E/2,u-=b/2;for(var C=1;C<=l.stripeBackgroundN;C++){var S=e.pstyle("stripe-"+C+"-background-size").value,T=e.pstyle("stripe-"+C+"-background-color").value,N=e.pstyle("stripe-"+C+"-background-opacity").value*r,R=S/100;R+f>1&&(R=1-f),!(S===0||f>=1||f+R>1)&&(t.beginPath(),t.rect(u,s+b*f,E,b*R),t.closePath(),this.colorFillStyle(t,T[0],T[1],T[2],N),t.fill(),f+=R)}t.restore()};var na={},sD=100;na.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};na.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,l=0;l<e.length;l++)if(n=e[l],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};na.createGradientStyleFor=function(t,e,r,n,l){var u,s=this.usePaths(),c=r.pstyle(e+"-gradient-stop-colors").value,d=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var f=r.sourceEndpoint(),v=r.targetEndpoint(),g=r.midpoint(),p=Bl(f,g),E=Bl(v,g);u=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(p,E))}else{var b=s?{x:0,y:0}:r.position(),C=r.paddedWidth(),S=r.paddedHeight();u=t.createRadialGradient(b.x,b.y,0,b.x,b.y,Math.max(C,S))}else if(r.isEdge()){var T=r.sourceEndpoint(),N=r.targetEndpoint();u=t.createLinearGradient(T.x,T.y,N.x,N.y)}else{var R=s?{x:0,y:0}:r.position(),D=r.paddedWidth(),O=r.paddedHeight(),I=D/2,M=O/2,k=r.pstyle("background-gradient-direction").value;switch(k){case"to-bottom":u=t.createLinearGradient(R.x,R.y-M,R.x,R.y+M);break;case"to-top":u=t.createLinearGradient(R.x,R.y+M,R.x,R.y-M);break;case"to-left":u=t.createLinearGradient(R.x+I,R.y,R.x-I,R.y);break;case"to-right":u=t.createLinearGradient(R.x-I,R.y,R.x+I,R.y);break;case"to-bottom-right":case"to-right-bottom":u=t.createLinearGradient(R.x-I,R.y-M,R.x+I,R.y+M);break;case"to-top-right":case"to-right-top":u=t.createLinearGradient(R.x-I,R.y+M,R.x+I,R.y-M);break;case"to-bottom-left":case"to-left-bottom":u=t.createLinearGradient(R.x+I,R.y-M,R.x-I,R.y+M);break;case"to-top-left":case"to-left-top":u=t.createLinearGradient(R.x+I,R.y+M,R.x-I,R.y-M);break}}if(!u)return null;for(var j=d.length===c.length,_=c.length,P=0;P<_;P++)u.addColorStop(j?d[P]:P/(_-1),"rgba("+c[P][0]+","+c[P][1]+","+c[P][2]+","+l+")");return u};na.gradientFillStyle=function(t,e,r,n){var l=this.createGradientStyleFor(t,"background",e,r,n);if(!l)return null;t.fillStyle=l};na.colorFillStyle=function(t,e,r,n,l){t.fillStyle="rgba("+e+","+r+","+n+","+l+")"};na.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var l=e.pstyle("background-color").value;this.colorFillStyle(t,l[0],l[1],l[2],r)}};na.gradientStrokeStyle=function(t,e,r,n){var l=this.createGradientStyleFor(t,"line",e,r,n);if(!l)return null;t.strokeStyle=l};na.colorStrokeStyle=function(t,e,r,n,l){t.strokeStyle="rgba("+e+","+r+","+n+","+l+")"};na.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var l=e.pstyle("line-color").value;this.colorStrokeStyle(t,l[0],l[1],l[2],r)}};na.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),l=n[2],u=n[3],s=e.getPixelRatio(),c=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=c);var d=l*s,f=u*s,v;if(!(d===e.canvasWidth&&f===e.canvasHeight)){e.fontCaches=null;var g=r.canvasContainer;g.style.width=l+"px",g.style.height=u+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)v=r.canvases[p],v.width=d,v.height=f,v.style.width=l+"px",v.style.height=u+"px";for(var p=0;p<e.BUFFER_COUNT;p++)v=r.bufferCanvases[p],v.width=d,v.height=f,v.style.width=l+"px",v.style.height=u+"px";e.textureMult=1,s<=1&&(v=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,v.width=d*e.textureMult,v.height=f*e.textureMult),e.canvasWidth=d,e.canvasHeight=f,e.pixelRatio=s}};na.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};na.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};na.render=function(t){var e=this;t=t||bx();var r=e.cy,n=t.forcedContext,l=t.drawAllLayers,u=t.drawOnlyNodeLayer,s=t.forcedZoom,c=t.forcedPan,d=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,f=e.data,v=f.canvasNeedsRedraw,g=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),p=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,E=e.motionBlurPxRatio,b=r.hasCompoundNodes(),C=e.hoverData.draggingEles,S=!!(e.hoverData.selecting||e.touchData.selecting);p=p&&!n&&e.motionBlurEnabled&&!S;var T=p;n||(e.prevPxRatio!==d&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=d),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),p&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(T=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!g&&(v[e.NODE]=!0,v[e.SELECT_BOX]=!0);var N=r.style(),R=r.zoom(),D=s!==void 0?s:R,O=r.pan(),I={x:O.x,y:O.y},M={zoom:R,pan:{x:O.x,y:O.y}},k=e.prevViewport,j=k===void 0||M.zoom!==k.zoom||M.pan.x!==k.pan.x||M.pan.y!==k.pan.y;!j&&!(C&&!b)&&(e.motionBlurPxRatio=1),c&&(I=c),D*=d,I.x*=d,I.y*=d;var _=e.getCachedZSortedEles();function P(ye,ne,ue,fe,Ee){var De=ye.globalCompositeOperation;ye.globalCompositeOperation="destination-out",e.colorFillStyle(ye,255,255,255,e.motionBlurTransparency),ye.fillRect(ne,ue,fe,Ee),ye.globalCompositeOperation=De}function L(ye,ne){var ue,fe,Ee,De;!e.clearingMotionBlur&&(ye===f.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ye===f.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(ue={x:O.x*E,y:O.y*E},fe=R*E,Ee=e.canvasWidth*E,De=e.canvasHeight*E):(ue=I,fe=D,Ee=e.canvasWidth,De=e.canvasHeight),ye.setTransform(1,0,0,1,0,0),ne==="motionBlur"?P(ye,0,0,Ee,De):!n&&(ne===void 0||ne)&&ye.clearRect(0,0,Ee,De),l||(ye.translate(ue.x,ue.y),ye.scale(fe,fe)),c&&ye.translate(c.x,c.y),s&&ye.scale(s,s)}if(g||(e.textureDrawLastFrame=!1),g){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var H=e.data.bufferContexts[e.TEXTURE_BUFFER];H.setTransform(1,0,0,1,0,0),H.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:H,drawOnlyNodeLayer:!0,forcedPxRatio:d*e.textureMult});var M=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};M.mpan={x:(0-M.pan.x)/M.zoom,y:(0-M.pan.y)/M.zoom}}v[e.DRAG]=!1,v[e.NODE]=!1;var X=f.contexts[e.NODE],Z=e.textureCache.texture,M=e.textureCache.viewport;X.setTransform(1,0,0,1,0,0),p?P(X,0,0,M.width,M.height):X.clearRect(0,0,M.width,M.height);var G=N.core("outside-texture-bg-color").value,F=N.core("outside-texture-bg-opacity").value;e.colorFillStyle(X,G[0],G[1],G[2],F),X.fillRect(0,0,M.width,M.height);var R=r.zoom();L(X,!1),X.clearRect(M.mpan.x,M.mpan.y,M.width/M.zoom/d,M.height/M.zoom/d),X.drawImage(Z,M.mpan.x,M.mpan.y,M.width/M.zoom/d,M.height/M.zoom/d)}else e.textureOnViewport&&!n&&(e.textureCache=null);var W=r.extent(),ee=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),te=e.hideEdgesOnViewport&&ee,q=[];if(q[e.NODE]=!v[e.NODE]&&p&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,q[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),q[e.DRAG]=!v[e.DRAG]&&p&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,q[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),v[e.NODE]||l||u||q[e.NODE]){var Q=p&&!q[e.NODE]&&E!==1,X=n||(Q?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:f.contexts[e.NODE]),J=p&&!Q?"motionBlur":void 0;L(X,J),te?e.drawCachedNodes(X,_.nondrag,d,W):e.drawLayeredElements(X,_.nondrag,d,W),e.debug&&e.drawDebugPoints(X,_.nondrag),!l&&!p&&(v[e.NODE]=!1)}if(!u&&(v[e.DRAG]||l||q[e.DRAG])){var Q=p&&!q[e.DRAG]&&E!==1,X=n||(Q?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:f.contexts[e.DRAG]);L(X,p&&!Q?"motionBlur":void 0),te?e.drawCachedNodes(X,_.drag,d,W):e.drawCachedElements(X,_.drag,d,W),e.debug&&e.drawDebugPoints(X,_.drag),!l&&!p&&(v[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,L),p&&E!==1){var ie=f.contexts[e.NODE],oe=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],he=f.contexts[e.DRAG],be=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],Re=function(ne,ue,fe){ne.setTransform(1,0,0,1,0,0),fe||!T?ne.clearRect(0,0,e.canvasWidth,e.canvasHeight):P(ne,0,0,e.canvasWidth,e.canvasHeight);var Ee=E;ne.drawImage(ue,0,0,e.canvasWidth*Ee,e.canvasHeight*Ee,0,0,e.canvasWidth,e.canvasHeight)};(v[e.NODE]||q[e.NODE])&&(Re(ie,oe,q[e.NODE]),v[e.NODE]=!1),(v[e.DRAG]||q[e.DRAG])&&(Re(he,be,q[e.DRAG]),v[e.DRAG]=!1)}e.prevViewport=M,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),p&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!g,e.mbFrames=0,v[e.NODE]=!0,v[e.DRAG]=!0,e.redraw()},sD)),n||r.emit("render")};var mo;na.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,l=r.data,u=n.style(),s=t.drawOnlyNodeLayer,c=t.drawAllLayers,d=l.canvasNeedsRedraw,f=t.forcedContext;if(r.showFps||!s&&d[r.SELECT_BOX]&&!c){var v=f||l.contexts[r.SELECT_BOX];if(e(v),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var g=r.cy.zoom(),p=u.core("selection-box-border-width").value/g;v.lineWidth=p,v.fillStyle="rgba("+u.core("selection-box-color").value[0]+","+u.core("selection-box-color").value[1]+","+u.core("selection-box-color").value[2]+","+u.core("selection-box-opacity").value+")",v.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),p>0&&(v.strokeStyle="rgba("+u.core("selection-box-border-color").value[0]+","+u.core("selection-box-border-color").value[1]+","+u.core("selection-box-border-color").value[2]+","+u.core("selection-box-opacity").value+")",v.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(l.bgActivePosistion&&!r.hoverData.selecting){var g=r.cy.zoom(),E=l.bgActivePosistion;v.fillStyle="rgba("+u.core("active-bg-color").value[0]+","+u.core("active-bg-color").value[1]+","+u.core("active-bg-color").value[2]+","+u.core("active-bg-opacity").value+")",v.beginPath(),v.arc(E.x,E.y,u.core("active-bg-size").pfValue/g,0,2*Math.PI),v.fill()}var b=r.lastRedrawTime;if(r.showFps&&b){b=Math.round(b);var C=Math.round(1e3/b),S="1 frame = "+b+" ms = "+C+" fps";if(v.setTransform(1,0,0,1,0,0),v.fillStyle="rgba(255, 0, 0, 0.75)",v.strokeStyle="rgba(255, 0, 0, 0.75)",v.font="30px Arial",!mo){var T=v.measureText(S);mo=T.actualBoundingBoxAscent}v.fillText(S,0,mo);var N=60;v.strokeRect(0,mo+10,250,20),v.fillRect(0,mo+10,250*Math.min(C/N,1),20)}c||(d[r.SELECT_BOX]=!1)}};function GE(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function oD(t,e,r){var n=GE(t,t.VERTEX_SHADER,e),l=GE(t,t.FRAGMENT_SHADER,r),u=t.createProgram();if(t.attachShader(u,n),t.attachShader(u,l),t.linkProgram(u),!t.getProgramParameter(u,t.LINK_STATUS))throw new Error("Could not initialize shaders");return u}function cD(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),l=n.context=n.getContext("2d");return n.clear=function(){return l.clearRect(0,0,n.width,n.height)},n.clear(),n}function Am(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function fD(t){var e=t.pixelRatio,r=t.cy.zoom();return r*e}function dD(t,e,r,n,l){var u=n*r+e.x,s=l*r+e.y;return s=Math.round(t.canvasHeight-s),[u,s]}function vD(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function hD(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Al(t,e,r){var n=t[0]/255,l=t[1]/255,u=t[2]/255,s=e,c=r||new Array(4);return c[0]=n*s,c[1]=l*s,c[2]=u*s,c[3]=s,c}function zu(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function gD(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function pD(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function Bw(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function Iw(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function mD(t,e,r,n,l,u){switch(e){case t.FLOAT:return new Float32Array(r.buffer,u*n,l);case t.INT:return new Int32Array(r.buffer,u*n,l)}}function yD(t,e,r,n){var l=Bw(t,e),u=xr(l,2),s=u[0],c=u[1],d=Iw(t,c,n),f=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferData(t.ARRAY_BUFFER,d,t.STATIC_DRAW),c===t.FLOAT?t.vertexAttribPointer(r,s,c,!1,0,0):c===t.INT&&t.vertexAttribIPointer(r,s,c,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),f}function vn(t,e,r,n){var l=Bw(t,r),u=xr(l,3),s=u[0],c=u[1],d=u[2],f=Iw(t,c,e*s),v=s*d,g=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,g),t.bufferData(t.ARRAY_BUFFER,e*v,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),c===t.FLOAT?t.vertexAttribPointer(n,s,c,!1,v,0):c===t.INT&&t.vertexAttribIPointer(n,s,c,v,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var p=new Array(e),E=0;E<e;E++)p[E]=mD(t,c,f,v,s,E);return g.dataArray=f,g.stride=v,g.size=s,g.getView=function(b){return p[b]},g.setPoint=function(b,C,S){var T=p[b];T[0]=C,T[1]=S},g.bufferSubData=function(b){t.bindBuffer(t.ARRAY_BUFFER,g),b?t.bufferSubData(t.ARRAY_BUFFER,0,f,0,b*s):t.bufferSubData(t.ARRAY_BUFFER,0,f)},g}function bD(t,e,r){for(var n=9,l=new Float32Array(e*n),u=new Array(e),s=0;s<e;s++){var c=s*n*4;u[s]=new Float32Array(l.buffer,c,n)}var d=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,l.byteLength,t.DYNAMIC_DRAW);for(var f=0;f<3;f++){var v=r+f;t.enableVertexAttribArray(v),t.vertexAttribPointer(v,3,t.FLOAT,!1,36,f*12),t.vertexAttribDivisor(v,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),d.getMatrixView=function(g){return u[g]},d.setData=function(g,p){u[p].set(g,0)},d.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferSubData(t.ARRAY_BUFFER,0,l)},d}function ED(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,l){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,l,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var HE=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function wp(){var t=new HE(9);return HE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function VE(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function xD(t,e,r){var n=e[0],l=e[1],u=e[2],s=e[3],c=e[4],d=e[5],f=e[6],v=e[7],g=e[8],p=r[0],E=r[1],b=r[2],C=r[3],S=r[4],T=r[5],N=r[6],R=r[7],D=r[8];return t[0]=p*n+E*s+b*f,t[1]=p*l+E*c+b*v,t[2]=p*u+E*d+b*g,t[3]=C*n+S*s+T*f,t[4]=C*l+S*c+T*v,t[5]=C*u+S*d+T*g,t[6]=N*n+R*s+D*f,t[7]=N*l+R*c+D*v,t[8]=N*u+R*d+D*g,t}function rd(t,e,r){var n=e[0],l=e[1],u=e[2],s=e[3],c=e[4],d=e[5],f=e[6],v=e[7],g=e[8],p=r[0],E=r[1];return t[0]=n,t[1]=l,t[2]=u,t[3]=s,t[4]=c,t[5]=d,t[6]=p*n+E*s+f,t[7]=p*l+E*c+v,t[8]=p*u+E*d+g,t}function FE(t,e,r){var n=e[0],l=e[1],u=e[2],s=e[3],c=e[4],d=e[5],f=e[6],v=e[7],g=e[8],p=Math.sin(r),E=Math.cos(r);return t[0]=E*n+p*s,t[1]=E*l+p*c,t[2]=E*u+p*d,t[3]=E*s-p*n,t[4]=E*c-p*l,t[5]=E*d-p*u,t[6]=f,t[7]=v,t[8]=g,t}function Zp(t,e,r){var n=r[0],l=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=l*e[3],t[4]=l*e[4],t[5]=l*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function wD(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var TD=(function(){function t(e,r,n,l){Xi(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=l(e,r,r),this.scratch=l(e,r,this.texHeight,"scratch")}return Zi(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,l=r.h,u=this.texHeight,s=this.texSize,c=u/l,d=n*c,f=l*c;return d>s&&(c=s/n,d=n*c,f=l*c),{scale:c,texW:d,texH:f}}},{key:"draw",value:function(r,n,l){var u=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,c=this.texRows,d=this.texHeight,f=this.getScale(n),v=f.scale,g=f.texW,p=f.texH,E=function(R,D){if(l&&D){var O=D.context,I=R.x,M=R.row,k=I,j=d*M;O.save(),O.translate(k,j),O.scale(v,v),l(O,n),O.restore()}},b=[null,null],C=function(){E(u.freePointer,u.canvas),b[0]={x:u.freePointer.x,y:u.freePointer.row*d,w:g,h:p},b[1]={x:u.freePointer.x+g,y:u.freePointer.row*d,w:0,h:p},u.freePointer.x+=g,u.freePointer.x==s&&(u.freePointer.x=0,u.freePointer.row++)},S=function(){var R=u.scratch,D=u.canvas;R.clear(),E({x:0,row:0},R);var O=s-u.freePointer.x,I=g-O,M=d;{var k=u.freePointer.x,j=u.freePointer.row*d,_=O;D.context.drawImage(R,0,0,_,M,k,j,_,M),b[0]={x:k,y:j,w:_,h:p}}{var P=O,L=(u.freePointer.row+1)*d,H=I;D&&D.context.drawImage(R,P,0,H,M,0,L,H,M),b[1]={x:0,y:L,w:H,h:p}}u.freePointer.x=I,u.freePointer.row++},T=function(){u.freePointer.x=0,u.freePointer.row++};if(this.freePointer.x+g<=s)C();else{if(this.freePointer.row>=c-1)return!1;this.freePointer.x===s?(T(),C()):this.enableWrapping?S():(T(),C())}return this.keyToLocation.set(r,b),this.needsBuffer=!0,b}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,l=this.texRows,u=this.getScale(r),s=u.texW;return this.freePointer.x+s>n?this.freePointer.row<l-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=pD(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),SD=(function(){function t(e,r,n,l){Xi(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=l,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Zi(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,l=this.texRows,u=this.createTextureCanvas;return new TD(r,n,l,u)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,l=this.texRows,u=this.createTextureCanvas,s=Math.floor(n/l);this.scratch=u(r,n,s,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,l){var u=this.styleKeyToAtlas.get(r);return u||(u=this.atlases[this.atlases.length-1],(!u||!u.canFit(n))&&(u&&u.lock(),u=this._createAtlas(),this.atlases.push(u)),u.draw(r,n,l),this.styleKeyToAtlas.set(r,u)),u}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var l=[],u=new Map,s=null,c=Ea(this.atlases),d;try{var f=function(){var g=d.value,p=g.getKeys(),E=AD(n,p);if(E.size===0)return l.push(g),p.forEach(function(O){return u.set(O,g)}),1;s||(s=r._createAtlas(),l.push(s));var b=Ea(p),C;try{for(b.s();!(C=b.n()).done;){var S=C.value;if(!E.has(S)){var T=g.getOffsets(S),N=xr(T,2),R=N[0],D=N[1];s.canFit({w:R.w+D.w,h:R.h})||(s.lock(),s=r._createAtlas(),l.push(s)),g.canvas&&(r._copyTextureToNewAtlas(S,g,s),u.set(S,s))}}}catch(O){b.e(O)}finally{b.f()}g.dispose()};for(c.s();!(d=c.n()).done;)f()}catch(v){c.e(v)}finally{c.f()}this.atlases=l,this.styleKeyToAtlas=u,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,l){var u=n.getOffsets(r),s=xr(u,2),c=s[0],d=s[1];if(d.w===0)l.draw(r,c,function(p){p.drawImage(n.canvas,c.x,c.y,c.w,c.h,0,0,c.w,c.h)});else{var f=this._getScratchCanvas();f.clear(),f.context.drawImage(n.canvas,c.x,c.y,c.w,c.h,0,0,c.w,c.h),f.context.drawImage(n.canvas,d.x,d.y,d.w,d.h,c.w,0,d.w,d.h);var v=c.w+d.w,g=c.h;l.draw(r,{w:v,h:g},function(p){p.drawImage(f,0,0,v,g,0,0,v,g)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function AD(t,e){return t.intersection?t.intersection(e):new Set(nd(t).filter(function(r){return e.has(r)}))}var CD=(function(){function t(e,r){Xi(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Zi(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var l=this.globalOptions,u=l.webglTexSize,s=l.createTextureCanvas,c=n.texRows,d=this._cacheScratchCanvas(s),f=new SD(this.r,u,c,d);this.collections.set(r,f)}},{key:"addRenderType",value:function(r,n){var l=n.collection;if(!this.collections.has(l))throw new Error("invalid atlas collection name '".concat(l,"'"));var u=this.collections.get(l),s=$e({type:r,atlasCollection:u},n);this.renderTypes.set(r,s)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,l=-1,u=null;return function(s,c,d,f){return f?((!u||c!=n||d!=l)&&(n=c,l=d,u=r(s,c,d)),u):r(s,c,d)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.forceRedraw,s=u===void 0?!1:u,c=l.filterEle,d=c===void 0?function(){return!0}:c,f=l.filterType,v=f===void 0?function(){return!0}:f,g=!1,p=!1,E=Ea(r),b;try{for(E.s();!(b=E.n()).done;){var C=b.value;if(d(C)){var S=Ea(this.renderTypes.values()),T;try{var N=function(){var D=T.value,O=D.type;if(v(O)){var I=n.collections.get(D.collection),M=D.getKey(C),k=Array.isArray(M)?M:[M];if(s)k.forEach(function(L){return I.markKeyForGC(L)}),p=!0;else{var j=D.getID?D.getID(C):C.id(),_=n._key(O,j),P=n.typeAndIdToKey.get(_);P!==void 0&&!hD(k,P)&&(g=!0,n.typeAndIdToKey.delete(_),P.forEach(function(L){return I.markKeyForGC(L)}))}}};for(S.s();!(T=S.n()).done;)N()}catch(R){S.e(R)}finally{S.f()}}}}catch(R){E.e(R)}finally{E.f()}return p&&(this.gc(),g=!1),g}},{key:"gc",value:function(){var r=Ea(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var l=n.value;l.gc()}}catch(u){r.e(u)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,l,u){var s=this.renderTypes.get(n),c=this.collections.get(s.collection),d=!1,f=c.draw(u,l,function(p){s.drawClipped?(p.save(),p.beginPath(),p.rect(0,0,l.w,l.h),p.clip(),s.drawElement(p,r,l,!0,!0),p.restore()):s.drawElement(p,r,l,!0,!0),d=!0});if(d){var v=s.getID?s.getID(r):r.id(),g=this._key(n,v);this.typeAndIdToKey.has(g)?this.typeAndIdToKey.get(g).push(u):this.typeAndIdToKey.set(g,[u])}return f}},{key:"getAtlasInfo",value:function(r,n){var l=this,u=this.renderTypes.get(n),s=u.getKey(r),c=Array.isArray(s)?s:[s];return c.map(function(d){var f=u.getBoundingBox(r,d),v=l.getOrCreateAtlas(r,n,f,d),g=v.getOffsets(d),p=xr(g,2),E=p[0],b=p[1];return{atlas:v,tex:E,tex1:E,tex2:b,bb:f}})}},{key:"getDebugInfo",value:function(){var r=[],n=Ea(this.collections),l;try{for(n.s();!(l=n.n()).done;){var u=xr(l.value,2),s=u[0],c=u[1],d=c.getCounts(),f=d.keyCount,v=d.atlasCount;r.push({type:s,keyCount:f,atlasCount:v})}}catch(g){n.e(g)}finally{n.f()}return r}}])})(),ND=(function(){function t(e){Xi(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return Zi(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])})(),RD=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,DD=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,OD=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,MD=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,Ro={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},pd={IGNORE:1,USE_BB:2},Tp=0,YE=1,KE=2,Sp=3,_u=4,qf=5,yo=6,bo=7,BD=(function(){function t(e,r,n){Xi(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=cD,this.atlasManager=new CD(e,n),this.batchManager=new ND(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(Ro.SCREEN),this.pickingProgram=this._createShaderProgram(Ro.PICKING),this.vao=this._createVAO()}return Zi(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=n.type,u=this.atlasManager;return l?u.invalidate(r,{filterType:function(c){return c===l},forceRedraw:!0}):u.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,l=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(Tp,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(_u," || aVertType == ").concat(bo,` 
             || aVertType == `).concat(qf," || aVertType == ").concat(yo,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(YE,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(KE,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Sp,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),u=this.batchManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(u.map(function(f){return"uniform sampler2D uTexture".concat(f,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(RD,`
      `).concat(DD,`
      `).concat(OD,`
      `).concat(MD,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(Tp,`) {
          // look up the texel from the texture unit
          `).concat(u.map(function(f){return"if(vAtlasId == ".concat(f,") outColor = texture(uTexture").concat(f,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Sp,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(_u,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(_u," || vVertType == ").concat(bo,` 
          || vVertType == `).concat(qf," || vVertType == ").concat(yo,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(_u,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(bo,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(bo,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),c=oD(n,l,s);c.aPosition=n.getAttribLocation(c,"aPosition"),c.aIndex=n.getAttribLocation(c,"aIndex"),c.aVertType=n.getAttribLocation(c,"aVertType"),c.aTransform=n.getAttribLocation(c,"aTransform"),c.aAtlasId=n.getAttribLocation(c,"aAtlasId"),c.aTex=n.getAttribLocation(c,"aTex"),c.aPointAPointB=n.getAttribLocation(c,"aPointAPointB"),c.aPointCPointD=n.getAttribLocation(c,"aPointCPointD"),c.aLineWidth=n.getAttribLocation(c,"aLineWidth"),c.aColor=n.getAttribLocation(c,"aColor"),c.aCornerRadius=n.getAttribLocation(c,"aCornerRadius"),c.aBorderColor=n.getAttribLocation(c,"aBorderColor"),c.uPanZoomMatrix=n.getUniformLocation(c,"uPanZoomMatrix"),c.uAtlasSize=n.getUniformLocation(c,"uAtlasSize"),c.uBGColor=n.getUniformLocation(c,"uBGColor"),c.uZoom=n.getUniformLocation(c,"uZoom"),c.uTextures=[];for(var d=0;d<this.batchManager.getMaxAtlasesPerBatch();d++)c.uTextures.push(n.getUniformLocation(c,"uTexture".concat(d)));return c}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,l=this.gl,u=this.program,s=l.createVertexArray();return l.bindVertexArray(s),yD(l,"vec2",u.aPosition,r),this.transformBuffer=bD(l,n,u.aTransform),this.indexBuffer=vn(l,n,"vec4",u.aIndex),this.vertTypeBuffer=vn(l,n,"int",u.aVertType),this.atlasIdBuffer=vn(l,n,"int",u.aAtlasId),this.texBuffer=vn(l,n,"vec4",u.aTex),this.pointAPointBBuffer=vn(l,n,"vec4",u.aPointAPointB),this.pointCPointDBuffer=vn(l,n,"vec4",u.aPointCPointD),this.lineWidthBuffer=vn(l,n,"vec2",u.aLineWidth),this.colorBuffer=vn(l,n,"vec4",u.aColor),this.cornerRadiusBuffer=vn(l,n,"vec4",u.aCornerRadius),this.borderColorBuffer=vn(l,n,"vec4",u.aBorderColor),l.bindVertexArray(null),s}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return _i(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ro.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,l){var u=this.atlasManager,s=this.batchManager,c=u.getRenderTypeOpts(l);if(this._isVisible(r,c)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&c.getTexPickingMode){var d=c.getTexPickingMode(r);if(d===pd.IGNORE)return;if(d==pd.USE_BB){this.drawPickingRectangle(r,n,l);return}}var f=u.getAtlasInfo(r,l),v=Ea(f),g;try{for(v.s();!(g=v.n()).done;){var p=g.value,E=p.atlas,b=p.tex1,C=p.tex2;s.canAddToCurrentBatch(E)||this.endBatch();for(var S=s.getAtlasIndexForBatch(E),T=0,N=[[b,!0],[C,!1]];T<N.length;T++){var R=xr(N[T],2),D=R[0],O=R[1];if(D.w!=0){var I=this.instanceCount;this.vertTypeBuffer.getView(I)[0]=Tp;var M=this.indexBuffer.getView(I);zu(n,M);var k=this.atlasIdBuffer.getView(I);k[0]=S;var j=this.texBuffer.getView(I);j[0]=D.x,j[1]=D.y,j[2]=D.w,j[3]=D.h;var _=this.transformBuffer.getMatrixView(I);this.setTransformMatrix(r,_,c,p,O),this.instanceCount++,O||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(P){v.e(P)}finally{v.f()}}}},{key:"setTransformMatrix",value:function(r,n,l,u){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,c=0;if(l.shapeProps&&l.shapeProps.padding&&(c=r.pstyle(l.shapeProps.padding).pfValue),u){var d=u.bb,f=u.tex1,v=u.tex2,g=f.w/(f.w+v.w);s||(g=1-g);var p=this._getAdjustedBB(d,c,s,g);this._applyTransformMatrix(n,p,l,r)}else{var E=l.getBoundingBox(r),b=this._getAdjustedBB(E,c,!0,1);this._applyTransformMatrix(n,b,l,r)}}},{key:"_applyTransformMatrix",value:function(r,n,l,u){var s,c;VE(r);var d=l.getRotation?l.getRotation(u):0;if(d!==0){var f=l.getRotationPoint(u),v=f.x,g=f.y;rd(r,r,[v,g]),FE(r,r,d);var p=l.getRotationOffset(u);s=p.x+(n.xOffset||0),c=p.y+(n.yOffset||0)}else s=n.x1,c=n.y1;rd(r,r,[s,c]),Zp(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,l,u){var s=r.x1,c=r.y1,d=r.w,f=r.h,v=r.yOffset;n&&(s-=n,c-=n,d+=2*n,f+=2*n);var g=0,p=d*u;return l&&u<1?d=p:!l&&u<1&&(g=d-p,s+=g,d=p),{x1:s,y1:c,w:d,h:f,xOffset:g,yOffset:v}}},{key:"drawPickingRectangle",value:function(r,n,l){var u=this.atlasManager.getRenderTypeOpts(l),s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=_u;var c=this.indexBuffer.getView(s);zu(n,c);var d=this.colorBuffer.getView(s);Al([0,0,0],1,d);var f=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(r,f,u),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,l){var u=this.simpleShapeOptions.get(l);if(this._isVisible(r,u)){var s=u.shapeProps,c=this._getVertTypeForShape(r,s.shape);if(c===void 0||u.isSimple&&!u.isSimple(r)){this.drawTexture(r,n,l);return}var d=this.instanceCount;if(this.vertTypeBuffer.getView(d)[0]=c,c===qf||c===yo){var f=u.getBoundingBox(r),v=this._getCornerRadius(r,s.radius,f),g=this.cornerRadiusBuffer.getView(d);g[0]=v,g[1]=v,g[2]=v,g[3]=v,c===yo&&(g[0]=0,g[2]=0)}var p=this.indexBuffer.getView(d);zu(n,p);var E=r.pstyle(s.color).value,b=r.pstyle(s.opacity).value,C=this.colorBuffer.getView(d);Al(E,b,C);var S=this.lineWidthBuffer.getView(d);if(S[0]=0,S[1]=0,s.border){var T=r.pstyle("border-width").value;if(T>0){var N=r.pstyle("border-color").value,R=r.pstyle("border-opacity").value,D=this.borderColorBuffer.getView(d);Al(N,R,D);var O=r.pstyle("border-position").value;if(O==="inside")S[0]=0,S[1]=-T;else if(O==="outside")S[0]=T,S[1]=0;else{var I=T/2;S[0]=I,S[1]=-I}}}var M=this.transformBuffer.getMatrixView(d);this.setTransformMatrix(r,M,u),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var l=r.pstyle(n).value;switch(l){case"rectangle":return _u;case"ellipse":return bo;case"roundrectangle":case"round-rectangle":return qf;case"bottom-round-rectangle":return yo;default:return}}},{key:"_getCornerRadius",value:function(r,n,l){var u=l.w,s=l.h;if(r.pstyle(n).value==="auto")return Vi(u,s);var c=r.pstyle(n).pfValue,d=u/2,f=s/2;return Math.min(c,f,d)}},{key:"drawEdgeArrow",value:function(r,n,l){if(r.visible()){var u=r._private.rscratch,s,c,d;if(l==="source"?(s=u.arrowStartX,c=u.arrowStartY,d=u.srcArrowAngle):(s=u.arrowEndX,c=u.arrowEndY,d=u.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(c)||c==null||isNaN(d)||d==null)){var f=r.pstyle(l+"-arrow-shape").value;if(f!=="none"){var v=r.pstyle(l+"-arrow-color").value,g=r.pstyle("opacity").value,p=r.pstyle("line-opacity").value,E=g*p,b=r.pstyle("width").pfValue,C=r.pstyle("arrow-scale").value,S=this.r.getArrowWidth(b,C),T=this.instanceCount,N=this.transformBuffer.getMatrixView(T);VE(N),rd(N,N,[s,c]),Zp(N,N,[S,S]),FE(N,N,d),this.vertTypeBuffer.getView(T)[0]=Sp;var R=this.indexBuffer.getView(T);zu(n,R);var D=this.colorBuffer.getView(T);Al(v,E,D),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var l=this._getEdgePoints(r);if(l){var u=r.pstyle("opacity").value,s=r.pstyle("line-opacity").value,c=r.pstyle("width").pfValue,d=r.pstyle("line-color").value,f=u*s;if(l.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),l.length==4){var v=this.instanceCount;this.vertTypeBuffer.getView(v)[0]=YE;var g=this.indexBuffer.getView(v);zu(n,g);var p=this.colorBuffer.getView(v);Al(d,f,p);var E=this.lineWidthBuffer.getView(v);E[0]=c;var b=this.pointAPointBBuffer.getView(v);b[0]=l[0],b[1]=l[1],b[2]=l[2],b[3]=l[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var C=0;C<l.length-2;C+=2){var S=this.instanceCount;this.vertTypeBuffer.getView(S)[0]=KE;var T=this.indexBuffer.getView(S);zu(n,T);var N=this.colorBuffer.getView(S);Al(d,f,N);var R=this.lineWidthBuffer.getView(S);R[0]=c;var D=l[C-2],O=l[C-1],I=l[C],M=l[C+1],k=l[C+2],j=l[C+3],_=l[C+4],P=l[C+5];C==0&&(D=2*I-k+.001,O=2*M-j+.001),C==l.length-4&&(_=2*k-I+.001,P=2*j-M+.001);var L=this.pointAPointBBuffer.getView(S);L[0]=D,L[1]=O,L[2]=I,L[3]=M;var H=this.pointCPointDBuffer.getView(S);H[0]=k,H[1]=j,H[2]=_,H[3]=P,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var l=n.allpts;if(l.length==4)return l;var u=this._getNumSegments(r);return this._getCurveSegmentPoints(l,u)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var l=Array((n+1)*2),u=0;u<=n;u++)if(u==0)l[0]=r[0],l[1]=r[1];else if(u==n)l[u*2]=r[r.length-2],l[u*2+1]=r[r.length-1];else{var s=u/n;this._setCurvePoint(r,s,l,u*2)}return l}},{key:"_setCurvePoint",value:function(r,n,l,u){if(r.length<=2)l[u]=r[0],l[u+1]=r[1];else{for(var s=Array(r.length-2),c=0;c<s.length;c+=2){var d=(1-n)*r[c]+n*r[c+2],f=(1-n)*r[c+1]+n*r[c+3];s[c]=d,s[c+1]=f}return this._setCurvePoint(s,n,l,u)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,l=this.vertexCount,u=this.instanceCount;if(u!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(s),r.bindVertexArray(n);var c=Ea(this.buffers),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;f.bufferSubData(u)}}catch(b){c.e(b)}finally{c.f()}for(var v=this.batchManager.getAtlases(),g=0;g<v.length;g++)v[g].bufferIfNeeded(r);for(var p=0;p<v.length;p++)r.activeTexture(r.TEXTURE0+p),r.bindTexture(r.TEXTURE_2D,v[p].texture),r.uniform1i(s.uTextures[p],p);r.uniform1f(s.uZoom,fD(this.r)),r.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(s.uAtlasSize,this.batchManager.getAtlasSize());var E=Al(this.bgColor,1);r.uniform4fv(s.uBGColor,E),r.drawArraysInstanced(r.TRIANGLES,0,l,u),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:u,atlasCount:v.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(s,c){return s+c.atlasCount},0),l=this.batchDebugInfo,u=l.reduce(function(s,c){return s+c.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:l.length,batchInfo:l,totalInstances:u}}}])})(),Lw={};Lw.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=ID(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=ED(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new BD(r,n,t);var l=function(g){return function(p){return r.getTextAngle(p,g)}},u=function(g){return function(p){var E=p.pstyle(g);return E&&E.value}},s=function(g){return function(p){return p.pstyle("".concat(g,"-opacity")).value>0}},c=function(g){var p=g.pstyle("text-events").strValue==="yes";return p?pd.USE_BB:pd.IGNORE},d=function(g){var p=g.position(),E=p.x,b=p.y,C=g.outerWidth(),S=g.outerHeight();return{w:C,h:S,x1:E-C/2,y1:b-S/2}};r.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:d,isSimple:vD,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:d,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:d,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:c,getKey:Ap(e.getLabelKey,null),getBoundingBox:Cp(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:l(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:u("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:c,getKey:Ap(e.getSourceLabelKey,"source"),getBoundingBox:Cp(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:l("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:u("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:c,getKey:Ap(e.getTargetLabelKey,"target"),getBoundingBox:Cp(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:l("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:u("target-label")});var f=Vo(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(v,g){var p=!1;g&&g.length>0&&(p|=r.drawing.invalidate(g)),p&&f()}),LD(r)};function ID(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return sx(r)}function kw(t,e){var r=t._private.rscratch;return ya(r,"labelWrapCachedLines",e)||[]}var Ap=function(e,r){return function(n){var l=e(n),u=kw(n,r);return u.length>1?u.map(function(s,c){return"".concat(l,"_").concat(c)}):l}},Cp=function(e,r){return function(n,l){var u=e(n);if(typeof l=="string"){var s=l.indexOf("_");if(s>0){var c=Number(l.substring(s+1)),d=kw(n,r),f=u.h/d.length,v=f*c,g=u.y1+v;return{x1:u.x1,w:u.w,y1:g,h:f,yOffset:v}}}return u}};function LD(t){{var e=t.render;t.render=function(u){u=u||{};var s=t.cy;t.webgl&&(s.zoom()>Nw?(kD(t),e.call(t,u)):(zD(t),_w(t,u,Ro.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(u){r.call(t,u),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(u,s,c,d){return GD(t,u,s)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var l=t.notify;t.notify=function(u,s){l.call(t,u,s),u==="viewport"||u==="bounds"?t.pickingFrameBuffer.needsDraw=!0:u==="background"&&t.drawing.invalidate(s,{type:"node-body"})}}}function kD(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function zD(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function _D(t){var e=t.canvasWidth,r=t.canvasHeight,n=Am(t),l=n.pan,u=n.zoom,s=wp();rd(s,s,[l.x,l.y]),Zp(s,s,[u,u]);var c=wp();wD(c,e,r);var d=wp();return xD(d,c,s),d}function zw(t,e){var r=t.canvasWidth,n=t.canvasHeight,l=Am(t),u=l.pan,s=l.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(u.x,u.y),e.scale(s,s)}function UD(t,e){t.drawSelectionRectangle(e,function(r){return zw(t,r)})}function PD(t){var e=t.data.contexts[t.NODE];e.save(),zw(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function jD(t){var e=function(l,u,s){for(var c=l.atlasManager.getAtlasCollection(u),d=t.data.contexts[t.NODE],f=c.atlases,v=0;v<f.length;v++){var g=f[v],p=g.canvas;if(p){var E=p.width,b=p.height,C=E*v,S=p.height*s,T=.4;d.save(),d.scale(T,T),d.drawImage(p,C,S),d.strokeStyle="black",d.rect(C,S,E,b),d.stroke(),d.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function qD(t,e,r,n,l){var u,s,c,d,f=Am(t),v=f.pan,g=f.zoom;{var p=dD(t,v,g,e,r),E=xr(p,2),b=E[0],C=E[1],S=6;u=b-S/2,s=C-S/2,c=S,d=S}if(c===0||d===0)return[];var T=t.data.contexts[t.WEBGL];T.bindFramebuffer(T.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(T.viewport(0,0,T.canvas.width,T.canvas.height),_w(t,null,Ro.PICKING),t.pickingFrameBuffer.needsDraw=!1);var N=c*d,R=new Uint8Array(N*4);T.readPixels(u,s,c,d,T.RGBA,T.UNSIGNED_BYTE,R),T.bindFramebuffer(T.FRAMEBUFFER,null);for(var D=new Set,O=0;O<N;O++){var I=R.slice(O*4,O*4+4),M=gD(I)-1;M>=0&&D.add(M)}return D}function GD(t,e,r){var n=qD(t,e,r),l=t.getCachedZSortedEles(),u,s,c=Ea(n),d;try{for(c.s();!(d=c.n()).done;){var f=d.value,v=l[f];if(!u&&v.isNode()&&(u=v),!s&&v.isEdge()&&(s=v),u&&s)break}}catch(g){c.e(g)}finally{c.f()}return[u,s].filter(Boolean)}function Np(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawNode(r,e,"node-underlay"),n.drawNode(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawNode(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function _w(t,e,r){var n;t.webglDebug&&(n=performance.now());var l=t.drawing,u=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&UD(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var s=t.data.contexts[t.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var c=_D(t),d=t.getCachedZSortedEles();if(u=d.length,l.startFrame(c,r),r.screen){for(var f=0;f<d.nondrag.length;f++)Np(t,f,d.nondrag[f]);for(var v=0;v<d.drag.length;v++)Np(t,v,d.drag[v])}else if(r.picking)for(var g=0;g<d.length;g++)Np(t,g,d[g]);l.endFrame(),r.screen&&t.webglDebugShowAtlases&&(PD(t),jD(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var p=performance.now(),E=!1,b=Math.ceil(p-n),C=l.getDebugInfo(),S=["".concat(u," elements"),"".concat(C.totalInstances," instances"),"".concat(C.batchCount," batches"),"".concat(C.totalAtlases," atlases"),"".concat(C.wrappedCount," wrapped textures"),"".concat(C.simpleCount," simple shapes")].join(", ");if(E)console.log("WebGL (".concat(r.name,") - time ").concat(b,"ms, ").concat(S));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(b,"ms")),console.log("Totals:"),console.log("  ".concat(S)),console.log("Texture Atlases Used:");var T=C.atlasInfo,N=Ea(T),R;try{for(N.s();!(R=N.n()).done;){var D=R.value;console.log("  ".concat(D.type,": ").concat(D.keyCount," keys, ").concat(D.atlasCount," atlases"))}}catch(O){N.e(O)}finally{N.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,l.gc())}var $i={};$i.drawPolygonPath=function(t,e,r,n,l,u){var s=n/2,c=l/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*u[0],r+c*u[1]);for(var d=1;d<u.length/2;d++)t.lineTo(e+s*u[d*2],r+c*u[d*2+1]);t.closePath()};$i.drawRoundPolygonPath=function(t,e,r,n,l,u,s){s.forEach(function(c){return yw(t,c)}),t.closePath()};$i.drawRoundRectanglePath=function(t,e,r,n,l,u){var s=n/2,c=l/2,d=u==="auto"?Vi(n,l):Math.min(u,c,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-c),t.arcTo(e+s,r-c,e+s,r,d),t.arcTo(e+s,r+c,e,r+c,d),t.arcTo(e-s,r+c,e-s,r,d),t.arcTo(e-s,r-c,e,r-c,d),t.lineTo(e,r-c),t.closePath()};$i.drawBottomRoundRectanglePath=function(t,e,r,n,l,u){var s=n/2,c=l/2,d=u==="auto"?Vi(n,l):u;t.beginPath&&t.beginPath(),t.moveTo(e,r-c),t.lineTo(e+s,r-c),t.lineTo(e+s,r),t.arcTo(e+s,r+c,e,r+c,d),t.arcTo(e-s,r+c,e-s,r,d),t.lineTo(e-s,r-c),t.lineTo(e,r-c),t.closePath()};$i.drawCutRectanglePath=function(t,e,r,n,l,u,s){var c=n/2,d=l/2,f=s==="auto"?fm():s;t.beginPath&&t.beginPath(),t.moveTo(e-c+f,r-d),t.lineTo(e+c-f,r-d),t.lineTo(e+c,r-d+f),t.lineTo(e+c,r+d-f),t.lineTo(e+c-f,r+d),t.lineTo(e-c+f,r+d),t.lineTo(e-c,r+d-f),t.lineTo(e-c,r-d+f),t.closePath()};$i.drawBarrelPath=function(t,e,r,n,l){var u=n/2,s=l/2,c=e-u,d=e+u,f=r-s,v=r+s,g=kp(n,l),p=g.widthOffset,E=g.heightOffset,b=g.ctrlPtOffsetPct*p;t.beginPath&&t.beginPath(),t.moveTo(c,f+E),t.lineTo(c,v-E),t.quadraticCurveTo(c+b,v,c+p,v),t.lineTo(d-p,v),t.quadraticCurveTo(d-b,v,d,v-E),t.lineTo(d,f+E),t.quadraticCurveTo(d-b,f,d-p,f),t.lineTo(c+p,f),t.quadraticCurveTo(c+b,f,c,f+E),t.closePath()};var XE=Math.sin(0),ZE=Math.cos(0),Qp={},Wp={},Uw=Math.PI/40;for(var Uu=0*Math.PI;Uu<2*Math.PI;Uu+=Uw)Qp[Uu]=Math.sin(Uu),Wp[Uu]=Math.cos(Uu);$i.drawEllipsePath=function(t,e,r,n,l){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,l/2,0,0,2*Math.PI);else for(var u,s,c=n/2,d=l/2,f=0*Math.PI;f<2*Math.PI;f+=Uw)u=e-c*Qp[f]*XE+c*Wp[f]*ZE,s=r+d*Wp[f]*XE+d*Qp[f]*ZE,f===0?t.moveTo(u,s):t.lineTo(u,s);t.closePath()};var Qo={};Qo.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};Qo.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),l=this.findContainerClientCoords(),u=t.full?Math.ceil(n.w):l[2],s=t.full?Math.ceil(n.h):l[3],c=Me(t.maxWidth)||Me(t.maxHeight),d=this.getPixelRatio(),f=1;if(t.scale!==void 0)u*=t.scale,s*=t.scale,f=t.scale;else if(c){var v=1/0,g=1/0;Me(t.maxWidth)&&(v=f*t.maxWidth/u),Me(t.maxHeight)&&(g=f*t.maxHeight/s),f=Math.min(v,g),u*=f,s*=f}c||(u*=d,s*=d,f*=d);var p=document.createElement("canvas");p.width=u,p.height=s,p.style.width=u+"px",p.style.height=s+"px";var E=p.getContext("2d");if(u>0&&s>0){E.clearRect(0,0,u,s),E.globalCompositeOperation="source-over";var b=this.getCachedZSortedEles();if(t.full)E.translate(-n.x1*f,-n.y1*f),E.scale(f,f),this.drawElements(E,b),E.scale(1/f,1/f),E.translate(n.x1*f,n.y1*f);else{var C=e.pan(),S={x:C.x*f,y:C.y*f};f*=e.zoom(),E.translate(S.x,S.y),E.scale(f,f),this.drawElements(E,b),E.scale(1/f,1/f),E.translate(-S.x,-S.y)}t.bg&&(E.globalCompositeOperation="destination-over",E.fillStyle=t.bg,E.rect(0,0,u,s),E.fill())}return p};function HD(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),l=new Uint8Array(n),u=0;u<r.length;u++)l[u]=r.charCodeAt(u);return new Blob([n],{type:e})}function QE(t){var e=t.indexOf(",");return t.substr(e+1)}function Pw(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new $u(function(l,u){try{e.toBlob(function(s){s!=null?l(s):u(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){u(s)}});case"blob":return HD(QE(n()),r);case"base64":return QE(n());default:return n()}}Qo.png=function(t){return Pw(t,this.bufferCanvasImage(t),"image/png")};Qo.jpg=function(t){return Pw(t,this.bufferCanvasImage(t),"image/jpeg")};var jw={};jw.nodeShapeImpl=function(t,e,r,n,l,u,s,c){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,l,u);case"polygon":return this.drawPolygonPath(e,r,n,l,u,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,l,u,s,c);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,l,u,c);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,l,u,s,c);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,l,u,c);case"barrel":return this.drawBarrelPath(e,r,n,l,u)}};var VD=qw,ft=qw.prototype;ft.CANVAS_LAYERS=3;ft.SELECT_BOX=0;ft.DRAG=1;ft.NODE=2;ft.WEBGL=3;ft.CANVAS_TYPES=["2d","2d","2d","webgl2"];ft.BUFFER_COUNT=3;ft.TEXTURE_BUFFER=0;ft.MOTIONBLUR_BUFFER_NODE=1;ft.MOTIONBLUR_BUFFER_DRAG=2;function qw(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(ft.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(ft.CANVAS_LAYERS),contexts:new Array(ft.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ft.CANVAS_LAYERS),bufferCanvases:new Array(ft.BUFFER_COUNT),bufferContexts:new Array(ft.CANVAS_LAYERS)};var l="-webkit-tap-highlight-color",u="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[l]=u,s.position="relative",s.zIndex="0",s.overflow="hidden";var c=t.cy.container();c.appendChild(e.data.canvasContainer),c.style[l]=u;var d={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};US()&&(d["-ms-touch-action"]="none",d["touch-action"]="none");for(var f=0;f<ft.CANVAS_LAYERS;f++){var v=e.data.canvases[f]=n.createElement("canvas"),g=ft.CANVAS_TYPES[f];e.data.contexts[f]=v.getContext(g),e.data.contexts[f]||er("Could not create canvas of type "+g),Object.keys(d).forEach(function(ye){v.style[ye]=d[ye]}),v.style.position="absolute",v.setAttribute("data-id","layer"+f),v.style.zIndex=String(ft.CANVAS_LAYERS-f),e.data.canvasContainer.appendChild(v),e.data.canvasNeedsRedraw[f]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[ft.NODE].setAttribute("data-id","layer"+ft.NODE+"-node"),e.data.canvases[ft.SELECT_BOX].setAttribute("data-id","layer"+ft.SELECT_BOX+"-selectbox"),e.data.canvases[ft.DRAG].setAttribute("data-id","layer"+ft.DRAG+"-drag"),e.data.canvases[ft.WEBGL]&&e.data.canvases[ft.WEBGL].setAttribute("data-id","layer"+ft.WEBGL+"-webgl");for(var f=0;f<ft.BUFFER_COUNT;f++)e.data.bufferCanvases[f]=n.createElement("canvas"),e.data.bufferContexts[f]=e.data.bufferCanvases[f].getContext("2d"),e.data.bufferCanvases[f].style.position="absolute",e.data.bufferCanvases[f].setAttribute("data-id","buffer"+f),e.data.bufferCanvases[f].style.zIndex=String(-f-1),e.data.bufferCanvases[f].style.visibility="hidden";e.pathsEnabled=!0;var p=aa(),E=function(ne){return{x:(ne.x1+ne.x2)/2,y:(ne.y1+ne.y2)/2}},b=function(ne){return{x:-ne.w/2,y:-ne.h/2}},C=function(ne){var ue=ne[0]._private,fe=ue.oldBackgroundTimestamp===ue.backgroundTimestamp;return!fe},S=function(ne){return ne[0]._private.nodeKey},T=function(ne){return ne[0]._private.labelStyleKey},N=function(ne){return ne[0]._private.sourceLabelStyleKey},R=function(ne){return ne[0]._private.targetLabelStyleKey},D=function(ne,ue,fe,Ee,De){return e.drawElement(ne,ue,fe,!1,!1,De)},O=function(ne,ue,fe,Ee,De){return e.drawElementText(ne,ue,fe,Ee,"main",De)},I=function(ne,ue,fe,Ee,De){return e.drawElementText(ne,ue,fe,Ee,"source",De)},M=function(ne,ue,fe,Ee,De){return e.drawElementText(ne,ue,fe,Ee,"target",De)},k=function(ne){return ne.boundingBox(),ne[0]._private.bodyBounds},j=function(ne){return ne.boundingBox(),ne[0]._private.labelBounds.main||p},_=function(ne){return ne.boundingBox(),ne[0]._private.labelBounds.source||p},P=function(ne){return ne.boundingBox(),ne[0]._private.labelBounds.target||p},L=function(ne,ue){return ue},H=function(ne){return E(k(ne))},X=function(ne,ue,fe){var Ee=ne?ne+"-":"";return{x:ue.x+fe.pstyle(Ee+"text-margin-x").pfValue,y:ue.y+fe.pstyle(Ee+"text-margin-y").pfValue}},Z=function(ne,ue,fe){var Ee=ne[0]._private.rscratch;return{x:Ee[ue],y:Ee[fe]}},G=function(ne){return X("",Z(ne,"labelX","labelY"),ne)},F=function(ne){return X("source",Z(ne,"sourceLabelX","sourceLabelY"),ne)},W=function(ne){return X("target",Z(ne,"targetLabelX","targetLabelY"),ne)},ee=function(ne){return b(k(ne))},te=function(ne){return b(_(ne))},q=function(ne){return b(P(ne))},Q=function(ne){var ue=j(ne),fe=b(j(ne));if(ne.isNode()){switch(ne.pstyle("text-halign").value){case"left":fe.x=-ue.w-(ue.leftPad||0);break;case"right":fe.x=-(ue.rightPad||0);break}switch(ne.pstyle("text-valign").value){case"top":fe.y=-ue.h-(ue.topPad||0);break;case"bottom":fe.y=-(ue.botPad||0);break}}return fe},J=e.data.eleTxrCache=new Ao(e,{getKey:S,doesEleInvalidateKey:C,drawElement:D,getBoundingBox:k,getRotationPoint:H,getRotationOffset:ee,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ie=e.data.lblTxrCache=new Ao(e,{getKey:T,drawElement:O,getBoundingBox:j,getRotationPoint:G,getRotationOffset:Q,isVisible:L}),oe=e.data.slbTxrCache=new Ao(e,{getKey:N,drawElement:I,getBoundingBox:_,getRotationPoint:F,getRotationOffset:te,isVisible:L}),he=e.data.tlbTxrCache=new Ao(e,{getKey:R,drawElement:M,getBoundingBox:P,getRotationPoint:W,getRotationOffset:q,isVisible:L}),be=e.data.lyrTxrCache=new Rw(e);e.onUpdateEleCalcs(function(ne,ue){J.invalidateElements(ue),ie.invalidateElements(ue),oe.invalidateElements(ue),he.invalidateElements(ue),be.invalidateElements(ue);for(var fe=0;fe<ue.length;fe++){var Ee=ue[fe]._private;Ee.oldBackgroundTimestamp=Ee.backgroundTimestamp}});var Re=function(ne){for(var ue=0;ue<ne.length;ue++)be.enqueueElementRefinement(ne[ue].ele)};J.onDequeue(Re),ie.onDequeue(Re),oe.onDequeue(Re),he.onDequeue(Re),t.webgl&&e.initWebgl(t,{getStyleKey:S,getLabelKey:T,getSourceLabelKey:N,getTargetLabelKey:R,drawElement:D,drawLabel:O,drawSourceLabel:I,drawTargetLabel:M,getElementBox:k,getLabelBox:j,getSourceLabelBox:_,getTargetLabelBox:P,getElementRotationPoint:H,getElementRotationOffset:ee,getLabelRotationPoint:G,getSourceLabelRotationPoint:F,getTargetLabelRotationPoint:W,getLabelRotationOffset:Q,getSourceLabelRotationOffset:te,getTargetLabelRotationOffset:q})}ft.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[ft.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[ft.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[ft.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var FD=typeof Path2D<"u";ft.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};ft.usePaths=function(){return FD&&this.pathsEnabled};ft.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};ft.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};ft.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Dr(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),l=n.document;r=l.createElement("canvas"),r.width=t,r.height=e}return r};[Dw,yn,ai,Sm,Ul,Wi,na,Lw,$i,Qo,jw].forEach(function(t){$e(ft,t)});var YD=[{name:"null",impl:gw},{name:"base",impl:Aw},{name:"canvas",impl:VD}],KD=[{type:"layout",extensions:yR},{type:"renderer",extensions:YD}],Gw={},Hw={};function Vw(t,e,r){var n=r,l=function(k){Mt("Can not register `"+e+"` for `"+t+"` since `"+k+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(_o.prototype[e])return l(e);_o.prototype[e]=r}else if(t==="collection"){if(Gr.prototype[e])return l(e);Gr.prototype[e]=r}else if(t==="layout"){for(var u=function(k){this.options=k,r.call(this,k),wt(this._private)||(this._private={}),this._private.cy=k.cy,this._private.listeners=[],this.createEmitter()},s=u.prototype=Object.create(r.prototype),c=[],d=0;d<c.length;d++){var f=c[d];s[f]=s[f]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var v=r.prototype.stop;s.stop=function(){var M=this.options;if(M&&M.animate){var k=this.animations;if(k)for(var j=0;j<k.length;j++)k[j].stop()}return v?v.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var g=function(k){return k._private.cy},p={addEventFields:function(k,j){j.layout=k,j.cy=g(k),j.target=k},bubble:function(){return!0},parent:function(k){return g(k)}};$e(s,{createEmitter:function(){return this._private.emitter=new Rd(p,this),this},emitter:function(){return this._private.emitter},on:function(k,j){return this.emitter().on(k,j),this},one:function(k,j){return this.emitter().one(k,j),this},once:function(k,j){return this.emitter().one(k,j),this},removeListener:function(k,j){return this.emitter().removeListener(k,j),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(k,j){return this.emitter().emit(k,j),this}}),Ot.eventAliasesOn(s),n=u}else if(t==="renderer"&&e!=="null"&&e!=="base"){var E=Fw("renderer","base"),b=E.prototype,C=r,S=r.prototype,T=function(){E.apply(this,arguments),C.apply(this,arguments)},N=T.prototype;for(var R in b){var D=b[R],O=S[R]!=null;if(O)return l(R);N[R]=D}for(var I in S)N[I]=S[I];b.clientFunctions.forEach(function(M){N[M]=N[M]||function(){er("Renderer does not implement `renderer."+M+"()` on its prototype")}}),n=T}else if(t==="__proto__"||t==="constructor"||t==="prototype")return er(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return ox({map:Gw,keys:[t,e],value:n})}function Fw(t,e){return cx({map:Gw,keys:[t,e]})}function XD(t,e,r,n,l){return ox({map:Hw,keys:[t,e,r,n],value:l})}function ZD(t,e,r,n){return cx({map:Hw,keys:[t,e,r,n]})}var $p=function(){if(arguments.length===2)return Fw.apply(null,arguments);if(arguments.length===3)return Vw.apply(null,arguments);if(arguments.length===4)return ZD.apply(null,arguments);if(arguments.length===5)return XD.apply(null,arguments);er("Invalid extension access syntax")};_o.prototype.extension=$p;KD.forEach(function(t){t.extensions.forEach(function(e){Vw(t.type,e.name,e.impl)})});var md=function(){if(!(this instanceof md))return new md;this.length=0},kl=md.prototype;kl.instanceString=function(){return"stylesheet"};kl.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};kl.css=function(t,e){var r=this.length-1;if(Xe(t))this[r].properties.push({name:t,value:e});else if(wt(t))for(var n=t,l=Object.keys(n),u=0;u<l.length;u++){var s=l[u],c=n[s];if(c!=null){var d=kr.properties[s]||kr.properties[yd(s)];if(d!=null){var f=d.name,v=c;this[r].properties.push({name:f,value:v})}}}return this};kl.style=kl.css;kl.generateStyle=function(t){var e=new kr(t);return this.appendToStyle(e)};kl.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,l=r.properties;t.selector(n);for(var u=0;u<l.length;u++){var s=l[u];t.css(s.name,s.value)}}return t};var QD="3.33.1",zl=function(e){if(e===void 0&&(e={}),wt(e))return new _o(e);if(Xe(e))return $p.apply($p,arguments)};zl.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(zl),t.apply(null,e),this};zl.warnings=function(t){return mx(t)};zl.version=QD;zl.stylesheet=zl.Stylesheet=md;const{string:Gf,array:WE,object:Hf,number:Eo,bool:Ra,oneOfType:Pu,any:Vf,func:xo}=ES,WD={id:Gf,className:Gf,style:Pu([Gf,Hf]),elements:Pu([WE,Vf]),stylesheet:Pu([WE,Vf]),layout:Pu([Hf,Vf]),pan:Pu([Hf,Vf]),zoom:Eo,panningEnabled:Ra,userPanningEnabled:Ra,minZoom:Eo,maxZoom:Eo,zoomingEnabled:Ra,userZoomingEnabled:Ra,boxSelectionEnabled:Ra,autoungrabify:Ra,autolock:Ra,autounselectify:Ra,get:xo,toJson:xo,diff:xo,forEach:xo,cy:xo,headless:Ra,styleEnabled:Ra,hideEdgesOnViewport:Ra,textureOnViewport:Ra,motionBlur:Ra,motionBlurOpacity:Eo,wheelSensitivity:Eo,pixelRatio:Pu([Gf,Hf])},Yw=(t,e)=>{if(((u,s)=>u==null||s==null)(t,e)&&(t!=null||e!=null))return!0;if(t===e)return!1;if(typeof t!="object"||typeof e!="object")return t!==e;const r=Object.keys(t),n=Object.keys(e),l=u=>t[u]!==e[u];return r.length!==n.length||!(!r.some(l)&&!n.some(l))},Wa=(t,e)=>t!=null?t[e]:null,$D={diff:Yw,get:Wa,toJson:t=>t,forEach:(t,e)=>t.forEach(e),elements:[{data:{id:"a",label:"Example node A"}},{data:{id:"b",label:"Example node B"}},{data:{id:"e",source:"a",target:"b"}}],stylesheet:[{selector:"node",style:{label:"data(label)"}}],zoom:1,pan:{x:0,y:0}},Ff=(t,e,r,n)=>r(Wa(t,n),Wa(e,n)),JD=(t,e,r,n,l,u,s)=>{t.batch(()=>{(n===Yw||Ff(e,r,n,"elements"))&&aO(t,Wa(e,"elements"),Wa(r,"elements"),l,u,s,n),Ff(e,r,n,"stylesheet")&&rO(t,Wa(e,"stylesheet"),Wa(r,"stylesheet"),l),["zoom","minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","pan","panningEnabled","userPanningEnabled","boxSelectionEnabled","autoungrabify","autolock","autounselectify"].forEach(c=>{Ff(e,r,n,c)&&eO(t,c,Wa(e,c),Wa(r,c),l)})}),Ff(e,r,n,"layout")&&tO(t,Wa(e,"layout"),Wa(r,"layout"),l)},eO=(t,e,r,n,l)=>{t[e](l(n))},tO=(t,e,r,n)=>{const l=n(r);l!=null&&t.layout(l).run()},rO=(t,e,r,n)=>{const l=t.style();l?.fromJson(n(r)).update()},aO=(t,e,r,n,l,u,s)=>{const c=[],d=t.collection(),f=[],v={},g={},p=E=>l(l(E,"data"),"id");u(r,E=>{const b=p(E);g[b]=E}),e!=null&&u(e,E=>{const b=p(E);v[b]=E,(C=>g[C]!=null)(b)||d.merge(t.getElementById(b))}),u(r,E=>{const b=p(E),C=(S=>v[S])(b);(S=>v[S]!=null)(b)?f.push({ele1:C,ele2:E}):c.push(n(E))}),d.length>0&&t.remove(d),c.length>0&&t.add(c),f.forEach(({ele1:E,ele2:b})=>nO(t,E,b,n,l,s))},nO=(t,e,r,n,l,u)=>{const s=l(l(r,"data"),"id"),c=t.getElementById(s),d={};["data","position","selected","selectable","locked","grabbable","classes"].forEach(v=>{const g=l(r,v);u(g,l(e,v))&&(d[v]=n(g))});const f=l(r,"scratch");u(f,l(e,"scratch"))&&c.scratch(n(f)),Object.keys(d).length>0&&c.json(d)};class iO extends Vh.Component{static get propTypes(){return WD}static get defaultProps(){return $D}static normalizeElements(e){if(e.length!=null)return e;{let{nodes:r,edges:n}=e;return r==null&&(r=[]),n==null&&(n=[]),r.concat(n)}}constructor(e){super(e),this.displayName="CytoscapeComponent",this.containerRef=Vh.createRef()}componentDidMount(){const e=this.containerRef.current,{global:r,headless:n,styleEnabled:l,hideEdgesOnViewport:u,textureOnViewport:s,motionBlur:c,motionBlurOpacity:d,wheelSensitivity:f,pixelRatio:v}=this.props,g=this._cy=new zl({container:e,headless:n,styleEnabled:l,hideEdgesOnViewport:u,textureOnViewport:s,motionBlur:c,motionBlurOpacity:d,wheelSensitivity:f,pixelRatio:v});r&&(window[r]=g),this.updateCytoscape(null,this.props)}updateCytoscape(e,r){const n=this._cy,{diff:l,toJson:u,get:s,forEach:c}=r;JD(n,e,r,l,u,s,c),r.cy!=null&&r.cy(n)}componentDidUpdate(e){this.updateCytoscape(e,this.props)}componentWillUnmount(){this._cy.destroy()}render(){const{id:e,className:r,style:n}=this.props;return Vh.createElement("div",{ref:this.containerRef,id:e,className:r,style:n})}}const Rp={BUDGET:{id:"BUDGET",states:["LOW","MEDIUM","HIGH"],parents:[],cpt:{LOW:.4,MEDIUM:.4,HIGH:.2}},EXPERIENCE:{id:"EXPERIENCE",states:["BEGINNER","INTERMEDIATE","ADVANCED"],parents:[],cpt:{BEGINNER:.5,INTERMEDIATE:.35,ADVANCED:.15}},TERRAIN:{id:"TERRAIN",states:["ROAD","MIXED","OFFROAD"],parents:[],cpt:{ROAD:.4,MIXED:.4,OFFROAD:.2}},USE_CASE:{id:"USE_CASE",states:["COMMUTE","FITNESS","RECREATION","SPORT"],parents:[],cpt:{COMMUTE:.35,FITNESS:.3,RECREATION:.25,SPORT:.1}},PHYSICAL_CONDITION:{id:"PHYSICAL_CONDITION",states:["LIMITED","AVERAGE","FIT"],parents:[],cpt:{LIMITED:.25,AVERAGE:.5,FIT:.25}},BIKE_TYPE:{id:"BIKE_TYPE",states:["ROAD","HYBRID","MOUNTAIN","EBIKE","GRAVEL"],parents:["TERRAIN","USE_CASE","PHYSICAL_CONDITION"],cpt:[{when:{TERRAIN:"ROAD",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.15,HYBRID:.35,MOUNTAIN:.02,EBIKE:.45,GRAVEL:.03}},{when:{TERRAIN:"ROAD",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.25,HYBRID:.45,MOUNTAIN:.02,EBIKE:.2,GRAVEL:.08}},{when:{TERRAIN:"ROAD",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.4,HYBRID:.35,MOUNTAIN:.02,EBIKE:.08,GRAVEL:.15}},{when:{TERRAIN:"ROAD",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.2,HYBRID:.3,MOUNTAIN:.02,EBIKE:.45,GRAVEL:.03}},{when:{TERRAIN:"ROAD",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.5,HYBRID:.25,MOUNTAIN:.02,EBIKE:.13,GRAVEL:.1}},{when:{TERRAIN:"ROAD",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.65,HYBRID:.12,MOUNTAIN:.02,EBIKE:.06,GRAVEL:.15}},{when:{TERRAIN:"ROAD",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.1,HYBRID:.4,MOUNTAIN:.02,EBIKE:.45,GRAVEL:.03}},{when:{TERRAIN:"ROAD",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.25,HYBRID:.5,MOUNTAIN:.03,EBIKE:.15,GRAVEL:.07}},{when:{TERRAIN:"ROAD",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.35,HYBRID:.4,MOUNTAIN:.03,EBIKE:.07,GRAVEL:.15}},{when:{TERRAIN:"ROAD",USE_CASE:"SPORT",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.3,HYBRID:.15,MOUNTAIN:.02,EBIKE:.45,GRAVEL:.08}},{when:{TERRAIN:"ROAD",USE_CASE:"SPORT",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.65,HYBRID:.1,MOUNTAIN:.02,EBIKE:.1,GRAVEL:.13}},{when:{TERRAIN:"ROAD",USE_CASE:"SPORT",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.78,HYBRID:.05,MOUNTAIN:.02,EBIKE:.03,GRAVEL:.12}},{when:{TERRAIN:"MIXED",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.05,HYBRID:.35,MOUNTAIN:.08,EBIKE:.42,GRAVEL:.1}},{when:{TERRAIN:"MIXED",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.08,HYBRID:.45,MOUNTAIN:.1,EBIKE:.17,GRAVEL:.2}},{when:{TERRAIN:"MIXED",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.1,HYBRID:.35,MOUNTAIN:.12,EBIKE:.08,GRAVEL:.35}},{when:{TERRAIN:"MIXED",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.08,HYBRID:.3,MOUNTAIN:.1,EBIKE:.4,GRAVEL:.12}},{when:{TERRAIN:"MIXED",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.15,HYBRID:.3,MOUNTAIN:.15,EBIKE:.12,GRAVEL:.28}},{when:{TERRAIN:"MIXED",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.18,HYBRID:.2,MOUNTAIN:.18,EBIKE:.06,GRAVEL:.38}},{when:{TERRAIN:"MIXED",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.05,HYBRID:.4,MOUNTAIN:.1,EBIKE:.38,GRAVEL:.07}},{when:{TERRAIN:"MIXED",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.08,HYBRID:.48,MOUNTAIN:.15,EBIKE:.14,GRAVEL:.15}},{when:{TERRAIN:"MIXED",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.1,HYBRID:.4,MOUNTAIN:.2,EBIKE:.07,GRAVEL:.23}},{when:{TERRAIN:"MIXED",USE_CASE:"SPORT",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.1,HYBRID:.15,MOUNTAIN:.2,EBIKE:.35,GRAVEL:.2}},{when:{TERRAIN:"MIXED",USE_CASE:"SPORT",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.15,HYBRID:.12,MOUNTAIN:.3,EBIKE:.1,GRAVEL:.33}},{when:{TERRAIN:"MIXED",USE_CASE:"SPORT",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.15,HYBRID:.08,MOUNTAIN:.35,EBIKE:.05,GRAVEL:.37}},{when:{TERRAIN:"OFFROAD",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.01,HYBRID:.15,MOUNTAIN:.35,EBIKE:.42,GRAVEL:.07}},{when:{TERRAIN:"OFFROAD",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.02,HYBRID:.18,MOUNTAIN:.48,EBIKE:.2,GRAVEL:.12}},{when:{TERRAIN:"OFFROAD",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.02,HYBRID:.15,MOUNTAIN:.58,EBIKE:.1,GRAVEL:.15}},{when:{TERRAIN:"OFFROAD",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.01,HYBRID:.1,MOUNTAIN:.4,EBIKE:.42,GRAVEL:.07}},{when:{TERRAIN:"OFFROAD",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.02,HYBRID:.1,MOUNTAIN:.6,EBIKE:.15,GRAVEL:.13}},{when:{TERRAIN:"OFFROAD",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.02,HYBRID:.08,MOUNTAIN:.7,EBIKE:.07,GRAVEL:.13}},{when:{TERRAIN:"OFFROAD",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.01,HYBRID:.15,MOUNTAIN:.38,EBIKE:.4,GRAVEL:.06}},{when:{TERRAIN:"OFFROAD",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.02,HYBRID:.18,MOUNTAIN:.55,EBIKE:.17,GRAVEL:.08}},{when:{TERRAIN:"OFFROAD",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.02,HYBRID:.15,MOUNTAIN:.63,EBIKE:.1,GRAVEL:.1}},{when:{TERRAIN:"OFFROAD",USE_CASE:"SPORT",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.01,HYBRID:.05,MOUNTAIN:.5,EBIKE:.38,GRAVEL:.06}},{when:{TERRAIN:"OFFROAD",USE_CASE:"SPORT",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.01,HYBRID:.04,MOUNTAIN:.75,EBIKE:.12,GRAVEL:.08}},{when:{TERRAIN:"OFFROAD",USE_CASE:"SPORT",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.01,HYBRID:.03,MOUNTAIN:.82,EBIKE:.05,GRAVEL:.09}}]},SUSPENSION:{id:"SUSPENSION",states:["NONE","FRONT","FULL"],parents:["BIKE_TYPE","TERRAIN"],cpt:[{when:{BIKE_TYPE:"ROAD",TERRAIN:"ROAD"},then:{NONE:.95,FRONT:.04,FULL:.01}},{when:{BIKE_TYPE:"ROAD",TERRAIN:"MIXED"},then:{NONE:.9,FRONT:.08,FULL:.02}},{when:{BIKE_TYPE:"ROAD",TERRAIN:"OFFROAD"},then:{NONE:.7,FRONT:.25,FULL:.05}},{when:{BIKE_TYPE:"HYBRID",TERRAIN:"ROAD"},then:{NONE:.7,FRONT:.28,FULL:.02}},{when:{BIKE_TYPE:"HYBRID",TERRAIN:"MIXED"},then:{NONE:.45,FRONT:.5,FULL:.05}},{when:{BIKE_TYPE:"HYBRID",TERRAIN:"OFFROAD"},then:{NONE:.2,FRONT:.65,FULL:.15}},{when:{BIKE_TYPE:"MOUNTAIN",TERRAIN:"ROAD"},then:{NONE:.1,FRONT:.7,FULL:.2}},{when:{BIKE_TYPE:"MOUNTAIN",TERRAIN:"MIXED"},then:{NONE:.05,FRONT:.55,FULL:.4}},{when:{BIKE_TYPE:"MOUNTAIN",TERRAIN:"OFFROAD"},then:{NONE:.02,FRONT:.38,FULL:.6}},{when:{BIKE_TYPE:"EBIKE",TERRAIN:"ROAD"},then:{NONE:.5,FRONT:.45,FULL:.05}},{when:{BIKE_TYPE:"EBIKE",TERRAIN:"MIXED"},then:{NONE:.3,FRONT:.55,FULL:.15}},{when:{BIKE_TYPE:"EBIKE",TERRAIN:"OFFROAD"},then:{NONE:.1,FRONT:.5,FULL:.4}},{when:{BIKE_TYPE:"GRAVEL",TERRAIN:"ROAD"},then:{NONE:.85,FRONT:.13,FULL:.02}},{when:{BIKE_TYPE:"GRAVEL",TERRAIN:"MIXED"},then:{NONE:.7,FRONT:.27,FULL:.03}},{when:{BIKE_TYPE:"GRAVEL",TERRAIN:"OFFROAD"},then:{NONE:.5,FRONT:.42,FULL:.08}}]},PRICE_RANGE:{id:"PRICE_RANGE",states:["BUDGET","MIDRANGE","PREMIUM"],parents:["BUDGET","BIKE_TYPE"],cpt:[{when:{BUDGET:"LOW",BIKE_TYPE:"ROAD"},then:{BUDGET:.85,MIDRANGE:.14,PREMIUM:.01}},{when:{BUDGET:"LOW",BIKE_TYPE:"HYBRID"},then:{BUDGET:.9,MIDRANGE:.09,PREMIUM:.01}},{when:{BUDGET:"LOW",BIKE_TYPE:"MOUNTAIN"},then:{BUDGET:.88,MIDRANGE:.11,PREMIUM:.01}},{when:{BUDGET:"LOW",BIKE_TYPE:"EBIKE"},then:{BUDGET:.75,MIDRANGE:.23,PREMIUM:.02}},{when:{BUDGET:"LOW",BIKE_TYPE:"GRAVEL"},then:{BUDGET:.8,MIDRANGE:.18,PREMIUM:.02}},{when:{BUDGET:"MEDIUM",BIKE_TYPE:"ROAD"},then:{BUDGET:.25,MIDRANGE:.65,PREMIUM:.1}},{when:{BUDGET:"MEDIUM",BIKE_TYPE:"HYBRID"},then:{BUDGET:.3,MIDRANGE:.62,PREMIUM:.08}},{when:{BUDGET:"MEDIUM",BIKE_TYPE:"MOUNTAIN"},then:{BUDGET:.28,MIDRANGE:.6,PREMIUM:.12}},{when:{BUDGET:"MEDIUM",BIKE_TYPE:"EBIKE"},then:{BUDGET:.2,MIDRANGE:.6,PREMIUM:.2}},{when:{BUDGET:"MEDIUM",BIKE_TYPE:"GRAVEL"},then:{BUDGET:.22,MIDRANGE:.63,PREMIUM:.15}},{when:{BUDGET:"HIGH",BIKE_TYPE:"ROAD"},then:{BUDGET:.05,MIDRANGE:.3,PREMIUM:.65}},{when:{BUDGET:"HIGH",BIKE_TYPE:"HYBRID"},then:{BUDGET:.08,MIDRANGE:.42,PREMIUM:.5}},{when:{BUDGET:"HIGH",BIKE_TYPE:"MOUNTAIN"},then:{BUDGET:.05,MIDRANGE:.3,PREMIUM:.65}},{when:{BUDGET:"HIGH",BIKE_TYPE:"EBIKE"},then:{BUDGET:.05,MIDRANGE:.25,PREMIUM:.7}},{when:{BUDGET:"HIGH",BIKE_TYPE:"GRAVEL"},then:{BUDGET:.06,MIDRANGE:.34,PREMIUM:.6}}]},COMFORT_LEVEL:{id:"COMFORT_LEVEL",states:["BASIC","COMFORTABLE","PREMIUM_COMFORT"],parents:["PHYSICAL_CONDITION","USE_CASE"],cpt:[{when:{PHYSICAL_CONDITION:"LIMITED",USE_CASE:"COMMUTE"},then:{BASIC:.1,COMFORTABLE:.5,PREMIUM_COMFORT:.4}},{when:{PHYSICAL_CONDITION:"LIMITED",USE_CASE:"FITNESS"},then:{BASIC:.15,COMFORTABLE:.5,PREMIUM_COMFORT:.35}},{when:{PHYSICAL_CONDITION:"LIMITED",USE_CASE:"RECREATION"},then:{BASIC:.08,COMFORTABLE:.45,PREMIUM_COMFORT:.47}},{when:{PHYSICAL_CONDITION:"LIMITED",USE_CASE:"SPORT"},then:{BASIC:.2,COMFORTABLE:.5,PREMIUM_COMFORT:.3}},{when:{PHYSICAL_CONDITION:"AVERAGE",USE_CASE:"COMMUTE"},then:{BASIC:.25,COMFORTABLE:.55,PREMIUM_COMFORT:.2}},{when:{PHYSICAL_CONDITION:"AVERAGE",USE_CASE:"FITNESS"},then:{BASIC:.35,COMFORTABLE:.5,PREMIUM_COMFORT:.15}},{when:{PHYSICAL_CONDITION:"AVERAGE",USE_CASE:"RECREATION"},then:{BASIC:.2,COMFORTABLE:.55,PREMIUM_COMFORT:.25}},{when:{PHYSICAL_CONDITION:"AVERAGE",USE_CASE:"SPORT"},then:{BASIC:.45,COMFORTABLE:.42,PREMIUM_COMFORT:.13}},{when:{PHYSICAL_CONDITION:"FIT",USE_CASE:"COMMUTE"},then:{BASIC:.4,COMFORTABLE:.48,PREMIUM_COMFORT:.12}},{when:{PHYSICAL_CONDITION:"FIT",USE_CASE:"FITNESS"},then:{BASIC:.55,COMFORTABLE:.38,PREMIUM_COMFORT:.07}},{when:{PHYSICAL_CONDITION:"FIT",USE_CASE:"RECREATION"},then:{BASIC:.35,COMFORTABLE:.5,PREMIUM_COMFORT:.15}},{when:{PHYSICAL_CONDITION:"FIT",USE_CASE:"SPORT"},then:{BASIC:.65,COMFORTABLE:.3,PREMIUM_COMFORT:.05}}]}},Dp=[{id:"BUDGET",label:"Budget",group:"input",x:50,y:100},{id:"EXPERIENCE",label:"Experience",group:"input",x:50,y:200},{id:"TERRAIN",label:"Terrain",group:"input",x:50,y:300},{id:"USE_CASE",label:"Use Case",group:"input",x:50,y:400},{id:"PHYSICAL_CONDITION",label:`Physical
Condition`,group:"input",x:50,y:500},{id:"BIKE_TYPE",label:"Bike Type",group:"inferred",x:250,y:350},{id:"SUSPENSION",label:"Suspension",group:"output",x:450,y:250},{id:"PRICE_RANGE",label:"Price Range",group:"output",x:450,y:350},{id:"COMFORT_LEVEL",label:"Comfort",group:"output",x:450,y:450}],lO=[{source:"TERRAIN",target:"BIKE_TYPE"},{source:"USE_CASE",target:"BIKE_TYPE"},{source:"PHYSICAL_CONDITION",target:"BIKE_TYPE"},{source:"BIKE_TYPE",target:"SUSPENSION"},{source:"TERRAIN",target:"SUSPENSION"},{source:"BUDGET",target:"PRICE_RANGE"},{source:"BIKE_TYPE",target:"PRICE_RANGE"},{source:"PHYSICAL_CONDITION",target:"COMFORT_LEVEL"},{source:"USE_CASE",target:"COMFORT_LEVEL"}],Jp={BUDGET:{LOW:"< $800",MEDIUM:"$800-2000",HIGH:"> $2000"},EXPERIENCE:{BEGINNER:"Beginner",INTERMEDIATE:"Intermediate",ADVANCED:"Advanced"},TERRAIN:{ROAD:"Paved roads",MIXED:"Mixed terrain",OFFROAD:"Off-road/trails"},USE_CASE:{COMMUTE:"Commuting",FITNESS:"Fitness",RECREATION:"Recreation",SPORT:"Sport/Racing"},PHYSICAL_CONDITION:{LIMITED:"Some limitations",AVERAGE:"Average",FIT:"Very fit"},BIKE_TYPE:{ROAD:"Road Bike",HYBRID:"Hybrid",MOUNTAIN:"Mountain",EBIKE:"E-Bike",GRAVEL:"Gravel"},SUSPENSION:{NONE:"Rigid",FRONT:"Front only",FULL:"Full suspension"},PRICE_RANGE:{BUDGET:"Budget",MIDRANGE:"Mid-range",PREMIUM:"Premium"},COMFORT_LEVEL:{BASIC:"Sport/Basic",COMFORTABLE:"Comfortable",PREMIUM_COMFORT:"Premium comfort"}};function uO({posteriors:t,evidence:e}){const r=Lr.useRef(null),[n,l]=Lr.useState(null),u=[...Dp.map(f=>({data:{id:f.id,label:f.label,group:f.group,hasEvidence:e&&e[f.id]!==void 0},position:{x:f.x*1.5,y:f.y*.8}})),...lO.map((f,v)=>({data:{id:`edge-${v}`,source:f.source,target:f.target}}))],s=f=>{if(e&&e[f])return"#22c55e";const v=Dp.find(g=>g.id===f)?.group;return v==="input"?"#3b82f6":v==="inferred"?"#f59e0b":v==="output"?"#8b5cf6":"#64748b"},c=[{selector:"node",style:{label:"data(label)","text-wrap":"wrap","text-max-width":"80px","text-valign":"center","text-halign":"center","background-color":f=>s(f.id()),color:"#fff","font-size":"11px","font-weight":"500",width:"90px",height:"50px",shape:"roundrectangle","border-width":f=>f.data("hasEvidence")?3:1,"border-color":f=>f.data("hasEvidence")?"#22c55e":"#475569",padding:"8px"}},{selector:"edge",style:{width:2,"line-color":"#475569","target-arrow-color":"#475569","target-arrow-shape":"triangle","curve-style":"bezier","arrow-scale":.8}},{selector:"node:selected",style:{"border-width":3,"border-color":"#fff"}}];Lr.useEffect(()=>{r.current&&(r.current.on("tap","node",f=>{l(f.target.id())}),r.current.on("tap",f=>{f.target===r.current&&l(null)}))},[]);const d=f=>{if(!t||!t[f])return null;const v=t[f],g=Jp[f]||{};return Object.entries(v).sort((p,E)=>E[1]-p[1]).map(([p,E])=>({state:p,label:g[p]||p,prob:E*100}))};return U.jsxs("div",{className:"h-full flex flex-col bg-slate-800/50 rounded-xl border border-slate-700",children:[U.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[U.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[U.jsx("span",{className:"text-2xl",children:""}),"Bayesian Network"]}),U.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Watch beliefs update as you provide preferences"})]}),U.jsxs("div",{className:"px-4 py-2 border-b border-slate-700 flex gap-4 text-xs",children:[U.jsxs("span",{className:"flex items-center gap-1",children:[U.jsx("span",{className:"w-3 h-3 rounded bg-blue-500"}),U.jsx("span",{className:"text-slate-400",children:"Input"})]}),U.jsxs("span",{className:"flex items-center gap-1",children:[U.jsx("span",{className:"w-3 h-3 rounded bg-amber-500"}),U.jsx("span",{className:"text-slate-400",children:"Inferred"})]}),U.jsxs("span",{className:"flex items-center gap-1",children:[U.jsx("span",{className:"w-3 h-3 rounded bg-purple-500"}),U.jsx("span",{className:"text-slate-400",children:"Output"})]}),U.jsxs("span",{className:"flex items-center gap-1",children:[U.jsx("span",{className:"w-3 h-3 rounded border-2 border-green-500"}),U.jsx("span",{className:"text-slate-400",children:"Evidence set"})]})]}),U.jsxs("div",{className:"flex-1 relative",children:[U.jsx(iO,{elements:u,stylesheet:c,cy:f=>{r.current=f},style:{width:"100%",height:"100%"},layout:{name:"preset"},userZoomingEnabled:!1,userPanningEnabled:!0,boxSelectionEnabled:!1}),n&&t&&t[n]&&U.jsxs("div",{className:"absolute bottom-4 left-4 right-4 bg-slate-900 rounded-lg p-4 border border-slate-600 shadow-xl",children:[U.jsxs("div",{className:"flex justify-between items-start mb-3",children:[U.jsx("h3",{className:"font-semibold text-white",children:Dp.find(f=>f.id===n)?.label||n}),U.jsx("button",{onClick:()=>l(null),className:"text-slate-400 hover:text-white",children:""})]}),U.jsx("div",{className:"space-y-2",children:d(n)?.map(({state:f,label:v,prob:g})=>U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("div",{className:"w-24 text-xs text-slate-400 truncate",title:v,children:v}),U.jsx("div",{className:"flex-1 h-4 bg-slate-700 rounded-full overflow-hidden",children:U.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-400 prob-bar transition-all duration-500",style:{width:`${g}%`}})}),U.jsxs("div",{className:"w-12 text-right text-xs text-slate-300",children:[g.toFixed(1),"%"]})]},f))})]})]})]})}function sO({recommendations:t,previousScores:e}){const r=Lr.useMemo(()=>{const u={};return t.forEach(s=>{e[s.id]!==void 0&&Math.abs(s.score-e[s.id])>1&&(u[s.id]=!0)}),u},[t,e]),n=u=>u>=70?"text-green-400":u>=50?"text-yellow-400":"text-orange-400",l=u=>u>=70?"bg-green-500":u>=50?"bg-yellow-500":"bg-orange-500";return U.jsxs("div",{className:"h-full flex flex-col bg-slate-800/50 rounded-xl border border-slate-700",children:[U.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[U.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[U.jsx("span",{className:"text-2xl",children:""}),"Top Recommendations"]}),U.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Bikes ranked by Bayesian match score"})]}),U.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:t.map((u,s)=>U.jsxs("div",{className:`bike-card bg-slate-700/50 rounded-lg p-4 border border-slate-600 ${s===0?"ring-2 ring-blue-500":""}`,children:[U.jsxs("div",{className:"flex items-start gap-3",children:[U.jsx("div",{className:"text-3xl",children:u.image}),U.jsxs("div",{className:"flex-1 min-w-0",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("h3",{className:"font-semibold text-white truncate",children:u.name}),s===0&&U.jsx("span",{className:"px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:"Best Match"})]}),U.jsx("p",{className:"text-sm text-slate-400 mt-1 line-clamp-2",children:u.description}),U.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[U.jsx("span",{className:"px-2 py-0.5 bg-slate-600 text-slate-300 text-xs rounded",children:u.type}),U.jsxs("span",{className:"px-2 py-0.5 bg-slate-600 text-slate-300 text-xs rounded",children:["$",u.price.toLocaleString()]}),U.jsx("span",{className:"px-2 py-0.5 bg-slate-600 text-slate-300 text-xs rounded",children:u.specs.weight||u.specs.range||"N/A"})]})]}),U.jsxs("div",{className:"flex flex-col items-center",children:[U.jsxs("div",{className:`text-2xl font-bold ${n(u.score)} ${r[u.id]?"score-updated":""}`,children:[Math.round(u.score),"%"]}),U.jsx("div",{className:"text-xs text-slate-500",children:"match"}),U.jsx("div",{className:"w-12 h-2 bg-slate-600 rounded-full mt-1 overflow-hidden",children:U.jsx("div",{className:`h-full ${l(u.score)} transition-all duration-500`,style:{width:`${u.score}%`}})})]})]}),U.jsx("div",{className:"mt-3 pt-3 border-t border-slate-600 grid grid-cols-2 gap-2 text-xs",children:Object.entries(u.specs).map(([c,d])=>U.jsxs("div",{className:"flex justify-between",children:[U.jsxs("span",{className:"text-slate-500 capitalize",children:[c,":"]}),U.jsx("span",{className:"text-slate-300",children:d})]},c))})]},u.id))})]})}const oO={budget:{cheap:{BUDGET:"LOW"},affordable:{BUDGET:"LOW"},budget:{BUDGET:"LOW"},inexpensive:{BUDGET:"LOW"},"under 500":{BUDGET:"LOW"},"under 800":{BUDGET:"LOW"},"mid-range":{BUDGET:"MEDIUM"},"mid range":{BUDGET:"MEDIUM"},moderate:{BUDGET:"MEDIUM"},"around 1000":{BUDGET:"MEDIUM"},"around 1500":{BUDGET:"MEDIUM"},premium:{BUDGET:"HIGH"},expensive:{BUDGET:"HIGH"},"high-end":{BUDGET:"HIGH"},"high end":{BUDGET:"HIGH"},"money is no object":{BUDGET:"HIGH"},best:{BUDGET:"HIGH"},"top of the line":{BUDGET:"HIGH"}},experience:{beginner:{EXPERIENCE:"BEGINNER"},"new to cycling":{EXPERIENCE:"BEGINNER"},"first bike":{EXPERIENCE:"BEGINNER"},"never ridden":{EXPERIENCE:"BEGINNER"},"starting out":{EXPERIENCE:"BEGINNER"},learning:{EXPERIENCE:"BEGINNER"},"some experience":{EXPERIENCE:"INTERMEDIATE"},intermediate:{EXPERIENCE:"INTERMEDIATE"},"casual rider":{EXPERIENCE:"INTERMEDIATE"},"ride occasionally":{EXPERIENCE:"INTERMEDIATE"},experienced:{EXPERIENCE:"ADVANCED"},advanced:{EXPERIENCE:"ADVANCED"},"serious cyclist":{EXPERIENCE:"ADVANCED"},competitive:{EXPERIENCE:"ADVANCED"},racing:{EXPERIENCE:"ADVANCED"}},terrain:{road:{TERRAIN:"ROAD"},pavement:{TERRAIN:"ROAD"},streets:{TERRAIN:"ROAD"},city:{TERRAIN:"ROAD"},urban:{TERRAIN:"ROAD"},"smooth surfaces":{TERRAIN:"ROAD"},mixed:{TERRAIN:"MIXED"},variety:{TERRAIN:"MIXED"},everything:{TERRAIN:"MIXED"},"bike paths":{TERRAIN:"MIXED"},"gravel paths":{TERRAIN:"MIXED"},"some trails":{TERRAIN:"MIXED"},"off-road":{TERRAIN:"OFFROAD"},offroad:{TERRAIN:"OFFROAD"},trails:{TERRAIN:"OFFROAD"},mountain:{TERRAIN:"OFFROAD"},dirt:{TERRAIN:"OFFROAD"},forest:{TERRAIN:"OFFROAD"},technical:{TERRAIN:"OFFROAD"}},useCase:{commute:{USE_CASE:"COMMUTE"},commuting:{USE_CASE:"COMMUTE"},work:{USE_CASE:"COMMUTE"},daily:{USE_CASE:"COMMUTE"},transportation:{USE_CASE:"COMMUTE"},"getting around":{USE_CASE:"COMMUTE"},fitness:{USE_CASE:"FITNESS"},exercise:{USE_CASE:"FITNESS"},workout:{USE_CASE:"FITNESS"},cardio:{USE_CASE:"FITNESS"},"get in shape":{USE_CASE:"FITNESS"},"lose weight":{USE_CASE:"FITNESS"},recreation:{USE_CASE:"RECREATION"},fun:{USE_CASE:"RECREATION"},weekend:{USE_CASE:"RECREATION"},leisure:{USE_CASE:"RECREATION"},casual:{USE_CASE:"RECREATION"},"family rides":{USE_CASE:"RECREATION"},sport:{USE_CASE:"SPORT"},racing:{USE_CASE:"SPORT"},competition:{USE_CASE:"SPORT"},performance:{USE_CASE:"SPORT"},fast:{USE_CASE:"SPORT"},speed:{USE_CASE:"SPORT"}},physical:{"bad knees":{PHYSICAL_CONDITION:"LIMITED"},"back problems":{PHYSICAL_CONDITION:"LIMITED"},"back pain":{PHYSICAL_CONDITION:"LIMITED"},older:{PHYSICAL_CONDITION:"LIMITED"},senior:{PHYSICAL_CONDITION:"LIMITED"},"limited mobility":{PHYSICAL_CONDITION:"LIMITED"},"health issues":{PHYSICAL_CONDITION:"LIMITED"},recovering:{PHYSICAL_CONDITION:"LIMITED"},"easy on joints":{PHYSICAL_CONDITION:"LIMITED"},"comfortable position":{PHYSICAL_CONDITION:"LIMITED"},average:{PHYSICAL_CONDITION:"AVERAGE"},normal:{PHYSICAL_CONDITION:"AVERAGE"},"okay shape":{PHYSICAL_CONDITION:"AVERAGE"},"decent shape":{PHYSICAL_CONDITION:"AVERAGE"},fit:{PHYSICAL_CONDITION:"FIT"},athletic:{PHYSICAL_CONDITION:"FIT"},strong:{PHYSICAL_CONDITION:"FIT"},"good shape":{PHYSICAL_CONDITION:"FIT"},active:{PHYSICAL_CONDITION:"FIT"},sporty:{PHYSICAL_CONDITION:"FIT"}},location:{hills:{PHYSICAL_CONDITION:"LIMITED",TERRAIN:"MIXED"},hilly:{TERRAIN:"MIXED"},flat:{TERRAIN:"ROAD"},"san francisco":{TERRAIN:"MIXED"},seattle:{TERRAIN:"MIXED"},amsterdam:{TERRAIN:"ROAD"},colorado:{TERRAIN:"OFFROAD"}}};function cO(t){const e=t.toLowerCase(),r={},n=[];for(const[l,u]of Object.entries(oO))for(const[s,c]of Object.entries(u))e.includes(s)&&(Object.assign(r,c),n.push({category:l,keyword:s,mapping:c}));return{evidence:r,matched:n}}function fO(t,e){if(e.length===0)return{text:"I understand you're looking for a bike. Could you tell me more about how you plan to use it? For example: commuting, fitness, trails, or recreation?",understood:[]};const r=[];if(t.BUDGET){const l={LOW:"a budget-friendly option",MEDIUM:"a mid-range option",HIGH:"a premium option"}[t.BUDGET];r.push(`you're looking for ${l}`)}if(t.TERRAIN){const l={ROAD:"primarily on paved roads",MIXED:"on mixed terrain",OFFROAD:"on trails and off-road"}[t.TERRAIN];r.push(`you'll be riding ${l}`)}if(t.USE_CASE){const l={COMMUTE:"for commuting",FITNESS:"for fitness",RECREATION:"for recreational riding",SPORT:"for sport/performance"}[t.USE_CASE];r.push(`the bike is ${l}`)}if(t.PHYSICAL_CONDITION){const l={LIMITED:"comfort and ease are important",AVERAGE:"you have average fitness",FIT:"you're in good physical shape"}[t.PHYSICAL_CONDITION];r.push(l)}if(t.EXPERIENCE){const l={BEGINNER:"you're new to cycling",INTERMEDIATE:"you have some cycling experience",ADVANCED:"you're an experienced cyclist"}[t.EXPERIENCE];r.push(l)}return{text:`Got it! I understand that ${r.join(", ")}. Let me update the recommendations based on this.`,understood:r}}const dO=[{trigger:["beginner","first bike","starting"],response:"For beginners, I'd recommend the **Trek FX 2** - it's a great all-around hybrid bike that's easy to handle. Perfect for someone just starting out!",issue:"Recommends specific model that may not be in stock or best match for actual needs"},{trigger:["commute","work","city"],response:"For city commuting, the **Specialized Sirrus 3.0** is excellent! It has a comfortable upright position and comes with fenders and a rack. Around $1,100.",issue:"Assumes price range, doesn't consider terrain or physical condition"},{trigger:["cheap","budget","affordable"],response:"I'd suggest checking out the **Giant Escape 3** at $450 or the **Schwinn Discover Hybrid** at $350. Both are solid budget choices!",issue:"May recommend bikes that don't match user's actual use case"},{trigger:["hills","hilly"],response:"For hilly terrain, you'll want something with a wide gear range. The **Cannondale Quick 4** has excellent climbing gears!",issue:"Doesn't consider if user might benefit from e-bike based on their fitness"},{trigger:["back","knee","comfort"],response:"If comfort is key, look for bikes with an upright position like the **Electra Townie**. They're very easy on the back and joints!",issue:"Generic recommendation without considering budget or intended use"}];function vO(t){const e=t.toLowerCase();for(const r of dO)if(r.trigger.some(n=>e.includes(n)))return r;return{response:"Based on what you've described, I'd recommend a good hybrid bike like the **Giant Escape** series. They're versatile and work well for most riders!",issue:"Generic response that doesn't account for individual preferences"}}function hO({userInput:t,showComparison:e}){if(!e||!t)return U.jsxs("div",{className:"h-full flex flex-col bg-slate-800/50 rounded-xl border border-slate-700",children:[U.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[U.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[U.jsx("span",{className:"text-2xl",children:""}),"LLM Only (Comparison)"]}),U.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"See what happens without Bayesian reasoning"})]}),U.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:U.jsx("p",{className:"text-slate-500 text-center text-sm",children:"Start a conversation to see how an LLM-only approach compares"})})]});const r=vO(t);return U.jsxs("div",{className:"h-full flex flex-col bg-slate-800/50 rounded-xl border border-slate-700",children:[U.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[U.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[U.jsx("span",{className:"text-2xl",children:""}),"LLM Only (Comparison)"]}),U.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Without Bayesian network grounding"})]}),U.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[U.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:[U.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[U.jsx("span",{className:"text-lg",children:""}),U.jsx("span",{className:"text-sm font-medium text-orange-400",children:"Generic LLM Response"})]}),U.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:r.response})]}),U.jsx("div",{className:"bg-red-900/30 rounded-lg p-4 border border-red-800/50",children:U.jsxs("div",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-lg",children:""}),U.jsxs("div",{children:[U.jsx("h4",{className:"text-sm font-medium text-red-400",children:"Potential Issue"}),U.jsx("p",{className:"text-sm text-red-300/80 mt-1",children:r.issue})]})]})}),U.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4 border border-slate-600",children:[U.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Why Bayesian + LLM is better:"}),U.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-green-400",children:""}),U.jsxs("span",{children:["Recommendations based on ",U.jsx("strong",{className:"text-slate-300",children:"actual inventory"})]})]}),U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-green-400",children:""}),U.jsxs("span",{children:["Confidence scores show ",U.jsx("strong",{className:"text-slate-300",children:"how well each bike matches"})]})]}),U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-green-400",children:""}),U.jsxs("span",{children:["Considers ",U.jsx("strong",{className:"text-slate-300",children:"multiple factors simultaneously"})]})]}),U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-green-400",children:""}),U.jsxs("span",{children:["Handles ",U.jsx("strong",{className:"text-slate-300",children:"uncertainty and partial information"})]})]}),U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-green-400",children:""}),U.jsxs("span",{children:["Updates beliefs ",U.jsx("strong",{className:"text-slate-300",children:"as you provide more info"})]})]})]})]}),U.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4 border border-slate-600",children:[U.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"LLM-only limitations:"}),U.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-red-400",children:""}),U.jsxs("span",{children:["May recommend ",U.jsx("strong",{className:"text-red-300",children:"non-existent products"})]})]}),U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-red-400",children:""}),U.jsxs("span",{children:[U.jsx("strong",{className:"text-red-300",children:"No confidence scores"})," - just yes/no recommendations"]})]}),U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-red-400",children:""}),U.jsxs("span",{children:["Can't properly weigh ",U.jsx("strong",{className:"text-red-300",children:"trade-offs"})]})]}),U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-red-400",children:""}),U.jsxs("span",{children:["Generic responses that ",U.jsx("strong",{className:"text-red-300",children:"ignore nuance"})]})]})]})]})]})]})}function gO({posteriors:t,evidence:e}){const r=["BIKE_TYPE","SUSPENSION","PRICE_RANGE","COMFORT_LEVEL"],n=l=>({BIKE_TYPE:"bg-amber-500",SUSPENSION:"bg-purple-500",PRICE_RANGE:"bg-green-500",COMFORT_LEVEL:"bg-pink-500"})[l]||"bg-blue-500";return t?U.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700 p-4",children:[U.jsxs("h3",{className:"text-sm font-semibold text-white mb-4 flex items-center gap-2",children:[U.jsx("span",{children:""}),"Inferred Probabilities"]}),U.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.map(l=>{const u=t[l],s=Jp[l]||{};if(!u)return null;const c=Object.entries(u).sort((d,f)=>f[1]-d[1]);return U.jsxs("div",{className:"space-y-2",children:[U.jsx("h4",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:l.replace("_"," ")}),U.jsx("div",{className:"space-y-1",children:c.map(([d,f])=>U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("div",{className:"w-20 text-xs text-slate-400 truncate",title:s[d]||d,children:s[d]||d}),U.jsx("div",{className:"flex-1 h-3 bg-slate-700 rounded-full overflow-hidden",children:U.jsx("div",{className:`h-full ${n(l)} transition-all duration-500 prob-bar`,style:{width:`${f*100}%`}})}),U.jsxs("div",{className:"w-10 text-right text-xs text-slate-500",children:[(f*100).toFixed(0),"%"]})]},d))})]},l)})}),e&&Object.keys(e).length>0&&U.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[U.jsx("h4",{className:"text-xs font-medium text-slate-400 mb-2",children:"Current Evidence:"}),U.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(e).map(([l,u])=>U.jsxs("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs border border-green-500/30",children:[l,": ",Jp[l]?.[u]||u]},l))})]})]}):null}const ma={rain:.2,sprinkler:.4},wo={"rain:true,sprinkler:true":.99,"rain:true,sprinkler:false":.9,"rain:false,sprinkler:true":.8,"rain:false,sprinkler:false":.01};function pO(t){if(Object.keys(t).length===0){const s=wo["rain:true,sprinkler:true"]*ma.rain*ma.sprinkler+wo["rain:true,sprinkler:false"]*ma.rain*(1-ma.sprinkler)+wo["rain:false,sprinkler:true"]*(1-ma.rain)*ma.sprinkler+wo["rain:false,sprinkler:false"]*(1-ma.rain)*(1-ma.sprinkler);return{rain:ma.rain,sprinkler:ma.sprinkler,wetGrass:s}}const e=[{rain:!0,sprinkler:!0},{rain:!0,sprinkler:!1},{rain:!1,sprinkler:!0},{rain:!1,sprinkler:!1}];let r=0,n=0,l=0,u=0;for(const s of e){let c=!0;if("rain"in t&&t.rain!==s.rain&&(c=!1),"sprinkler"in t&&t.sprinkler!==s.sprinkler&&(c=!1),!c)continue;const d=s.rain?ma.rain:1-ma.rain,f=s.sprinkler?ma.sprinkler:1-ma.sprinkler,v=`rain:${s.rain},sprinkler:${s.sprinkler}`,g=wo[v];let p;"wetGrass"in t?p=t.wetGrass?g:1-g:p=1;const E=d*f*p;r+=E,s.rain&&(n+=E),s.sprinkler&&(l+=E),"wetGrass"in t||(u+=d*f*g)}return r===0&&(r=1),{rain:n/r,sprinkler:l/r,wetGrass:"wetGrass"in t?t.wetGrass?1:0:u/r}}function Op({label:t,prob:e,color:r,isEvidence:n}){const l=Math.round(e*100);return U.jsxs("div",{className:"mb-3",children:[U.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[U.jsxs("span",{className:`font-medium ${n?"text-yellow-300":"text-slate-300"}`,children:[t," ",n&&U.jsx("span",{className:"text-xs",children:"(observed)"})]}),U.jsxs("span",{className:`font-mono ${n?"text-yellow-300":"text-white"}`,children:[l,"%"]})]}),U.jsx("div",{className:"h-4 bg-slate-700 rounded-full overflow-hidden",children:U.jsx("div",{className:`h-full ${r} transition-all duration-500 ease-out`,style:{width:`${l}%`}})})]})}function Mp({label:t,emoji:e,isTrue:r,isFalse:n,onClick:l,color:u}){let s="bg-slate-700 hover:bg-slate-600",c="text-slate-300",d="";return r?(s=`${u} hover:opacity-90`,c="text-white",d="ring-2 ring-white/50"):n&&(s="bg-slate-800 hover:bg-slate-700",c="text-slate-500",d="ring-2 ring-red-500/50"),U.jsxs("button",{onClick:l,className:`${s} ${c} ${d} px-4 py-3 rounded-xl transition-all duration-200 flex flex-col items-center gap-1 min-w-[100px]`,children:[U.jsx("span",{className:"text-2xl",children:e}),U.jsx("span",{className:"text-sm font-medium",children:t}),U.jsx("span",{className:"text-xs opacity-70",children:r?"Yes":n?"No":"Unknown"})]})}function mO(){const[t,e]=Lr.useState({}),r=pO(t),n=Lr.useCallback(c=>{e(d=>{const f=d[c];if(f===void 0)return{...d,[c]:!0};if(f===!0)return{...d,[c]:!1};{const v={...d};return delete v[c],v}})},[]),l=()=>e({}),s=(()=>{const c=t;return Object.keys(c).length===0?{title:" No observations yet",text:"Click on the nodes above to observe whether it rained, whether the sprinkler was on, or whether the grass is wet. Watch how the probabilities update!",highlight:null}:c.wetGrass===!0&&!("rain"in c)&&!("sprinkler"in c)?{title:" Backward reasoning (diagnosis)",text:`The grass is wet! Both rain (${Math.round(r.rain*100)}%) and sprinkler (${Math.round(r.sprinkler*100)}%) become more likely as potential causes. This is Bayesian inference going from effect to cause.`,highlight:"backward"}:c.wetGrass===!0&&c.rain===!0&&!("sprinkler"in c)?{title:" Explaining Away",text:`We see wet grass AND it rained. Now the sprinkler probability drops to ${Math.round(r.sprinkler*100)}%! Since rain explains the wet grass, we don't need the sprinkler as an explanation. This is called "explaining away."`,highlight:"explaining-away"}:c.rain===!0&&!("wetGrass"in c)&&!("sprinkler"in c)?{title:" Forward reasoning (prediction)",text:`It's raining! The probability of wet grass jumps to ${Math.round(r.wetGrass*100)}%. Notice the sprinkler probability is unchangedrain doesn't affect whether the sprinkler is on.`,highlight:"forward"}:c.sprinkler===!0&&!("wetGrass"in c)&&!("rain"in c)?{title:" Forward reasoning (prediction)",text:`The sprinkler is on! Wet grass probability rises to ${Math.round(r.wetGrass*100)}%. Rain probability is unchanged since the sprinkler doesn't cause rain.`,highlight:"forward"}:c.rain===!1&&c.wetGrass===!0?{title:" Process of elimination",text:`Wet grass but no rain? The sprinkler must be the cause! Its probability jumps to ${Math.round(r.sprinkler*100)}%. When one explanation is ruled out, the other becomes more certain.`,highlight:"elimination"}:c.wetGrass===!1?{title:" Dry grass constrains possibilities",text:`The grass is dry. This makes both rain (${Math.round(r.rain*100)}%) and sprinkler (${Math.round(r.sprinkler*100)}%) less likely, since either would have made the grass wet.`,highlight:"constraint"}:{title:" Updated beliefs",text:`Given what you've observed, the network has updated all probabilities. Rain: ${Math.round(r.rain*100)}%, Sprinkler: ${Math.round(r.sprinkler*100)}%, Wet Grass: ${Math.round(r.wetGrass*100)}%.`,highlight:null}})();return U.jsxs("div",{className:"p-6 bg-gradient-to-br from-indigo-900/30 to-slate-900/50 rounded-xl border border-indigo-700/50",children:[U.jsxs("div",{className:"flex items-center justify-between mb-4",children:[U.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[U.jsx("span",{children:""}),'Try It: The Classic "Wet Grass" Problem']}),U.jsx("button",{onClick:l,className:"text-sm px-3 py-1 bg-slate-700 hover:bg-slate-600 rounded-lg text-slate-300 transition-colors",children:"Reset"})]}),U.jsxs("div",{className:"mb-6 p-4 bg-slate-800/60 rounded-lg border border-slate-700",children:[U.jsxs("h4",{className:"text-white font-semibold mb-2 flex items-center gap-2",children:[U.jsx("span",{children:""})," The Scenario"]}),U.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed mb-3",children:["You wake up and look outside: ",U.jsx("strong",{className:"text-green-400",children:"the grass is wet"}),". Why? There are two possible causes: it might have ",U.jsx("strong",{className:"text-blue-400",children:"rained"})," overnight, or the ",U.jsx("strong",{className:"text-cyan-400",children:"sprinkler"})," might have run. Maybe both!"]}),U.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed",children:["This simple scenario demonstrates the core power of Bayesian networks:",U.jsx("em",{className:"text-purple-300",children:" reasoning backwards from effects to causes"}),', and understanding how one explanation can "explain away" another.']})]}),U.jsxs("div",{className:"mb-6 p-4 bg-blue-900/30 rounded-lg border border-blue-700/50",children:[U.jsxs("h4",{className:"text-blue-300 font-semibold mb-2 flex items-center gap-2",children:[U.jsx("span",{children:""})," How to Use This Demo"]}),U.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[U.jsxs("div",{children:[U.jsxs("p",{className:"text-slate-300 mb-2",children:[U.jsx("strong",{children:"Click the nodes"})," to set what you observe:"]}),U.jsxs("ul",{className:"text-slate-400 space-y-1 ml-4",children:[U.jsxs("li",{children:[" ",U.jsx("span",{className:"text-slate-300",children:"Gray"})," = Unknown (no observation)"]}),U.jsxs("li",{children:[" ",U.jsx("span",{className:"text-green-400",children:"Colored"})," = Yes (you observed this)"]}),U.jsxs("li",{children:[" ",U.jsx("span",{className:"text-red-400",children:"Dark + red ring"})," = No (definitely didn't happen)"]})]})]}),U.jsxs("div",{children:[U.jsx("p",{className:"text-slate-300 mb-2",children:U.jsx("strong",{children:"Try these experiments:"})}),U.jsxs("ol",{className:"text-slate-400 space-y-1 ml-4 list-decimal list-inside",children:[U.jsxs("li",{children:["Click ",U.jsx("span",{className:"text-green-400",children:"Wet Grass  Yes"})," (watch causes increase!)"]}),U.jsxs("li",{children:["Then click ",U.jsx("span",{className:"text-blue-400",children:"Rain  Yes"})," (watch sprinkler drop!)"]}),U.jsxs("li",{children:["Reset and try ",U.jsx("span",{className:"text-green-400",children:"Wet Grass  Yes"})," + ",U.jsx("span",{className:"text-blue-400",children:"Rain  No"})]})]})]})]})]}),U.jsxs("div",{className:"mb-6",children:[U.jsxs("div",{className:"text-center mb-3",children:[U.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Interactive Bayesian Network"}),U.jsx("p",{className:"text-slate-400 text-xs mt-1",children:"Click nodes to toggle observations"})]}),U.jsxs("div",{className:"flex flex-col items-center gap-4 p-4 bg-slate-800/30 rounded-lg border border-slate-700/50",children:[U.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Possible Causes"}),U.jsxs("div",{className:"flex gap-8",children:[U.jsx(Mp,{label:"Rain",emoji:"",isTrue:t.rain===!0,isFalse:t.rain===!1,isUnknown:!("rain"in t),onClick:()=>n("rain"),color:"bg-blue-600"}),U.jsx(Mp,{label:"Sprinkler",emoji:"",isTrue:t.sprinkler===!0,isFalse:t.sprinkler===!1,isUnknown:!("sprinkler"in t),onClick:()=>n("sprinkler"),color:"bg-cyan-600"})]}),U.jsxs("div",{className:"flex items-center gap-4 text-slate-500",children:[U.jsx("svg",{className:"w-6 h-6 -rotate-45",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})}),U.jsx("span",{className:"text-xs text-slate-500",children:"can cause"}),U.jsx("svg",{className:"w-6 h-6 rotate-45",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:U.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 14l-7 7m0 0l-7-7m7 7V3"})})]}),U.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Observable Effect"}),U.jsx(Mp,{label:"Wet Grass",emoji:"",isTrue:t.wetGrass===!0,isFalse:t.wetGrass===!1,isUnknown:!("wetGrass"in t),onClick:()=>n("wetGrass"),color:"bg-green-600"})]})]}),U.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[U.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4",children:[U.jsx("h4",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Current Probabilities"}),U.jsx(Op,{label:"Rain",prob:r.rain,color:"bg-blue-500",isEvidence:"rain"in t}),U.jsx(Op,{label:"Sprinkler",prob:r.sprinkler,color:"bg-cyan-500",isEvidence:"sprinkler"in t}),U.jsx(Op,{label:"Wet Grass",prob:r.wetGrass,color:"bg-green-500",isEvidence:"wetGrass"in t})]}),U.jsxs("div",{className:`rounded-lg p-4 border ${s.highlight==="explaining-away"?"bg-amber-900/30 border-amber-600/50":s.highlight==="backward"?"bg-purple-900/30 border-purple-600/50":s.highlight==="forward"?"bg-blue-900/30 border-blue-600/50":s.highlight==="elimination"?"bg-green-900/30 border-green-600/50":"bg-slate-800/50 border-slate-700"}`,children:[U.jsx("h4",{className:"font-semibold text-white mb-2",children:s.title}),U.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.text})]})]}),U.jsxs("div",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-3 text-xs",children:[U.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3 border border-slate-700/50",children:[U.jsx("span",{className:"text-purple-400 font-medium",children:"Backward Reasoning:"}),U.jsx("span",{className:"text-slate-400 ml-1",children:"Observe wet grass  infer it probably rained"})]}),U.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3 border border-slate-700/50",children:[U.jsx("span",{className:"text-blue-400 font-medium",children:"Forward Reasoning:"}),U.jsx("span",{className:"text-slate-400 ml-1",children:"Know it's raining  predict wet grass"})]}),U.jsxs("div",{className:"bg-slate-800/30 rounded-lg p-3 border border-slate-700/50",children:[U.jsx("span",{className:"text-amber-400 font-medium",children:"Explaining Away:"}),U.jsx("span",{className:"text-slate-400 ml-1",children:"Rain explains wet grass  sprinkler less likely"})]})]})]})}var ad={exports:{}},yO=ad.exports,$E;function bO(){return $E||($E=1,(function(t,e){(function(r,n){t.exports=n()})(typeof self<"u"?self:yO,function(){return(function(r){var n={};function l(u){if(n[u])return n[u].exports;var s=n[u]={i:u,l:!1,exports:{}};return r[u].call(s.exports,s,s.exports,l),s.l=!0,s.exports}return l.m=r,l.c=n,l.d=function(u,s,c){l.o(u,s)||Object.defineProperty(u,s,{enumerable:!0,get:c})},l.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},l.t=function(u,s){if(1&s&&(u=l(u)),8&s||4&s&&typeof u=="object"&&u&&u.__esModule)return u;var c=Object.create(null);if(l.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:u}),2&s&&typeof u!="string")for(var d in u)l.d(c,d,(function(f){return u[f]}).bind(null,d));return c},l.n=function(u){var s=u&&u.__esModule?function(){return u.default}:function(){return u};return l.d(s,"a",s),s},l.o=function(u,s){return Object.prototype.hasOwnProperty.call(u,s)},l.p="",l(l.s=4)})([function(r,n,l){l.r(n);var u=function(){return!1},s=function(){return!0},c={"@@functional/placeholder":!0};function d(m){return m!=null&&typeof m=="object"&&m["@@functional/placeholder"]===!0}function f(m){return function x(A){return arguments.length===0||d(A)?x:m.apply(this,arguments)}}function v(m){return function x(A,z){switch(arguments.length){case 0:return x;case 1:return d(A)?x:f(function(K){return m(A,K)});default:return d(A)&&d(z)?x:d(A)?f(function(K){return m(K,z)}):d(z)?f(function(K){return m(A,K)}):m(A,z)}}}var g=v(function(m,x){return Number(m)+Number(x)});function p(m,x){var A;x=x||[];var z=(m=m||[]).length,K=x.length,re=[];for(A=0;A<z;)re[re.length]=m[A],A+=1;for(A=0;A<K;)re[re.length]=x[A],A+=1;return re}function E(m,x){switch(m){case 0:return function(){return x.apply(this,arguments)};case 1:return function(A){return x.apply(this,arguments)};case 2:return function(A,z){return x.apply(this,arguments)};case 3:return function(A,z,K){return x.apply(this,arguments)};case 4:return function(A,z,K,re){return x.apply(this,arguments)};case 5:return function(A,z,K,re,Ae){return x.apply(this,arguments)};case 6:return function(A,z,K,re,Ae,He){return x.apply(this,arguments)};case 7:return function(A,z,K,re,Ae,He,Et){return x.apply(this,arguments)};case 8:return function(A,z,K,re,Ae,He,Et,Xt){return x.apply(this,arguments)};case 9:return function(A,z,K,re,Ae,He,Et,Xt,Yr){return x.apply(this,arguments)};case 10:return function(A,z,K,re,Ae,He,Et,Xt,Yr,Xa){return x.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function b(m,x,A){return function(){for(var z=[],K=0,re=m,Ae=0;Ae<x.length||K<arguments.length;){var He;Ae<x.length&&(!d(x[Ae])||K>=arguments.length)?He=x[Ae]:(He=arguments[K],K+=1),z[Ae]=He,d(He)||(re-=1),Ae+=1}return re<=0?A.apply(this,z):E(re,b(m,z,A))}}var C=v(function(m,x){return m===1?f(x):E(m,b(m,[],x))}),S=f(function(m){return C(m.length,function(){var x=0,A=arguments[0],z=arguments[arguments.length-1],K=Array.prototype.slice.call(arguments,0);return K[0]=function(){var re=A.apply(this,p(arguments,[x,z]));return x+=1,re},m.apply(this,K)})});function T(m){return function x(A,z,K){switch(arguments.length){case 0:return x;case 1:return d(A)?x:v(function(re,Ae){return m(A,re,Ae)});case 2:return d(A)&&d(z)?x:d(A)?v(function(re,Ae){return m(re,z,Ae)}):d(z)?v(function(re,Ae){return m(A,re,Ae)}):f(function(re){return m(A,z,re)});default:return d(A)&&d(z)&&d(K)?x:d(A)&&d(z)?v(function(re,Ae){return m(re,Ae,K)}):d(A)&&d(K)?v(function(re,Ae){return m(re,z,Ae)}):d(z)&&d(K)?v(function(re,Ae){return m(A,re,Ae)}):d(A)?f(function(re){return m(re,z,K)}):d(z)?f(function(re){return m(A,re,K)}):d(K)?f(function(re){return m(A,z,re)}):m(A,z,K)}}}var N=T(function(m,x,A){if(m>=A.length||m<-A.length)return A;var z=(m<0?A.length:0)+m,K=p(A);return K[z]=x(A[z]),K}),R=Array.isArray||function(m){return m!=null&&m.length>=0&&Object.prototype.toString.call(m)==="[object Array]"};function D(m){return m!=null&&typeof m["@@transducer/step"]=="function"}function O(m,x,A){return function(){if(arguments.length===0)return A();var z=Array.prototype.slice.call(arguments,0),K=z.pop();if(!R(K)){for(var re=0;re<m.length;){if(typeof K[m[re]]=="function")return K[m[re]].apply(K,z);re+=1}if(D(K))return x.apply(null,z)(K)}return A.apply(this,arguments)}}function I(m){return m&&m["@@transducer/reduced"]?m:{"@@transducer/value":m,"@@transducer/reduced":!0}}var M={init:function(){return this.xf["@@transducer/init"]()},result:function(m){return this.xf["@@transducer/result"](m)}},k=(function(){function m(x,A){this.xf=A,this.f=x,this.all=!0}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.all&&(x=this.xf["@@transducer/step"](x,!0)),this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.f(A)||(this.all=!1,x=I(this.xf["@@transducer/step"](x,!1))),x},m})(),j=v(O(["all"],v(function(m,x){return new k(m,x)}),function(m,x){for(var A=0;A<x.length;){if(!m(x[A]))return!1;A+=1}return!0})),_=v(function(m,x){return x>m?x:m});function P(m,x){for(var A=0,z=x.length,K=Array(z);A<z;)K[A]=m(x[A]),A+=1;return K}function L(m){return Object.prototype.toString.call(m)==="[object String]"}var H=f(function(m){return!!R(m)||!!m&&typeof m=="object"&&!L(m)&&(m.nodeType===1?!!m.length:m.length===0||m.length>0&&m.hasOwnProperty(0)&&m.hasOwnProperty(m.length-1))}),X=(function(){function m(x){this.f=x}return m.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},m.prototype["@@transducer/result"]=function(x){return x},m.prototype["@@transducer/step"]=function(x,A){return this.f(x,A)},m})();function Z(m){return new X(m)}var G=v(function(m,x){return E(m.length,function(){return m.apply(x,arguments)})});function F(m,x,A){for(var z=A.next();!z.done;){if((x=m["@@transducer/step"](x,z.value))&&x["@@transducer/reduced"]){x=x["@@transducer/value"];break}z=A.next()}return m["@@transducer/result"](x)}function W(m,x,A,z){return m["@@transducer/result"](A[z](G(m["@@transducer/step"],m),x))}var ee=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function te(m,x,A){if(typeof m=="function"&&(m=Z(m)),H(A))return(function(z,K,re){for(var Ae=0,He=re.length;Ae<He;){if((K=z["@@transducer/step"](K,re[Ae]))&&K["@@transducer/reduced"]){K=K["@@transducer/value"];break}Ae+=1}return z["@@transducer/result"](K)})(m,x,A);if(typeof A["fantasy-land/reduce"]=="function")return W(m,x,A,"fantasy-land/reduce");if(A[ee]!=null)return F(m,x,A[ee]());if(typeof A.next=="function")return F(m,x,A);if(typeof A.reduce=="function")return W(m,x,A,"reduce");throw new TypeError("reduce: list must be array or iterable")}var q=(function(){function m(x,A){this.xf=A,this.f=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){return this.xf["@@transducer/step"](x,this.f(A))},m})(),Q=v(function(m,x){return new q(m,x)});function J(m,x){return Object.prototype.hasOwnProperty.call(x,m)}var ie=Object.prototype.toString,oe=(function(){return ie.call(arguments)==="[object Arguments]"?function(m){return ie.call(m)==="[object Arguments]"}:function(m){return J("callee",m)}})(),he=!{toString:null}.propertyIsEnumerable("toString"),be=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Re=(function(){return arguments.propertyIsEnumerable("length")})(),ye=function(m,x){for(var A=0;A<m.length;){if(m[A]===x)return!0;A+=1}return!1},ne=f(typeof Object.keys!="function"||Re?function(m){if(Object(m)!==m)return[];var x,A,z=[],K=Re&&oe(m);for(x in m)!J(x,m)||K&&x==="length"||(z[z.length]=x);if(he)for(A=be.length-1;A>=0;)J(x=be[A],m)&&!ye(z,x)&&(z[z.length]=x),A-=1;return z}:function(m){return Object(m)!==m?[]:Object.keys(m)}),ue=v(O(["fantasy-land/map","map"],Q,function(m,x){switch(Object.prototype.toString.call(x)){case"[object Function]":return C(x.length,function(){return m.call(this,x.apply(this,arguments))});case"[object Object]":return te(function(A,z){return A[z]=m(x[z]),A},{},ne(x));default:return P(m,x)}})),fe=Number.isInteger||function(m){return m<<0===m},Ee=v(function(m,x){var A=m<0?x.length+m:m;return L(x)?x.charAt(A):x[A]}),De=v(function(m,x){return m.map(function(A){for(var z,K=x,re=0;re<A.length;){if(K==null)return;z=A[re],K=fe(z)?Ee(z,K):K[z],re+=1}return K})}),Le=v(function(m,x){return De([m],x)[0]}),lt=v(function(m,x){return Le([m],x)}),Qe=v(function(m,x){return ue(lt(m),x)}),je=T(te),Ke=f(function(m){return C(je(_,0,Qe("length",m)),function(){for(var x=0,A=m.length;x<A;){if(!m[x].apply(this,arguments))return!1;x+=1}return!0})}),Oe=f(function(m){return function(){return m}}),Ge=v(function(m,x){return m&&x}),Fe=(function(){function m(x,A){this.xf=A,this.f=x,this.any=!1}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.any||(x=this.xf["@@transducer/step"](x,!1)),this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.f(A)&&(this.any=!0,x=I(this.xf["@@transducer/step"](x,!0))),x},m})(),tt=v(O(["any"],v(function(m,x){return new Fe(m,x)}),function(m,x){for(var A=0;A<x.length;){if(m(x[A]))return!0;A+=1}return!1})),Ie=f(function(m){return C(je(_,0,Qe("length",m)),function(){for(var x=0,A=m.length;x<A;){if(m[x].apply(this,arguments))return!0;x+=1}return!1})}),at=v(function(m,x){return typeof x["fantasy-land/ap"]=="function"?x["fantasy-land/ap"](m):typeof m.ap=="function"?m.ap(x):typeof m=="function"?function(A){return m(A)(x(A))}:te(function(A,z){return p(A,ue(z,x))},[],m)});function ct(m,x){for(var A=0,z=x.length-(m-1),K=new Array(z>=0?z:0);A<z;)K[A]=Array.prototype.slice.call(x,A,A+m),A+=1;return K}var yt=(function(){function m(x,A){this.xf=A,this.pos=0,this.full=!1,this.acc=new Array(x)}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.acc=null,this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.store(A),this.full?this.xf["@@transducer/step"](x,this.getCopy()):x},m.prototype.store=function(x){this.acc[this.pos]=x,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},m.prototype.getCopy=function(){return p(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},m})(),dt=v(O([],v(function(m,x){return new yt(m,x)}),ct)),bt=v(function(m,x){return p(x,[m])}),We=v(function(m,x){return m.apply(this,x)}),ze=f(function(m){for(var x=ne(m),A=x.length,z=[],K=0;K<A;)z[K]=m[x[K]],K+=1;return z});function we(m,x){return ne(x).reduce(function(A,z){return A[z]=m(x[z]),A},{})}var Y=f(function m(x){return x=we(function(A){return typeof A=="function"?A:m(A)},x),C(je(_,0,Qe("length",ze(x))),function(){var A=arguments;return we(function(z){return We(z,A)},x)})}),se=v(function(m,x){return x(m)}),pe=T(function(m,x,A){var z=m(x),K=m(A);return z<K?-1:z>K?1:0}),ge=T(function(m,x,A){var z={};for(var K in A)z[K]=A[K];return z[m]=x,z}),Te=f(function(m){return m==null}),ke=T(function m(x,A,z){if(x.length===0)return A;var K=x[0];if(x.length>1){var re=!Te(z)&&J(K,z)?z[K]:fe(x[1])?[]:{};A=m(Array.prototype.slice.call(x,1),A,re)}if(fe(K)&&R(z)){var Ae=[].concat(z);return Ae[K]=A,Ae}return ge(K,A,z)}),Ne=v(function(m,x){switch(m){case 0:return function(){return x.call(this)};case 1:return function(A){return x.call(this,A)};case 2:return function(A,z){return x.call(this,A,z)};case 3:return function(A,z,K){return x.call(this,A,z,K)};case 4:return function(A,z,K,re){return x.call(this,A,z,K,re)};case 5:return function(A,z,K,re,Ae){return x.call(this,A,z,K,re,Ae)};case 6:return function(A,z,K,re,Ae,He){return x.call(this,A,z,K,re,Ae,He)};case 7:return function(A,z,K,re,Ae,He,Et){return x.call(this,A,z,K,re,Ae,He,Et)};case 8:return function(A,z,K,re,Ae,He,Et,Xt){return x.call(this,A,z,K,re,Ae,He,Et,Xt)};case 9:return function(A,z,K,re,Ae,He,Et,Xt,Yr){return x.call(this,A,z,K,re,Ae,He,Et,Xt,Yr)};case 10:return function(A,z,K,re,Ae,He,Et,Xt,Yr,Xa){return x.call(this,A,z,K,re,Ae,He,Et,Xt,Yr,Xa)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),Ue=f(function(m){return Ne(2,m)});function Be(m){var x=Object.prototype.toString.call(m);return x==="[object Function]"||x==="[object AsyncFunction]"||x==="[object GeneratorFunction]"||x==="[object AsyncGeneratorFunction]"}var Ye=v(function(m,x){var A=C(m,x);return C(m,function(){return te(at,ue(A,arguments[0]),Array.prototype.slice.call(arguments,1))})}),Je=f(function(m){return Ye(m.length,m)}),rt=v(function(m,x){return Be(m)?function(){return m.apply(this,arguments)&&x.apply(this,arguments)}:Je(Ge)(m,x)}),_e=f(function(m){return C(m.length,m)}),st=_e(function(m){return m.apply(this,Array.prototype.slice.call(arguments,1))});function nt(m){return function x(A){for(var z,K,re,Ae=[],He=0,Et=A.length;He<Et;){if(H(A[He]))for(re=0,K=(z=m?x(A[He]):A[He]).length;re<K;)Ae[Ae.length]=z[re],re+=1;else Ae[Ae.length]=A[He];He+=1}return Ae}}var Kt=function(m){var x=(function(A){return{"@@transducer/init":M.init,"@@transducer/result":function(z){return A["@@transducer/result"](z)},"@@transducer/step":function(z,K){var re=A["@@transducer/step"](z,K);return re["@@transducer/reduced"]?{"@@transducer/value":re,"@@transducer/reduced":!0}:re}}})(m);return{"@@transducer/init":M.init,"@@transducer/result":function(A){return x["@@transducer/result"](A)},"@@transducer/step":function(A,z){return H(z)?te(x,A,z):te(x,A,[z])}}},Tt=v(O(["fantasy-land/chain","chain"],v(function(m,x){return ue(m,Kt(x))}),function(m,x){return typeof x=="function"?function(A){return m(x(A))(A)}:nt(!1)(ue(m,x))})),wr=T(function(m,x,A){if(m>x)throw new Error("min must not be greater than max in clamp(min, max, value)");return A<m?m:A>x?x:A});function Gt(m){return new RegExp(m.source,(m.global?"g":"")+(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.sticky?"y":"")+(m.unicode?"u":""))}var Ht=f(function(m){return m===null?"Null":m===void 0?"Undefined":Object.prototype.toString.call(m).slice(8,-1)});function Ut(m,x,A,z){var K=function(re){for(var Ae=x.length,He=0;He<Ae;){if(m===x[He])return A[He];He+=1}for(var Et in x[He+1]=m,A[He+1]=re,m)re[Et]=z?Ut(m[Et],x,A,!0):m[Et];return re};switch(Ht(m)){case"Object":return K({});case"Array":return K([]);case"Date":return new Date(m.valueOf());case"RegExp":return Gt(m);default:return m}}var tr=f(function(m){return m!=null&&typeof m.clone=="function"?m.clone():Ut(m,[],[],!0)}),ia=f(function(m){return function(x,A){return m(x,A)?-1:m(A,x)?1:0}}),Vt=f(function(m){return!m}),la=Je(Vt);function dr(m,x){return function(){return x.call(this,m.apply(this,arguments))}}function Dt(m,x){return function(){var A=arguments.length;if(A===0)return x();var z=arguments[A-1];return R(z)||typeof z[m]!="function"?x.apply(this,arguments):z[m].apply(z,Array.prototype.slice.call(arguments,0,A-1))}}var St=T(Dt("slice",function(m,x,A){return Array.prototype.slice.call(A,m,x)})),Tr=f(Dt("tail",St(1,1/0)));function sr(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return E(arguments[0].length,je(dr,arguments[0],Tr(arguments)))}var Wt=f(function(m){return L(m)?m.split("").reverse().join(""):Array.prototype.slice.call(m,0).reverse()});function or(){if(arguments.length===0)throw new Error("compose requires at least one argument");return sr.apply(this,Wt(arguments))}function qa(){if(arguments.length===0)throw new Error("composeK requires at least one argument");var m=Array.prototype.slice.call(arguments),x=m.pop();return or(or.apply(this,ue(Tt,m)),x)}function vr(m,x){return function(){var A=this;return m.apply(A,arguments).then(function(z){return x.call(A,z)})}}function bn(){if(arguments.length===0)throw new Error("pipeP requires at least one argument");return E(arguments[0].length,je(vr,arguments[0],Tr(arguments)))}function tn(){if(arguments.length===0)throw new Error("composeP requires at least one argument");return bn.apply(this,Wt(arguments))}var Ga=Ee(0);function xa(m){return m}var wa=f(xa),rr=v(function(m,x){if(x.length<=0)return wa;var A=Ga(x),z=Tr(x);return E(A.length,function(){return te(function(K,re){return m.call(this,re,K)},A.apply(this,arguments),z)})}),Pl=v(function(m,x){return rr.apply(this,[m,Wt(x)])});function Ji(m){for(var x,A=[];!(x=m.next()).done;)A.push(x.value);return A}function hr(m,x,A){for(var z=0,K=A.length;z<K;){if(m(x,A[z]))return!0;z+=1}return!1}var Wr=typeof Object.is=="function"?Object.is:function(m,x){return m===x?m!==0||1/m==1/x:m!=m&&x!=x};function En(m,x,A,z){var K=Ji(m);function re(Ae,He){return xn(Ae,He,A.slice(),z.slice())}return!hr(function(Ae,He){return!hr(re,He,Ae)},Ji(x),K)}function xn(m,x,A,z){if(Wr(m,x))return!0;var K=Ht(m);if(K!==Ht(x)||m==null||x==null)return!1;if(typeof m["fantasy-land/equals"]=="function"||typeof x["fantasy-land/equals"]=="function")return typeof m["fantasy-land/equals"]=="function"&&m["fantasy-land/equals"](x)&&typeof x["fantasy-land/equals"]=="function"&&x["fantasy-land/equals"](m);if(typeof m.equals=="function"||typeof x.equals=="function")return typeof m.equals=="function"&&m.equals(x)&&typeof x.equals=="function"&&x.equals(m);switch(K){case"Arguments":case"Array":case"Object":if(typeof m.constructor=="function"&&(function(Yr){var Xa=String(Yr).match(/^function (\w*)/);return Xa==null?"":Xa[1]})(m.constructor)==="Promise")return m===x;break;case"Boolean":case"Number":case"String":if(typeof m!=typeof x||!Wr(m.valueOf(),x.valueOf()))return!1;break;case"Date":if(!Wr(m.valueOf(),x.valueOf()))return!1;break;case"Error":return m.name===x.name&&m.message===x.message;case"RegExp":if(m.source!==x.source||m.global!==x.global||m.ignoreCase!==x.ignoreCase||m.multiline!==x.multiline||m.sticky!==x.sticky||m.unicode!==x.unicode)return!1}for(var re=A.length-1;re>=0;){if(A[re]===m)return z[re]===x;re-=1}switch(K){case"Map":return m.size===x.size&&En(m.entries(),x.entries(),A.concat([m]),z.concat([x]));case"Set":return m.size===x.size&&En(m.values(),x.values(),A.concat([m]),z.concat([x]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var Ae=ne(m);if(Ae.length!==ne(x).length)return!1;var He=A.concat([m]),Et=z.concat([x]);for(re=Ae.length-1;re>=0;){var Xt=Ae[re];if(!J(Xt,x)||!xn(x[Xt],m[Xt],He,Et))return!1;re-=1}return!0}var Sr=v(function(m,x){return xn(m,x,[],[])});function jl(m,x,A){var z,K;if(typeof m.indexOf=="function")switch(typeof x){case"number":if(x===0){for(z=1/x;A<m.length;){if((K=m[A])===0&&1/K===z)return A;A+=1}return-1}if(x!=x){for(;A<m.length;){if(typeof(K=m[A])=="number"&&K!=K)return A;A+=1}return-1}return m.indexOf(x,A);case"string":case"boolean":case"function":case"undefined":return m.indexOf(x,A);case"object":if(x===null)return m.indexOf(x,A)}for(;A<m.length;){if(Sr(m[A],x))return A;A+=1}return-1}function $t(m,x){return jl(x,m,0)>=0}function Oa(m){return'"'+m.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var Mr=function(m){return(m<10?"0":"")+m},gr=typeof Date.prototype.toISOString=="function"?function(m){return m.toISOString()}:function(m){return m.getUTCFullYear()+"-"+Mr(m.getUTCMonth()+1)+"-"+Mr(m.getUTCDate())+"T"+Mr(m.getUTCHours())+":"+Mr(m.getUTCMinutes())+":"+Mr(m.getUTCSeconds())+"."+(m.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function _r(m){return function(){return!m.apply(this,arguments)}}function el(m,x){for(var A=0,z=x.length,K=[];A<z;)m(x[A])&&(K[K.length]=x[A]),A+=1;return K}function wn(m){return Object.prototype.toString.call(m)==="[object Object]"}var ql=(function(){function m(x,A){this.xf=A,this.f=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){return this.f(A)?this.xf["@@transducer/step"](x,A):x},m})(),ni=v(O(["filter"],v(function(m,x){return new ql(m,x)}),function(m,x){return wn(x)?te(function(A,z){return m(x[z])&&(A[z]=x[z]),A},{},ne(x)):el(m,x)})),Gl=v(function(m,x){return ni(_r(m),x)});function Fr(m,x){var A=function(re){var Ae=x.concat([m]);return $t(re,Ae)?"<Circular>":Fr(re,Ae)},z=function(re,Ae){return P(function(He){return Oa(He)+": "+A(re[He])},Ae.slice().sort())};switch(Object.prototype.toString.call(m)){case"[object Arguments]":return"(function() { return arguments; }("+P(A,m).join(", ")+"))";case"[object Array]":return"["+P(A,m).concat(z(m,Gl(function(re){return/^\d+$/.test(re)},ne(m)))).join(", ")+"]";case"[object Boolean]":return typeof m=="object"?"new Boolean("+A(m.valueOf())+")":m.toString();case"[object Date]":return"new Date("+(isNaN(m.valueOf())?A(NaN):Oa(gr(m)))+")";case"[object Null]":return"null";case"[object Number]":return typeof m=="object"?"new Number("+A(m.valueOf())+")":1/m==-1/0?"-0":m.toString(10);case"[object String]":return typeof m=="object"?"new String("+A(m.valueOf())+")":Oa(m);case"[object Undefined]":return"undefined";default:if(typeof m.toString=="function"){var K=m.toString();if(K!=="[object Object]")return K}return"{"+z(m,ne(m)).join(", ")+"}"}}var rn=f(function(m){return Fr(m,[])}),Hl=v(function(m,x){if(R(m)){if(R(x))return m.concat(x);throw new TypeError(rn(x)+" is not an array")}if(L(m)){if(L(x))return m+x;throw new TypeError(rn(x)+" is not a string")}if(m!=null&&Be(m["fantasy-land/concat"]))return m["fantasy-land/concat"](x);if(m!=null&&Be(m.concat))return m.concat(x);throw new TypeError(rn(m)+' does not have a method named "concat" or "fantasy-land/concat"')}),as=f(function(m){return E(je(_,0,ue(function(x){return x[0].length},m)),function(){for(var x=0;x<m.length;){if(m[x][0].apply(this,arguments))return m[x][1].apply(this,arguments);x+=1}})}),Tn=v(function(m,x){if(m>10)throw new Error("Constructor with greater than ten arguments");return m===0?function(){return new x}:_e(Ne(m,function(A,z,K,re,Ae,He,Et,Xt,Yr,Xa){switch(arguments.length){case 1:return new x(A);case 2:return new x(A,z);case 3:return new x(A,z,K);case 4:return new x(A,z,K,re);case 5:return new x(A,z,K,re,Ae);case 6:return new x(A,z,K,re,Ae,He);case 7:return new x(A,z,K,re,Ae,He,Et);case 8:return new x(A,z,K,re,Ae,He,Et,Xt);case 9:return new x(A,z,K,re,Ae,He,Et,Xt,Yr);case 10:return new x(A,z,K,re,Ae,He,Et,Xt,Yr,Xa)}}))}),Wo=f(function(m){return Tn(m.length,m)}),$o=v($t),Sn=v(function(m,x){return C(je(_,0,Qe("length",x)),function(){var A=arguments,z=this;return m.apply(z,P(function(K){return K.apply(z,A)},x))})}),zd=(function(){function m(x,A,z,K){this.valueFn=x,this.valueAcc=A,this.keyFn=z,this.xf=K,this.inputs={}}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){var A;for(A in this.inputs)if(J(A,this.inputs)&&(x=this.xf["@@transducer/step"](x,this.inputs[A]))["@@transducer/reduced"]){x=x["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){var z=this.keyFn(A);return this.inputs[z]=this.inputs[z]||[z,this.valueAcc],this.inputs[z][1]=this.valueFn(this.inputs[z][1],A),x},m})(),tl=b(4,[],O([],b(4,[],function(m,x,A,z){return new zd(m,x,A,z)}),function(m,x,A,z){return te(function(K,re){var Ae=A(re);return K[Ae]=m(J(Ae,K)?K[Ae]:Ut(x,[],[],!1),re),K},{},z)})),Jo=tl(function(m,x){return m+1},0),ns=g(-1),ec=v(function(m,x){return x==null||x!=x?m:x}),_d=T(function(m,x,A){var z=m(x),K=m(A);return z>K?-1:z<K?1:0});function rl(m,x,A){var z,K=typeof m;switch(K){case"string":case"number":return m===0&&1/m==-1/0?!!A._items["-0"]||(x&&(A._items["-0"]=!0),!1):A._nativeSet!==null?x?(z=A._nativeSet.size,A._nativeSet.add(m),A._nativeSet.size===z):A._nativeSet.has(m):K in A._items?m in A._items[K]||(x&&(A._items[K][m]=!0),!1):(x&&(A._items[K]={},A._items[K][m]=!0),!1);case"boolean":if(K in A._items){var re=m?1:0;return!!A._items[K][re]||(x&&(A._items[K][re]=!0),!1)}return x&&(A._items[K]=m?[!1,!0]:[!0,!1]),!1;case"function":return A._nativeSet!==null?x?(z=A._nativeSet.size,A._nativeSet.add(m),A._nativeSet.size===z):A._nativeSet.has(m):K in A._items?!!$t(m,A._items[K])||(x&&A._items[K].push(m),!1):(x&&(A._items[K]=[m]),!1);case"undefined":return!!A._items[K]||(x&&(A._items[K]=!0),!1);case"object":if(m===null)return!!A._items.null||(x&&(A._items.null=!0),!1);default:return(K=Object.prototype.toString.call(m))in A._items?!!$t(m,A._items[K])||(x&&A._items[K].push(m),!1):(x&&(A._items[K]=[m]),!1)}}var Ma=(function(){function m(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return m.prototype.add=function(x){return!rl(x,!0,this)},m.prototype.has=function(x){return rl(x,!1,this)},m})(),al=v(function(m,x){for(var A=[],z=0,K=m.length,re=x.length,Ae=new Ma,He=0;He<re;He+=1)Ae.add(x[He]);for(;z<K;)Ae.add(m[z])&&(A[A.length]=m[z]),z+=1;return A}),nl=T(function(m,x,A){for(var z=[],K=0,re=x.length;K<re;)hr(m,x[K],A)||hr(m,x[K],z)||z.push(x[K]),K+=1;return z}),An=v(function(m,x){var A={};for(var z in x)A[z]=x[z];return delete A[m],A}),Cn=T(function(m,x,A){var z=Array.prototype.slice.call(A,0);return z.splice(m,x),z}),Vl=T(function(m,x,A){return N(m,Oe(x),A)}),is=v(function m(x,A){switch(x.length){case 0:return A;case 1:return fe(x[0])&&R(A)?Cn(x[0],1,A):An(x[0],A);default:var z=x[0],K=Array.prototype.slice.call(x,1);return A[z]==null?A:fe(z)&&R(A)?Vl(z,m(K,A[z]),A):ge(z,m(K,A[z]),A)}}),tc=v(function(m,x){return m/x}),il=(function(){function m(x,A){this.xf=A,this.n=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){return this.n>0?(this.n-=1,x):this.xf["@@transducer/step"](x,A)},m})(),Ba=v(O(["drop"],v(function(m,x){return new il(m,x)}),function(m,x){return St(Math.max(0,m),1/0,x)})),ls=(function(){function m(x,A){this.xf=A,this.n=x,this.i=0}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){this.i+=1;var z=this.n===0?x:this.xf["@@transducer/step"](x,A);return this.n>=0&&this.i>=this.n?I(z):z},m})(),Nn=v(O(["take"],v(function(m,x){return new ls(m,x)}),function(m,x){return St(0,m<0?1/0:m,x)}));function an(m,x){return Nn(m<x.length?x.length-m:0,x)}var us=(function(){function m(x,A){this.xf=A,this.pos=0,this.full=!1,this.acc=new Array(x)}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.acc=null,this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.full&&(x=this.xf["@@transducer/step"](x,this.acc[this.pos])),this.store(A),x},m.prototype.store=function(x){this.acc[this.pos]=x,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},m})(),Fl=v(O([],v(function(m,x){return new us(m,x)}),an));function rc(m,x){for(var A=x.length-1;A>=0&&m(x[A]);)A-=1;return St(0,A+1,x)}var Yl=(function(){function m(x,A){this.f=x,this.retained=[],this.xf=A}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.retained=null,this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.f(A)?this.retain(x,A):this.flush(x,A)},m.prototype.flush=function(x,A){return x=te(this.xf["@@transducer/step"],x,this.retained),this.retained=[],this.xf["@@transducer/step"](x,A)},m.prototype.retain=function(x,A){return this.retained.push(A),x},m})(),Kl=v(O([],v(function(m,x){return new Yl(m,x)}),rc)),ac=(function(){function m(x,A){this.xf=A,this.pred=x,this.lastValue=void 0,this.seenFirstValue=!1}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){var z=!1;return this.seenFirstValue?this.pred(this.lastValue,A)&&(z=!0):this.seenFirstValue=!0,this.lastValue=A,z?x:this.xf["@@transducer/step"](x,A)},m})(),Ur=v(function(m,x){return new ac(m,x)}),nn=Ee(-1),ll=v(O([],Ur,function(m,x){var A=[],z=1,K=x.length;if(K!==0)for(A[0]=x[0];z<K;)m(nn(A),x[z])||(A[A.length]=x[z]),z+=1;return A})),ul=f(O([],Ur(Sr),ll(Sr))),Ud=(function(){function m(x,A){this.xf=A,this.f=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){if(this.f){if(this.f(A))return x;this.f=null}return this.xf["@@transducer/step"](x,A)},m})(),ss=v(O(["dropWhile"],v(function(m,x){return new Ud(m,x)}),function(m,x){for(var A=0,z=x.length;A<z&&m(x[A]);)A+=1;return St(A,1/0,x)})),Xl=v(function(m,x){return m||x}),sl=v(function(m,x){return Be(m)?function(){return m.apply(this,arguments)||x.apply(this,arguments)}:Je(Xl)(m,x)}),ol=f(function(m){return m!=null&&typeof m["fantasy-land/empty"]=="function"?m["fantasy-land/empty"]():m!=null&&m.constructor!=null&&typeof m.constructor["fantasy-land/empty"]=="function"?m.constructor["fantasy-land/empty"]():m!=null&&typeof m.empty=="function"?m.empty():m!=null&&m.constructor!=null&&typeof m.constructor.empty=="function"?m.constructor.empty():R(m)?[]:L(m)?"":wn(m)?{}:oe(m)?(function(){return arguments})():void 0}),os=v(function(m,x){return Ba(m>=0?x.length-m:0,x)}),Pd=v(function(m,x){return Sr(os(m.length,x),m)}),jd=T(function(m,x,A){return Sr(m(x),m(A))}),qd=T(function(m,x,A){return Sr(x[m],A[m])}),cs=v(function m(x,A){var z,K,re,Ae=A instanceof Array?[]:{};for(K in A)re=typeof(z=x[K]),Ae[K]=re==="function"?z(A[K]):z&&re==="object"?m(z,A[K]):A[K];return Ae}),Gd=(function(){function m(x,A){this.xf=A,this.f=x,this.found=!1}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.found||(x=this.xf["@@transducer/step"](x,void 0)),this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.f(A)&&(this.found=!0,x=I(this.xf["@@transducer/step"](x,A))),x},m})(),Hd=v(O(["find"],v(function(m,x){return new Gd(m,x)}),function(m,x){for(var A=0,z=x.length;A<z;){if(m(x[A]))return x[A];A+=1}})),Vd=(function(){function m(x,A){this.xf=A,this.f=x,this.idx=-1,this.found=!1}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.found||(x=this.xf["@@transducer/step"](x,-1)),this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.idx+=1,this.f(A)&&(this.found=!0,x=I(this.xf["@@transducer/step"](x,this.idx))),x},m})(),Fd=v(O([],v(function(m,x){return new Vd(m,x)}),function(m,x){for(var A=0,z=x.length;A<z;){if(m(x[A]))return A;A+=1}return-1})),Yd=(function(){function m(x,A){this.xf=A,this.f=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](x,this.last))},m.prototype["@@transducer/step"]=function(x,A){return this.f(A)&&(this.last=A),x},m})(),nc=v(O([],v(function(m,x){return new Yd(m,x)}),function(m,x){for(var A=x.length-1;A>=0;){if(m(x[A]))return x[A];A-=1}})),Kd=(function(){function m(x,A){this.xf=A,this.f=x,this.idx=-1,this.lastIdx=-1}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](x,this.lastIdx))},m.prototype["@@transducer/step"]=function(x,A){return this.idx+=1,this.f(A)&&(this.lastIdx=this.idx),x},m})(),Xd=v(O([],v(function(m,x){return new Kd(m,x)}),function(m,x){for(var A=x.length-1;A>=0;){if(m(x[A]))return A;A-=1}return-1})),Zd=f(nt(!0)),Zl=f(function(m){return C(m.length,function(x,A){var z=Array.prototype.slice.call(arguments,0);return z[0]=A,z[1]=x,m.apply(this,z)})}),fs=v(Dt("forEach",function(m,x){for(var A=x.length,z=0;z<A;)m(x[z]),z+=1;return x})),Qd=v(function(m,x){for(var A=ne(x),z=0;z<A.length;){var K=A[z];m(x[K],K,x),z+=1}return x}),Wd=f(function(m){for(var x={},A=0;A<m.length;)x[m[A][0]]=m[A][1],A+=1;return x}),$d=v(Dt("groupBy",tl(function(m,x){return m==null&&(m=[]),m.push(x),m},null))),ic=v(function(m,x){for(var A=[],z=0,K=x.length;z<K;){for(var re=z+1;re<K&&m(x[re-1],x[re]);)re+=1;A.push(x.slice(z,re)),z=re}return A}),Jd=v(function(m,x){return m>x}),ev=v(function(m,x){return m>=x}),lc=v(function(m,x){if(m.length===0||Te(x))return!1;for(var A=x,z=0;z<m.length;){if(Te(A)||!J(m[z],A))return!1;A=A[m[z]],z+=1}return!0}),tv=v(function(m,x){return lc([m],x)}),rv=v(function(m,x){return m in x}),av=v(Wr),nv=T(function(m,x,A){return C(Math.max(m.length,x.length,A.length),function(){return m.apply(this,arguments)?x.apply(this,arguments):A.apply(this,arguments)})}),iv=g(1),lv=v($t),ds=tl(function(m,x){return x},null),cl=v(function(m,x){return typeof x.indexOf!="function"||R(x)?jl(x,m,0):x.indexOf(m)}),uv=St(0,-1),uc=T(function(m,x,A){return el(function(z){return hr(m,z,A)},x)}),sc=T(function(m,x,A){m=m<A.length&&m>=0?m:A.length;var z=Array.prototype.slice.call(A,0);return z.splice(m,0,x),z}),oc=T(function(m,x,A){return m=m<A.length&&m>=0?m:A.length,[].concat(Array.prototype.slice.call(A,0,m),x,Array.prototype.slice.call(A,m))}),vs=v(function(m,x){for(var A,z,K=new Ma,re=[],Ae=0;Ae<x.length;)A=m(z=x[Ae]),K.add(A)&&re.push(z),Ae+=1;return re}),Ql=vs(wa),ii=v(function(m,x){var A,z;return m.length>x.length?(A=m,z=x):(A=x,z=m),Ql(el(Zl($t)(A),z))}),sv=v(Dt("intersperse",function(m,x){for(var A=[],z=0,K=x.length;z<K;)z===K-1?A.push(x[z]):A.push(x[z],m),z+=1;return A})),fl=typeof Object.assign=="function"?Object.assign:function(m){if(m==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(m),A=1,z=arguments.length;A<z;){var K=arguments[A];if(K!=null)for(var re in K)J(re,K)&&(x[re]=K[re]);A+=1}return x},cc=v(function(m,x){var A={};return A[m]=x,A}),fc={"@@transducer/init":Array,"@@transducer/step":function(m,x){return m.push(x),m},"@@transducer/result":xa},dc={"@@transducer/init":String,"@@transducer/step":function(m,x){return m+x},"@@transducer/result":xa},dl={"@@transducer/init":Object,"@@transducer/step":function(m,x){return fl(m,H(x)?cc(x[0],x[1]):x)},"@@transducer/result":xa},vl=T(function(m,x,A){return D(m)?te(x(m),m["@@transducer/init"](),A):te(x((function(z){if(D(z))return z;if(H(z))return fc;if(typeof z=="string")return dc;if(typeof z=="object")return dl;throw new Error("Cannot create transformer for "+z)})(m)),Ut(m,[],[],!1),A)}),ov=f(function(m){for(var x=ne(m),A=x.length,z=0,K={};z<A;){var re=x[z],Ae=m[re],He=J(Ae,K)?K[Ae]:K[Ae]=[];He[He.length]=re,z+=1}return K}),Wl=f(function(m){for(var x=ne(m),A=x.length,z=0,K={};z<A;){var re=x[z];K[m[re]]=re,z+=1}return K}),li=v(function(m,x){return C(m+1,function(){var A=arguments[m];if(A!=null&&Be(A[x]))return A[x].apply(A,Array.prototype.slice.call(arguments,0,m));throw new TypeError(rn(A)+' does not have a method named "'+x+'"')})}),hs=v(function(m,x){return x!=null&&x.constructor===m||x instanceof m}),gs=f(function(m){return m!=null&&Sr(m,ol(m))}),ps=li(1,"join"),ms=f(function(m){return Sn(function(){return Array.prototype.slice.call(arguments,0)},m)}),vc=f(function(m){var x,A=[];for(x in m)A[A.length]=x;return A}),hc=v(function(m,x){if(typeof x.lastIndexOf!="function"||R(x)){for(var A=x.length-1;A>=0;){if(Sr(x[A],m))return A;A-=1}return-1}return x.lastIndexOf(m)});function ys(m){return Object.prototype.toString.call(m)==="[object Number]"}var gc=f(function(m){return m!=null&&ys(m.length)?m.length:NaN}),$l=v(function(m,x){return function(A){return function(z){return ue(function(K){return x(K,z)},A(m(z)))}}}),cv=f(function(m){return $l(Ee(m),Vl(m))}),fv=f(function(m){return $l(Le(m),ke(m))}),$r=f(function(m){return $l(lt(m),ge(m))}),hl=v(function(m,x){return m<x}),pc=v(function(m,x){return m<=x}),mc=T(function(m,x,A){for(var z=0,K=A.length,re=[],Ae=[x];z<K;)Ae=m(Ae[0],A[z]),re[z]=Ae[1],z+=1;return[Ae[0],re]}),yc=T(function(m,x,A){for(var z=A.length-1,K=[],re=[x];z>=0;)re=m(re[0],A[z]),K[z]=re[1],z-=1;return[re[0],K]}),bc=v(function(m,x){return te(function(A,z){return A[z]=m(x[z],z,x),A},{},ne(x))}),bs=v(function(m,x){return x.match(m)||[]}),dv=v(function(m,x){return fe(m)?!fe(x)||x<1?NaN:(m%x+x)%x:NaN}),ui=T(function(m,x,A){return m(A)>m(x)?A:x}),Jl=je(g,0),si=f(function(m){return Jl(m)/m.length}),Es=f(function(m){var x=m.length;if(x===0)return NaN;var A=2-x%2,z=(x-A)/2;return si(Array.prototype.slice.call(m,0).sort(function(K,re){return K<re?-1:K>re?1:0}).slice(z,z+A))}),Ec=v(function(m,x){var A={};return E(x.length,function(){var z=m.apply(this,arguments);return J(z,A)||(A[z]=x.apply(this,arguments)),A[z]})}),Rn=v(function(m,x){return fl({},m,x)}),oi=f(function(m){return fl.apply(null,[{}].concat(m))}),gl=T(function(m,x,A){var z,K={};for(z in x)J(z,x)&&(K[z]=J(z,A)?m(z,x[z],A[z]):x[z]);for(z in A)J(z,A)&&!J(z,K)&&(K[z]=A[z]);return K}),pl=T(function m(x,A,z){return gl(function(K,re,Ae){return wn(re)&&wn(Ae)?m(x,re,Ae):x(K,re,Ae)},A,z)}),Dn=v(function(m,x){return pl(function(A,z,K){return z},m,x)}),xc=v(function(m,x){return pl(function(A,z,K){return K},m,x)}),wc=T(function(m,x,A){return pl(function(z,K,re){return m(K,re)},x,A)}),Tc=v(function(m,x){return fl({},x,m)}),vv=v(function(m,x){return fl({},m,x)}),hv=T(function(m,x,A){return gl(function(z,K,re){return m(K,re)},x,A)}),gv=v(function(m,x){return x<m?x:m}),Sc=T(function(m,x,A){return m(A)<m(x)?A:x}),Ac=v(function(m,x){return m%x}),xs=T(function(m,x,A){var z=A.length,K=A.slice(),re=m<0?z+m:m,Ae=x<0?z+x:x,He=K.splice(re,1);return re<0||re>=A.length||Ae<0||Ae>=A.length?A:[].concat(K.slice(0,Ae)).concat(He).concat(K.slice(Ae,A.length))}),ua=v(function(m,x){return m*x}),eu=f(function(m){return-m}),sa=v(function(m,x){return j(_r(m),x)}),ci=f(function(m){return C(m<0?1:m+1,function(){return Ee(m,arguments)})}),ws=T(function(m,x,A){return m(x(A))});function tu(m){return[m]}var ru=f(tu),Ts=v(function(m,x){for(var A={},z={},K=0,re=m.length;K<re;)z[m[K]]=1,K+=1;for(var Ae in x)z.hasOwnProperty(Ae)||(A[Ae]=x[Ae]);return A}),On=f(function(m){var x,A=!1;return E(m.length,function(){return A?x:(A=!0,x=m.apply(this,arguments))})});function Ss(m,x){if(x==null||!Be(x.then))throw new TypeError("`"+m+"` expected a Promise, received "+Fr(x,[]))}var au=v(function(m,x){return Ss("otherwise",x),x.then(null,m)}),Mn=function(m){return{value:m,map:function(x){return Mn(x(m))}}},Cc=T(function(m,x,A){return m(function(z){return Mn(x(z))})(A).value}),Jr=v(function(m,x){return[m,x]});function nu(m){return v(function(x,A){return E(Math.max(0,x.length-A.length),function(){return x.apply(this,m(A,arguments))})})}var Ha=nu(p),Nc=nu(Zl(p)),iu=ms([ni,Gl]),Bn=T(function(m,x,A){return Sr(Le(m,A),x)}),lu=T(function(m,x,A){return ec(m,Le(x,A))}),Rc=T(function(m,x,A){return m(Le(x,A))}),As=v(function(m,x){for(var A={},z=0;z<m.length;)m[z]in x&&(A[m[z]]=x[m[z]]),z+=1;return A}),Cs=v(function(m,x){for(var A={},z=0,K=m.length;z<K;){var re=m[z];A[re]=x[re],z+=1}return A}),oa=v(function(m,x){var A={};for(var z in x)m(x[z],z,x)&&(A[z]=x[z]);return A});function fi(){if(arguments.length===0)throw new Error("pipeK requires at least one argument");return qa.apply(this,Wt(arguments))}var In=v(function(m,x){return p([m],x)}),uu=je(ua,1),di=v(function(m,x){return C(x.length,function(){for(var A=[],z=0;z<x.length;)A.push(x[z].call(this,arguments[z])),z+=1;return m.apply(this,A.concat(Array.prototype.slice.call(arguments,x.length)))})}),ca=di(P,[Cs,wa]),fa=T(function(m,x,A){return Sr(x,A[m])}),ln=T(function(m,x,A){return hs(m,A[x])}),Ia=T(function(m,x,A){return lu(m,[x],A)}),La=T(function(m,x,A){return m(A[x])}),Va=v(function(m,x){return m.map(function(A){return Le([A],x)})}),Dc=v(function(m,x){if(!ys(m)||!ys(x))throw new TypeError("Both arguments to range must be numbers");for(var A=[],z=m;z<x;)A.push(z),z+=1;return A}),su=T(function(m,x,A){for(var z=A.length-1;z>=0;)x=m(A[z],x),z-=1;return x}),Ns=b(4,[],function(m,x,A,z){return te(function(K,re){return m(K,re)?x(K,re):I(K)},A,z)}),Oc=f(I),pr=v(function(m,x){var A,z=Number(x),K=0;if(z<0||isNaN(z))throw new RangeError("n must be a non-negative number");for(A=new Array(z);K<z;)A[K]=m(K),K+=1;return A}),Pt=v(function(m,x){return pr(Oe(m),x)}),vt=T(function(m,x,A){return A.replace(m,x)}),un=T(function(m,x,A){for(var z=0,K=A.length,re=[x];z<K;)x=m(x,A[z]),re[z+1]=x,z+=1;return re}),ea=v(function(m,x){return typeof x.sequence=="function"?x.sequence(m):su(function(A,z){return at(ue(In,A),z)},m([]),x)}),Rs=T(function(m,x,A){return Cc(m,Oe(x),A)}),sn=v(function(m,x){return Array.prototype.slice.call(x,0).sort(m)}),Mc=v(function(m,x){return Array.prototype.slice.call(x,0).sort(function(A,z){var K=m(A),re=m(z);return K<re?-1:K>re?1:0})}),Bc=v(function(m,x){return Array.prototype.slice.call(x,0).sort(function(A,z){for(var K=0,re=0;K===0&&re<m.length;)K=m[re](A,z),re+=1;return K})}),vi=li(1,"split"),Ln=v(function(m,x){return[St(0,m,x),St(m,gc(x),x)]}),Ds=v(function(m,x){if(m<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var A=[],z=0;z<x.length;)A.push(St(z,z+=m,x));return A}),ml=v(function(m,x){for(var A=0,z=x.length,K=[];A<z&&!m(x[A]);)K.push(x[A]),A+=1;return[K,Array.prototype.slice.call(x,A)]}),Os=v(function(m,x){return Sr(Nn(m.length,x),m)}),kn=v(function(m,x){return Number(m)-Number(x)}),Fa=v(function(m,x){return Hl(al(m,x),al(x,m))}),on=T(function(m,x,A){return Hl(nl(m,x,A),nl(m,A,x))}),Ya=v(function(m,x){for(var A=x.length-1;A>=0&&m(x[A]);)A-=1;return St(A+1,1/0,x)}),Ms=(function(){function m(x,A){this.xf=A,this.f=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){return this.f(A)?this.xf["@@transducer/step"](x,A):I(x)},m})(),Bs=v(O(["takeWhile"],v(function(m,x){return new Ms(m,x)}),function(m,x){for(var A=0,z=x.length;A<z&&m(x[A]);)A+=1;return St(0,A,x)})),hi=(function(){function m(x,A){this.xf=A,this.f=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){return this.f(A),this.xf["@@transducer/step"](x,A)},m})(),ou=v(O([],v(function(m,x){return new hi(m,x)}),function(m,x){return m(x),x})),zn=v(function(m,x){if(A=m,Object.prototype.toString.call(A)!=="[object RegExp]")throw new TypeError("test requires a value of type RegExp as its first argument; received "+rn(m));var A;return Gt(m).test(x)}),Ar=v(function(m,x){return Ss("andThen",x),x.then(m)}),cu=li(0,"toLowerCase"),Ic=f(function(m){var x=[];for(var A in m)J(A,m)&&(x[x.length]=[A,m[A]]);return x}),pv=f(function(m){var x=[];for(var A in m)x[x.length]=[A,m[A]];return x}),mv=li(0,"toUpperCase"),yv=C(4,function(m,x,A,z){return te(m(typeof x=="function"?Z(x):x),A,z)}),nr=f(function(m){for(var x=0,A=[];x<m.length;){for(var z=m[x],K=0;K<z.length;)A[K]===void 0&&(A[K]=[]),A[K].push(z[K]),K+=1;x+=1}return A}),Is=T(function(m,x,A){return typeof A["fantasy-land/traverse"]=="function"?A["fantasy-land/traverse"](x,m):ea(m,ue(x,A))}),Ka=`	
\v\f\r \u2028\u2029\uFEFF`,yl=f(typeof String.prototype.trim=="function"&&!Ka.trim()&&"".trim()?function(m){return m.trim()}:function(m){var x=new RegExp("^["+Ka+"]["+Ka+"]*"),A=new RegExp("["+Ka+"]["+Ka+"]*$");return m.replace(x,"").replace(A,"")}),Ls=v(function(m,x){return E(m.length,function(){try{return m.apply(this,arguments)}catch(A){return x.apply(this,p([A],arguments))}})}),gi=f(function(m){return function(){return m(Array.prototype.slice.call(arguments,0))}}),pi=f(function(m){return Ne(1,m)}),bv=v(function(m,x){return C(m,function(){for(var A,z=1,K=x,re=0;z<=m&&typeof K=="function";)A=z===m?arguments.length:re+K.length,K=K.apply(this,Array.prototype.slice.call(arguments,re,A)),z+=1,re=A;return K})}),Lc=v(function(m,x){for(var A=m(x),z=[];A&&A.length;)z[z.length]=A[0],A=m(A[1]);return z}),Ev=v(or(Ql,p)),ks=v(function(m,x){for(var A,z=0,K=x.length,re=[];z<K;)hr(m,A=x[z],re)||(re[re.length]=A),z+=1;return re}),_n=T(function(m,x,A){return ks(m,p(x,A))}),zs=T(function(m,x,A){return m(A)?A:x(A)}),fu=Tt(xa),kc=T(function(m,x,A){for(var z=A;!m(z);)z=x(z);return z}),mi=f(function(m){var x,A=[];for(x in m)A[A.length]=m[x];return A}),_s=function(m){return{value:m,"fantasy-land/map":function(){return this}}},du=v(function(m,x){return m(_s)(x).value}),vu=T(function(m,x,A){return m(A)?x(A):A}),Us=v(function(m,x){for(var A in m)if(J(A,m)&&!m[A](x[A]))return!1;return!0}),zc=v(function(m,x){return Us(ue(Sr,m),x)}),Un=v(function(m,x){return Gl(Zl($t)(m),x)}),Pn=v(function(m,x){return!!(!m^!x)}),_c=v(function(m,x){for(var A,z=0,K=m.length,re=x.length,Ae=[];z<K;){for(A=0;A<re;)Ae[Ae.length]=[m[z],x[A]],A+=1;z+=1}return Ae}),Uc=v(function(m,x){for(var A=[],z=0,K=Math.min(m.length,x.length);z<K;)A[z]=[m[z],x[z]],z+=1;return A}),yi=v(function(m,x){for(var A=0,z=Math.min(m.length,x.length),K={};A<z;)K[m[A]]=x[A],A+=1;return K}),bl=T(function(m,x,A){for(var z=[],K=0,re=Math.min(x.length,A.length);K<re;)z[K]=m(x[K],A[K]),K+=1;return z}),hu=f(function(m){return C(m.length,function(){var x=arguments;return function(){return m.apply(this,x)}})});l.d(n,"F",function(){return u}),l.d(n,"T",function(){return s}),l.d(n,"__",function(){return c}),l.d(n,"add",function(){return g}),l.d(n,"addIndex",function(){return S}),l.d(n,"adjust",function(){return N}),l.d(n,"all",function(){return j}),l.d(n,"allPass",function(){return Ke}),l.d(n,"always",function(){return Oe}),l.d(n,"and",function(){return Ge}),l.d(n,"any",function(){return tt}),l.d(n,"anyPass",function(){return Ie}),l.d(n,"ap",function(){return at}),l.d(n,"aperture",function(){return dt}),l.d(n,"append",function(){return bt}),l.d(n,"apply",function(){return We}),l.d(n,"applySpec",function(){return Y}),l.d(n,"applyTo",function(){return se}),l.d(n,"ascend",function(){return pe}),l.d(n,"assoc",function(){return ge}),l.d(n,"assocPath",function(){return ke}),l.d(n,"binary",function(){return Ue}),l.d(n,"bind",function(){return G}),l.d(n,"both",function(){return rt}),l.d(n,"call",function(){return st}),l.d(n,"chain",function(){return Tt}),l.d(n,"clamp",function(){return wr}),l.d(n,"clone",function(){return tr}),l.d(n,"comparator",function(){return ia}),l.d(n,"complement",function(){return la}),l.d(n,"compose",function(){return or}),l.d(n,"composeK",function(){return qa}),l.d(n,"composeP",function(){return tn}),l.d(n,"composeWith",function(){return Pl}),l.d(n,"concat",function(){return Hl}),l.d(n,"cond",function(){return as}),l.d(n,"construct",function(){return Wo}),l.d(n,"constructN",function(){return Tn}),l.d(n,"contains",function(){return $o}),l.d(n,"converge",function(){return Sn}),l.d(n,"countBy",function(){return Jo}),l.d(n,"curry",function(){return _e}),l.d(n,"curryN",function(){return C}),l.d(n,"dec",function(){return ns}),l.d(n,"defaultTo",function(){return ec}),l.d(n,"descend",function(){return _d}),l.d(n,"difference",function(){return al}),l.d(n,"differenceWith",function(){return nl}),l.d(n,"dissoc",function(){return An}),l.d(n,"dissocPath",function(){return is}),l.d(n,"divide",function(){return tc}),l.d(n,"drop",function(){return Ba}),l.d(n,"dropLast",function(){return Fl}),l.d(n,"dropLastWhile",function(){return Kl}),l.d(n,"dropRepeats",function(){return ul}),l.d(n,"dropRepeatsWith",function(){return ll}),l.d(n,"dropWhile",function(){return ss}),l.d(n,"either",function(){return sl}),l.d(n,"empty",function(){return ol}),l.d(n,"endsWith",function(){return Pd}),l.d(n,"eqBy",function(){return jd}),l.d(n,"eqProps",function(){return qd}),l.d(n,"equals",function(){return Sr}),l.d(n,"evolve",function(){return cs}),l.d(n,"filter",function(){return ni}),l.d(n,"find",function(){return Hd}),l.d(n,"findIndex",function(){return Fd}),l.d(n,"findLast",function(){return nc}),l.d(n,"findLastIndex",function(){return Xd}),l.d(n,"flatten",function(){return Zd}),l.d(n,"flip",function(){return Zl}),l.d(n,"forEach",function(){return fs}),l.d(n,"forEachObjIndexed",function(){return Qd}),l.d(n,"fromPairs",function(){return Wd}),l.d(n,"groupBy",function(){return $d}),l.d(n,"groupWith",function(){return ic}),l.d(n,"gt",function(){return Jd}),l.d(n,"gte",function(){return ev}),l.d(n,"has",function(){return tv}),l.d(n,"hasIn",function(){return rv}),l.d(n,"hasPath",function(){return lc}),l.d(n,"head",function(){return Ga}),l.d(n,"identical",function(){return av}),l.d(n,"identity",function(){return wa}),l.d(n,"ifElse",function(){return nv}),l.d(n,"inc",function(){return iv}),l.d(n,"includes",function(){return lv}),l.d(n,"indexBy",function(){return ds}),l.d(n,"indexOf",function(){return cl}),l.d(n,"init",function(){return uv}),l.d(n,"innerJoin",function(){return uc}),l.d(n,"insert",function(){return sc}),l.d(n,"insertAll",function(){return oc}),l.d(n,"intersection",function(){return ii}),l.d(n,"intersperse",function(){return sv}),l.d(n,"into",function(){return vl}),l.d(n,"invert",function(){return ov}),l.d(n,"invertObj",function(){return Wl}),l.d(n,"invoker",function(){return li}),l.d(n,"is",function(){return hs}),l.d(n,"isEmpty",function(){return gs}),l.d(n,"isNil",function(){return Te}),l.d(n,"join",function(){return ps}),l.d(n,"juxt",function(){return ms}),l.d(n,"keys",function(){return ne}),l.d(n,"keysIn",function(){return vc}),l.d(n,"last",function(){return nn}),l.d(n,"lastIndexOf",function(){return hc}),l.d(n,"length",function(){return gc}),l.d(n,"lens",function(){return $l}),l.d(n,"lensIndex",function(){return cv}),l.d(n,"lensPath",function(){return fv}),l.d(n,"lensProp",function(){return $r}),l.d(n,"lift",function(){return Je}),l.d(n,"liftN",function(){return Ye}),l.d(n,"lt",function(){return hl}),l.d(n,"lte",function(){return pc}),l.d(n,"map",function(){return ue}),l.d(n,"mapAccum",function(){return mc}),l.d(n,"mapAccumRight",function(){return yc}),l.d(n,"mapObjIndexed",function(){return bc}),l.d(n,"match",function(){return bs}),l.d(n,"mathMod",function(){return dv}),l.d(n,"max",function(){return _}),l.d(n,"maxBy",function(){return ui}),l.d(n,"mean",function(){return si}),l.d(n,"median",function(){return Es}),l.d(n,"memoizeWith",function(){return Ec}),l.d(n,"merge",function(){return Rn}),l.d(n,"mergeAll",function(){return oi}),l.d(n,"mergeDeepLeft",function(){return Dn}),l.d(n,"mergeDeepRight",function(){return xc}),l.d(n,"mergeDeepWith",function(){return wc}),l.d(n,"mergeDeepWithKey",function(){return pl}),l.d(n,"mergeLeft",function(){return Tc}),l.d(n,"mergeRight",function(){return vv}),l.d(n,"mergeWith",function(){return hv}),l.d(n,"mergeWithKey",function(){return gl}),l.d(n,"min",function(){return gv}),l.d(n,"minBy",function(){return Sc}),l.d(n,"modulo",function(){return Ac}),l.d(n,"move",function(){return xs}),l.d(n,"multiply",function(){return ua}),l.d(n,"nAry",function(){return Ne}),l.d(n,"negate",function(){return eu}),l.d(n,"none",function(){return sa}),l.d(n,"not",function(){return Vt}),l.d(n,"nth",function(){return Ee}),l.d(n,"nthArg",function(){return ci}),l.d(n,"o",function(){return ws}),l.d(n,"objOf",function(){return cc}),l.d(n,"of",function(){return ru}),l.d(n,"omit",function(){return Ts}),l.d(n,"once",function(){return On}),l.d(n,"or",function(){return Xl}),l.d(n,"otherwise",function(){return au}),l.d(n,"over",function(){return Cc}),l.d(n,"pair",function(){return Jr}),l.d(n,"partial",function(){return Ha}),l.d(n,"partialRight",function(){return Nc}),l.d(n,"partition",function(){return iu}),l.d(n,"path",function(){return Le}),l.d(n,"paths",function(){return De}),l.d(n,"pathEq",function(){return Bn}),l.d(n,"pathOr",function(){return lu}),l.d(n,"pathSatisfies",function(){return Rc}),l.d(n,"pick",function(){return As}),l.d(n,"pickAll",function(){return Cs}),l.d(n,"pickBy",function(){return oa}),l.d(n,"pipe",function(){return sr}),l.d(n,"pipeK",function(){return fi}),l.d(n,"pipeP",function(){return bn}),l.d(n,"pipeWith",function(){return rr}),l.d(n,"pluck",function(){return Qe}),l.d(n,"prepend",function(){return In}),l.d(n,"product",function(){return uu}),l.d(n,"project",function(){return ca}),l.d(n,"prop",function(){return lt}),l.d(n,"propEq",function(){return fa}),l.d(n,"propIs",function(){return ln}),l.d(n,"propOr",function(){return Ia}),l.d(n,"propSatisfies",function(){return La}),l.d(n,"props",function(){return Va}),l.d(n,"range",function(){return Dc}),l.d(n,"reduce",function(){return je}),l.d(n,"reduceBy",function(){return tl}),l.d(n,"reduceRight",function(){return su}),l.d(n,"reduceWhile",function(){return Ns}),l.d(n,"reduced",function(){return Oc}),l.d(n,"reject",function(){return Gl}),l.d(n,"remove",function(){return Cn}),l.d(n,"repeat",function(){return Pt}),l.d(n,"replace",function(){return vt}),l.d(n,"reverse",function(){return Wt}),l.d(n,"scan",function(){return un}),l.d(n,"sequence",function(){return ea}),l.d(n,"set",function(){return Rs}),l.d(n,"slice",function(){return St}),l.d(n,"sort",function(){return sn}),l.d(n,"sortBy",function(){return Mc}),l.d(n,"sortWith",function(){return Bc}),l.d(n,"split",function(){return vi}),l.d(n,"splitAt",function(){return Ln}),l.d(n,"splitEvery",function(){return Ds}),l.d(n,"splitWhen",function(){return ml}),l.d(n,"startsWith",function(){return Os}),l.d(n,"subtract",function(){return kn}),l.d(n,"sum",function(){return Jl}),l.d(n,"symmetricDifference",function(){return Fa}),l.d(n,"symmetricDifferenceWith",function(){return on}),l.d(n,"tail",function(){return Tr}),l.d(n,"take",function(){return Nn}),l.d(n,"takeLast",function(){return os}),l.d(n,"takeLastWhile",function(){return Ya}),l.d(n,"takeWhile",function(){return Bs}),l.d(n,"tap",function(){return ou}),l.d(n,"test",function(){return zn}),l.d(n,"andThen",function(){return Ar}),l.d(n,"times",function(){return pr}),l.d(n,"toLower",function(){return cu}),l.d(n,"toPairs",function(){return Ic}),l.d(n,"toPairsIn",function(){return pv}),l.d(n,"toString",function(){return rn}),l.d(n,"toUpper",function(){return mv}),l.d(n,"transduce",function(){return yv}),l.d(n,"transpose",function(){return nr}),l.d(n,"traverse",function(){return Is}),l.d(n,"trim",function(){return yl}),l.d(n,"tryCatch",function(){return Ls}),l.d(n,"type",function(){return Ht}),l.d(n,"unapply",function(){return gi}),l.d(n,"unary",function(){return pi}),l.d(n,"uncurryN",function(){return bv}),l.d(n,"unfold",function(){return Lc}),l.d(n,"union",function(){return Ev}),l.d(n,"unionWith",function(){return _n}),l.d(n,"uniq",function(){return Ql}),l.d(n,"uniqBy",function(){return vs}),l.d(n,"uniqWith",function(){return ks}),l.d(n,"unless",function(){return zs}),l.d(n,"unnest",function(){return fu}),l.d(n,"until",function(){return kc}),l.d(n,"update",function(){return Vl}),l.d(n,"useWith",function(){return di}),l.d(n,"values",function(){return ze}),l.d(n,"valuesIn",function(){return mi}),l.d(n,"view",function(){return du}),l.d(n,"when",function(){return vu}),l.d(n,"where",function(){return Us}),l.d(n,"whereEq",function(){return zc}),l.d(n,"without",function(){return Un}),l.d(n,"xor",function(){return Pn}),l.d(n,"xprod",function(){return _c}),l.d(n,"zip",function(){return Uc}),l.d(n,"zipObj",function(){return yi}),l.d(n,"zipWith",function(){return bl}),l.d(n,"thunkify",function(){return hu})},function(r,n,l){function u(s){for(var c in s)n.hasOwnProperty(c)||(n[c]=s[c])}Object.defineProperty(n,"__esModule",{value:!0}),u(l(3)),u(l(9)),u(l(2)),u(l(10)),u(l(11))},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0);n.isNotNil=u.complement(u.isNil),n.isNotEmpty=u.complement(u.isEmpty),n.includesFlipped=u.curryN(2,u.flip(u.includes)),n.isString=u.is(String),n.isNumber=u.is(Number),n.isObject=u.is(Object),n.isNotString=u.complement(n.isString),n.isNotNumber=u.complement(n.isNumber),n.isNotObject=u.complement(n.isObject),n.propIsNotNil=u.pipe(u.prop,n.isNotNil),n.objectEqualsByIntersectionKeys=(c,d)=>{const f=u.pick(u.intersection(u.keys(c),u.keys(d)));return u.equals(f(c),f(d))},n.objectEqualsByFirstObjectKeys=(c,d)=>{const f=u.keys(c);return u.equals(u.pick(f,c),u.pick(f,d))};const s=u.invoker(1,"localeCompare");n.sortStringsAsc=u.sort(u.flip(s))},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(4),c=l(2),d=(f,v)=>f.every(g=>v.indexOf(g)!==-1);n.createNetwork=(...f)=>{const v=(g=>{const p=[...g].sort((b,C)=>b.parents.length-C.parents.length),E=[];return()=>{for(let b=0;b<p.length;b++){const C=p[b];if(C.parents.length===0||d(C.parents,E))return E.push(C.id),p.splice(b,1),C}}})(f);return f.reduce(g=>{const p=v();return u.isNil(p)?g:Object.assign({},s.addNode(g,p))},{})},n.getNodeParents=u.prop("parents"),n.getNodeId=u.prop("id"),n.getNodeStates=u.prop("states"),n.hasNodeParents=u.pipe(n.getNodeParents,c.isNotEmpty),n.getNodeParentsAndId=u.converge(u.append,[u.prop("id"),u.prop("parents")]),n.hasNotNodeParents=u.complement(n.hasNodeParents),n.getNodesFromNetwork=u.values,n.filterNodeWithParents=u.filter(n.hasNodeParents),n.getNodeIdsWithoutParents=u.pipe(n.getNodesFromNetwork,u.filter(n.hasNotNodeParents),u.map(n.getNodeId))},function(r,n,l){function u(c){for(var d in c)n.hasOwnProperty(d)||(n[d]=c[d])}Object.defineProperty(n,"__esModule",{value:!0});const s=l(7);n.inferences={enumeration:s.enumeration,junctionTree:s.junctionTree,variableElimination:s.variableElimination},u(l(24)),n.infer=s.junctionTree.infer,u(l(30))},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(1),s=l(14),c=l(19),d=l(0);n.infer=(f,v,g={})=>{const{cliques:p,sepSets:E,junctionTree:b}=s.default(f);return((C,S,T)=>{const N=u.filterCliquesByNodeCombinations(C,T),R=S[u.getCliqueWithLessNodes(N).id],D=u.filterCliquePotentialsByNodeCombinations(R,T),O=u.mapPotentialsThen(D);return d.sum(O)})(p,c.default(p,f,b,E,g),v)}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(1),c=u.pluck("id"),d=u.reduce((p,E)=>{const b=u.map(C=>[C,E.id],E.parents);return u.concat(p,b)},[]),f=(p=[])=>{let E=p;return{getValue:()=>E,setValue:b=>{E=b},add:b=>{E=u.append(b,E)},reject:b=>{E=u.reject(b,E)},any:b=>u.any(b,E)}},v=u.curry((p,E)=>u.any(u.equals(p),E)),g=u.curry((p,E,b)=>u.equals([p,E],b)||u.equals([E,p],b));n.createGraphBuilder=(p={})=>{const E=s.getNodesFromNetwork(p),b=f(c(E)),C=f(d(E)),S=(T,N)=>C.any(g(T,N));return{getNodes:()=>E,setNodeIds:T=>b.setValue(T),setEdges:T=>C.setValue(T),getNodesId:b.getValue,getEdges:C.getValue,addNodeId:T=>b.add(T),removeNodeId:T=>{C.reject(v(T)),b.reject(u.equals(T))},hasNodeId:T=>b.any(u.equals(T)),addEdge:(T,N)=>C.add([T,N]),removeEdge:(T,N)=>{C.reject(g(T,N))},hasEdge:S,hasNotEdge:u.complement(S),getNodeEdges:T=>u.reduce((N,[R,D])=>u.equals(T,R)?u.append(D,N):u.equals(T,D)?u.append(R,N):N,[],C.getValue()),clone:()=>{const T=n.createGraphBuilder(p);return T.setNodeIds(b.getValue()),T.setEdges(C.getValue()),T}}}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(8);n.enumeration=u;const s=l(5);n.junctionTree=s;const c=l(23);n.variableElimination=c},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(1),s=l(0),c=new WeakMap,d=(f,v)=>{const g=Object.keys(v);return f.filter(p=>{for(let E=0;E<g.length;E++){const b=g[E];if(p[b]!==v[b])return!1}return!0})};n.infer=(f,v,g)=>{let p=c.get(f);p===void 0&&(p=u.buildCombinations(f),c.set(f,p));let E=d(p,v),b=1;return g&&(E=d(E,g),b=n.infer(f,g)),((C,S)=>{const T=[];for(let R=0;R<S.length;R++){let D=1;const O=S[R],I=Object.keys(O);for(let M=0;M<I.length;M++){const k=I[M],j=C[k];if(j.parents.length===0)D*=j.cpt[O[k]];else{const _=j.cpt,P={};for(let L=0;L<j.parents.length;L++){const H=j.parents[L];P[H]=O[H]}for(let L=0;L<_.length;L++){const H=_[L];if(s.equals(H.when,P)){D*=H.then[O[k]];break}}}}T.push(D)}let N=0;for(let R=0;R<T.length;R++)N+=T[R];return N})(f,E)/b}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0}),n.buildCombinations=(u,s)=>((c,d)=>{const f=[],v=(g,p={})=>{if(g.length===0)f.push(p);else{const[E,...b]=g,{states:C}=c[E];for(const S of C)v(b,Object.assign({},p,{[E]:S}))}};return v(d),f})(u,s||Object.keys(u))},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(2),c=l(3),d=u.prop("nodeIds"),f=u.ifElse(u.equals(0),u.always(1),u.identity),v=u.pipe(d,u.length);n.mapPotentialsThen=u.pluck("then"),n.sumCliquePotentials=u.pipe(n.mapPotentialsThen,u.sum,f),n.hasNodeIdsInClique=u.useWith(u.all,[u.pipe(u.prop("nodeIds"),s.includesFlipped),u.identity]),n.hasNodeIdAndParentsInClique=u.useWith(n.hasNodeIdsInClique,[u.identity,c.getNodeParentsAndId]),n.getCliqueWithLessNodes=p=>{const E=u.head(p);if(E)return u.reduce(u.minBy(v),E,u.tail(p));throw new Error("Cliques are empty")},n.filterCliquesByNodeCombinations=(p,E={})=>u.filter(u.pipe(u.prop("nodeIds"),u.intersection(u.keys(E)),s.isNotEmpty),p);const g=u.curry((p,E)=>{const{when:b}=E;return u.all(C=>{const S=b[C],T=p[C];return T==null||S===T},u.keys(b))});n.filterCliquePotentialsByNodeCombinations=(p,E)=>u.filter(g(E),p),n.normalizeCliquePotential=p=>{const E=n.sumCliquePotentials(p);return p.map(b=>(b.then=b.then/E,b))},n.normalizeCliquePotentials=p=>{for(const E of Object.keys(p))p[E]=n.normalizeCliquePotential(p[E]);return p}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(2),c=l(12),d=u.addIndex(u.forEach),f=(g,p)=>p.sharedNodes.length-g.sharedNodes.length,v=(g,p,E)=>u.reduce((b,C)=>{const S=u.append(C,b);return((T,N)=>{const R={},D=(O,I)=>{R[O]=!0;const M=u.reduce((k,{ca:j,cb:_})=>u.equals(O,_)?u.append(j,k):u.equals(O,j)?u.append(_,k):k,[],N);return u.any(k=>{if(R[k]){if(k!==I)return!0}else if(D(k,O))return!0;return!1},M)};return u.any(({id:O})=>!R[O]&&D(O),T)})(g,S)?(E(C.ca,C.cb),b):S},[],(b=>{const C=u.clone(b);return c.sort(C,f),C})(p));n.createSepSets=(g,p)=>{const E=[];return d((b,C)=>{const S=u.drop(C+1,g);u.forEach(T=>{const N=((R,D)=>{const O=new Set(R.nodeIds),I=new Set(D.nodeIds);return Array(...new Set([...R.nodeIds,...D.nodeIds])).filter(M=>O.has(M)&&I.has(M))})(b,T);s.isNotEmpty(N)&&E.push({ca:b.id,cb:T.id,sharedNodes:N})},S)},g),v(g,E,p)}},function(r,n,l){r.exports=l(13)},function(r,n,l){var u,s,c;s=[n],(c=typeof(u=function(d){d.__esModule=!0,d.sort=function(D,O,I,M){if(!Array.isArray(D))throw new TypeError("Can only sort arrays");O?typeof O!="function"&&(M=I,I=O,O=b):O=b,I||(I=0),M||(M=D.length);var k=M-I;if(!(k<2)){var j=0;if(k<f)return j=C(D,I,M,O),void S(D,I,M,I+j,O);var _=new R(D,O),P=(function(H){for(var X=0;H>=f;)X|=1&H,H>>=1;return H+X})(k);do{if((j=C(D,I,M,O))<P){var L=k;L>P&&(L=P),S(D,I,I+L,I+j,O),j=L}_.pushRun(I,j),_.mergeRuns(),k-=j,I+=j}while(k!==0);_.forceMergeRuns()}};var f=32,v=7,g=256,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function E(D){return D<1e5?D<100?D<10?0:1:D<1e4?D<1e3?2:3:4:D<1e7?D<1e6?5:6:D<1e9?D<1e8?7:8:9}function b(D,O){if(D===O)return 0;if(~~D===D&&~~O===O){if(D===0||O===0)return D<O?-1:1;if(D<0||O<0){if(O>=0)return-1;if(D>=0)return 1;D=-D,O=-O}var I=E(D),M=E(O),k=0;return I<M?(D*=p[M-I-1],O/=10,k=-1):I>M&&(O*=p[I-M-1],D/=10,k=1),D===O?k:D<O?-1:1}var j=String(D),_=String(O);return j===_?0:j<_?-1:1}function C(D,O,I,M){var k=O+1;if(k===I)return 1;if(M(D[k++],D[O])<0){for(;k<I&&M(D[k],D[k-1])<0;)k++;(function(j,_,P){for(P--;_<P;){var L=j[_];j[_++]=j[P],j[P--]=L}})(D,O,k)}else for(;k<I&&M(D[k],D[k-1])>=0;)k++;return k-O}function S(D,O,I,M,k){for(M===O&&M++;M<I;M++){for(var j=D[M],_=O,P=M;_<P;){var L=_+P>>>1;k(j,D[L])<0?P=L:_=L+1}var H=M-_;switch(H){case 3:D[_+3]=D[_+2];case 2:D[_+2]=D[_+1];case 1:D[_+1]=D[_];break;default:for(;H>0;)D[_+H]=D[_+H-1],H--}D[_]=j}}function T(D,O,I,M,k,j){var _=0,P=0,L=1;if(j(D,O[I+k])>0){for(P=M-k;L<P&&j(D,O[I+k+L])>0;)_=L,(L=1+(L<<1))<=0&&(L=P);L>P&&(L=P),_+=k,L+=k}else{for(P=k+1;L<P&&j(D,O[I+k-L])<=0;)_=L,(L=1+(L<<1))<=0&&(L=P);L>P&&(L=P);var H=_;_=k-L,L=k-H}for(_++;_<L;){var X=_+(L-_>>>1);j(D,O[I+X])>0?_=X+1:L=X}return L}function N(D,O,I,M,k,j){var _=0,P=0,L=1;if(j(D,O[I+k])<0){for(P=k+1;L<P&&j(D,O[I+k-L])<0;)_=L,(L=1+(L<<1))<=0&&(L=P);L>P&&(L=P);var H=_;_=k-L,L=k-H}else{for(P=M-k;L<P&&j(D,O[I+k+L])>=0;)_=L,(L=1+(L<<1))<=0&&(L=P);L>P&&(L=P),_+=k,L+=k}for(_++;_<L;){var X=_+(L-_>>>1);j(D,O[I+X])<0?L=X:_=X+1}return L}var R=(function(){function D(O,I){(function(M,k){if(!(M instanceof k))throw new TypeError("Cannot call a class as a function")})(this,D),this.array=null,this.compare=null,this.minGallop=v,this.length=0,this.tmpStorageLength=g,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=O,this.compare=I,this.length=O.length,this.length<2*g&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return D.prototype.pushRun=function(O,I){this.runStart[this.stackSize]=O,this.runLength[this.stackSize]=I,this.stackSize+=1},D.prototype.mergeRuns=function(){for(;this.stackSize>1;){var O=this.stackSize-2;if(O>=1&&this.runLength[O-1]<=this.runLength[O]+this.runLength[O+1]||O>=2&&this.runLength[O-2]<=this.runLength[O]+this.runLength[O-1])this.runLength[O-1]<this.runLength[O+1]&&O--;else if(this.runLength[O]>this.runLength[O+1])break;this.mergeAt(O)}},D.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var O=this.stackSize-2;O>0&&this.runLength[O-1]<this.runLength[O+1]&&O--,this.mergeAt(O)}},D.prototype.mergeAt=function(O){var I=this.compare,M=this.array,k=this.runStart[O],j=this.runLength[O],_=this.runStart[O+1],P=this.runLength[O+1];this.runLength[O]=j+P,O===this.stackSize-3&&(this.runStart[O+1]=this.runStart[O+2],this.runLength[O+1]=this.runLength[O+2]),this.stackSize--;var L=N(M[_],M,k,j,0,I);k+=L,(j-=L)!=0&&(P=T(M[k+j-1],M,_,P,P-1,I))!==0&&(j<=P?this.mergeLow(k,j,_,P):this.mergeHigh(k,j,_,P))},D.prototype.mergeLow=function(O,I,M,k){var j=this.compare,_=this.array,P=this.tmp,L=0;for(L=0;L<I;L++)P[L]=_[O+L];var H=0,X=M,Z=O;if(_[Z++]=_[X++],--k!=0)if(I!==1){for(var G=this.minGallop;;){var F=0,W=0,ee=!1;do if(j(_[X],P[H])<0){if(_[Z++]=_[X++],W++,F=0,--k==0){ee=!0;break}}else if(_[Z++]=P[H++],F++,W=0,--I==1){ee=!0;break}while((F|W)<G);if(ee)break;do{if((F=N(_[X],P,H,I,0,j))!==0){for(L=0;L<F;L++)_[Z+L]=P[H+L];if(Z+=F,H+=F,(I-=F)<=1){ee=!0;break}}if(_[Z++]=_[X++],--k==0){ee=!0;break}if((W=T(P[H],_,X,k,0,j))!==0){for(L=0;L<W;L++)_[Z+L]=_[X+L];if(Z+=W,X+=W,(k-=W)==0){ee=!0;break}}if(_[Z++]=P[H++],--I==1){ee=!0;break}G--}while(F>=v||W>=v);if(ee)break;G<0&&(G=0),G+=2}if(this.minGallop=G,G<1&&(this.minGallop=1),I===1){for(L=0;L<k;L++)_[Z+L]=_[X+L];_[Z+k]=P[H]}else{if(I===0)throw new Error("mergeLow preconditions were not respected");for(L=0;L<I;L++)_[Z+L]=P[H+L]}}else{for(L=0;L<k;L++)_[Z+L]=_[X+L];_[Z+k]=P[H]}else for(L=0;L<I;L++)_[Z+L]=P[H+L]},D.prototype.mergeHigh=function(O,I,M,k){var j=this.compare,_=this.array,P=this.tmp,L=0;for(L=0;L<k;L++)P[L]=_[M+L];var H=O+I-1,X=k-1,Z=M+k-1,G=0,F=0;if(_[Z--]=_[H--],--I!=0)if(k!==1){for(var W=this.minGallop;;){var ee=0,te=0,q=!1;do if(j(P[X],_[H])<0){if(_[Z--]=_[H--],ee++,te=0,--I==0){q=!0;break}}else if(_[Z--]=P[X--],te++,ee=0,--k==1){q=!0;break}while((ee|te)<W);if(q)break;do{if((ee=I-N(P[X],_,O,I,I-1,j))!=0){for(I-=ee,F=1+(Z-=ee),G=1+(H-=ee),L=ee-1;L>=0;L--)_[F+L]=_[G+L];if(I===0){q=!0;break}}if(_[Z--]=P[X--],--k==1){q=!0;break}if((te=k-T(_[H],P,0,k,k-1,j))!=0){for(k-=te,F=1+(Z-=te),G=1+(X-=te),L=0;L<te;L++)_[F+L]=P[G+L];if(k<=1){q=!0;break}}if(_[Z--]=_[H--],--I==0){q=!0;break}W--}while(ee>=v||te>=v);if(q)break;W<0&&(W=0),W+=2}if(this.minGallop=W,W<1&&(this.minGallop=1),k===1){for(F=1+(Z-=I),G=1+(H-=I),L=I-1;L>=0;L--)_[F+L]=_[G+L];_[Z]=P[X]}else{if(k===0)throw new Error("mergeHigh preconditions were not respected");for(G=Z-(k-1),L=0;L<k;L++)_[G+L]=P[L]}}else{for(F=1+(Z-=I),G=1+(H-=I),L=I-1;L>=0;L--)_[F+L]=_[G+L];_[Z]=P[X]}else for(G=Z-(k-1),L=0;L<k;L++)_[G+L]=P[L]},D})()})=="function"?u.apply(n,s):u)===void 0||(r.exports=c)},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(15),c=l(6),d=l(17),f=l(1),v=l(18),g=new WeakMap,p=u.pipe(d.createMoralGraph,v.createTriangulatedGraph,s.createCliqueGraph);n.default=E=>{const b=g.get(E);if(u.isNil(b)){const{graph:C,cliques:S}=p(c.createGraphBuilder(E)),T={cliques:S,sepSets:f.createSepSets(S,C.removeEdge),junctionTree:C};return g.set(E,T),T}return b}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(16),c=l(6),d=u.addIndex(u.forEach);n.createCliqueGraph=f=>{const v=s.createCliques(f),g=c.createGraphBuilder();return d((p,E)=>{const b=u.drop(E+1,v);g.addNodeId(p.id),u.forEach(C=>{((S,T)=>u.any(N=>u.includes(N,T.nodeIds),S.nodeIds))(p,C)&&g.addEdge(p.id,C.id)},b)},v),{graph:g,cliques:v}}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=(c,d)=>{const f=(g=>(p,E)=>u.reduce((b,C)=>{const S=u.intersection(g.getNodeEdges(C),p);return S.length>b.length?S:b},[],u.union(p,E)))(c),v=(g,p,E)=>{u.isEmpty(p)&&u.isEmpty(E)&&d(g);const b=f(p,E);for(const C of u.difference(p,b)){const S=c.getNodeEdges(C);v(u.append(C,g),u.intersection(p,S),u.intersection(E,S));const T=p.indexOf(C);p.splice(T,1),E.push(C)}};return v};n.createCliques=c=>{let d=0;const f=[];return s(c,v=>{f.push({id:`${d++}`,nodeIds:v})})([],c.getNodesId(),[]),f}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(1),c=u.addIndex(u.forEach);n.createMoralGraph=d=>{const f=d.clone();return u.forEach(v=>{c((g,p)=>{const E=u.drop(p+1,v.parents);u.forEach(b=>{f.hasNotEdge(g,b)&&f.addEdge(g,b)},E)},v.parents)},s.filterNodeWithParents(f.getNodes())),f}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(1),c=u.addIndex(u.forEach),d=v=>({[Symbol.iterator]:()=>{const g=v.getNodesId(),p=new Set,E=u.filter(b=>!p.has(b));return{next:()=>{const b=E(g);if(s.isNotEmpty(b)){const C=((S,T)=>{const N=u.head(T),R=u.minBy(D=>S.getNodeEdges(D).length);if(N)return u.reduce(R,N,u.tail(T));throw new Error("There are not node ids available.")})(v,b);return p.add(C),{done:!1,value:C}}return{done:!0,value:""}}}}}),f=v=>v.getNodes().filter(g=>(p=>{const E=v.getNodeEdges(p.id);let b=!0;for(let C=0;C<E.length-1&&b;C++){const S=E[C];b=u.drop(C+1,E).every(T=>v.hasEdge(S,T)||v.hasEdge(T,S))}return b})(g)).map(g=>g.id);n.createTriangulatedGraph=v=>{const g=v.clone(),p=g.clone();f(p).forEach(b=>p.removeNodeId(b));const E=(b=>Array.from(d(b)))(p);return u.forEach(b=>{const C=p.getNodeEdges(b);c((S,T)=>{const N=u.drop(T+1,C);u.forEach(R=>{p.hasNodeId(S)&&p.hasNodeId(R)&&p.hasNotEdge(S,R)&&(p.addEdge(S,R),g.addEdge(S,R))},N)},C),p.removeNodeId(b)},E),g}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(1),s=l(20),c=l(0),d=l(21),f=new WeakMap,v=new WeakMap;n.default=(g,p,E,b,C)=>{const S=((T,N)=>{const R=f.get(T),D=v.get(N);return u.isNotNil(R)&&u.isNotNil(D)?R:null})(g,C);if(c.isNil(S)){const T=s.default(g,p,C),N=d.default(p,E,g,b,T),R=u.normalizeCliquePotentials(N);return((D,O,I)=>{f.set(D,I),v.set(O,!0)})(g,C,R),R}return S}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(1),c=(E,b)=>{const C=new Set;return u.reduce((S,T)=>u.assoc(T.id,((N,R,D)=>s.getNodesFromNetwork(N).reduce((O,I)=>s.hasNodeIdAndParentsInClique(R,I)&&!D.has(I.id)?(D.add(I.id),u.append(I.id,O)):O,[]))(b,T,C),S),{},E.sort((S,T)=>S.nodeIds.length-T.nodeIds.length))},d=(E,b)=>{const C=b.cpt,S=((N,R)=>u.reduce((D,O)=>u.assoc(O,R[O],D),{},N.parents))(b,E),T=u.find(u.pipe(u.prop("when"),u.equals(S)),C);if(T)return T.then[E[b.id]];throw new Error("Not found combination in node")},f=u.curry((E,b)=>s.hasNodeParents(b)?d(E,b):((C,S)=>S.cpt[C[S.id]])(E,b)),v=(E,b,C,S)=>s.objectEqualsByIntersectionKeys(C,E)?((T,N,R)=>{const D=u.map(I=>T[I],R),O=u.map(f(N),D);return u.reduce(u.multiply,1,O)})(b,E,S):0,g=u.curry((E,b,C,S,T)=>({when:T,then:v(T,b,C,S[E.id])})),p=(E,b,C,S)=>{const T=s.buildCombinations(b,E.nodeIds);return u.map(g(E,b,C,S),T)};n.default=(E,b,C)=>{const S=c(E,b),T={};for(const N of E){const R=p(N,b,C,S);T[N.id]=R}return T}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(1),c=l(22),d=u.curry((b,C,S)=>S.ca===C&&S.cb===b);n.findSepSetWithCliques=(b,C,S)=>u.find(u.anyPass([d(b,C),d(C,b)]),S);const f=u.map(b=>({when:b,then:0})),v=u.reduce((b,C)=>u.assoc(C.id,new Map,b),{});n.marginalizePotentials=(b,C,S)=>u.reduce((T,N)=>{const R=u.sum(S.filter(O=>s.objectEqualsByFirstObjectKeys(N.when,O.when)).map(u.prop("then"))),D=u.assoc("then",R,N);return u.append(D,T)},[],f(s.buildCombinations(b,C)));const g=u.pipe(u.path([0,"when"]),u.keys),p=u.curry((b,C,S)=>((T,N,R)=>{const D=u.pick(T);return u.equals(D(N.when),D(R.when))})(b,C,S)?u.assoc("then",u.multiply(S.then,C.then),S):S),E=(b,C,S,T,N,R)=>{const D=N<R?N:R,O=N<R?R:N,I=T[D].get(O),M=((_,P,L,H)=>{const X=n.findSepSetWithCliques(L,H,P);if(X)return X.sharedNodes.sort();throw new Error(`SepSet not found for cliques with id: "${L}" and "${H}"`)})(0,C,N,R),k=n.marginalizePotentials(b,M,S[N]),j=I?((_,P)=>u.map(L=>{const{when:H,then:X}=L,Z=P.find(G=>s.objectEqualsByFirstObjectKeys(H,G.when));return Z?u.assoc("then",u.divide(X,Z.then||1),L):L},_))(k,I):k;S[R]=((_,P)=>{const L=g(P),H=p(L);return u.reduce((X,Z)=>u.map(H(Z),X),_,P)})(S[R],j),T[D].set(O,k)};n.default=(b,C,S,T,N)=>{const R=v(S),D=c.getConnectedComponents(C);return u.reduce((O,[I])=>{const M=((k,j,_,P,L,H)=>{const X=(Z,G)=>{const F=j.getNodeEdges(Z);for(const W of F)G&&W===G||X(W,Z);G&&E(k,_,L,P,Z,G)};return X(H),L})(b,C,T,R,O,I);return((k,j,_,P,L,H)=>{const X=(Z,G)=>{const F=j.getNodeEdges(Z);for(const W of F)G&&W===G||(E(k,_,L,P,Z,W),X(W,Z))};return X(H),L})(b,C,T,R,M,I)},N,D)}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0);n.getConnectedComponents=s=>{const c=s.getNodesId(),d=new Set,f=[],v=g=>{const p=s.getNodeEdges(g).filter(E=>!d.has(E));return d.add(g),u.reduce((E,b)=>(E.push(...v(b)),E),[g],p)};for(const g of c)d.has(g)||f.push(v(g));return f}},function(r,n,l){function u(c,d){const f=[];for(let p=0;p<c.length;p++)for(let E=0;E<d.length;E++){const b=Object.assign({},c[p].states,d[E].states),C=Object.keys(b);f.some(S=>C.every(T=>S.states[T]===b[T]))||f.push({states:b,value:0})}const v=Object.keys(c[0].states),g=Object.keys(d[0].states);for(let p=0;p<f.length;p++){const E=f[p],b=c.find(S=>v.every(T=>S.states[T]===E.states[T])),C=d.find(S=>g.every(T=>S.states[T]===E.states[T]));if(b===void 0||C===void 0)throw new Error("Fatal error");E.value=b.value*C.value}return f}function s(c,d){const f=[];for(let v=0;v<c.length;v++){const g=Object.assign({},c[v].states);delete g[d];const p=Object.keys(g),E=f.find(b=>p.every(C=>b.states[C]===g[C]));E===void 0?f.push({states:g,value:c[v].value}):E.value+=c[v].value}return f}Object.defineProperty(n,"__esModule",{value:!0}),n.infer=(c,d={},f)=>{const v=Object.keys(c),g=Object.keys(d),p=f?Object.keys(f):[],E=v.filter(S=>!g.some(T=>T===S)&&!p.some(T=>T===S)),b=v.map(S=>(function(T,N){const R=[];if(T.parents.length===0){const D=T.cpt;for(let O=0;O<T.states.length;O++){const I=T.states[O];R.push({states:{[T.id]:I},value:D[I]})}}else{const D=T.cpt;for(let O=0;O<D.length;O++)for(let I=0;I<T.states.length;I++){const M=T.states[I];R.push({states:Object.assign({},D[O].when,{[T.id]:M}),value:D[O].then[M]})}}if(N){const D=Object.keys(N);for(let O=R.length-1;O>=0;O--)for(let I=0;I<D.length;I++){const M=D[I];if(R[O].states[M]&&R[O].states[M]!==N[M]){R.splice(O,1);break}}}return R})(c[S],f));for(;E.length>0;){const S=E.shift(),T=b.filter(R=>Object.keys(R[0].states).some(D=>D===S)),N=s(T.reduce((R,D)=>u(R,D)),S);for(let R=0;R<T.length;R++)b.splice(b.indexOf(T[R]),1);b.push(N)}const C=(function(S){const T=S.reduce((N,R)=>N+R.value,0);return T===0?S:S.map(N=>({states:Object.assign({},N.states),value:N.value/T}))})(b.filter(S=>Object.keys(S[0].states).length>0).sort((S,T)=>S.length-T.length).reduce((S,T)=>u(S,T))).find(S=>g.every(T=>S.states[T]===d[T]));return C===void 0?0:C.value}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(25);n.addNode=(c,d)=>(((f,v)=>{if(u.has(f.id,v))throw new Error(`[Node "${f.id}"]: This node is already added to the network.`)})(d,c),s.default(d,c),u.assoc(d.id,d,c))},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(26),s=l(27),c=l(28),d=l(29);n.default=(f,v)=>{s.default(f),d.default(f),c.default(f,v),u.default(f,v)}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(1),s=l(0),c=s.pluck("when"),d=(v,g,p)=>{s.forEach(E=>{if(s.isNil(p[E]))throw new Error(`[Node "${v}"]: Missing probability for "${E}" state.

Node cpt: ${s.toString(p)}`);if(u.isNotNumber(p[E]))throw new Error(`[Node "${v}"]: All probabilities must be a number.

Node cpt type for "${E}": ${s.type(p[E])}
Node cpt for "${E}": ${s.toString(p[E])}
Node cpt: ${s.toString(p)}`)},g)},f=(v,g)=>{const p=u.buildCombinations(g,v.parents),E=c(v.cpt);((b,C,S)=>s.forEach(T=>{if(s.none(s.equals(T),C))throw new Error(`[Node "${b}"]: The node cpt has one missing combination.

Missing node cpt combination (when): ${s.toString(T)}
Node cpt combinations (when's): ${s.toString(C)}
Combinations needed: ${s.toString(S)}`)},S))(v.id,E,p),((b,C,S)=>s.forEach(T=>{s.none(s.equals(T),S)&&console.warn(`[Node "${b}"]: The node cpt has one extra/invalid combination.

Invalid node cpt combination (when): ${s.toString(T)}
Node cpt combinations (when's): ${s.toString(C)}
Combinations needed: ${s.toString(S)}`)},C))(v.id,E,p)};n.default=(v,g)=>{if(s.isNil(v.cpt))throw new Error(`[Node "${v.id}"]: The node cpt is required and must be an object or an array.

Node: ${s.toString(v)}`);if(u.isNotObject(v.cpt))throw new Error(`[Node "${v.id}"]: The node cpt must be an object or an array.

Node cpt type: ${s.type(v.cpt)}
Node cpt: ${s.toString(v.cpt)}`);Array.isArray(v.cpt)?(f(v,g),s.forEach(p=>{d(v.id,v.states,p.then)},v.cpt)):d(v.id,v.states,v.cpt)}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(1);n.default=c=>{if(u.isNil(c.id))throw new Error(`The node id is required and must be a string.

Node: ${u.toString(c)}`);if(s.isNotString(c.id))throw new Error(`The node id must be a string.

Node id type: ${u.type(c.id)}
Node id: ${u.toString(c.id)}
Node: ${u.toString(c)}`)}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(1);n.default=(c,d)=>{if(u.isNil(c.parents))throw new Error(`[Node "${c.id}"]: The node parents is required and must be an array of strings.

Node: ${u.toString(c)}`);if(!Array.isArray(c.parents))throw new Error(`[Node "${c.id}"]: The node parents must be an array of strings.

Node parents type: ${u.type(c.parents)}
Node parents: ${u.toString(c.parents)}`);(({id:f,parents:v},g)=>{u.forEach(p=>{if(s.isNotString(p))throw new Error(`[Node "${f}"]: All node parents must be strings.

Node parent type: ${u.type(p)}
Node parent: ${u.toString(p)}
Node parents: ${u.toString(v)}`);if(!u.has(p,g))throw new Error(`[Node "${f}"]: The node parent "${p}" was not found in the network.`)},v)})(c,d)}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(0),s=l(1);n.default=c=>{if(u.isNil(c.states))throw new Error(`[Node "${c.id}"]: The node states is required and must be an array of strings.

Node: ${u.toString(c)}`);if(!Array.isArray(c.states))throw new Error(`[Node "${c.id}"]: The node states must be an array of strings.

Node states type: ${u.type(c.states)}
Node states: ${u.toString(c.states)}`);if(u.isEmpty(c.states))throw new Error(`[Node "${c.id}"]: The node states must contain at least one string.

Node states: ${u.toString(c.states)}`);c.states.forEach(d=>{if(s.isNotString(d))throw new Error(`[Node "${c.id}"]: All node states must be strings.

Node state type: ${u.type(d)}
Node state: ${u.toString(d)}
Node states: ${u.toString(c.states)}`)})}},function(r,n,l){Object.defineProperty(n,"__esModule",{value:!0});const u=l(31),s=l(0),c=l(3),d=l(5),f=l(2),v=s.mergeRight({force:!1,precision:8}),g=(E,b,C,S)=>s.reduce((T,N)=>s.assoc(N,((R,D,O,I,M)=>f.propIsNotNil(D,I)?s.propEq(D,O,I)?1:0:u(d.infer(R,{[D]:O},I),M.precision))(E,b.id,N,C,S),T),{},c.getNodeStates(b)),p=s.ifElse(s.pipe(s.nthArg(1),s.propEq("force",!0)),s.clone,s.identity);n.inferAll=(E,b={},C={})=>{const S=v(C),T=p(E,S),N=p(b,S);return s.reduce((R,D)=>s.assoc(D.id,g(T,D,N,S),R),{},c.getNodesFromNetwork(E))}},function(r,n,l){function u(s,c,d){if(typeof c!="number")throw new TypeError("Expected value to be a number");if(d===1/0)return c;if(!Number.isInteger(d))throw new TypeError("Expected precision to be an integer");const f=s==="round"&&c<0;let v;f&&(c=Math.abs(c)),[c,v]=`${c}e`.split("e");let g=Math[s](`${c}e${Number(v)+d}`);return[c,v]=`${g}e`.split("e"),g=+`${c}e${Number(v)-d}`,f&&(g=-g),g}r.exports=u.bind(null,"round"),r.exports.up=u.bind(null,"ceil"),r.exports.down=u.bind(null,"floor")}])})})(ad)),ad.exports}var EO=bO();const xO={TERRAIN:"ROAD",PHYSICAL_CONDITION:"AVERAGE",EXPERIENCE:"INTERMEDIATE"};function Kw(t={}){const e={},r={...t};if(Object.keys(t).length>0)for(const[n,l]of Object.entries(xO))n in r||(r[n]=l);for(const n of Object.keys(Rp)){const l=Rp[n];e[n]={};for(const s of l.states)try{const c=EO.infer(Rp,{[n]:s},r);e[n][s]=c}catch(c){console.warn(`Inference failed for ${n}=${s}:`,c.message),e[n][s]=1/l.states.length}const u=Object.values(e[n]).reduce((s,c)=>s+c,0);if(u>0)for(const s of l.states)e[n][s]/=u}return e}function JE(){return Kw({})}const wO=[{id:"road-1",name:"Velocity Aero Pro",type:"ROAD",price:2499,priceRange:"PREMIUM",suspension:"NONE",comfort:"BASIC",image:"",description:"Lightweight carbon frame, perfect for racing and fast fitness rides",specs:{weight:"8.2kg",gears:"22-speed",frame:"Carbon",brakes:"Disc"}},{id:"road-2",name:"SwiftRide Endurance",type:"ROAD",price:1299,priceRange:"MIDRANGE",suspension:"NONE",comfort:"COMFORTABLE",description:"Endurance geometry for long comfortable rides",image:"",specs:{weight:"9.5kg",gears:"20-speed",frame:"Aluminum",brakes:"Disc"}},{id:"road-3",name:"CitySpeed Entry",type:"ROAD",price:649,priceRange:"BUDGET",suspension:"NONE",comfort:"BASIC",image:"",description:"Great entry-level road bike for beginners",specs:{weight:"10.8kg",gears:"16-speed",frame:"Aluminum",brakes:"Rim"}},{id:"hybrid-1",name:"UrbanFlex Commuter",type:"HYBRID",price:599,priceRange:"BUDGET",suspension:"FRONT",comfort:"COMFORTABLE",image:"",description:"Perfect daily commuter with upright position and rack mounts",specs:{weight:"12.5kg",gears:"21-speed",frame:"Aluminum",brakes:"Disc"}},{id:"hybrid-2",name:"PathFinder Sport",type:"HYBRID",price:899,priceRange:"MIDRANGE",suspension:"FRONT",comfort:"COMFORTABLE",image:"",description:"Versatile hybrid for city streets and light trails",specs:{weight:"11.8kg",gears:"24-speed",frame:"Aluminum",brakes:"Hydraulic Disc"}},{id:"hybrid-3",name:"ComfortRide Plus",type:"HYBRID",price:1199,priceRange:"MIDRANGE",suspension:"FRONT",comfort:"PREMIUM_COMFORT",image:"",description:"Maximum comfort hybrid with suspension seatpost",specs:{weight:"13.2kg",gears:"27-speed",frame:"Aluminum",brakes:"Hydraulic Disc"}},{id:"mtb-1",name:"TrailBlazer 29",type:"MOUNTAIN",price:799,priceRange:"BUDGET",suspension:"FRONT",comfort:"BASIC",image:"",description:"Hardtail mountain bike for trail beginners",specs:{weight:"14.2kg",gears:"21-speed",frame:"Aluminum",brakes:"Disc"}},{id:"mtb-2",name:"RockHopper Elite",type:"MOUNTAIN",price:1599,priceRange:"MIDRANGE",suspension:"FRONT",comfort:"COMFORTABLE",image:"",description:"Quality hardtail with RockShox fork for serious trails",specs:{weight:"12.8kg",gears:"12-speed",frame:"Aluminum",brakes:"Hydraulic Disc"}},{id:"mtb-3",name:"Summit Full Sus",type:"MOUNTAIN",price:2899,priceRange:"PREMIUM",suspension:"FULL",comfort:"COMFORTABLE",image:"",description:"Full suspension beast for technical terrain",specs:{weight:"13.5kg",gears:"12-speed",frame:"Carbon/Aluminum",brakes:"Hydraulic Disc"}},{id:"mtb-4",name:"Downhill Monster",type:"MOUNTAIN",price:4299,priceRange:"PREMIUM",suspension:"FULL",comfort:"BASIC",image:"",description:"Aggressive geometry for downhill and bike parks",specs:{weight:"15.2kg",gears:"7-speed",frame:"Carbon",brakes:"Hydraulic Disc 4-piston"}},{id:"ebike-1",name:"PowerCommute City",type:"EBIKE",price:1899,priceRange:"MIDRANGE",suspension:"FRONT",comfort:"PREMIUM_COMFORT",image:"",description:"Comfortable city e-bike with 60km range",specs:{weight:"23kg",gears:"8-speed",frame:"Aluminum",motor:"250W",range:"60km"}},{id:"ebike-2",name:"E-Trail Explorer",type:"EBIKE",price:3499,priceRange:"PREMIUM",suspension:"FULL",comfort:"COMFORTABLE",image:"",description:"Full suspension e-MTB for conquering any hill",specs:{weight:"24kg",gears:"11-speed",frame:"Aluminum",motor:"500W",range:"80km"}},{id:"ebike-3",name:"ElectroCity Budget",type:"EBIKE",price:1299,priceRange:"BUDGET",suspension:"NONE",comfort:"COMFORTABLE",image:"",description:"Affordable city e-bike for flat terrain",specs:{weight:"21kg",gears:"7-speed",frame:"Steel",motor:"250W",range:"40km"}},{id:"gravel-1",name:"AllRoad Adventure",type:"GRAVEL",price:1699,priceRange:"MIDRANGE",suspension:"NONE",comfort:"COMFORTABLE",image:"",description:"Go anywhere gravel bike with wide tire clearance",specs:{weight:"10.2kg",gears:"22-speed",frame:"Aluminum",brakes:"Hydraulic Disc"}},{id:"gravel-2",name:"GravelKing Carbon",type:"GRAVEL",price:3299,priceRange:"PREMIUM",suspension:"NONE",comfort:"COMFORTABLE",image:"",description:"Lightweight carbon gravel racer",specs:{weight:"8.8kg",gears:"24-speed",frame:"Carbon",brakes:"Hydraulic Disc"}},{id:"gravel-3",name:"DirtDrop Entry",type:"GRAVEL",price:899,priceRange:"BUDGET",suspension:"NONE",comfort:"BASIC",image:"",description:"Budget-friendly gravel exploration",specs:{weight:"11.5kg",gears:"18-speed",frame:"Aluminum",brakes:"Mechanical Disc"}}];function TO(t,e){let r=0,n=0;if(e.BIKE_TYPE){const l=e.BIKE_TYPE[t.type]||0;r+=l*40,n+=40}if(e.SUSPENSION){const l=e.SUSPENSION[t.suspension]||0;r+=l*20,n+=20}if(e.PRICE_RANGE){const l=e.PRICE_RANGE[t.priceRange]||0;r+=l*25,n+=25}if(e.COMFORT_LEVEL){const l=e.COMFORT_LEVEL[t.comfort]||0;r+=l*15,n+=15}return n>0?r/n*100:50}function Bp(t,e=5){return wO.map(n=>({...n,score:TO(n,t)})).sort((n,l)=>l.score-n.score).slice(0,e)}function SO(){const[t,e]=Lr.useState([]),[r,n]=Lr.useState({}),[l,u]=Lr.useState(null),[s,c]=Lr.useState([]),[d,f]=Lr.useState({}),[v,g]=Lr.useState(!0),[p,E]=Lr.useState("");Lr.useEffect(()=>{const S=JE();u(S),c(Bp(S,5))},[]);const b=S=>{e(k=>[...k,{type:"user",text:S}]),E(S);const{evidence:T,matched:N}=cO(S),R={...r,...T};n(R);const D=Kw(R);u(D);const O={};s.forEach(k=>{O[k.id]=k.score}),f(O);const I=Bp(D,5);c(I);const M=fO(R,N);setTimeout(()=>{e(k=>[...k,{type:"system",text:M.text,evidence:T}])},300)},C=()=>{e([]),n({});const S=JE();u(S),c(Bp(S,5)),f({}),E("")};return U.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[U.jsx("header",{className:"border-b border-slate-700 bg-slate-900/50 backdrop-blur-sm sticky top-0 z-50",children:U.jsx("div",{className:"max-w-[1800px] mx-auto px-4 py-4",children:U.jsxs("div",{className:"flex items-center justify-between",children:[U.jsxs("div",{children:[U.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:" BikeMatch AI"}),U.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"See how Bayesian Networks enhance LLM recommendations"})]}),U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-400 cursor-pointer",children:[U.jsx("input",{type:"checkbox",checked:v,onChange:S=>g(S.target.checked),className:"w-4 h-4 rounded border-slate-600 bg-slate-700 text-blue-500 focus:ring-blue-500"}),"Show LLM-only comparison"]}),U.jsx("button",{onClick:C,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm font-medium transition-colors",children:"Reset Demo"})]})]})})}),U.jsxs("main",{className:"max-w-[1800px] mx-auto p-4",children:[U.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-blue-900/40 to-purple-900/40 rounded-xl border border-blue-700/50",children:[U.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Why Combine LLMs with Bayesian Networks?"}),U.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[U.jsxs("div",{className:"text-slate-300 space-y-3",children:[U.jsxs("p",{className:"leading-relaxed",children:["Large Language Models are amazing at understanding what you mean when you say things like",U.jsx("em",{className:"text-blue-300",children:'"I have bad knees"'})," or ",U.jsx("em",{className:"text-blue-300",children:'"money is no object"'}),". But they have a critical weakness: ",U.jsx("strong",{className:"text-white",children:"they can hallucinate products that don't exist"})," and can't reason precisely about trade-offs between multiple factors."]}),U.jsxs("p",{className:"leading-relaxed",children:["Bayesian Networks solve this by providing a ",U.jsx("strong",{className:"text-white",children:"mathematically rigorous framework"})," for reasoning under uncertainty. When you combine them with an LLM, you get the best of both worlds: natural language understanding AND grounded, explainable recommendations."]})]}),U.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[U.jsx("h4",{className:"text-white font-semibold mb-3",children:"In this tutorial, you'll see:"}),U.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-green-400",children:""}),U.jsx("span",{children:"How an LLM extracts structured preferences from natural language"})]}),U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-green-400",children:""}),U.jsx("span",{children:"How a Bayesian Network updates probabilities as you provide information"})]}),U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-green-400",children:""}),U.jsx("span",{children:"How belief propagation infers preferences you never explicitly stated"})]}),U.jsxs("li",{className:"flex items-start gap-2",children:[U.jsx("span",{className:"text-green-400",children:""}),U.jsx("span",{children:"Why this approach avoids hallucinations and provides confidence scores"})]})]})]})]})]}),U.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-purple-900/30 to-blue-900/30 rounded-xl border border-purple-700/50",children:[U.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[U.jsx("span",{children:""}),"What is a Bayesian Network?"]}),U.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[U.jsxs("div",{className:"space-y-4",children:[U.jsxs("div",{children:[U.jsx("h4",{className:"text-purple-300 font-semibold mb-2",children:"A Graph of Cause and Effect"}),U.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:["A Bayesian Network is a ",U.jsx("strong",{className:"text-white",children:"probabilistic graphical model"}),' that represents variables and their conditional dependencies as a directed graph. Each node represents a variable (like "Terrain" or "Bike Type"), and arrows show how one variable influences another.']})]}),U.jsxs("div",{children:[U.jsx("h4",{className:"text-purple-300 font-semibold mb-2",children:"The Magic: Belief Propagation"}),U.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:['When you provide evidence (e.g., "I have bad knees"), the network uses ',U.jsx("strong",{className:"text-white",children:"Bayes' Theorem"})," to update ALL related probabilities simultaneously. This is called ",U.jsx("em",{children:"belief propagation"}),"information flows through the network, updating beliefs about variables you never mentioned."]})]}),U.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[U.jsx("h5",{className:"text-blue-300 font-medium mb-2 text-sm",children:" Bayes' Theorem in Action"}),U.jsx("p",{className:"text-slate-400 text-xs mb-2",children:'When you say "bad knees", the network computes:'}),U.jsx("code",{className:"text-green-400 text-xs block bg-slate-900 p-2 rounded",children:"P(E-Bike | bad knees) = P(bad knees | E-Bike)  P(E-Bike) / P(bad knees)"}),U.jsx("p",{className:"text-slate-500 text-xs mt-2",children:`"What's the probability you need an E-Bike, given you have bad knees?"`})]})]}),U.jsxs("div",{className:"space-y-4",children:[U.jsx("h4",{className:"text-purple-300 font-semibold mb-2",children:'Why Bayesian Networks are a "Wise" Choice'}),U.jsxs("div",{className:"space-y-3",children:[U.jsxs("div",{className:"flex gap-3 items-start",children:[U.jsx("span",{className:"text-2xl",children:""}),U.jsxs("div",{children:[U.jsx("h5",{className:"text-white font-medium text-sm",children:"Perfect for Product Filtering"}),U.jsx("p",{className:"text-slate-400 text-xs",children:'E-commerce has many interdependent attributes. Bayesian networks naturally model that "if you want off-road AND have a low budget, then hardtail MTB is more likely than full-suspension."'})]})]}),U.jsxs("div",{className:"flex gap-3 items-start",children:[U.jsx("span",{className:"text-2xl",children:""}),U.jsxs("div",{children:[U.jsx("h5",{className:"text-white font-medium text-sm",children:"Handles Incomplete Information"}),U.jsx("p",{className:"text-slate-400 text-xs",children:"Users rarely specify everything. Bayesian networks gracefully handle missing data by marginalizing over unknown variablesgiving sensible recommendations even with partial input."})]})]}),U.jsxs("div",{className:"flex gap-3 items-start",children:[U.jsx("span",{className:"text-2xl",children:""}),U.jsxs("div",{children:[U.jsx("h5",{className:"text-white font-medium text-sm",children:"Principled Trade-off Resolution"}),U.jsx("p",{className:"text-slate-400 text-xs",children:'"Lightweight AND cheap" is hard to satisfy. Instead of showing "no results", Bayesian networks compute which bikes come closest, with confidence scores for transparency.'})]})]}),U.jsxs("div",{className:"flex gap-3 items-start",children:[U.jsx("span",{className:"text-2xl",children:""}),U.jsxs("div",{children:[U.jsx("h5",{className:"text-white font-medium text-sm",children:"Explainable AI"}),U.jsx("p",{className:"text-slate-400 text-xs",children:"Unlike black-box models, you can trace exactly WHY a recommendation was made. The network structure shows the reasoning path from your inputs to the suggestions."})]})]}),U.jsxs("div",{className:"flex gap-3 items-start",children:[U.jsx("span",{className:"text-2xl",children:""}),U.jsxs("div",{children:[U.jsx("h5",{className:"text-white font-medium text-sm",children:"LLM + Bayesian = Best of Both Worlds"}),U.jsx("p",{className:"text-slate-400 text-xs",children:'The LLM understands natural language ("bad knees"  needs comfort). The Bayesian network provides rigorous probabilistic reasoning over your actual inventory. Together: no hallucinations, real math.'})]})]})]})]})]}),U.jsxs("div",{className:"mt-6 overflow-x-auto",children:[U.jsx("h4",{className:"text-purple-300 font-semibold mb-3",children:" Approach Comparison"}),U.jsxs("table",{className:"w-full text-sm",children:[U.jsx("thead",{children:U.jsxs("tr",{className:"border-b border-slate-700",children:[U.jsx("th",{className:"text-left py-2 px-3 text-slate-400 font-medium",children:"Capability"}),U.jsx("th",{className:"text-center py-2 px-3 text-slate-400 font-medium",children:"Traditional Filters"}),U.jsx("th",{className:"text-center py-2 px-3 text-slate-400 font-medium",children:"LLM Only"}),U.jsx("th",{className:"text-center py-2 px-3 text-green-400 font-medium",children:"Bayesian + LLM"})]})}),U.jsxs("tbody",{className:"text-slate-300",children:[U.jsxs("tr",{className:"border-b border-slate-800",children:[U.jsx("td",{className:"py-2 px-3",children:"Understands natural language"}),U.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),U.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""}),U.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""})]}),U.jsxs("tr",{className:"border-b border-slate-800",children:[U.jsx("td",{className:"py-2 px-3",children:"Handles uncertainty/partial info"}),U.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),U.jsx("td",{className:"text-center py-2 px-3 text-yellow-400",children:"~"}),U.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""})]}),U.jsxs("tr",{className:"border-b border-slate-800",children:[U.jsx("td",{className:"py-2 px-3",children:"Infers hidden preferences"}),U.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),U.jsx("td",{className:"text-center py-2 px-3 text-yellow-400",children:"~"}),U.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""})]}),U.jsxs("tr",{className:"border-b border-slate-800",children:[U.jsx("td",{className:"py-2 px-3",children:"Grounded in real inventory"}),U.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""}),U.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),U.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""})]}),U.jsxs("tr",{className:"border-b border-slate-800",children:[U.jsx("td",{className:"py-2 px-3",children:"Provides confidence scores"}),U.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),U.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),U.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""})]}),U.jsxs("tr",{children:[U.jsx("td",{className:"py-2 px-3",children:"Explainable reasoning"}),U.jsx("td",{className:"text-center py-2 px-3 text-yellow-400",children:"~"}),U.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),U.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""})]})]})]})]})]}),U.jsx("div",{className:"mb-6",children:U.jsx(mO,{})}),U.jsx("div",{className:"mb-4 p-4 bg-green-900/30 border border-green-700/50 rounded-xl",children:U.jsxs("div",{className:"flex items-start gap-3",children:[U.jsx("span",{className:"text-2xl",children:""}),U.jsxs("div",{children:[U.jsx("h3",{className:"font-semibold text-green-300",children:"Now Try the Full Bike Recommender!"}),U.jsx("p",{className:"text-sm text-green-200/70 mt-1",children:"Select a scenario below to see the Bayesian Network in action. Watch how the probabilities update in real-time as the system extracts your preferences and computes the best bike matches."})]})]})}),U.jsxs("div",{className:"grid gap-4 grid-cols-1 lg:grid-cols-2",children:[U.jsx("div",{className:"h-[500px]",children:U.jsx(gS,{messages:t,onMessage:b})}),U.jsx("div",{className:"h-[500px]",children:U.jsx(uO,{posteriors:l,evidence:r})}),U.jsx("div",{className:"h-[500px]",children:U.jsx(sO,{recommendations:s,previousScores:d})}),v&&U.jsx("div",{className:"h-[500px]",children:U.jsx(hO,{userInput:p,showComparison:t.length>0})})]}),U.jsx("div",{className:"mt-4",children:U.jsx(gO,{posteriors:l,evidence:r})}),U.jsxs("div",{className:"mt-4 p-4 bg-slate-800/50 rounded-xl border border-slate-700",children:[U.jsxs("h3",{className:"font-semibold text-white mb-3 flex items-center gap-2",children:[U.jsx("span",{children:""}),"Try these scenarios to see Bayesian inference in action:"]}),U.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[{text:"I have bad knees and need something comfortable",highlight:"Watch e-bike & comfort probabilities spike"},{text:"Budget is tight, under $800",highlight:"See price range shift to budget options"},{text:"I want to ride off-road trails",highlight:"Mountain bike probability increases"},{text:"I'm training for a race",highlight:"Road bike and sport focus emerge"}].map((S,T)=>U.jsxs("button",{onClick:()=>b(S.text),className:"text-left p-3 bg-slate-700/50 hover:bg-slate-700 rounded-lg border border-slate-600 transition-colors group",children:[U.jsxs("p",{className:"text-sm text-slate-300 group-hover:text-white",children:['"',S.text,'"']}),U.jsxs("p",{className:"text-xs text-blue-400 mt-2",children:[" ",S.highlight]})]},T))})]}),U.jsxs("div",{className:"mt-6 p-4 bg-slate-800/30 rounded-xl border border-slate-700/50",children:[U.jsx("h3",{className:"font-semibold text-white mb-2",children:" Key Takeaways"}),U.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm text-slate-400",children:[U.jsxs("div",{children:[U.jsx("h4",{className:"text-slate-300 font-medium mb-1",children:"Handles Uncertainty"}),U.jsx("p",{children:"Instead of binary yes/no filtering, probabilities express how confident the system is about each recommendation."})]}),U.jsxs("div",{children:[U.jsx("h4",{className:"text-slate-300 font-medium mb-1",children:"Infers Hidden Preferences"}),U.jsx("p",{children:`"Bad knees"  high comfort needed  e-bike probability increases. The network makes logical inferences you didn't explicitly state.`})]}),U.jsxs("div",{children:[U.jsx("h4",{className:"text-slate-300 font-medium mb-1",children:"Grounded Recommendations"}),U.jsx("p",{children:"Unlike LLM-only, recommendations come from real inventory with computed match scoresno hallucinated products."})]})]})]})]})]})}hS.createRoot(document.getElementById("root")).render(U.jsx(Lr.StrictMode,{children:U.jsx(SO,{})}));
