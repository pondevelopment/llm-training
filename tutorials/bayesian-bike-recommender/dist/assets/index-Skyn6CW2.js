(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))n(u);new MutationObserver(u=>{for(const l of u)if(l.type==="childList")for(const s of l.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(u){const l={};return u.integrity&&(l.integrity=u.integrity),u.referrerPolicy&&(l.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?l.credentials="include":u.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(u){if(u.ep)return;u.ep=!0;const l=r(u);fetch(u.href,l)}})();function QE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qh={exports:{}},oo={};var ub;function tw(){if(ub)return oo;ub=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,u,l){var s=null;if(l!==void 0&&(s=""+l),u.key!==void 0&&(s=""+u.key),"key"in u){l={};for(var c in u)c!=="key"&&(l[c]=u[c])}else l=u;return u=l.ref,{$$typeof:t,type:n,key:s,ref:u!==void 0?u:null,props:l}}return oo.Fragment=e,oo.jsx=r,oo.jsxs=r,oo}var lb;function rw(){return lb||(lb=1,qh.exports=tw()),qh.exports}var Y=rw(),Hh={exports:{}},it={};var sb;function aw(){if(sb)return it;sb=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),p=Symbol.iterator;function E(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function S(q,Q,J){this.props=q,this.context=Q,this.refs=w,this.updater=J||b}S.prototype.isReactComponent={},S.prototype.setState=function(q,Q){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Q,"setState")},S.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=S.prototype;function R(q,Q,J){this.props=q,this.context=Q,this.refs=w,this.updater=J||b}var D=R.prototype=new N;D.constructor=R,C(D,S.prototype),D.isPureReactComponent=!0;var O=Array.isArray;function I(){}var M={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function P(q,Q,J){var ie=J.ref;return{$$typeof:t,type:q,key:Q,ref:ie!==void 0?ie:null,props:J}}function k(q,Q){return P(q.type,Q,q.props)}function U(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function L(q){var Q={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(J){return Q[J]})}var G=/\/+/g;function X(q,Q){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):Q.toString(36)}function Z(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(I,I):(q.status="pending",q.then(function(Q){q.status==="pending"&&(q.status="fulfilled",q.value=Q)},function(Q){q.status==="pending"&&(q.status="rejected",q.reason=Q)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function H(q,Q,J,ie,oe){var he=typeof q;(he==="undefined"||he==="boolean")&&(q=null);var be=!1;if(q===null)be=!0;else switch(he){case"bigint":case"string":case"number":be=!0;break;case"object":switch(q.$$typeof){case t:case e:be=!0;break;case v:return be=q._init,H(be(q._payload),Q,J,ie,oe)}}if(be)return oe=oe(q),be=ie===""?"."+X(q,0):ie,O(oe)?(J="",be!=null&&(J=be.replace(G,"$&/")+"/"),H(oe,Q,J,"",function(ne){return ne})):oe!=null&&(U(oe)&&(oe=k(oe,J+(oe.key==null||q&&q.key===oe.key?"":(""+oe.key).replace(G,"$&/")+"/")+be)),Q.push(oe)),1;be=0;var Re=ie===""?".":ie+":";if(O(q))for(var ye=0;ye<q.length;ye++)ie=q[ye],he=Re+X(ie,ye),be+=H(ie,Q,J,he,oe);else if(ye=E(q),typeof ye=="function")for(q=ye.call(q),ye=0;!(ie=q.next()).done;)ie=ie.value,he=Re+X(ie,ye++),be+=H(ie,Q,J,he,oe);else if(he==="object"){if(typeof q.then=="function")return H(Z(q),Q,J,ie,oe);throw Q=String(q),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return be}function j(q,Q,J){if(q==null)return q;var ie=[],oe=0;return H(q,ie,"","",function(he){return Q.call(J,he,oe++)}),ie}function W(q){if(q._status===-1){var Q=q._result;Q=Q(),Q.then(function(J){(q._status===0||q._status===-1)&&(q._status=1,q._result=J)},function(J){(q._status===0||q._status===-1)&&(q._status=2,q._result=J)}),q._status===-1&&(q._status=0,q._result=Q)}if(q._status===1)return q._result.default;throw q._result}var ee=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},te={map:j,forEach:function(q,Q,J){j(q,function(){Q.apply(this,arguments)},J)},count:function(q){var Q=0;return j(q,function(){Q++}),Q},toArray:function(q){return j(q,function(Q){return Q})||[]},only:function(q){if(!U(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return it.Activity=g,it.Children=te,it.Component=S,it.Fragment=r,it.Profiler=u,it.PureComponent=R,it.StrictMode=n,it.Suspense=d,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,it.__COMPILER_RUNTIME={__proto__:null,c:function(q){return M.H.useMemoCache(q)}},it.cache=function(q){return function(){return q.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(q,Q,J){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ie=C({},q.props),oe=q.key;if(Q!=null)for(he in Q.key!==void 0&&(oe=""+Q.key),Q)!z.call(Q,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Q.ref===void 0||(ie[he]=Q[he]);var he=arguments.length-2;if(he===1)ie.children=J;else if(1<he){for(var be=Array(he),Re=0;Re<he;Re++)be[Re]=arguments[Re+2];ie.children=be}return P(q.type,oe,ie)},it.createContext=function(q){return q={$$typeof:s,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},it.createElement=function(q,Q,J){var ie,oe={},he=null;if(Q!=null)for(ie in Q.key!==void 0&&(he=""+Q.key),Q)z.call(Q,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(oe[ie]=Q[ie]);var be=arguments.length-2;if(be===1)oe.children=J;else if(1<be){for(var Re=Array(be),ye=0;ye<be;ye++)Re[ye]=arguments[ye+2];oe.children=Re}if(q&&q.defaultProps)for(ie in be=q.defaultProps,be)oe[ie]===void 0&&(oe[ie]=be[ie]);return P(q,he,oe)},it.createRef=function(){return{current:null}},it.forwardRef=function(q){return{$$typeof:c,render:q}},it.isValidElement=U,it.lazy=function(q){return{$$typeof:v,_payload:{_status:-1,_result:q},_init:W}},it.memo=function(q,Q){return{$$typeof:f,type:q,compare:Q===void 0?null:Q}},it.startTransition=function(q){var Q=M.T,J={};M.T=J;try{var ie=q(),oe=M.S;oe!==null&&oe(J,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(I,ee)}catch(he){ee(he)}finally{Q!==null&&J.types!==null&&(Q.types=J.types),M.T=Q}},it.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},it.use=function(q){return M.H.use(q)},it.useActionState=function(q,Q,J){return M.H.useActionState(q,Q,J)},it.useCallback=function(q,Q){return M.H.useCallback(q,Q)},it.useContext=function(q){return M.H.useContext(q)},it.useDebugValue=function(){},it.useDeferredValue=function(q,Q){return M.H.useDeferredValue(q,Q)},it.useEffect=function(q,Q){return M.H.useEffect(q,Q)},it.useEffectEvent=function(q){return M.H.useEffectEvent(q)},it.useId=function(){return M.H.useId()},it.useImperativeHandle=function(q,Q,J){return M.H.useImperativeHandle(q,Q,J)},it.useInsertionEffect=function(q,Q){return M.H.useInsertionEffect(q,Q)},it.useLayoutEffect=function(q,Q){return M.H.useLayoutEffect(q,Q)},it.useMemo=function(q,Q){return M.H.useMemo(q,Q)},it.useOptimistic=function(q,Q){return M.H.useOptimistic(q,Q)},it.useReducer=function(q,Q,J){return M.H.useReducer(q,Q,J)},it.useRef=function(q){return M.H.useRef(q)},it.useState=function(q){return M.H.useState(q)},it.useSyncExternalStore=function(q,Q,J){return M.H.useSyncExternalStore(q,Q,J)},it.useTransition=function(){return M.H.useTransition()},it.version="19.2.4",it}var ob;function Qp(){return ob||(ob=1,Hh.exports=aw()),Hh.exports}var Kr=Qp();const Gh=QE(Kr);var Vh={exports:{}},co={},jh={exports:{}},Fh={};var cb;function nw(){return cb||(cb=1,(function(t){function e(H,j){var W=H.length;H.push(j);e:for(;0<W;){var ee=W-1>>>1,te=H[ee];if(0<u(te,j))H[ee]=j,H[W]=te,W=ee;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var j=H[0],W=H.pop();if(W!==j){H[0]=W;e:for(var ee=0,te=H.length,q=te>>>1;ee<q;){var Q=2*(ee+1)-1,J=H[Q],ie=Q+1,oe=H[ie];if(0>u(J,W))ie<te&&0>u(oe,J)?(H[ee]=oe,H[ie]=W,ee=ie):(H[ee]=J,H[Q]=W,ee=Q);else if(ie<te&&0>u(oe,W))H[ee]=oe,H[ie]=W,ee=ie;else break e}}return j}function u(H,j){var W=H.sortIndex-j.sortIndex;return W!==0?W:H.id-j.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var d=[],f=[],v=1,g=null,p=3,E=!1,b=!1,C=!1,w=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function D(H){for(var j=r(f);j!==null;){if(j.callback===null)n(f);else if(j.startTime<=H)n(f),j.sortIndex=j.expirationTime,e(d,j);else break;j=r(f)}}function O(H){if(C=!1,D(H),!b)if(r(d)!==null)b=!0,I||(I=!0,L());else{var j=r(f);j!==null&&Z(O,j.startTime-H)}}var I=!1,M=-1,z=5,P=-1;function k(){return w?!0:!(t.unstable_now()-P<z)}function U(){if(w=!1,I){var H=t.unstable_now();P=H;var j=!0;try{e:{b=!1,C&&(C=!1,N(M),M=-1),E=!0;var W=p;try{t:{for(D(H),g=r(d);g!==null&&!(g.expirationTime>H&&k());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,p=g.priorityLevel;var te=ee(g.expirationTime<=H);if(H=t.unstable_now(),typeof te=="function"){g.callback=te,D(H),j=!0;break t}g===r(d)&&n(d),D(H)}else n(d);g=r(d)}if(g!==null)j=!0;else{var q=r(f);q!==null&&Z(O,q.startTime-H),j=!1}}break e}finally{g=null,p=W,E=!1}j=void 0}}finally{j?L():I=!1}}}var L;if(typeof R=="function")L=function(){R(U)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,X=G.port2;G.port1.onmessage=U,L=function(){X.postMessage(null)}}else L=function(){S(U,0)};function Z(H,j){M=S(function(){H(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(H){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var W=p;p=j;try{return H()}finally{p=W}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(H,j){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=p;p=H;try{return j()}finally{p=W}},t.unstable_scheduleCallback=function(H,j,W){var ee=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ee+W:ee):W=ee,H){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=W+te,H={id:v++,callback:j,priorityLevel:H,startTime:W,expirationTime:te,sortIndex:-1},W>ee?(H.sortIndex=W,e(f,H),r(d)===null&&H===r(f)&&(C?(N(M),M=-1):C=!0,Z(O,W-ee))):(H.sortIndex=te,e(d,H),b||E||(b=!0,I||(I=!0,L()))),H},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(H){var j=p;return function(){var W=p;p=j;try{return H.apply(this,arguments)}finally{p=W}}}})(Fh)),Fh}var fb;function iw(){return fb||(fb=1,jh.exports=nw()),jh.exports}var Yh={exports:{}},Yr={};var db;function uw(){if(db)return Yr;db=1;var t=Qp();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function l(d,f,v){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:g==null?null:""+g,children:d,containerInfo:f,implementation:v}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Yr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Yr.createPortal=function(d,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(d,f,null,v)},Yr.flushSync=function(d){var f=s.T,v=n.p;try{if(s.T=null,n.p=2,d)return d()}finally{s.T=f,n.p=v,n.d.f()}},Yr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,n.d.C(d,f))},Yr.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Yr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var v=f.as,g=c(v,f.crossOrigin),p=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?n.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:p,fetchPriority:E}):v==="script"&&n.d.X(d,{crossOrigin:g,integrity:p,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Yr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=c(f.as,f.crossOrigin);n.d.M(d,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&n.d.M(d)},Yr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,g=c(v,f.crossOrigin);n.d.L(d,v,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Yr.preloadModule=function(d,f){if(typeof d=="string")if(f){var v=c(f.as,f.crossOrigin);n.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else n.d.m(d)},Yr.requestFormReset=function(d){n.d.r(d)},Yr.unstable_batchedUpdates=function(d,f){return d(f)},Yr.useFormState=function(d,f,v){return s.H.useFormState(d,f,v)},Yr.useFormStatus=function(){return s.H.useHostTransitionStatus()},Yr.version="19.2.4",Yr}var vb;function lw(){if(vb)return Yh.exports;vb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yh.exports=uw(),Yh.exports}var hb;function sw(){if(hb)return co;hb=1;var t=iw(),e=Qp(),r=lw();function n(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function l(a){var i=a,o=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(o=i.return),a=i.return;while(a)}return i.tag===3?o:null}function s(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function c(a){if(a.tag===31){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function d(a){if(l(a)!==a)throw Error(n(188))}function f(a){var i=a.alternate;if(!i){if(i=l(a),i===null)throw Error(n(188));return i!==a?null:a}for(var o=a,h=i;;){var y=o.return;if(y===null)break;var T=y.alternate;if(T===null){if(h=y.return,h!==null){o=h;continue}break}if(y.child===T.child){for(T=y.child;T;){if(T===o)return d(y),a;if(T===h)return d(y),i;T=T.sibling}throw Error(n(188))}if(o.return!==h.return)o=y,h=T;else{for(var B=!1,V=y.child;V;){if(V===o){B=!0,o=y,h=T;break}if(V===h){B=!0,h=y,o=T;break}V=V.sibling}if(!B){for(V=T.child;V;){if(V===o){B=!0,o=T,h=y;break}if(V===h){B=!0,h=T,o=y;break}V=V.sibling}if(!B)throw Error(n(189))}}if(o.alternate!==h)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?a:i}function v(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=v(a),i!==null)return i;a=a.sibling}return null}var g=Object.assign,p=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),R=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function L(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var G=Symbol.for("react.client.reference");function X(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===G?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case C:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList";case P:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case R:return a.displayName||"Context";case N:return(a._context.displayName||"Context")+".Consumer";case D:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case M:return i=a.displayName||null,i!==null?i:X(a.type)||"Memo";case z:i=a._payload,a=a._init;try{return X(a(i))}catch{}}return null}var Z=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ee=[],te=-1;function q(a){return{current:a}}function Q(a){0>te||(a.current=ee[te],ee[te]=null,te--)}function J(a,i){te++,ee[te]=a.current,a.current=i}var ie=q(null),oe=q(null),he=q(null),be=q(null);function Re(a,i){switch(J(he,i),J(oe,a),J(ie,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?D0(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=D0(i),a=O0(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Q(ie),J(ie,a)}function ye(){Q(ie),Q(oe),Q(he)}function ne(a){a.memoizedState!==null&&J(be,a);var i=ie.current,o=O0(i,a.type);i!==o&&(J(oe,a),J(ie,o))}function le(a){oe.current===a&&(Q(ie),Q(oe)),be.current===a&&(Q(be),io._currentValue=W)}var fe,Ee;function De(a){if(fe===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);fe=i&&i[1]||"",Ee=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fe+a+Ee}var Le=!1;function ut(a,i){if(!a||Le)return"";Le=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(me){var ve=me}Reflect.construct(a,[],Ce)}else{try{Ce.call()}catch(me){ve=me}a.call(Ce.prototype)}}else{try{throw Error()}catch(me){ve=me}(Ce=a())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(me){if(me&&ve&&typeof me.stack=="string")return[me.stack,ve.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=h.DetermineComponentFrameRoot(),B=T[0],V=T[1];if(B&&V){var $=B.split(`
`),de=V.split(`
`);for(y=h=0;h<$.length&&!$[h].includes("DetermineComponentFrameRoot");)h++;for(;y<de.length&&!de[y].includes("DetermineComponentFrameRoot");)y++;if(h===$.length||y===de.length)for(h=$.length-1,y=de.length-1;1<=h&&0<=y&&$[h]!==de[y];)y--;for(;1<=h&&0<=y;h--,y--)if($[h]!==de[y]){if(h!==1||y!==1)do if(h--,y--,0>y||$[h]!==de[y]){var xe=`
`+$[h].replace(" at new "," at ");return a.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",a.displayName)),xe}while(1<=h&&0<=y);break}}}finally{Le=!1,Error.prepareStackTrace=o}return(o=a?a.displayName||a.name:"")?De(o):""}function Qe(a,i){switch(a.tag){case 26:case 27:case 5:return De(a.type);case 16:return De("Lazy");case 13:return a.child!==i&&i!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return ut(a.type,!1);case 11:return ut(a.type.render,!1);case 1:return ut(a.type,!0);case 31:return De("Activity");default:return""}}function qe(a){try{var i="",o=null;do i+=Qe(a,o),o=a,a=a.return;while(a);return i}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Ke=Object.prototype.hasOwnProperty,Oe=t.unstable_scheduleCallback,Ge=t.unstable_cancelCallback,Fe=t.unstable_shouldYield,tt=t.unstable_requestPaint,Ie=t.unstable_now,at=t.unstable_getCurrentPriorityLevel,ct=t.unstable_ImmediatePriority,yt=t.unstable_UserBlockingPriority,dt=t.unstable_NormalPriority,bt=t.unstable_LowPriority,We=t.unstable_IdlePriority,_e=t.log,Te=t.unstable_setDisableYieldValue,F=null,se=null;function pe(a){if(typeof _e=="function"&&Te(a),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(F,a)}catch{}}var ge=Math.clz32?Math.clz32:Ne,Se=Math.log,ze=Math.LN2;function Ne(a){return a>>>=0,a===0?32:31-(Se(a)/ze|0)|0}var Ue=256,Be=262144,Ye=4194304;function Je(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function rt(a,i,o){var h=a.pendingLanes;if(h===0)return 0;var y=0,T=a.suspendedLanes,B=a.pingedLanes;a=a.warmLanes;var V=h&134217727;return V!==0?(h=V&~T,h!==0?y=Je(h):(B&=V,B!==0?y=Je(B):o||(o=V&~a,o!==0&&(y=Je(o))))):(V=h&~T,V!==0?y=Je(V):B!==0?y=Je(B):o||(o=h&~a,o!==0&&(y=Je(o)))),y===0?0:i!==0&&i!==y&&(i&T)===0&&(T=y&-y,o=i&-i,T>=o||T===32&&(o&4194048)!==0)?i:y}function ke(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function st(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var a=Ye;return Ye<<=1,(Ye&62914560)===0&&(Ye=4194304),a}function Kt(a){for(var i=[],o=0;31>o;o++)i.push(a);return i}function St(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Tr(a,i,o,h,y,T){var B=a.pendingLanes;a.pendingLanes=o,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=o,a.entangledLanes&=o,a.errorRecoveryDisabledLanes&=o,a.shellSuspendCounter=0;var V=a.entanglements,$=a.expirationTimes,de=a.hiddenUpdates;for(o=B&~o;0<o;){var xe=31-ge(o),Ce=1<<xe;V[xe]=0,$[xe]=-1;var ve=de[xe];if(ve!==null)for(de[xe]=null,xe=0;xe<ve.length;xe++){var me=ve[xe];me!==null&&(me.lane&=-536870913)}o&=~Ce}h!==0&&Gt(a,h,0),T!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=T&~(B&~i))}function Gt(a,i,o){a.pendingLanes|=i,a.suspendedLanes&=~i;var h=31-ge(i);a.entangledLanes|=i,a.entanglements[h]=a.entanglements[h]|1073741824|o&261930}function Vt(a,i){var o=a.entangledLanes|=i;for(a=a.entanglements;o;){var h=31-ge(o),y=1<<h;y&i|a[h]&i&&(a[h]|=i),o&=~y}}function Ut(a,i){var o=i&-i;return o=(o&42)!==0?1:tr(o),(o&(a.suspendedLanes|i))!==0?0:o}function tr(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ia(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function jt(){var a=j.p;return a!==0?a:(a=window.event,a===void 0?32:J0(a.type))}function ua(a,i){var o=j.p;try{return j.p=a,i()}finally{j.p=o}}var dr=Math.random().toString(36).slice(2),Dt="__reactFiber$"+dr,wt="__reactProps$"+dr,Sr="__reactContainer$"+dr,sr="__reactEvents$"+dr,Wt="__reactListeners$"+dr,or="__reactHandles$"+dr,qa="__reactResources$"+dr,vr="__reactMarker$"+dr;function yn(a){delete a[Dt],delete a[wt],delete a[sr],delete a[Wt],delete a[or]}function en(a){var i=a[Dt];if(i)return i;for(var o=a.parentNode;o;){if(i=o[Sr]||o[Dt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(a=k0(a);a!==null;){if(o=a[Dt])return o;a=k0(a)}return i}a=o,o=a.parentNode}return null}function Ha(a){if(a=a[Dt]||a[Sr]){var i=a.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return a}return null}function Ea(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(n(33))}function xa(a){var i=a[qa];return i||(i=a[qa]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function rr(a){a[vr]=!0}var Uu=new Set,$i={};function hr(a,i){Wr(a,i),Wr(a+"Capture",i)}function Wr(a,i){for($i[a]=i,a=0;a<i.length;a++)Uu.add(i[a])}var bn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),En={},wr={};function Pu(a){return Ke.call(wr,a)?!0:Ke.call(En,a)?!1:bn.test(a)?wr[a]=!0:(En[a]=!0,!1)}function $t(a,i,o){if(Pu(i))if(o===null)a.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+o)}}function Da(a,i,o){if(o===null)a.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+o)}}function Mr(a,i,o,h){if(h===null)a.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(o);return}a.setAttributeNS(i,o,""+h)}}function gr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function _r(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ji(a,i,o){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,i);if(!a.hasOwnProperty(i)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,T=h.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return y.call(this)},set:function(B){o=""+B,T.call(this,B)}}),Object.defineProperty(a,i,{enumerable:h.enumerable}),{getValue:function(){return o},setValue:function(B){o=""+B},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function xn(a){if(!a._valueTracker){var i=_r(a)?"checked":"value";a._valueTracker=Ji(a,i,""+a[i])}}function qu(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var o=i.getValue(),h="";return a&&(h=_r(a)?a.checked?"true":"false":a.value),a=h,a!==o?(i.setValue(a),!0):!1}function ai(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Hu=/[\n"\\]/g;function jr(a){return a.replace(Hu,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function tn(a,i,o,h,y,T,B,V){a.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?a.type=B:a.removeAttribute("type"),i!=null?B==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+gr(i)):a.value!==""+gr(i)&&(a.value=""+gr(i)):B!=="submit"&&B!=="reset"||a.removeAttribute("value"),i!=null?rs(a,B,gr(i)):o!=null?rs(a,B,gr(o)):h!=null&&a.removeAttribute("value"),y==null&&T!=null&&(a.defaultChecked=!!T),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.name=""+gr(V):a.removeAttribute("name")}function Gu(a,i,o,h,y,T,B,V){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),i!=null||o!=null){if(!(T!=="submit"&&T!=="reset"||i!=null)){xn(a);return}o=o!=null?""+gr(o):"",i=i!=null?""+gr(i):o,V||i===a.value||(a.value=i),a.defaultValue=i}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=V?a.checked:!!h,a.defaultChecked=!!h,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(a.name=B),xn(a)}function rs(a,i,o){i==="number"&&ai(a.ownerDocument)===a||a.defaultValue===""+o||(a.defaultValue=""+o)}function Tn(a,i,o,h){if(a=a.options,i){i={};for(var y=0;y<o.length;y++)i["$"+o[y]]=!0;for(o=0;o<a.length;o++)y=i.hasOwnProperty("$"+a[o].value),a[o].selected!==y&&(a[o].selected=y),y&&h&&(a[o].defaultSelected=!0)}else{for(o=""+gr(o),i=null,y=0;y<a.length;y++){if(a[y].value===o){a[y].selected=!0,h&&(a[y].defaultSelected=!0);return}i!==null||a[y].disabled||(i=a[y])}i!==null&&(i.selected=!0)}}function Zo(a,i,o){if(i!=null&&(i=""+gr(i),i!==a.value&&(a.value=i),o==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=o!=null?""+gr(o):""}function Qo(a,i,o,h){if(i==null){if(h!=null){if(o!=null)throw Error(n(92));if(Z(h)){if(1<h.length)throw Error(n(93));h=h[0]}o=h}o==null&&(o=""),i=o}o=gr(i),a.defaultValue=o,h=a.textContent,h===o&&h!==""&&h!==null&&(a.value=h),xn(a)}function Sn(a,i){if(i){var o=a.firstChild;if(o&&o===a.lastChild&&o.nodeType===3){o.nodeValue=i;return}}a.textContent=i}var Ld=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eu(a,i,o){var h=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":h?a.setProperty(i,o):typeof o!="number"||o===0||Ld.has(i)?i==="float"?a.cssFloat=o:a[i]=(""+o).trim():a[i]=o+"px"}function Wo(a,i,o){if(i!=null&&typeof i!="object")throw Error(n(62));if(a=a.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var y in i)h=i[y],i.hasOwnProperty(y)&&o[y]!==h&&eu(a,y,h)}else for(var T in i)i.hasOwnProperty(T)&&eu(a,T,i[T])}function as(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $o=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tu(a){return zd.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Oa(){}var ru=null;function au(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var wn=null,An=null;function Vu(a){var i=Ha(a);if(i&&(a=i.stateNode)){var o=a[wt]||null;e:switch(a=i.stateNode,i.type){case"input":if(tn(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=a;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+jr(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var h=o[i];if(h!==a&&h.form===a.form){var y=h[wt]||null;if(!y)throw Error(n(90));tn(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(i=0;i<o.length;i++)h=o[i],h.form===a.form&&qu(h)}break e;case"textarea":Zo(a,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Tn(a,!!o.multiple,i,!1)}}}var ns=!1;function Jo(a,i,o){if(ns)return a(i,o);ns=!0;try{var h=a(i);return h}finally{if(ns=!1,(wn!==null||An!==null)&&(nf(),wn&&(i=wn,a=An,An=wn=null,Vu(i),a)))for(i=0;i<a.length;i++)Vu(a[i])}}function nu(a,i){var o=a.stateNode;if(o===null)return null;var h=o[wt]||null;if(h===null)return null;o=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(o&&typeof o!="function")throw Error(n(231,i,typeof o));return o}var Ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),is=!1;if(Ma)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){is=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{is=!1}var rn=null,us=null,ju=null;function ec(){if(ju)return ju;var a,i=us,o=i.length,h,y="value"in rn?rn.value:rn.textContent,T=y.length;for(a=0;a<o&&i[a]===y[a];a++);var B=o-a;for(h=1;h<=B&&i[o-h]===y[T-h];h++);return ju=y.slice(a,1<h?1-h:void 0)}function Fu(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Yu(){return!0}function tc(){return!1}function kr(a){function i(o,h,y,T,B){this._reactName=o,this._targetInst=y,this.type=h,this.nativeEvent=T,this.target=B,this.currentTarget=null;for(var V in a)a.hasOwnProperty(V)&&(o=a[V],this[V]=o?o(T):T[V]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Yu:tc,this.isPropagationStopped=tc,this}return g(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Yu)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Yu)},persist:function(){},isPersistent:Yu}),i}var an={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},iu=kr(an),uu=g({},an,{view:0,detail:0}),_d=kr(uu),ls,Ku,lu,su=g({},uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==lu&&(lu&&a.type==="mousemove"?(ls=a.screenX-lu.screenX,Ku=a.screenY-lu.screenY):Ku=ls=0,lu=a),ls)},movementY:function(a){return"movementY"in a?a.movementY:Ku}}),ss=kr(su),kd=g({},su,{dataTransfer:0}),Ud=kr(kd),Pd=g({},uu,{relatedTarget:0}),os=kr(Pd),qd=g({},an,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=kr(qd),Gd=g({},an,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Vd=kr(Gd),jd=g({},an,{data:0}),rc=kr(jd),Fd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xu(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=Kd[a])?!!i[a]:!1}function cs(){return Xu}var Xd=g({},uu,{key:function(a){if(a.key){var i=Fd[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=Fu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Yd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(a){return a.type==="keypress"?Fu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Fu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Zd=kr(Xd),Qd=g({},su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ac=kr(Qd),Wd=g({},uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),$d=kr(Wd),nc=g({},an,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jd=kr(nc),ev=g({},su,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),tv=kr(ev),rv=g({},an,{newState:0,oldState:0}),av=kr(rv),nv=[9,13,27,32],fs=Ma&&"CompositionEvent"in window,ou=null;Ma&&"documentMode"in document&&(ou=document.documentMode);var iv=Ma&&"TextEvent"in window&&!ou,ic=Ma&&(!fs||ou&&8<ou&&11>=ou),uc=" ",lc=!1;function ds(a,i){switch(a){case"keyup":return nv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zu(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ni=!1;function uv(a,i){switch(a){case"compositionend":return Zu(i);case"keypress":return i.which!==32?null:(lc=!0,uc);case"textInput":return a=i.data,a===uc&&lc?null:a;default:return null}}function cu(a,i){if(ni)return a==="compositionend"||!fs&&ds(a,i)?(a=ec(),ju=us=rn=null,ni=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ic&&i.locale!=="ko"?null:i.data;default:return null}}var sc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oc(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!sc[a.type]:i==="textarea"}function cc(a,i,o,h){wn?An?An.push(h):An=[h]:wn=h,i=df(i,"onChange"),0<i.length&&(o=new iu("onChange","change",null,o,h),a.push({event:o,listeners:i}))}var fu=null,du=null;function lv(a){S0(a,0)}function Qu(a){var i=Ea(a);if(qu(i))return a}function ii(a,i){if(a==="change")return i}var vs=!1;if(Ma){var hs;if(Ma){var gs="oninput"in document;if(!gs){var ps=document.createElement("div");ps.setAttribute("oninput","return;"),gs=typeof ps.oninput=="function"}hs=gs}else hs=!1;vs=hs&&(!document.documentMode||9<document.documentMode)}function fc(){fu&&(fu.detachEvent("onpropertychange",dc),du=fu=null)}function dc(a){if(a.propertyName==="value"&&Qu(du)){var i=[];cc(i,du,a,au(a)),Jo(lv,i)}}function ms(a,i,o){a==="focusin"?(fc(),fu=i,du=o,fu.attachEvent("onpropertychange",dc)):a==="focusout"&&fc()}function vc(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Qu(du)}function Wu(a,i){if(a==="click")return Qu(i)}function sv(a,i){if(a==="input"||a==="change")return Qu(i)}function ov(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var $r=typeof Object.is=="function"?Object.is:ov;function vu(a,i){if($r(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var o=Object.keys(a),h=Object.keys(i);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var y=o[h];if(!Ke.call(i,y)||!$r(a[y],i[y]))return!1}return!0}function hc(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function gc(a,i){var o=hc(a);a=0;for(var h;o;){if(o.nodeType===3){if(h=a+o.textContent.length,a<=i&&h>=i)return{node:o,offset:i-a};a=h}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=hc(o)}}function pc(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?pc(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function mc(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=ai(a.document);i instanceof a.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)a=i.contentWindow;else break;i=ai(a.document)}return i}function ys(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var cv=Ma&&"documentMode"in document&&11>=document.documentMode,ui=null,$u=null,li=null,bs=!1;function yc(a,i,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;bs||ui==null||ui!==ai(h)||(h=ui,"selectionStart"in h&&ys(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),li&&vu(li,h)||(li=h,h=df($u,"onSelect"),0<h.length&&(i=new iu("onSelect","select",null,i,o),a.push({event:i,listeners:h}),i.target=ui)))}function Nn(a,i){var o={};return o[a.toLowerCase()]=i.toLowerCase(),o["Webkit"+a]="webkit"+i,o["Moz"+a]="moz"+i,o}var si={animationend:Nn("Animation","AnimationEnd"),animationiteration:Nn("Animation","AnimationIteration"),animationstart:Nn("Animation","AnimationStart"),transitionrun:Nn("Transition","TransitionRun"),transitionstart:Nn("Transition","TransitionStart"),transitioncancel:Nn("Transition","TransitionCancel"),transitionend:Nn("Transition","TransitionEnd")},hu={},gu={};Ma&&(gu=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function Rn(a){if(hu[a])return hu[a];if(!si[a])return a;var i=si[a],o;for(o in i)if(i.hasOwnProperty(o)&&o in gu)return hu[a]=i[o];return a}var bc=Rn("animationend"),Ec=Rn("animationiteration"),xc=Rn("animationstart"),fv=Rn("transitionrun"),dv=Rn("transitionstart"),vv=Rn("transitioncancel"),Tc=Rn("transitionend"),Sc=new Map,Es="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Es.push("scrollEnd");function la(a,i){Sc.set(a,i),hr(i,[a])}var Ju=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},sa=[],oi=0,xs=0;function el(){for(var a=oi,i=xs=oi=0;i<a;){var o=sa[i];sa[i++]=null;var h=sa[i];sa[i++]=null;var y=sa[i];sa[i++]=null;var T=sa[i];if(sa[i++]=null,h!==null&&y!==null){var B=h.pending;B===null?y.next=y:(y.next=B.next,B.next=y),h.pending=y}T!==0&&Ss(o,y,T)}}function tl(a,i,o,h){sa[oi++]=a,sa[oi++]=i,sa[oi++]=o,sa[oi++]=h,xs|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function Ts(a,i,o,h){return tl(a,i,o,h),rl(a)}function Dn(a,i){return tl(a,null,null,i),rl(a)}function Ss(a,i,o){a.lanes|=o;var h=a.alternate;h!==null&&(h.lanes|=o);for(var y=!1,T=a.return;T!==null;)T.childLanes|=o,h=T.alternate,h!==null&&(h.childLanes|=o),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(y=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,y&&i!==null&&(y=31-ge(o),a=T.hiddenUpdates,h=a[y],h===null?a[y]=[i]:h.push(i),i.lane=o|536870912),T):null}function rl(a){if(50<$s)throw $s=0,ch=null,Error(n(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var On={};function wc(a,i,o,h){this.tag=a,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jr(a,i,o,h){return new wc(a,i,o,h)}function al(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ga(a,i){var o=a.alternate;return o===null?(o=Jr(a.tag,i,a.key,a.mode),o.elementType=a.elementType,o.type=a.type,o.stateNode=a.stateNode,o.alternate=a,a.alternate=o):(o.pendingProps=i,o.type=a.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=a.flags&65011712,o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,i=a.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=a.sibling,o.index=a.index,o.ref=a.ref,o.refCleanup=a.refCleanup,o}function Ac(a,i){a.flags&=65011714;var o=a.alternate;return o===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,i=o.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function nl(a,i,o,h,y,T){var B=0;if(h=a,typeof a=="function")al(a)&&(B=1);else if(typeof a=="string")B=VS(a,o,ie.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case P:return a=Jr(31,o,i,y),a.elementType=P,a.lanes=T,a;case C:return Mn(o.children,y,T,i);case w:B=8,y|=24;break;case S:return a=Jr(12,o,i,y|2),a.elementType=S,a.lanes=T,a;case O:return a=Jr(13,o,i,y),a.elementType=O,a.lanes=T,a;case I:return a=Jr(19,o,i,y),a.elementType=I,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case R:B=10;break e;case N:B=9;break e;case D:B=11;break e;case M:B=14;break e;case z:B=16,h=null;break e}B=29,o=Error(n(130,a===null?"null":typeof a,"")),h=null}return i=Jr(B,o,i,y),i.elementType=a,i.type=h,i.lanes=T,i}function Mn(a,i,o,h){return a=Jr(7,a,h,i),a.lanes=o,a}function il(a,i,o){return a=Jr(6,a,null,i),a.lanes=o,a}function Cc(a){var i=Jr(18,null,null,0);return i.stateNode=a,i}function ws(a,i,o){return i=Jr(4,a.children!==null?a.children:[],a.key,i),i.lanes=o,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var As=new WeakMap;function oa(a,i){if(typeof a=="object"&&a!==null){var o=As.get(a);return o!==void 0?o:(i={value:a,source:i,stack:qe(i)},As.set(a,i),i)}return{value:a,source:i,stack:qe(i)}}var ci=[],Bn=0,ul=null,fi=0,ca=[],fa=0,nn=null,Ba=1,Ia="";function Va(a,i){ci[Bn++]=fi,ci[Bn++]=ul,ul=a,fi=i}function Nc(a,i,o){ca[fa++]=Ba,ca[fa++]=Ia,ca[fa++]=nn,nn=a;var h=Ba;a=Ia;var y=32-ge(h)-1;h&=~(1<<y),o+=1;var T=32-ge(i)+y;if(30<T){var B=y-y%5;T=(h&(1<<B)-1).toString(32),h>>=B,y-=B,Ba=1<<32-ge(i)+y|o<<y|h,Ia=T+a}else Ba=1<<T|o<<y|h,Ia=a}function ll(a){a.return!==null&&(Va(a,1),Nc(a,1,0))}function Cs(a){for(;a===ul;)ul=ci[--Bn],ci[Bn]=null,fi=ci[--Bn],ci[Bn]=null;for(;a===nn;)nn=ca[--fa],ca[fa]=null,Ia=ca[--fa],ca[fa]=null,Ba=ca[--fa],ca[fa]=null}function Rc(a,i){ca[fa++]=Ba,ca[fa++]=Ia,ca[fa++]=nn,Ba=i.id,Ia=i.overflow,nn=a}var pr=null,Pt=null,vt=!1,un=null,ea=!1,Ns=Error(n(519));function ln(a){var i=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pu(oa(i,a)),Ns}function Dc(a){var i=a.stateNode,o=a.type,h=a.memoizedProps;switch(i[Dt]=a,i[wt]=h,o){case"dialog":gt("cancel",i),gt("close",i);break;case"iframe":case"object":case"embed":gt("load",i);break;case"video":case"audio":for(o=0;o<eo.length;o++)gt(eo[o],i);break;case"source":gt("error",i);break;case"img":case"image":case"link":gt("error",i),gt("load",i);break;case"details":gt("toggle",i);break;case"input":gt("invalid",i),Gu(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":gt("invalid",i);break;case"textarea":gt("invalid",i),Qo(i,h.value,h.defaultValue,h.children)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||h.suppressHydrationWarning===!0||N0(i.textContent,o)?(h.popover!=null&&(gt("beforetoggle",i),gt("toggle",i)),h.onScroll!=null&&gt("scroll",i),h.onScrollEnd!=null&&gt("scrollend",i),h.onClick!=null&&(i.onclick=Oa),i=!0):i=!1,i||ln(a,!0)}function Oc(a){for(pr=a.return;pr;)switch(pr.tag){case 5:case 31:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:pr=pr.return}}function di(a){if(a!==pr)return!1;if(!vt)return Oc(a),vt=!0,!1;var i=a.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=a.type,o=!(o!=="form"&&o!=="button")||Ah(a.type,a.memoizedProps)),o=!o),o&&Pt&&ln(a),Oc(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Pt=_0(a)}else if(i===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Pt=_0(a)}else i===27?(i=Pt,Ni(a.type)?(a=Oh,Oh=null,Pt=a):Pt=i):Pt=pr?za(a.stateNode.nextSibling):null;return!0}function In(){Pt=pr=null,vt=!1}function Rs(){var a=un;return a!==null&&(ga===null?ga=a:ga.push.apply(ga,a),un=null),a}function pu(a){un===null?un=[a]:un.push(a)}var Ds=q(null),Ln=null,ja=null;function sn(a,i,o){J(Ds,i._currentValue),i._currentValue=o}function Fa(a){a._currentValue=Ds.current,Q(Ds)}function Os(a,i,o){for(;a!==null;){var h=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),a===o)break;a=a.return}}function Ms(a,i,o,h){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var T=y.dependencies;if(T!==null){var B=y.child;T=T.firstContext;e:for(;T!==null;){var V=T;T=y;for(var $=0;$<i.length;$++)if(V.context===i[$]){T.lanes|=o,V=T.alternate,V!==null&&(V.lanes|=o),Os(T.return,o,a),h||(B=null);break e}T=V.next}}else if(y.tag===18){if(B=y.return,B===null)throw Error(n(341));B.lanes|=o,T=B.alternate,T!==null&&(T.lanes|=o),Os(B,o,a),B=null}else B=y.child;if(B!==null)B.return=y;else for(B=y;B!==null;){if(B===a){B=null;break}if(y=B.sibling,y!==null){y.return=B.return,B=y;break}B=B.return}y=B}}function vi(a,i,o,h){a=null;for(var y=i,T=!1;y!==null;){if(!T){if((y.flags&524288)!==0)T=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var B=y.alternate;if(B===null)throw Error(n(387));if(B=B.memoizedProps,B!==null){var V=y.type;$r(y.pendingProps.value,B.value)||(a!==null?a.push(V):a=[V])}}else if(y===be.current){if(B=y.alternate,B===null)throw Error(n(387));B.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(io):a=[io])}y=y.return}a!==null&&Ms(i,a,o,h),i.flags|=262144}function sl(a){for(a=a.firstContext;a!==null;){if(!$r(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function zn(a){Ln=a,ja=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ar(a){return Mc(Ln,a)}function ol(a,i){return Ln===null&&zn(a),Mc(a,i)}function Mc(a,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},ja===null){if(a===null)throw Error(n(308));ja=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else ja=ja.next=i;return o}var hv=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(o,h){a.push(h)}};this.abort=function(){i.aborted=!0,a.forEach(function(o){return o()})}},gv=t.unstable_scheduleCallback,pv=t.unstable_NormalPriority,nr={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bs(){return{controller:new hv,data:new Map,refCount:0}}function Ya(a){a.refCount--,a.refCount===0&&gv(pv,function(){a.controller.abort()})}var mu=null,Is=0,hi=0,gi=null;function mv(a,i){if(mu===null){var o=mu=[];Is=0,hi=ph(),gi={status:"pending",value:void 0,then:function(h){o.push(h)}}}return Is++,i.then(Bc,Bc),i}function Bc(){if(--Is===0&&mu!==null){gi!==null&&(gi.status="fulfilled");var a=mu;mu=null,hi=0,gi=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function yv(a,i){var o=[],h={status:"pending",value:null,reason:null,then:function(y){o.push(y)}};return a.then(function(){h.status="fulfilled",h.value=i;for(var y=0;y<o.length;y++)(0,o[y])(i)},function(y){for(h.status="rejected",h.reason=y,y=0;y<o.length;y++)(0,o[y])(void 0)}),h}var Ls=H.S;H.S=function(a,i){Wy=Ie(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&mv(a,i),Ls!==null&&Ls(a,i)};var _n=q(null);function zs(){var a=_n.current;return a!==null?a:qt.pooledCache}function cl(a,i){i===null?J(_n,_n.current):J(_n,i.pool)}function Ic(){var a=zs();return a===null?null:{parent:nr._currentValue,pool:a}}var pi=Error(n(460)),_s=Error(n(474)),fl=Error(n(542)),dl={then:function(){}};function ks(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Lc(a,i,o){switch(o=a[o],o===void 0?a.push(i):o!==i&&(i.then(Oa,Oa),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,_c(a),a;default:if(typeof i.status=="string")i.then(Oa,Oa);else{if(a=qt,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=i,a.status="pending",a.then(function(h){if(i.status==="pending"){var y=i;y.status="fulfilled",y.value=h}},function(h){if(i.status==="pending"){var y=i;y.status="rejected",y.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,_c(a),a}throw Un=i,pi}}function kn(a){try{var i=a._init;return i(a._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Un=o,pi):o}}var Un=null;function zc(){if(Un===null)throw Error(n(459));var a=Un;return Un=null,a}function _c(a){if(a===pi||a===fl)throw Error(n(483))}var mi=null,yu=0;function vl(a){var i=yu;return yu+=1,mi===null&&(mi=[]),Lc(mi,a,i)}function m(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function x(a,i){throw i.$$typeof===p?Error(n(525)):(a=Object.prototype.toString.call(i),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function A(a){function i(ue,ae){if(a){var ce=ue.deletions;ce===null?(ue.deletions=[ae],ue.flags|=16):ce.push(ae)}}function o(ue,ae){if(!a)return null;for(;ae!==null;)i(ue,ae),ae=ae.sibling;return null}function h(ue){for(var ae=new Map;ue!==null;)ue.key!==null?ae.set(ue.key,ue):ae.set(ue.index,ue),ue=ue.sibling;return ae}function y(ue,ae){return ue=Ga(ue,ae),ue.index=0,ue.sibling=null,ue}function T(ue,ae,ce){return ue.index=ce,a?(ce=ue.alternate,ce!==null?(ce=ce.index,ce<ae?(ue.flags|=67108866,ae):ce):(ue.flags|=67108866,ae)):(ue.flags|=1048576,ae)}function B(ue){return a&&ue.alternate===null&&(ue.flags|=67108866),ue}function V(ue,ae,ce,we){return ae===null||ae.tag!==6?(ae=il(ce,ue.mode,we),ae.return=ue,ae):(ae=y(ae,ce),ae.return=ue,ae)}function $(ue,ae,ce,we){var Ze=ce.type;return Ze===C?xe(ue,ae,ce.props.children,we,ce.key):ae!==null&&(ae.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===z&&kn(Ze)===ae.type)?(ae=y(ae,ce.props),m(ae,ce),ae.return=ue,ae):(ae=nl(ce.type,ce.key,ce.props,null,ue.mode,we),m(ae,ce),ae.return=ue,ae)}function de(ue,ae,ce,we){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ce.containerInfo||ae.stateNode.implementation!==ce.implementation?(ae=ws(ce,ue.mode,we),ae.return=ue,ae):(ae=y(ae,ce.children||[]),ae.return=ue,ae)}function xe(ue,ae,ce,we,Ze){return ae===null||ae.tag!==7?(ae=Mn(ce,ue.mode,we,Ze),ae.return=ue,ae):(ae=y(ae,ce),ae.return=ue,ae)}function Ce(ue,ae,ce){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=il(""+ae,ue.mode,ce),ae.return=ue,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return ce=nl(ae.type,ae.key,ae.props,null,ue.mode,ce),m(ce,ae),ce.return=ue,ce;case b:return ae=ws(ae,ue.mode,ce),ae.return=ue,ae;case z:return ae=kn(ae),Ce(ue,ae,ce)}if(Z(ae)||L(ae))return ae=Mn(ae,ue.mode,ce,null),ae.return=ue,ae;if(typeof ae.then=="function")return Ce(ue,vl(ae),ce);if(ae.$$typeof===R)return Ce(ue,ol(ue,ae),ce);x(ue,ae)}return null}function ve(ue,ae,ce,we){var Ze=ae!==null?ae.key:null;if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return Ze!==null?null:V(ue,ae,""+ce,we);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case E:return ce.key===Ze?$(ue,ae,ce,we):null;case b:return ce.key===Ze?de(ue,ae,ce,we):null;case z:return ce=kn(ce),ve(ue,ae,ce,we)}if(Z(ce)||L(ce))return Ze!==null?null:xe(ue,ae,ce,we,null);if(typeof ce.then=="function")return ve(ue,ae,vl(ce),we);if(ce.$$typeof===R)return ve(ue,ae,ol(ue,ce),we);x(ue,ce)}return null}function me(ue,ae,ce,we,Ze){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return ue=ue.get(ce)||null,V(ae,ue,""+we,Ze);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case E:return ue=ue.get(we.key===null?ce:we.key)||null,$(ae,ue,we,Ze);case b:return ue=ue.get(we.key===null?ce:we.key)||null,de(ae,ue,we,Ze);case z:return we=kn(we),me(ue,ae,ce,we,Ze)}if(Z(we)||L(we))return ue=ue.get(ce)||null,xe(ae,ue,we,Ze,null);if(typeof we.then=="function")return me(ue,ae,ce,vl(we),Ze);if(we.$$typeof===R)return me(ue,ae,ce,ol(ae,we),Ze);x(ae,we)}return null}function He(ue,ae,ce,we){for(var Ze=null,At=null,je=ae,ot=ae=0,mt=null;je!==null&&ot<ce.length;ot++){je.index>ot?(mt=je,je=null):mt=je.sibling;var Ct=ve(ue,je,ce[ot],we);if(Ct===null){je===null&&(je=mt);break}a&&je&&Ct.alternate===null&&i(ue,je),ae=T(Ct,ae,ot),At===null?Ze=Ct:At.sibling=Ct,At=Ct,je=mt}if(ot===ce.length)return o(ue,je),vt&&Va(ue,ot),Ze;if(je===null){for(;ot<ce.length;ot++)je=Ce(ue,ce[ot],we),je!==null&&(ae=T(je,ae,ot),At===null?Ze=je:At.sibling=je,At=je);return vt&&Va(ue,ot),Ze}for(je=h(je);ot<ce.length;ot++)mt=me(je,ue,ot,ce[ot],we),mt!==null&&(a&&mt.alternate!==null&&je.delete(mt.key===null?ot:mt.key),ae=T(mt,ae,ot),At===null?Ze=mt:At.sibling=mt,At=mt);return a&&je.forEach(function(Bi){return i(ue,Bi)}),vt&&Va(ue,ot),Ze}function et(ue,ae,ce,we){if(ce==null)throw Error(n(151));for(var Ze=null,At=null,je=ae,ot=ae=0,mt=null,Ct=ce.next();je!==null&&!Ct.done;ot++,Ct=ce.next()){je.index>ot?(mt=je,je=null):mt=je.sibling;var Bi=ve(ue,je,Ct.value,we);if(Bi===null){je===null&&(je=mt);break}a&&je&&Bi.alternate===null&&i(ue,je),ae=T(Bi,ae,ot),At===null?Ze=Bi:At.sibling=Bi,At=Bi,je=mt}if(Ct.done)return o(ue,je),vt&&Va(ue,ot),Ze;if(je===null){for(;!Ct.done;ot++,Ct=ce.next())Ct=Ce(ue,Ct.value,we),Ct!==null&&(ae=T(Ct,ae,ot),At===null?Ze=Ct:At.sibling=Ct,At=Ct);return vt&&Va(ue,ot),Ze}for(je=h(je);!Ct.done;ot++,Ct=ce.next())Ct=me(je,ue,ot,Ct.value,we),Ct!==null&&(a&&Ct.alternate!==null&&je.delete(Ct.key===null?ot:Ct.key),ae=T(Ct,ae,ot),At===null?Ze=Ct:At.sibling=Ct,At=Ct);return a&&je.forEach(function(ew){return i(ue,ew)}),vt&&Va(ue,ot),Ze}function _t(ue,ae,ce,we){if(typeof ce=="object"&&ce!==null&&ce.type===C&&ce.key===null&&(ce=ce.props.children),typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case E:e:{for(var Ze=ce.key;ae!==null;){if(ae.key===Ze){if(Ze=ce.type,Ze===C){if(ae.tag===7){o(ue,ae.sibling),we=y(ae,ce.props.children),we.return=ue,ue=we;break e}}else if(ae.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===z&&kn(Ze)===ae.type){o(ue,ae.sibling),we=y(ae,ce.props),m(we,ce),we.return=ue,ue=we;break e}o(ue,ae);break}else i(ue,ae);ae=ae.sibling}ce.type===C?(we=Mn(ce.props.children,ue.mode,we,ce.key),we.return=ue,ue=we):(we=nl(ce.type,ce.key,ce.props,null,ue.mode,we),m(we,ce),we.return=ue,ue=we)}return B(ue);case b:e:{for(Ze=ce.key;ae!==null;){if(ae.key===Ze)if(ae.tag===4&&ae.stateNode.containerInfo===ce.containerInfo&&ae.stateNode.implementation===ce.implementation){o(ue,ae.sibling),we=y(ae,ce.children||[]),we.return=ue,ue=we;break e}else{o(ue,ae);break}else i(ue,ae);ae=ae.sibling}we=ws(ce,ue.mode,we),we.return=ue,ue=we}return B(ue);case z:return ce=kn(ce),_t(ue,ae,ce,we)}if(Z(ce))return He(ue,ae,ce,we);if(L(ce)){if(Ze=L(ce),typeof Ze!="function")throw Error(n(150));return ce=Ze.call(ce),et(ue,ae,ce,we)}if(typeof ce.then=="function")return _t(ue,ae,vl(ce),we);if(ce.$$typeof===R)return _t(ue,ae,ol(ue,ce),we);x(ue,ce)}return typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint"?(ce=""+ce,ae!==null&&ae.tag===6?(o(ue,ae.sibling),we=y(ae,ce),we.return=ue,ue=we):(o(ue,ae),we=il(ce,ue.mode,we),we.return=ue,ue=we),B(ue)):o(ue,ae)}return function(ue,ae,ce,we){try{yu=0;var Ze=_t(ue,ae,ce,we);return mi=null,Ze}catch(je){if(je===pi||je===fl)throw je;var At=Jr(29,je,null,ue.mode);return At.lanes=we,At.return=ue,At}}}var _=A(!0),K=A(!1),re=!1;function Ae(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ve(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Et(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Xt(a,i,o){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(Rt&2)!==0){var y=h.pending;return y===null?i.next=i:(i.next=y.next,y.next=i),h.pending=i,i=rl(a),Ss(a,null,o),i}return tl(a,h,i,o),rl(a)}function Fr(a,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var h=i.lanes;h&=a.pendingLanes,o|=h,i.lanes=o,Vt(a,o)}}function Ka(a,i){var o=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var y=null,T=null;if(o=o.firstBaseUpdate,o!==null){do{var B={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};T===null?y=T=B:T=T.next=B,o=o.next}while(o!==null);T===null?y=T=i:T=T.next=i}else y=T=i;o={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:T,shared:h.shared,callbacks:h.callbacks},a.updateQueue=o;return}a=o.lastBaseUpdate,a===null?o.firstBaseUpdate=i:a.next=i,o.lastBaseUpdate=i}var bv=!1;function Us(){if(bv){var a=gi;if(a!==null)throw a}}function Ps(a,i,o,h){bv=!1;var y=a.updateQueue;re=!1;var T=y.firstBaseUpdate,B=y.lastBaseUpdate,V=y.shared.pending;if(V!==null){y.shared.pending=null;var $=V,de=$.next;$.next=null,B===null?T=de:B.next=de,B=$;var xe=a.alternate;xe!==null&&(xe=xe.updateQueue,V=xe.lastBaseUpdate,V!==B&&(V===null?xe.firstBaseUpdate=de:V.next=de,xe.lastBaseUpdate=$))}if(T!==null){var Ce=y.baseState;B=0,xe=de=$=null,V=T;do{var ve=V.lane&-536870913,me=ve!==V.lane;if(me?(pt&ve)===ve:(h&ve)===ve){ve!==0&&ve===hi&&(bv=!0),xe!==null&&(xe=xe.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var He=a,et=V;ve=i;var _t=o;switch(et.tag){case 1:if(He=et.payload,typeof He=="function"){Ce=He.call(_t,Ce,ve);break e}Ce=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=et.payload,ve=typeof He=="function"?He.call(_t,Ce,ve):He,ve==null)break e;Ce=g({},Ce,ve);break e;case 2:re=!0}}ve=V.callback,ve!==null&&(a.flags|=64,me&&(a.flags|=8192),me=y.callbacks,me===null?y.callbacks=[ve]:me.push(ve))}else me={lane:ve,tag:V.tag,payload:V.payload,callback:V.callback,next:null},xe===null?(de=xe=me,$=Ce):xe=xe.next=me,B|=ve;if(V=V.next,V===null){if(V=y.shared.pending,V===null)break;me=V,V=me.next,me.next=null,y.lastBaseUpdate=me,y.shared.pending=null}}while(!0);xe===null&&($=Ce),y.baseState=$,y.firstBaseUpdate=de,y.lastBaseUpdate=xe,T===null&&(y.shared.lanes=0),Ti|=B,a.lanes=B,a.memoizedState=Ce}}function Tm(a,i){if(typeof a!="function")throw Error(n(191,a));a.call(i)}function Sm(a,i){var o=a.callbacks;if(o!==null)for(a.callbacks=null,a=0;a<o.length;a++)Tm(o[a],i)}var hl=q(null),kc=q(0);function wm(a,i){a=Kn,J(kc,a),J(hl,i),Kn=a|i.baseLanes}function Ev(){J(kc,Kn),J(hl,hl.current)}function xv(){Kn=kc.current,Q(hl),Q(kc)}var Ta=q(null),La=null;function yi(a){var i=a.alternate;J(cr,cr.current&1),J(Ta,a),La===null&&(i===null||hl.current!==null||i.memoizedState!==null)&&(La=a)}function Tv(a){J(cr,cr.current),J(Ta,a),La===null&&(La=a)}function Am(a){a.tag===22?(J(cr,cr.current),J(Ta,a),La===null&&(La=a)):bi()}function bi(){J(cr,cr.current),J(Ta,Ta.current)}function Sa(a){Q(Ta),La===a&&(La=null),Q(cr)}var cr=q(0);function Uc(a){for(var i=a;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Rh(o)||Dh(o)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Pn=0,lt=null,Lt=null,mr=null,Pc=!1,gl=!1,bu=!1,qc=0,qs=0,pl=null,jT=0;function ir(){throw Error(n(321))}function Sv(a,i){if(i===null)return!1;for(var o=0;o<i.length&&o<a.length;o++)if(!$r(a[o],i[o]))return!1;return!0}function wv(a,i,o,h,y,T){return Pn=T,lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,H.H=a===null||a.memoizedState===null?sy:Pv,bu=!1,T=o(h,y),bu=!1,gl&&(T=Nm(i,o,h,y)),Cm(a),T}function Cm(a){H.H=Vs;var i=Lt!==null&&Lt.next!==null;if(Pn=0,mr=Lt=lt=null,Pc=!1,qs=0,pl=null,i)throw Error(n(300));a===null||yr||(a=a.dependencies,a!==null&&sl(a)&&(yr=!0))}function Nm(a,i,o,h){lt=a;var y=0;do{if(gl&&(pl=null),qs=0,gl=!1,25<=y)throw Error(n(301));if(y+=1,mr=Lt=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}H.H=oy,T=i(o,h)}while(gl);return T}function FT(){var a=H.H,i=a.useState()[0];return i=typeof i.then=="function"?Hs(i):i,a=a.useState()[0],(Lt!==null?Lt.memoizedState:null)!==a&&(lt.flags|=1024),i}function Av(){var a=qc!==0;return qc=0,a}function Cv(a,i,o){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~o}function Nv(a){if(Pc){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}Pc=!1}Pn=0,mr=Lt=lt=null,gl=!1,qs=qc=0,pl=null}function ta(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mr===null?lt.memoizedState=mr=a:mr=mr.next=a,mr}function fr(){if(Lt===null){var a=lt.alternate;a=a!==null?a.memoizedState:null}else a=Lt.next;var i=mr===null?lt.memoizedState:mr.next;if(i!==null)mr=i,Lt=a;else{if(a===null)throw lt.alternate===null?Error(n(467)):Error(n(310));Lt=a,a={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},mr===null?lt.memoizedState=mr=a:mr=mr.next=a}return mr}function Hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hs(a){var i=qs;return qs+=1,pl===null&&(pl=[]),a=Lc(pl,a,i),i=lt,(mr===null?i.memoizedState:mr.next)===null&&(i=i.alternate,H.H=i===null||i.memoizedState===null?sy:Pv),a}function Gc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Hs(a);if(a.$$typeof===R)return Ar(a)}throw Error(n(438,String(a)))}function Rv(a){var i=null,o=lt.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var h=lt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(y){return y.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=Hc(),lt.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(a),h=0;h<a;h++)o[h]=k;return i.index++,o}function qn(a,i){return typeof i=="function"?i(a):i}function Vc(a){var i=fr();return Dv(i,Lt,a)}function Dv(a,i,o){var h=a.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=o;var y=a.baseQueue,T=h.pending;if(T!==null){if(y!==null){var B=y.next;y.next=T.next,T.next=B}i.baseQueue=y=T,h.pending=null}if(T=a.baseState,y===null)a.memoizedState=T;else{i=y.next;var V=B=null,$=null,de=i,xe=!1;do{var Ce=de.lane&-536870913;if(Ce!==de.lane?(pt&Ce)===Ce:(Pn&Ce)===Ce){var ve=de.revertLane;if(ve===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ce===hi&&(xe=!0);else if((Pn&ve)===ve){de=de.next,ve===hi&&(xe=!0);continue}else Ce={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},$===null?(V=$=Ce,B=T):$=$.next=Ce,lt.lanes|=ve,Ti|=ve;Ce=de.action,bu&&o(T,Ce),T=de.hasEagerState?de.eagerState:o(T,Ce)}else ve={lane:Ce,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},$===null?(V=$=ve,B=T):$=$.next=ve,lt.lanes|=Ce,Ti|=Ce;de=de.next}while(de!==null&&de!==i);if($===null?B=T:$.next=V,!$r(T,a.memoizedState)&&(yr=!0,xe&&(o=gi,o!==null)))throw o;a.memoizedState=T,a.baseState=B,a.baseQueue=$,h.lastRenderedState=T}return y===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function Ov(a){var i=fr(),o=i.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=a;var h=o.dispatch,y=o.pending,T=i.memoizedState;if(y!==null){o.pending=null;var B=y=y.next;do T=a(T,B.action),B=B.next;while(B!==y);$r(T,i.memoizedState)||(yr=!0),i.memoizedState=T,i.baseQueue===null&&(i.baseState=T),o.lastRenderedState=T}return[T,h]}function Rm(a,i,o){var h=lt,y=fr(),T=vt;if(T){if(o===void 0)throw Error(n(407));o=o()}else o=i();var B=!$r((Lt||y).memoizedState,o);if(B&&(y.memoizedState=o,yr=!0),y=y.queue,Iv(Mm.bind(null,h,y,a),[a]),y.getSnapshot!==i||B||mr!==null&&mr.memoizedState.tag&1){if(h.flags|=2048,ml(9,{destroy:void 0},Om.bind(null,h,y,o,i),null),qt===null)throw Error(n(349));T||(Pn&127)!==0||Dm(h,i,o)}return o}function Dm(a,i,o){a.flags|=16384,a={getSnapshot:i,value:o},i=lt.updateQueue,i===null?(i=Hc(),lt.updateQueue=i,i.stores=[a]):(o=i.stores,o===null?i.stores=[a]:o.push(a))}function Om(a,i,o,h){i.value=o,i.getSnapshot=h,Bm(i)&&Im(a)}function Mm(a,i,o){return o(function(){Bm(i)&&Im(a)})}function Bm(a){var i=a.getSnapshot;a=a.value;try{var o=i();return!$r(a,o)}catch{return!0}}function Im(a){var i=Dn(a,2);i!==null&&pa(i,a,2)}function Mv(a){var i=ta();if(typeof a=="function"){var o=a;if(a=o(),bu){pe(!0);try{o()}finally{pe(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:a},i}function Lm(a,i,o,h){return a.baseState=o,Dv(a,Lt,typeof h=="function"?h:qn)}function YT(a,i,o,h,y){if(Yc(a))throw Error(n(485));if(a=i.action,a!==null){var T={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){T.listeners.push(B)}};H.T!==null?o(!0):T.isTransition=!1,h(T),o=i.pending,o===null?(T.next=i.pending=T,zm(i,T)):(T.next=o.next,i.pending=o.next=T)}}function zm(a,i){var o=i.action,h=i.payload,y=a.state;if(i.isTransition){var T=H.T,B={};H.T=B;try{var V=o(y,h),$=H.S;$!==null&&$(B,V),_m(a,i,V)}catch(de){Bv(a,i,de)}finally{T!==null&&B.types!==null&&(T.types=B.types),H.T=T}}else try{T=o(y,h),_m(a,i,T)}catch(de){Bv(a,i,de)}}function _m(a,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){km(a,i,h)},function(h){return Bv(a,i,h)}):km(a,i,o)}function km(a,i,o){i.status="fulfilled",i.value=o,Um(i),a.state=o,i=a.pending,i!==null&&(o=i.next,o===i?a.pending=null:(o=o.next,i.next=o,zm(a,o)))}function Bv(a,i,o){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=o,Um(i),i=i.next;while(i!==h)}a.action=null}function Um(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function Pm(a,i){return i}function qm(a,i){if(vt){var o=qt.formState;if(o!==null){e:{var h=lt;if(vt){if(Pt){t:{for(var y=Pt,T=ea;y.nodeType!==8;){if(!T){y=null;break t}if(y=za(y.nextSibling),y===null){y=null;break t}}T=y.data,y=T==="F!"||T==="F"?y:null}if(y){Pt=za(y.nextSibling),h=y.data==="F!";break e}}ln(h)}h=!1}h&&(i=o[0])}}return o=ta(),o.memoizedState=o.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pm,lastRenderedState:i},o.queue=h,o=iy.bind(null,lt,h),h.dispatch=o,h=Mv(!1),T=Uv.bind(null,lt,!1,h.queue),h=ta(),y={state:i,dispatch:null,action:a,pending:null},h.queue=y,o=YT.bind(null,lt,y,T,o),y.dispatch=o,h.memoizedState=a,[i,o,!1]}function Hm(a){var i=fr();return Gm(i,Lt,a)}function Gm(a,i,o){if(i=Dv(a,i,Pm)[0],a=Vc(qn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=Hs(i)}catch(B){throw B===pi?fl:B}else h=i;i=fr();var y=i.queue,T=y.dispatch;return o!==i.memoizedState&&(lt.flags|=2048,ml(9,{destroy:void 0},KT.bind(null,y,o),null)),[h,T,a]}function KT(a,i){a.action=i}function Vm(a){var i=fr(),o=Lt;if(o!==null)return Gm(i,o,a);fr(),i=i.memoizedState,o=fr();var h=o.queue.dispatch;return o.memoizedState=a,[i,h,!1]}function ml(a,i,o,h){return a={tag:a,create:o,deps:h,inst:i,next:null},i=lt.updateQueue,i===null&&(i=Hc(),lt.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=a.next=a:(h=o.next,o.next=a,a.next=h,i.lastEffect=a),a}function jm(){return fr().memoizedState}function jc(a,i,o,h){var y=ta();lt.flags|=a,y.memoizedState=ml(1|i,{destroy:void 0},o,h===void 0?null:h)}function Fc(a,i,o,h){var y=fr();h=h===void 0?null:h;var T=y.memoizedState.inst;Lt!==null&&h!==null&&Sv(h,Lt.memoizedState.deps)?y.memoizedState=ml(i,T,o,h):(lt.flags|=a,y.memoizedState=ml(1|i,T,o,h))}function Fm(a,i){jc(8390656,8,a,i)}function Iv(a,i){Fc(2048,8,a,i)}function XT(a){lt.flags|=4;var i=lt.updateQueue;if(i===null)i=Hc(),lt.updateQueue=i,i.events=[a];else{var o=i.events;o===null?i.events=[a]:o.push(a)}}function Ym(a){var i=fr().memoizedState;return XT({ref:i,nextImpl:a}),function(){if((Rt&2)!==0)throw Error(n(440));return i.impl.apply(void 0,arguments)}}function Km(a,i){return Fc(4,2,a,i)}function Xm(a,i){return Fc(4,4,a,i)}function Zm(a,i){if(typeof i=="function"){a=a();var o=i(a);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function Qm(a,i,o){o=o!=null?o.concat([a]):null,Fc(4,4,Zm.bind(null,i,a),o)}function Lv(){}function Wm(a,i){var o=fr();i=i===void 0?null:i;var h=o.memoizedState;return i!==null&&Sv(i,h[1])?h[0]:(o.memoizedState=[a,i],a)}function $m(a,i){var o=fr();i=i===void 0?null:i;var h=o.memoizedState;if(i!==null&&Sv(i,h[1]))return h[0];if(h=a(),bu){pe(!0);try{a()}finally{pe(!1)}}return o.memoizedState=[h,i],h}function zv(a,i,o){return o===void 0||(Pn&1073741824)!==0&&(pt&261930)===0?a.memoizedState=i:(a.memoizedState=o,a=Jy(),lt.lanes|=a,Ti|=a,o)}function Jm(a,i,o,h){return $r(o,i)?o:hl.current!==null?(a=zv(a,o,h),$r(a,i)||(yr=!0),a):(Pn&42)===0||(Pn&1073741824)!==0&&(pt&261930)===0?(yr=!0,a.memoizedState=o):(a=Jy(),lt.lanes|=a,Ti|=a,i)}function ey(a,i,o,h,y){var T=j.p;j.p=T!==0&&8>T?T:8;var B=H.T,V={};H.T=V,Uv(a,!1,i,o);try{var $=y(),de=H.S;if(de!==null&&de(V,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var xe=yv($,h);Gs(a,i,xe,Ca(a))}else Gs(a,i,h,Ca(a))}catch(Ce){Gs(a,i,{then:function(){},status:"rejected",reason:Ce},Ca())}finally{j.p=T,B!==null&&V.types!==null&&(B.types=V.types),H.T=B}}function ZT(){}function _v(a,i,o,h){if(a.tag!==5)throw Error(n(476));var y=ty(a).queue;ey(a,y,i,W,o===null?ZT:function(){return ry(a),o(h)})}function ty(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:W},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:o},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function ry(a){var i=ty(a);i.next===null&&(i=a.alternate.memoizedState),Gs(a,i.next.queue,{},Ca())}function kv(){return Ar(io)}function ay(){return fr().memoizedState}function ny(){return fr().memoizedState}function QT(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var o=Ca();a=Et(o);var h=Xt(i,a,o);h!==null&&(pa(h,i,o),Fr(h,i,o)),i={cache:Bs()},a.payload=i;return}i=i.return}}function WT(a,i,o){var h=Ca();o={lane:h,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yc(a)?uy(i,o):(o=Ts(a,i,o,h),o!==null&&(pa(o,a,h),ly(o,i,h)))}function iy(a,i,o){var h=Ca();Gs(a,i,o,h)}function Gs(a,i,o,h){var y={lane:h,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yc(a))uy(i,y);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=i.lastRenderedReducer,T!==null))try{var B=i.lastRenderedState,V=T(B,o);if(y.hasEagerState=!0,y.eagerState=V,$r(V,B))return tl(a,i,y,0),qt===null&&el(),!1}catch{}if(o=Ts(a,i,y,h),o!==null)return pa(o,a,h),ly(o,i,h),!0}return!1}function Uv(a,i,o,h){if(h={lane:2,revertLane:ph(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Yc(a)){if(i)throw Error(n(479))}else i=Ts(a,o,h,2),i!==null&&pa(i,a,2)}function Yc(a){var i=a.alternate;return a===lt||i!==null&&i===lt}function uy(a,i){gl=Pc=!0;var o=a.pending;o===null?i.next=i:(i.next=o.next,o.next=i),a.pending=i}function ly(a,i,o){if((o&4194048)!==0){var h=i.lanes;h&=a.pendingLanes,o|=h,i.lanes=o,Vt(a,o)}}var Vs={readContext:Ar,use:Gc,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useLayoutEffect:ir,useInsertionEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useSyncExternalStore:ir,useId:ir,useHostTransitionStatus:ir,useFormState:ir,useActionState:ir,useOptimistic:ir,useMemoCache:ir,useCacheRefresh:ir};Vs.useEffectEvent=ir;var sy={readContext:Ar,use:Gc,useCallback:function(a,i){return ta().memoizedState=[a,i===void 0?null:i],a},useContext:Ar,useEffect:Fm,useImperativeHandle:function(a,i,o){o=o!=null?o.concat([a]):null,jc(4194308,4,Zm.bind(null,i,a),o)},useLayoutEffect:function(a,i){return jc(4194308,4,a,i)},useInsertionEffect:function(a,i){jc(4,2,a,i)},useMemo:function(a,i){var o=ta();i=i===void 0?null:i;var h=a();if(bu){pe(!0);try{a()}finally{pe(!1)}}return o.memoizedState=[h,i],h},useReducer:function(a,i,o){var h=ta();if(o!==void 0){var y=o(i);if(bu){pe(!0);try{o(i)}finally{pe(!1)}}}else y=i;return h.memoizedState=h.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},h.queue=a,a=a.dispatch=WT.bind(null,lt,a),[h.memoizedState,a]},useRef:function(a){var i=ta();return a={current:a},i.memoizedState=a},useState:function(a){a=Mv(a);var i=a.queue,o=iy.bind(null,lt,i);return i.dispatch=o,[a.memoizedState,o]},useDebugValue:Lv,useDeferredValue:function(a,i){var o=ta();return zv(o,a,i)},useTransition:function(){var a=Mv(!1);return a=ey.bind(null,lt,a.queue,!0,!1),ta().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,o){var h=lt,y=ta();if(vt){if(o===void 0)throw Error(n(407));o=o()}else{if(o=i(),qt===null)throw Error(n(349));(pt&127)!==0||Dm(h,i,o)}y.memoizedState=o;var T={value:o,getSnapshot:i};return y.queue=T,Fm(Mm.bind(null,h,T,a),[a]),h.flags|=2048,ml(9,{destroy:void 0},Om.bind(null,h,T,o,i),null),o},useId:function(){var a=ta(),i=qt.identifierPrefix;if(vt){var o=Ia,h=Ba;o=(h&~(1<<32-ge(h)-1)).toString(32)+o,i="_"+i+"R_"+o,o=qc++,0<o&&(i+="H"+o.toString(32)),i+="_"}else o=jT++,i="_"+i+"r_"+o.toString(32)+"_";return a.memoizedState=i},useHostTransitionStatus:kv,useFormState:qm,useActionState:qm,useOptimistic:function(a){var i=ta();i.memoizedState=i.baseState=a;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Uv.bind(null,lt,!0,o),o.dispatch=i,[a,i]},useMemoCache:Rv,useCacheRefresh:function(){return ta().memoizedState=QT.bind(null,lt)},useEffectEvent:function(a){var i=ta(),o={impl:a};return i.memoizedState=o,function(){if((Rt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}},Pv={readContext:Ar,use:Gc,useCallback:Wm,useContext:Ar,useEffect:Iv,useImperativeHandle:Qm,useInsertionEffect:Km,useLayoutEffect:Xm,useMemo:$m,useReducer:Vc,useRef:jm,useState:function(){return Vc(qn)},useDebugValue:Lv,useDeferredValue:function(a,i){var o=fr();return Jm(o,Lt.memoizedState,a,i)},useTransition:function(){var a=Vc(qn)[0],i=fr().memoizedState;return[typeof a=="boolean"?a:Hs(a),i]},useSyncExternalStore:Rm,useId:ay,useHostTransitionStatus:kv,useFormState:Hm,useActionState:Hm,useOptimistic:function(a,i){var o=fr();return Lm(o,Lt,a,i)},useMemoCache:Rv,useCacheRefresh:ny};Pv.useEffectEvent=Ym;var oy={readContext:Ar,use:Gc,useCallback:Wm,useContext:Ar,useEffect:Iv,useImperativeHandle:Qm,useInsertionEffect:Km,useLayoutEffect:Xm,useMemo:$m,useReducer:Ov,useRef:jm,useState:function(){return Ov(qn)},useDebugValue:Lv,useDeferredValue:function(a,i){var o=fr();return Lt===null?zv(o,a,i):Jm(o,Lt.memoizedState,a,i)},useTransition:function(){var a=Ov(qn)[0],i=fr().memoizedState;return[typeof a=="boolean"?a:Hs(a),i]},useSyncExternalStore:Rm,useId:ay,useHostTransitionStatus:kv,useFormState:Vm,useActionState:Vm,useOptimistic:function(a,i){var o=fr();return Lt!==null?Lm(o,Lt,a,i):(o.baseState=a,[a,o.queue.dispatch])},useMemoCache:Rv,useCacheRefresh:ny};oy.useEffectEvent=Ym;function qv(a,i,o,h){i=a.memoizedState,o=o(h,i),o=o==null?i:g({},i,o),a.memoizedState=o,a.lanes===0&&(a.updateQueue.baseState=o)}var Hv={enqueueSetState:function(a,i,o){a=a._reactInternals;var h=Ca(),y=Et(h);y.payload=i,o!=null&&(y.callback=o),i=Xt(a,y,h),i!==null&&(pa(i,a,h),Fr(i,a,h))},enqueueReplaceState:function(a,i,o){a=a._reactInternals;var h=Ca(),y=Et(h);y.tag=1,y.payload=i,o!=null&&(y.callback=o),i=Xt(a,y,h),i!==null&&(pa(i,a,h),Fr(i,a,h))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var o=Ca(),h=Et(o);h.tag=2,i!=null&&(h.callback=i),i=Xt(a,h,o),i!==null&&(pa(i,a,o),Fr(i,a,o))}};function cy(a,i,o,h,y,T,B){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,T,B):i.prototype&&i.prototype.isPureReactComponent?!vu(o,h)||!vu(y,T):!0}function fy(a,i,o,h){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,h),i.state!==a&&Hv.enqueueReplaceState(i,i.state,null)}function Eu(a,i){var o=i;if("ref"in i){o={};for(var h in i)h!=="ref"&&(o[h]=i[h])}if(a=a.defaultProps){o===i&&(o=g({},o));for(var y in a)o[y]===void 0&&(o[y]=a[y])}return o}function dy(a){Ju(a)}function vy(a){console.error(a)}function hy(a){Ju(a)}function Kc(a,i){try{var o=a.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function gy(a,i,o){try{var h=a.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Gv(a,i,o){return o=Et(o),o.tag=3,o.payload={element:null},o.callback=function(){Kc(a,i)},o}function py(a){return a=Et(a),a.tag=3,a}function my(a,i,o,h){var y=o.type.getDerivedStateFromError;if(typeof y=="function"){var T=h.value;a.payload=function(){return y(T)},a.callback=function(){gy(i,o,h)}}var B=o.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(a.callback=function(){gy(i,o,h),typeof y!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var V=h.stack;this.componentDidCatch(h.value,{componentStack:V!==null?V:""})})}function $T(a,i,o,h,y){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=o.alternate,i!==null&&vi(i,o,y,!0),o=Ta.current,o!==null){switch(o.tag){case 31:case 13:return La===null?uf():o.alternate===null&&ur===0&&(ur=3),o.flags&=-257,o.flags|=65536,o.lanes=y,h===dl?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([h]):i.add(h),vh(a,h,y)),!1;case 22:return o.flags|=65536,h===dl?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([h]):o.add(h)),vh(a,h,y)),!1}throw Error(n(435,o.tag))}return vh(a,h,y),uf(),!1}if(vt)return i=Ta.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=y,h!==Ns&&(a=Error(n(422),{cause:h}),pu(oa(a,o)))):(h!==Ns&&(i=Error(n(423),{cause:h}),pu(oa(i,o))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,h=oa(h,o),y=Gv(a.stateNode,h,y),Ka(a,y),ur!==4&&(ur=2)),!1;var T=Error(n(520),{cause:h});if(T=oa(T,o),Ws===null?Ws=[T]:Ws.push(T),ur!==4&&(ur=2),i===null)return!0;h=oa(h,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,a=y&-y,o.lanes|=a,a=Gv(o.stateNode,h,a),Ka(o,a),!1;case 1:if(i=o.type,T=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Si===null||!Si.has(T))))return o.flags|=65536,y&=-y,o.lanes|=y,y=py(y),my(y,a,o,h),Ka(o,y),!1}o=o.return}while(o!==null);return!1}var Vv=Error(n(461)),yr=!1;function Ur(a,i,o,h){i.child=a===null?K(i,null,o,h):_(i,a.child,o,h)}function yy(a,i,o,h,y){o=o.render;var T=i.ref;if("ref"in h){var B={};for(var V in h)V!=="ref"&&(B[V]=h[V])}else B=h;return zn(i),h=wv(a,i,o,B,T,y),V=Av(),a!==null&&!yr?(Cv(a,i,y),Hn(a,i,y)):(vt&&V&&ll(i),i.flags|=1,Ur(a,i,h,y),i.child)}function by(a,i,o,h,y){if(a===null){var T=o.type;return typeof T=="function"&&!al(T)&&T.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=T,Ey(a,i,T,h,y)):(a=nl(o.type,null,h,i,i.mode,y),a.ref=i.ref,a.return=i,i.child=a)}if(T=a.child,!Wv(a,y)){var B=T.memoizedProps;if(o=o.compare,o=o!==null?o:vu,o(B,h)&&a.ref===i.ref)return Hn(a,i,y)}return i.flags|=1,a=Ga(T,h),a.ref=i.ref,a.return=i,i.child=a}function Ey(a,i,o,h,y){if(a!==null){var T=a.memoizedProps;if(vu(T,h)&&a.ref===i.ref)if(yr=!1,i.pendingProps=h=T,Wv(a,y))(a.flags&131072)!==0&&(yr=!0);else return i.lanes=a.lanes,Hn(a,i,y)}return jv(a,i,o,h,y)}function xy(a,i,o,h){var y=h.children,T=a!==null?a.memoizedState:null;if(a===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((i.flags&128)!==0){if(T=T!==null?T.baseLanes|o:o,a!==null){for(h=i.child=a.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~T}else h=0,i.child=null;return Ty(a,i,T,o,h)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&cl(i,T!==null?T.cachePool:null),T!==null?wm(i,T):Ev(),Am(i);else return h=i.lanes=536870912,Ty(a,i,T!==null?T.baseLanes|o:o,o,h)}else T!==null?(cl(i,T.cachePool),wm(i,T),bi(),i.memoizedState=null):(a!==null&&cl(i,null),Ev(),bi());return Ur(a,i,y,o),i.child}function js(a,i){return a!==null&&a.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ty(a,i,o,h,y){var T=zs();return T=T===null?null:{parent:nr._currentValue,pool:T},i.memoizedState={baseLanes:o,cachePool:T},a!==null&&cl(i,null),Ev(),Am(i),a!==null&&vi(a,i,h,!0),i.childLanes=y,null}function Xc(a,i){return i=Qc({mode:i.mode,children:i.children},a.mode),i.ref=a.ref,a.child=i,i.return=a,i}function Sy(a,i,o){return _(i,a.child,null,o),a=Xc(i,i.pendingProps),a.flags|=2,Sa(i),i.memoizedState=null,a}function JT(a,i,o){var h=i.pendingProps,y=(i.flags&128)!==0;if(i.flags&=-129,a===null){if(vt){if(h.mode==="hidden")return a=Xc(i,h),i.lanes=536870912,js(null,a);if(Tv(i),(a=Pt)?(a=z0(a,ea),a=a!==null&&a.data==="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:nn!==null?{id:Ba,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},o=Cc(a),o.return=i,i.child=o,pr=i,Pt=null)):a=null,a===null)throw ln(i);return i.lanes=536870912,null}return Xc(i,h)}var T=a.memoizedState;if(T!==null){var B=T.dehydrated;if(Tv(i),y)if(i.flags&256)i.flags&=-257,i=Sy(a,i,o);else if(i.memoizedState!==null)i.child=a.child,i.flags|=128,i=null;else throw Error(n(558));else if(yr||vi(a,i,o,!1),y=(o&a.childLanes)!==0,yr||y){if(h=qt,h!==null&&(B=Ut(h,o),B!==0&&B!==T.retryLane))throw T.retryLane=B,Dn(a,B),pa(h,a,B),Vv;uf(),i=Sy(a,i,o)}else a=T.treeContext,Pt=za(B.nextSibling),pr=i,vt=!0,un=null,ea=!1,a!==null&&Rc(i,a),i=Xc(i,h),i.flags|=4096;return i}return a=Ga(a.child,{mode:h.mode,children:h.children}),a.ref=i.ref,i.child=a,a.return=i,a}function Zc(a,i){var o=i.ref;if(o===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(n(284));(a===null||a.ref!==o)&&(i.flags|=4194816)}}function jv(a,i,o,h,y){return zn(i),o=wv(a,i,o,h,void 0,y),h=Av(),a!==null&&!yr?(Cv(a,i,y),Hn(a,i,y)):(vt&&h&&ll(i),i.flags|=1,Ur(a,i,o,y),i.child)}function wy(a,i,o,h,y,T){return zn(i),i.updateQueue=null,o=Nm(i,h,o,y),Cm(a),h=Av(),a!==null&&!yr?(Cv(a,i,T),Hn(a,i,T)):(vt&&h&&ll(i),i.flags|=1,Ur(a,i,o,T),i.child)}function Ay(a,i,o,h,y){if(zn(i),i.stateNode===null){var T=On,B=o.contextType;typeof B=="object"&&B!==null&&(T=Ar(B)),T=new o(h,T),i.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Hv,i.stateNode=T,T._reactInternals=i,T=i.stateNode,T.props=h,T.state=i.memoizedState,T.refs={},Ae(i),B=o.contextType,T.context=typeof B=="object"&&B!==null?Ar(B):On,T.state=i.memoizedState,B=o.getDerivedStateFromProps,typeof B=="function"&&(qv(i,o,B,h),T.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(B=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),B!==T.state&&Hv.enqueueReplaceState(T,T.state,null),Ps(i,h,T,y),Us(),T.state=i.memoizedState),typeof T.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(a===null){T=i.stateNode;var V=i.memoizedProps,$=Eu(o,V);T.props=$;var de=T.context,xe=o.contextType;B=On,typeof xe=="object"&&xe!==null&&(B=Ar(xe));var Ce=o.getDerivedStateFromProps;xe=typeof Ce=="function"||typeof T.getSnapshotBeforeUpdate=="function",V=i.pendingProps!==V,xe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V||de!==B)&&fy(i,T,h,B),re=!1;var ve=i.memoizedState;T.state=ve,Ps(i,h,T,y),Us(),de=i.memoizedState,V||ve!==de||re?(typeof Ce=="function"&&(qv(i,o,Ce,h),de=i.memoizedState),($=re||cy(i,o,$,h,ve,de,B))?(xe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(i.flags|=4194308)):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=de),T.props=h,T.state=de,T.context=B,h=$):(typeof T.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{T=i.stateNode,Ve(a,i),B=i.memoizedProps,xe=Eu(o,B),T.props=xe,Ce=i.pendingProps,ve=T.context,de=o.contextType,$=On,typeof de=="object"&&de!==null&&($=Ar(de)),V=o.getDerivedStateFromProps,(de=typeof V=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(B!==Ce||ve!==$)&&fy(i,T,h,$),re=!1,ve=i.memoizedState,T.state=ve,Ps(i,h,T,y),Us();var me=i.memoizedState;B!==Ce||ve!==me||re||a!==null&&a.dependencies!==null&&sl(a.dependencies)?(typeof V=="function"&&(qv(i,o,V,h),me=i.memoizedState),(xe=re||cy(i,o,xe,h,ve,me,$)||a!==null&&a.dependencies!==null&&sl(a.dependencies))?(de||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,me,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,me,$)),typeof T.componentDidUpdate=="function"&&(i.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof T.componentDidUpdate!="function"||B===a.memoizedProps&&ve===a.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&ve===a.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=me),T.props=h,T.state=me,T.context=$,h=xe):(typeof T.componentDidUpdate!="function"||B===a.memoizedProps&&ve===a.memoizedState||(i.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||B===a.memoizedProps&&ve===a.memoizedState||(i.flags|=1024),h=!1)}return T=h,Zc(a,i),h=(i.flags&128)!==0,T||h?(T=i.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:T.render(),i.flags|=1,a!==null&&h?(i.child=_(i,a.child,null,y),i.child=_(i,null,o,y)):Ur(a,i,o,y),i.memoizedState=T.state,a=i.child):a=Hn(a,i,y),a}function Cy(a,i,o,h){return In(),i.flags|=256,Ur(a,i,o,h),i.child}var Fv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yv(a){return{baseLanes:a,cachePool:Ic()}}function Kv(a,i,o){return a=a!==null?a.childLanes&~o:0,i&&(a|=Aa),a}function Ny(a,i,o){var h=i.pendingProps,y=!1,T=(i.flags&128)!==0,B;if((B=T)||(B=a!==null&&a.memoizedState===null?!1:(cr.current&2)!==0),B&&(y=!0,i.flags&=-129),B=(i.flags&32)!==0,i.flags&=-33,a===null){if(vt){if(y?yi(i):bi(),(a=Pt)?(a=z0(a,ea),a=a!==null&&a.data!=="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:nn!==null?{id:Ba,overflow:Ia}:null,retryLane:536870912,hydrationErrors:null},o=Cc(a),o.return=i,i.child=o,pr=i,Pt=null)):a=null,a===null)throw ln(i);return Dh(a)?i.lanes=32:i.lanes=536870912,null}var V=h.children;return h=h.fallback,y?(bi(),y=i.mode,V=Qc({mode:"hidden",children:V},y),h=Mn(h,y,o,null),V.return=i,h.return=i,V.sibling=h,i.child=V,h=i.child,h.memoizedState=Yv(o),h.childLanes=Kv(a,B,o),i.memoizedState=Fv,js(null,h)):(yi(i),Xv(i,V))}var $=a.memoizedState;if($!==null&&(V=$.dehydrated,V!==null)){if(T)i.flags&256?(yi(i),i.flags&=-257,i=Zv(a,i,o)):i.memoizedState!==null?(bi(),i.child=a.child,i.flags|=128,i=null):(bi(),V=h.fallback,y=i.mode,h=Qc({mode:"visible",children:h.children},y),V=Mn(V,y,o,null),V.flags|=2,h.return=i,V.return=i,h.sibling=V,i.child=h,_(i,a.child,null,o),h=i.child,h.memoizedState=Yv(o),h.childLanes=Kv(a,B,o),i.memoizedState=Fv,i=js(null,h));else if(yi(i),Dh(V)){if(B=V.nextSibling&&V.nextSibling.dataset,B)var de=B.dgst;B=de,h=Error(n(419)),h.stack="",h.digest=B,pu({value:h,source:null,stack:null}),i=Zv(a,i,o)}else if(yr||vi(a,i,o,!1),B=(o&a.childLanes)!==0,yr||B){if(B=qt,B!==null&&(h=Ut(B,o),h!==0&&h!==$.retryLane))throw $.retryLane=h,Dn(a,h),pa(B,a,h),Vv;Rh(V)||uf(),i=Zv(a,i,o)}else Rh(V)?(i.flags|=192,i.child=a.child,i=null):(a=$.treeContext,Pt=za(V.nextSibling),pr=i,vt=!0,un=null,ea=!1,a!==null&&Rc(i,a),i=Xv(i,h.children),i.flags|=4096);return i}return y?(bi(),V=h.fallback,y=i.mode,$=a.child,de=$.sibling,h=Ga($,{mode:"hidden",children:h.children}),h.subtreeFlags=$.subtreeFlags&65011712,de!==null?V=Ga(de,V):(V=Mn(V,y,o,null),V.flags|=2),V.return=i,h.return=i,h.sibling=V,i.child=h,js(null,h),h=i.child,V=a.child.memoizedState,V===null?V=Yv(o):(y=V.cachePool,y!==null?($=nr._currentValue,y=y.parent!==$?{parent:$,pool:$}:y):y=Ic(),V={baseLanes:V.baseLanes|o,cachePool:y}),h.memoizedState=V,h.childLanes=Kv(a,B,o),i.memoizedState=Fv,js(a.child,h)):(yi(i),o=a.child,a=o.sibling,o=Ga(o,{mode:"visible",children:h.children}),o.return=i,o.sibling=null,a!==null&&(B=i.deletions,B===null?(i.deletions=[a],i.flags|=16):B.push(a)),i.child=o,i.memoizedState=null,o)}function Xv(a,i){return i=Qc({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function Qc(a,i){return a=Jr(22,a,null,i),a.lanes=0,a}function Zv(a,i,o){return _(i,a.child,null,o),a=Xv(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function Ry(a,i,o){a.lanes|=i;var h=a.alternate;h!==null&&(h.lanes|=i),Os(a.return,i,o)}function Qv(a,i,o,h,y,T){var B=a.memoizedState;B===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:y,treeForkCount:T}:(B.isBackwards=i,B.rendering=null,B.renderingStartTime=0,B.last=h,B.tail=o,B.tailMode=y,B.treeForkCount=T)}function Dy(a,i,o){var h=i.pendingProps,y=h.revealOrder,T=h.tail;h=h.children;var B=cr.current,V=(B&2)!==0;if(V?(B=B&1|2,i.flags|=128):B&=1,J(cr,B),Ur(a,i,h,o),h=vt?fi:0,!V&&a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Ry(a,o,i);else if(a.tag===19)Ry(a,o,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(o=i.child,y=null;o!==null;)a=o.alternate,a!==null&&Uc(a)===null&&(y=o),o=o.sibling;o=y,o===null?(y=i.child,i.child=null):(y=o.sibling,o.sibling=null),Qv(i,!1,y,o,T,h);break;case"backwards":case"unstable_legacy-backwards":for(o=null,y=i.child,i.child=null;y!==null;){if(a=y.alternate,a!==null&&Uc(a)===null){i.child=y;break}a=y.sibling,y.sibling=o,o=y,y=a}Qv(i,!0,o,null,T,h);break;case"together":Qv(i,!1,null,null,void 0,h);break;default:i.memoizedState=null}return i.child}function Hn(a,i,o){if(a!==null&&(i.dependencies=a.dependencies),Ti|=i.lanes,(o&i.childLanes)===0)if(a!==null){if(vi(a,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(n(153));if(i.child!==null){for(a=i.child,o=Ga(a,a.pendingProps),i.child=o,o.return=i;a.sibling!==null;)a=a.sibling,o=o.sibling=Ga(a,a.pendingProps),o.return=i;o.sibling=null}return i.child}function Wv(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&sl(a)))}function eS(a,i,o){switch(i.tag){case 3:Re(i,i.stateNode.containerInfo),sn(i,nr,a.memoizedState.cache),In();break;case 27:case 5:ne(i);break;case 4:Re(i,i.stateNode.containerInfo);break;case 10:sn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Tv(i),null;break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(yi(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Ny(a,i,o):(yi(i),a=Hn(a,i,o),a!==null?a.sibling:null);yi(i);break;case 19:var y=(a.flags&128)!==0;if(h=(o&i.childLanes)!==0,h||(vi(a,i,o,!1),h=(o&i.childLanes)!==0),y){if(h)return Dy(a,i,o);i.flags|=128}if(y=i.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),J(cr,cr.current),h)break;return null;case 22:return i.lanes=0,xy(a,i,o,i.pendingProps);case 24:sn(i,nr,a.memoizedState.cache)}return Hn(a,i,o)}function Oy(a,i,o){if(a!==null)if(a.memoizedProps!==i.pendingProps)yr=!0;else{if(!Wv(a,o)&&(i.flags&128)===0)return yr=!1,eS(a,i,o);yr=(a.flags&131072)!==0}else yr=!1,vt&&(i.flags&1048576)!==0&&Nc(i,fi,i.index);switch(i.lanes=0,i.tag){case 16:e:{var h=i.pendingProps;if(a=kn(i.elementType),i.type=a,typeof a=="function")al(a)?(h=Eu(a,h),i.tag=1,i=Ay(null,i,a,h,o)):(i.tag=0,i=jv(null,i,a,h,o));else{if(a!=null){var y=a.$$typeof;if(y===D){i.tag=11,i=yy(null,i,a,h,o);break e}else if(y===M){i.tag=14,i=by(null,i,a,h,o);break e}}throw i=X(a)||a,Error(n(306,i,""))}}return i;case 0:return jv(a,i,i.type,i.pendingProps,o);case 1:return h=i.type,y=Eu(h,i.pendingProps),Ay(a,i,h,y,o);case 3:e:{if(Re(i,i.stateNode.containerInfo),a===null)throw Error(n(387));h=i.pendingProps;var T=i.memoizedState;y=T.element,Ve(a,i),Ps(i,h,null,o);var B=i.memoizedState;if(h=B.cache,sn(i,nr,h),h!==T.cache&&Ms(i,[nr],o,!0),Us(),h=B.element,T.isDehydrated)if(T={element:h,isDehydrated:!1,cache:B.cache},i.updateQueue.baseState=T,i.memoizedState=T,i.flags&256){i=Cy(a,i,h,o);break e}else if(h!==y){y=oa(Error(n(424)),i),pu(y),i=Cy(a,i,h,o);break e}else for(a=i.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Pt=za(a.firstChild),pr=i,vt=!0,un=null,ea=!0,o=K(i,null,h,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(In(),h===y){i=Hn(a,i,o);break e}Ur(a,i,h,o)}i=i.child}return i;case 26:return Zc(a,i),a===null?(o=H0(i.type,null,i.pendingProps,null))?i.memoizedState=o:vt||(o=i.type,a=i.pendingProps,h=vf(he.current).createElement(o),h[Dt]=i,h[wt]=a,Pr(h,o,a),rr(h),i.stateNode=h):i.memoizedState=H0(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return ne(i),a===null&&vt&&(h=i.stateNode=U0(i.type,i.pendingProps,he.current),pr=i,ea=!0,y=Pt,Ni(i.type)?(Oh=y,Pt=za(h.firstChild)):Pt=y),Ur(a,i,i.pendingProps.children,o),Zc(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&vt&&((y=h=Pt)&&(h=OS(h,i.type,i.pendingProps,ea),h!==null?(i.stateNode=h,pr=i,Pt=za(h.firstChild),ea=!1,y=!0):y=!1),y||ln(i)),ne(i),y=i.type,T=i.pendingProps,B=a!==null?a.memoizedProps:null,h=T.children,Ah(y,T)?h=null:B!==null&&Ah(y,B)&&(i.flags|=32),i.memoizedState!==null&&(y=wv(a,i,FT,null,null,o),io._currentValue=y),Zc(a,i),Ur(a,i,h,o),i.child;case 6:return a===null&&vt&&((a=o=Pt)&&(o=MS(o,i.pendingProps,ea),o!==null?(i.stateNode=o,pr=i,Pt=null,a=!0):a=!1),a||ln(i)),null;case 13:return Ny(a,i,o);case 4:return Re(i,i.stateNode.containerInfo),h=i.pendingProps,a===null?i.child=_(i,null,h,o):Ur(a,i,h,o),i.child;case 11:return yy(a,i,i.type,i.pendingProps,o);case 7:return Ur(a,i,i.pendingProps,o),i.child;case 8:return Ur(a,i,i.pendingProps.children,o),i.child;case 12:return Ur(a,i,i.pendingProps.children,o),i.child;case 10:return h=i.pendingProps,sn(i,i.type,h.value),Ur(a,i,h.children,o),i.child;case 9:return y=i.type._context,h=i.pendingProps.children,zn(i),y=Ar(y),h=h(y),i.flags|=1,Ur(a,i,h,o),i.child;case 14:return by(a,i,i.type,i.pendingProps,o);case 15:return Ey(a,i,i.type,i.pendingProps,o);case 19:return Dy(a,i,o);case 31:return JT(a,i,o);case 22:return xy(a,i,o,i.pendingProps);case 24:return zn(i),h=Ar(nr),a===null?(y=zs(),y===null&&(y=qt,T=Bs(),y.pooledCache=T,T.refCount++,T!==null&&(y.pooledCacheLanes|=o),y=T),i.memoizedState={parent:h,cache:y},Ae(i),sn(i,nr,y)):((a.lanes&o)!==0&&(Ve(a,i),Ps(i,null,null,o),Us()),y=a.memoizedState,T=i.memoizedState,y.parent!==h?(y={parent:h,cache:h},i.memoizedState=y,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=y),sn(i,nr,h)):(h=T.cache,sn(i,nr,h),h!==y.cache&&Ms(i,[nr],o,!0))),Ur(a,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(n(156,i.tag))}function Gn(a){a.flags|=4}function $v(a,i,o,h,y){if((i=(a.mode&32)!==0)&&(i=!1),i){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(a0())a.flags|=8192;else throw Un=dl,_s}else a.flags&=-16777217}function My(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Y0(i))if(a0())a.flags|=8192;else throw Un=dl,_s}function Wc(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?nt():536870912,a.lanes|=i,xl|=i)}function Fs(a,i){if(!vt)switch(a.tailMode){case"hidden":i=a.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?a.tail=null:o.sibling=null;break;case"collapsed":o=a.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function Zt(a){var i=a.alternate!==null&&a.alternate.child===a.child,o=0,h=0;if(i)for(var y=a.child;y!==null;)o|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)o|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=h,a.childLanes=o,i}function tS(a,i,o){var h=i.pendingProps;switch(Cs(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(i),null;case 1:return Zt(i),null;case 3:return o=i.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),Fa(nr),ye(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(a===null||a.child===null)&&(di(i)?Gn(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rs())),Zt(i),null;case 26:var y=i.type,T=i.memoizedState;return a===null?(Gn(i),T!==null?(Zt(i),My(i,T)):(Zt(i),$v(i,y,null,h,o))):T?T!==a.memoizedState?(Gn(i),Zt(i),My(i,T)):(Zt(i),i.flags&=-16777217):(a=a.memoizedProps,a!==h&&Gn(i),Zt(i),$v(i,y,a,h,o)),null;case 27:if(le(i),o=he.current,y=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==h&&Gn(i);else{if(!h){if(i.stateNode===null)throw Error(n(166));return Zt(i),null}a=ie.current,di(i)?Dc(i):(a=U0(y,h,o),i.stateNode=a,Gn(i))}return Zt(i),null;case 5:if(le(i),y=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==h&&Gn(i);else{if(!h){if(i.stateNode===null)throw Error(n(166));return Zt(i),null}if(T=ie.current,di(i))Dc(i);else{var B=vf(he.current);switch(T){case 1:T=B.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:T=B.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":T=B.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":T=B.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":T=B.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof h.is=="string"?B.createElement("select",{is:h.is}):B.createElement("select"),h.multiple?T.multiple=!0:h.size&&(T.size=h.size);break;default:T=typeof h.is=="string"?B.createElement(y,{is:h.is}):B.createElement(y)}}T[Dt]=i,T[wt]=h;e:for(B=i.child;B!==null;){if(B.tag===5||B.tag===6)T.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===i)break e;for(;B.sibling===null;){if(B.return===null||B.return===i)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}i.stateNode=T;e:switch(Pr(T,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Gn(i)}}return Zt(i),$v(i,i.type,a===null?null:a.memoizedProps,i.pendingProps,o),null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==h&&Gn(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(n(166));if(a=he.current,di(i)){if(a=i.stateNode,o=i.memoizedProps,h=null,y=pr,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}a[Dt]=i,a=!!(a.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||N0(a.nodeValue,o)),a||ln(i,!0)}else a=vf(a).createTextNode(h),a[Dt]=i,i.stateNode=a}return Zt(i),null;case 31:if(o=i.memoizedState,a===null||a.memoizedState!==null){if(h=di(i),o!==null){if(a===null){if(!h)throw Error(n(318));if(a=i.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[Dt]=i}else In(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Zt(i),a=!1}else o=Rs(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=o),a=!0;if(!a)return i.flags&256?(Sa(i),i):(Sa(i),null);if((i.flags&128)!==0)throw Error(n(558))}return Zt(i),null;case 13:if(h=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=di(i),h!==null&&h.dehydrated!==null){if(a===null){if(!y)throw Error(n(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Dt]=i}else In(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Zt(i),y=!1}else y=Rs(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return i.flags&256?(Sa(i),i):(Sa(i),null)}return Sa(i),(i.flags&128)!==0?(i.lanes=o,i):(o=h!==null,a=a!==null&&a.memoizedState!==null,o&&(h=i.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),T=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(T=h.memoizedState.cachePool.pool),T!==y&&(h.flags|=2048)),o!==a&&o&&(i.child.flags|=8192),Wc(i,i.updateQueue),Zt(i),null);case 4:return ye(),a===null&&Eh(i.stateNode.containerInfo),Zt(i),null;case 10:return Fa(i.type),Zt(i),null;case 19:if(Q(cr),h=i.memoizedState,h===null)return Zt(i),null;if(y=(i.flags&128)!==0,T=h.rendering,T===null)if(y)Fs(h,!1);else{if(ur!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(T=Uc(a),T!==null){for(i.flags|=128,Fs(h,!1),a=T.updateQueue,i.updateQueue=a,Wc(i,a),i.subtreeFlags=0,a=o,o=i.child;o!==null;)Ac(o,a),o=o.sibling;return J(cr,cr.current&1|2),vt&&Va(i,h.treeForkCount),i.child}a=a.sibling}h.tail!==null&&Ie()>rf&&(i.flags|=128,y=!0,Fs(h,!1),i.lanes=4194304)}else{if(!y)if(a=Uc(T),a!==null){if(i.flags|=128,y=!0,a=a.updateQueue,i.updateQueue=a,Wc(i,a),Fs(h,!0),h.tail===null&&h.tailMode==="hidden"&&!T.alternate&&!vt)return Zt(i),null}else 2*Ie()-h.renderingStartTime>rf&&o!==536870912&&(i.flags|=128,y=!0,Fs(h,!1),i.lanes=4194304);h.isBackwards?(T.sibling=i.child,i.child=T):(a=h.last,a!==null?a.sibling=T:i.child=T,h.last=T)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Ie(),a.sibling=null,o=cr.current,J(cr,y?o&1|2:o&1),vt&&Va(i,h.treeForkCount),a):(Zt(i),null);case 22:case 23:return Sa(i),xv(),h=i.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(o&536870912)!==0&&(i.flags&128)===0&&(Zt(i),i.subtreeFlags&6&&(i.flags|=8192)):Zt(i),o=i.updateQueue,o!==null&&Wc(i,o.retryQueue),o=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==o&&(i.flags|=2048),a!==null&&Q(_n),null;case 24:return o=null,a!==null&&(o=a.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Fa(nr),Zt(i),null;case 25:return null;case 30:return null}throw Error(n(156,i.tag))}function rS(a,i){switch(Cs(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return Fa(nr),ye(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return le(i),null;case 31:if(i.memoizedState!==null){if(Sa(i),i.alternate===null)throw Error(n(340));In()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 13:if(Sa(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(n(340));In()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return Q(cr),null;case 4:return ye(),null;case 10:return Fa(i.type),null;case 22:case 23:return Sa(i),xv(),a!==null&&Q(_n),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return Fa(nr),null;case 25:return null;default:return null}}function By(a,i){switch(Cs(i),i.tag){case 3:Fa(nr),ye();break;case 26:case 27:case 5:le(i);break;case 4:ye();break;case 31:i.memoizedState!==null&&Sa(i);break;case 13:Sa(i);break;case 19:Q(cr);break;case 10:Fa(i.type);break;case 22:case 23:Sa(i),xv(),a!==null&&Q(_n);break;case 24:Fa(nr)}}function Ys(a,i){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var y=h.next;o=y;do{if((o.tag&a)===a){h=void 0;var T=o.create,B=o.inst;h=T(),B.destroy=h}o=o.next}while(o!==y)}}catch(V){It(i,i.return,V)}}function Ei(a,i,o){try{var h=i.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var T=y.next;h=T;do{if((h.tag&a)===a){var B=h.inst,V=B.destroy;if(V!==void 0){B.destroy=void 0,y=i;var $=o,de=V;try{de()}catch(xe){It(y,$,xe)}}}h=h.next}while(h!==T)}}catch(xe){It(i,i.return,xe)}}function Iy(a){var i=a.updateQueue;if(i!==null){var o=a.stateNode;try{Sm(i,o)}catch(h){It(a,a.return,h)}}}function Ly(a,i,o){o.props=Eu(a.type,a.memoizedProps),o.state=a.memoizedState;try{o.componentWillUnmount()}catch(h){It(a,i,h)}}function Ks(a,i){try{var o=a.ref;if(o!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof o=="function"?a.refCleanup=o(h):o.current=h}}catch(y){It(a,i,y)}}function on(a,i){var o=a.ref,h=a.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(y){It(a,i,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(y){It(a,i,y)}else o.current=null}function zy(a){var i=a.type,o=a.memoizedProps,h=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break e;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(y){It(a,a.return,y)}}function Jv(a,i,o){try{var h=a.stateNode;wS(h,a.type,o,i),h[wt]=i}catch(y){It(a,a.return,y)}}function _y(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ni(a.type)||a.tag===4}function eh(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||_y(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ni(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function th(a,i,o){var h=a.tag;if(h===5||h===6)a=a.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(a,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(a),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Oa));else if(h!==4&&(h===27&&Ni(a.type)&&(o=a.stateNode,i=null),a=a.child,a!==null))for(th(a,i,o),a=a.sibling;a!==null;)th(a,i,o),a=a.sibling}function $c(a,i,o){var h=a.tag;if(h===5||h===6)a=a.stateNode,i?o.insertBefore(a,i):o.appendChild(a);else if(h!==4&&(h===27&&Ni(a.type)&&(o=a.stateNode),a=a.child,a!==null))for($c(a,i,o),a=a.sibling;a!==null;)$c(a,i,o),a=a.sibling}function ky(a){var i=a.stateNode,o=a.memoizedProps;try{for(var h=a.type,y=i.attributes;y.length;)i.removeAttributeNode(y[0]);Pr(i,h,o),i[Dt]=a,i[wt]=o}catch(T){It(a,a.return,T)}}var Vn=!1,br=!1,rh=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,Br=null;function aS(a,i){if(a=a.containerInfo,Sh=Ef,a=mc(a),ys(a)){if("selectionStart"in a)var o={start:a.selectionStart,end:a.selectionEnd};else e:{o=(o=a.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var y=h.anchorOffset,T=h.focusNode;h=h.focusOffset;try{o.nodeType,T.nodeType}catch{o=null;break e}var B=0,V=-1,$=-1,de=0,xe=0,Ce=a,ve=null;t:for(;;){for(var me;Ce!==o||y!==0&&Ce.nodeType!==3||(V=B+y),Ce!==T||h!==0&&Ce.nodeType!==3||($=B+h),Ce.nodeType===3&&(B+=Ce.nodeValue.length),(me=Ce.firstChild)!==null;)ve=Ce,Ce=me;for(;;){if(Ce===a)break t;if(ve===o&&++de===y&&(V=B),ve===T&&++xe===h&&($=B),(me=Ce.nextSibling)!==null)break;Ce=ve,ve=Ce.parentNode}Ce=me}o=V===-1||$===-1?null:{start:V,end:$}}else o=null}o=o||{start:0,end:0}}else o=null;for(wh={focusedElem:a,selectionRange:o},Ef=!1,Br=i;Br!==null;)if(i=Br,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,Br=a;else for(;Br!==null;){switch(i=Br,T=i.alternate,a=i.flags,i.tag){case 0:if((a&4)!==0&&(a=i.updateQueue,a=a!==null?a.events:null,a!==null))for(o=0;o<a.length;o++)y=a[o],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,o=i,y=T.memoizedProps,T=T.memoizedState,h=o.stateNode;try{var He=Eu(o.type,y);a=h.getSnapshotBeforeUpdate(He,T),h.__reactInternalSnapshotBeforeUpdate=a}catch(et){It(o,o.return,et)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,o=a.nodeType,o===9)Nh(a);else if(o===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Nh(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=i.sibling,a!==null){a.return=i.return,Br=a;break}Br=i.return}}function Py(a,i,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:Fn(a,o),h&4&&Ys(5,o);break;case 1:if(Fn(a,o),h&4)if(a=o.stateNode,i===null)try{a.componentDidMount()}catch(B){It(o,o.return,B)}else{var y=Eu(o.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(y,i,a.__reactInternalSnapshotBeforeUpdate)}catch(B){It(o,o.return,B)}}h&64&&Iy(o),h&512&&Ks(o,o.return);break;case 3:if(Fn(a,o),h&64&&(a=o.updateQueue,a!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Sm(a,i)}catch(B){It(o,o.return,B)}}break;case 27:i===null&&h&4&&ky(o);case 26:case 5:Fn(a,o),i===null&&h&4&&zy(o),h&512&&Ks(o,o.return);break;case 12:Fn(a,o);break;case 31:Fn(a,o),h&4&&Gy(a,o);break;case 13:Fn(a,o),h&4&&Vy(a,o),h&64&&(a=o.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(o=dS.bind(null,o),BS(a,o))));break;case 22:if(h=o.memoizedState!==null||Vn,!h){i=i!==null&&i.memoizedState!==null||br,y=Vn;var T=br;Vn=h,(br=i)&&!T?Yn(a,o,(o.subtreeFlags&8772)!==0):Fn(a,o),Vn=y,br=T}break;case 30:break;default:Fn(a,o)}}function qy(a){var i=a.alternate;i!==null&&(a.alternate=null,qy(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&yn(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Jt=null,da=!1;function jn(a,i,o){for(o=o.child;o!==null;)Hy(a,i,o),o=o.sibling}function Hy(a,i,o){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(F,o)}catch{}switch(o.tag){case 26:br||on(o,i),jn(a,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:br||on(o,i);var h=Jt,y=da;Ni(o.type)&&(Jt=o.stateNode,da=!1),jn(a,i,o),ro(o.stateNode),Jt=h,da=y;break;case 5:br||on(o,i);case 6:if(h=Jt,y=da,Jt=null,jn(a,i,o),Jt=h,da=y,Jt!==null)if(da)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(o.stateNode)}catch(T){It(o,i,T)}else try{Jt.removeChild(o.stateNode)}catch(T){It(o,i,T)}break;case 18:Jt!==null&&(da?(a=Jt,I0(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.stateNode),Dl(a)):I0(Jt,o.stateNode));break;case 4:h=Jt,y=da,Jt=o.stateNode.containerInfo,da=!0,jn(a,i,o),Jt=h,da=y;break;case 0:case 11:case 14:case 15:Ei(2,o,i),br||Ei(4,o,i),jn(a,i,o);break;case 1:br||(on(o,i),h=o.stateNode,typeof h.componentWillUnmount=="function"&&Ly(o,i,h)),jn(a,i,o);break;case 21:jn(a,i,o);break;case 22:br=(h=br)||o.memoizedState!==null,jn(a,i,o),br=h;break;default:jn(a,i,o)}}function Gy(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Dl(a)}catch(o){It(i,i.return,o)}}}function Vy(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Dl(a)}catch(o){It(i,i.return,o)}}function nS(a){switch(a.tag){case 31:case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new Uy),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new Uy),i;default:throw Error(n(435,a.tag))}}function Jc(a,i){var o=nS(a);i.forEach(function(h){if(!o.has(h)){o.add(h);var y=vS.bind(null,a,h);h.then(y,y)}})}function va(a,i){var o=i.deletions;if(o!==null)for(var h=0;h<o.length;h++){var y=o[h],T=a,B=i,V=B;e:for(;V!==null;){switch(V.tag){case 27:if(Ni(V.type)){Jt=V.stateNode,da=!1;break e}break;case 5:Jt=V.stateNode,da=!1;break e;case 3:case 4:Jt=V.stateNode.containerInfo,da=!0;break e}V=V.return}if(Jt===null)throw Error(n(160));Hy(T,B,y),Jt=null,da=!1,T=y.alternate,T!==null&&(T.return=null),y.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)jy(i,a),i=i.sibling}var Xa=null;function jy(a,i){var o=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:va(i,a),ha(a),h&4&&(Ei(3,a,a.return),Ys(3,a),Ei(5,a,a.return));break;case 1:va(i,a),ha(a),h&512&&(br||o===null||on(o,o.return)),h&64&&Vn&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(o=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var y=Xa;if(va(i,a),ha(a),h&512&&(br||o===null||on(o,o.return)),h&4){var T=o!==null?o.memoizedState:null;if(h=a.memoizedState,o===null)if(h===null)if(a.stateNode===null){e:{h=a.type,o=a.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":T=y.getElementsByTagName("title")[0],(!T||T[vr]||T[Dt]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=y.createElement(h),y.head.insertBefore(T,y.querySelector("head > title"))),Pr(T,h,o),T[Dt]=a,rr(T),h=T;break e;case"link":var B=j0("link","href",y).get(h+(o.href||""));if(B){for(var V=0;V<B.length;V++)if(T=B[V],T.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&T.getAttribute("rel")===(o.rel==null?null:o.rel)&&T.getAttribute("title")===(o.title==null?null:o.title)&&T.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){B.splice(V,1);break t}}T=y.createElement(h),Pr(T,h,o),y.head.appendChild(T);break;case"meta":if(B=j0("meta","content",y).get(h+(o.content||""))){for(V=0;V<B.length;V++)if(T=B[V],T.getAttribute("content")===(o.content==null?null:""+o.content)&&T.getAttribute("name")===(o.name==null?null:o.name)&&T.getAttribute("property")===(o.property==null?null:o.property)&&T.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&T.getAttribute("charset")===(o.charSet==null?null:o.charSet)){B.splice(V,1);break t}}T=y.createElement(h),Pr(T,h,o),y.head.appendChild(T);break;default:throw Error(n(468,h))}T[Dt]=a,rr(T),h=T}a.stateNode=h}else F0(y,a.type,a.stateNode);else a.stateNode=V0(y,h,a.memoizedProps);else T!==h?(T===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):T.count--,h===null?F0(y,a.type,a.stateNode):V0(y,h,a.memoizedProps)):h===null&&a.stateNode!==null&&Jv(a,a.memoizedProps,o.memoizedProps)}break;case 27:va(i,a),ha(a),h&512&&(br||o===null||on(o,o.return)),o!==null&&h&4&&Jv(a,a.memoizedProps,o.memoizedProps);break;case 5:if(va(i,a),ha(a),h&512&&(br||o===null||on(o,o.return)),a.flags&32){y=a.stateNode;try{Sn(y,"")}catch(He){It(a,a.return,He)}}h&4&&a.stateNode!=null&&(y=a.memoizedProps,Jv(a,y,o!==null?o.memoizedProps:y)),h&1024&&(rh=!0);break;case 6:if(va(i,a),ha(a),h&4){if(a.stateNode===null)throw Error(n(162));h=a.memoizedProps,o=a.stateNode;try{o.nodeValue=h}catch(He){It(a,a.return,He)}}break;case 3:if(pf=null,y=Xa,Xa=hf(i.containerInfo),va(i,a),Xa=y,ha(a),h&4&&o!==null&&o.memoizedState.isDehydrated)try{Dl(i.containerInfo)}catch(He){It(a,a.return,He)}rh&&(rh=!1,Fy(a));break;case 4:h=Xa,Xa=hf(a.stateNode.containerInfo),va(i,a),ha(a),Xa=h;break;case 12:va(i,a),ha(a);break;case 31:va(i,a),ha(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Jc(a,h)));break;case 13:va(i,a),ha(a),a.child.flags&8192&&a.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(tf=Ie()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Jc(a,h)));break;case 22:y=a.memoizedState!==null;var $=o!==null&&o.memoizedState!==null,de=Vn,xe=br;if(Vn=de||y,br=xe||$,va(i,a),br=xe,Vn=de,ha(a),h&8192)e:for(i=a.stateNode,i._visibility=y?i._visibility&-2:i._visibility|1,y&&(o===null||$||Vn||br||xu(a)),o=null,i=a;;){if(i.tag===5||i.tag===26){if(o===null){$=o=i;try{if(T=$.stateNode,y)B=T.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{V=$.stateNode;var Ce=$.memoizedProps.style,ve=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;V.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(He){It($,$.return,He)}}}else if(i.tag===6){if(o===null){$=i;try{$.stateNode.nodeValue=y?"":$.memoizedProps}catch(He){It($,$.return,He)}}}else if(i.tag===18){if(o===null){$=i;try{var me=$.stateNode;y?L0(me,!0):L0($.stateNode,!1)}catch(He){It($,$.return,He)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=a.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,Jc(a,o))));break;case 19:va(i,a),ha(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Jc(a,h)));break;case 30:break;case 21:break;default:va(i,a),ha(a)}}function ha(a){var i=a.flags;if(i&2){try{for(var o,h=a.return;h!==null;){if(_y(h)){o=h;break}h=h.return}if(o==null)throw Error(n(160));switch(o.tag){case 27:var y=o.stateNode,T=eh(a);$c(a,T,y);break;case 5:var B=o.stateNode;o.flags&32&&(Sn(B,""),o.flags&=-33);var V=eh(a);$c(a,V,B);break;case 3:case 4:var $=o.stateNode.containerInfo,de=eh(a);th(a,de,$);break;default:throw Error(n(161))}}catch(xe){It(a,a.return,xe)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function Fy(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;Fy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function Fn(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Py(a,i.alternate,i),i=i.sibling}function xu(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:Ei(4,i,i.return),xu(i);break;case 1:on(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Ly(i,i.return,o),xu(i);break;case 27:ro(i.stateNode);case 26:case 5:on(i,i.return),xu(i);break;case 22:i.memoizedState===null&&xu(i);break;case 30:xu(i);break;default:xu(i)}a=a.sibling}}function Yn(a,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,y=a,T=i,B=T.flags;switch(T.tag){case 0:case 11:case 15:Yn(y,T,o),Ys(4,T);break;case 1:if(Yn(y,T,o),h=T,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(de){It(h,h.return,de)}if(h=T,y=h.updateQueue,y!==null){var V=h.stateNode;try{var $=y.shared.hiddenCallbacks;if($!==null)for(y.shared.hiddenCallbacks=null,y=0;y<$.length;y++)Tm($[y],V)}catch(de){It(h,h.return,de)}}o&&B&64&&Iy(T),Ks(T,T.return);break;case 27:ky(T);case 26:case 5:Yn(y,T,o),o&&h===null&&B&4&&zy(T),Ks(T,T.return);break;case 12:Yn(y,T,o);break;case 31:Yn(y,T,o),o&&B&4&&Gy(y,T);break;case 13:Yn(y,T,o),o&&B&4&&Vy(y,T);break;case 22:T.memoizedState===null&&Yn(y,T,o),Ks(T,T.return);break;case 30:break;default:Yn(y,T,o)}i=i.sibling}}function ah(a,i){var o=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==o&&(a!=null&&a.refCount++,o!=null&&Ya(o))}function nh(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Ya(a))}function Za(a,i,o,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yy(a,i,o,h),i=i.sibling}function Yy(a,i,o,h){var y=i.flags;switch(i.tag){case 0:case 11:case 15:Za(a,i,o,h),y&2048&&Ys(9,i);break;case 1:Za(a,i,o,h);break;case 3:Za(a,i,o,h),y&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Ya(a)));break;case 12:if(y&2048){Za(a,i,o,h),a=i.stateNode;try{var T=i.memoizedProps,B=T.id,V=T.onPostCommit;typeof V=="function"&&V(B,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){It(i,i.return,$)}}else Za(a,i,o,h);break;case 31:Za(a,i,o,h);break;case 13:Za(a,i,o,h);break;case 23:break;case 22:T=i.stateNode,B=i.alternate,i.memoizedState!==null?T._visibility&2?Za(a,i,o,h):Xs(a,i):T._visibility&2?Za(a,i,o,h):(T._visibility|=2,yl(a,i,o,h,(i.subtreeFlags&10256)!==0||!1)),y&2048&&ah(B,i);break;case 24:Za(a,i,o,h),y&2048&&nh(i.alternate,i);break;default:Za(a,i,o,h)}}function yl(a,i,o,h,y){for(y=y&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var T=a,B=i,V=o,$=h,de=B.flags;switch(B.tag){case 0:case 11:case 15:yl(T,B,V,$,y),Ys(8,B);break;case 23:break;case 22:var xe=B.stateNode;B.memoizedState!==null?xe._visibility&2?yl(T,B,V,$,y):Xs(T,B):(xe._visibility|=2,yl(T,B,V,$,y)),y&&de&2048&&ah(B.alternate,B);break;case 24:yl(T,B,V,$,y),y&&de&2048&&nh(B.alternate,B);break;default:yl(T,B,V,$,y)}i=i.sibling}}function Xs(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=a,h=i,y=h.flags;switch(h.tag){case 22:Xs(o,h),y&2048&&ah(h.alternate,h);break;case 24:Xs(o,h),y&2048&&nh(h.alternate,h);break;default:Xs(o,h)}i=i.sibling}}var Zs=8192;function bl(a,i,o){if(a.subtreeFlags&Zs)for(a=a.child;a!==null;)Ky(a,i,o),a=a.sibling}function Ky(a,i,o){switch(a.tag){case 26:bl(a,i,o),a.flags&Zs&&a.memoizedState!==null&&jS(o,Xa,a.memoizedState,a.memoizedProps);break;case 5:bl(a,i,o);break;case 3:case 4:var h=Xa;Xa=hf(a.stateNode.containerInfo),bl(a,i,o),Xa=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=Zs,Zs=16777216,bl(a,i,o),Zs=h):bl(a,i,o));break;default:bl(a,i,o)}}function Xy(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function Qs(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var h=i[o];Br=h,Qy(h,a)}Xy(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Zy(a),a=a.sibling}function Zy(a){switch(a.tag){case 0:case 11:case 15:Qs(a),a.flags&2048&&Ei(9,a,a.return);break;case 3:Qs(a);break;case 12:Qs(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,ef(a)):Qs(a);break;default:Qs(a)}}function ef(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var h=i[o];Br=h,Qy(h,a)}Xy(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:Ei(8,i,i.return),ef(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,ef(i));break;default:ef(i)}a=a.sibling}}function Qy(a,i){for(;Br!==null;){var o=Br;switch(o.tag){case 0:case 11:case 15:Ei(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ya(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,Br=h;else e:for(o=a;Br!==null;){h=Br;var y=h.sibling,T=h.return;if(qy(h),h===o){Br=null;break e}if(y!==null){y.return=T,Br=y;break e}Br=T}}}var iS={getCacheForType:function(a){var i=Ar(nr),o=i.data.get(a);return o===void 0&&(o=a(),i.data.set(a,o)),o},cacheSignal:function(){return Ar(nr).controller.signal}},uS=typeof WeakMap=="function"?WeakMap:Map,Rt=0,qt=null,ht=null,pt=0,Bt=0,wa=null,xi=!1,El=!1,ih=!1,Kn=0,ur=0,Ti=0,Tu=0,uh=0,Aa=0,xl=0,Ws=null,ga=null,lh=!1,tf=0,Wy=0,rf=1/0,af=null,Si=null,Cr=0,wi=null,Tl=null,Xn=0,sh=0,oh=null,$y=null,$s=0,ch=null;function Ca(){return(Rt&2)!==0&&pt!==0?pt&-pt:H.T!==null?ph():jt()}function Jy(){if(Aa===0)if((pt&536870912)===0||vt){var a=Be;Be<<=1,(Be&3932160)===0&&(Be=262144),Aa=a}else Aa=536870912;return a=Ta.current,a!==null&&(a.flags|=32),Aa}function pa(a,i,o){(a===qt&&(Bt===2||Bt===9)||a.cancelPendingCommit!==null)&&(Sl(a,0),Ai(a,pt,Aa,!1)),St(a,o),((Rt&2)===0||a!==qt)&&(a===qt&&((Rt&2)===0&&(Tu|=o),ur===4&&Ai(a,pt,Aa,!1)),cn(a))}function e0(a,i,o){if((Rt&6)!==0)throw Error(n(327));var h=!o&&(i&127)===0&&(i&a.expiredLanes)===0||ke(a,i),y=h?oS(a,i):dh(a,i,!0),T=h;do{if(y===0){El&&!h&&Ai(a,i,0,!1);break}else{if(o=a.current.alternate,T&&!lS(o)){y=dh(a,i,!1),T=!1;continue}if(y===2){if(T=i,a.errorRecoveryDisabledLanes&T)var B=0;else B=a.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){i=B;e:{var V=a;y=Ws;var $=V.current.memoizedState.isDehydrated;if($&&(Sl(V,B).flags|=256),B=dh(V,B,!1),B!==2){if(ih&&!$){V.errorRecoveryDisabledLanes|=T,Tu|=T,y=4;break e}T=ga,ga=y,T!==null&&(ga===null?ga=T:ga.push.apply(ga,T))}y=B}if(T=!1,y!==2)continue}}if(y===1){Sl(a,0),Ai(a,i,0,!0);break}e:{switch(h=a,T=y,T){case 0:case 1:throw Error(n(345));case 4:if((i&4194048)!==i)break;case 6:Ai(h,i,Aa,!xi);break e;case 2:ga=null;break;case 3:case 5:break;default:throw Error(n(329))}if((i&62914560)===i&&(y=tf+300-Ie(),10<y)){if(Ai(h,i,Aa,!xi),rt(h,0,!0)!==0)break e;Xn=i,h.timeoutHandle=M0(t0.bind(null,h,o,ga,af,lh,i,Aa,Tu,xl,xi,T,"Throttled",-0,0),y);break e}t0(h,o,ga,af,lh,i,Aa,Tu,xl,xi,T,null,-0,0)}}break}while(!0);cn(a)}function t0(a,i,o,h,y,T,B,V,$,de,xe,Ce,ve,me){if(a.timeoutHandle=-1,Ce=i.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oa},Ky(i,T,Ce);var He=(T&62914560)===T?tf-Ie():(T&4194048)===T?Wy-Ie():0;if(He=FS(Ce,He),He!==null){Xn=T,a.cancelPendingCommit=He(o0.bind(null,a,i,T,o,h,y,B,V,$,xe,Ce,null,ve,me)),Ai(a,T,B,!de);return}}o0(a,i,T,o,h,y,B,V,$)}function lS(a){for(var i=a;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var y=o[h],T=y.getSnapshot;y=y.value;try{if(!$r(T(),y))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ai(a,i,o,h){i&=~uh,i&=~Tu,a.suspendedLanes|=i,a.pingedLanes&=~i,h&&(a.warmLanes|=i),h=a.expirationTimes;for(var y=i;0<y;){var T=31-ge(y),B=1<<T;h[T]=-1,y&=~B}o!==0&&Gt(a,o,i)}function nf(){return(Rt&6)===0?(Js(0),!1):!0}function fh(){if(ht!==null){if(Bt===0)var a=ht.return;else a=ht,ja=Ln=null,Nv(a),mi=null,yu=0,a=ht;for(;a!==null;)By(a.alternate,a),a=a.return;ht=null}}function Sl(a,i){var o=a.timeoutHandle;o!==-1&&(a.timeoutHandle=-1,NS(o)),o=a.cancelPendingCommit,o!==null&&(a.cancelPendingCommit=null,o()),Xn=0,fh(),qt=a,ht=o=Ga(a.current,null),pt=i,Bt=0,wa=null,xi=!1,El=ke(a,i),ih=!1,xl=Aa=uh=Tu=Ti=ur=0,ga=Ws=null,lh=!1,(i&8)!==0&&(i|=i&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=i;0<h;){var y=31-ge(h),T=1<<y;i|=a[y],h&=~T}return Kn=i,el(),o}function r0(a,i){lt=null,H.H=Vs,i===pi||i===fl?(i=zc(),Bt=3):i===_s?(i=zc(),Bt=4):Bt=i===Vv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wa=i,ht===null&&(ur=1,Kc(a,oa(i,a.current)))}function a0(){var a=Ta.current;return a===null?!0:(pt&4194048)===pt?La===null:(pt&62914560)===pt||(pt&536870912)!==0?a===La:!1}function n0(){var a=H.H;return H.H=Vs,a===null?Vs:a}function i0(){var a=H.A;return H.A=iS,a}function uf(){ur=4,xi||(pt&4194048)!==pt&&Ta.current!==null||(El=!0),(Ti&134217727)===0&&(Tu&134217727)===0||qt===null||Ai(qt,pt,Aa,!1)}function dh(a,i,o){var h=Rt;Rt|=2;var y=n0(),T=i0();(qt!==a||pt!==i)&&(af=null,Sl(a,i)),i=!1;var B=ur;e:do try{if(Bt!==0&&ht!==null){var V=ht,$=wa;switch(Bt){case 8:fh(),B=6;break e;case 3:case 2:case 9:case 6:Ta.current===null&&(i=!0);var de=Bt;if(Bt=0,wa=null,wl(a,V,$,de),o&&El){B=0;break e}break;default:de=Bt,Bt=0,wa=null,wl(a,V,$,de)}}sS(),B=ur;break}catch(xe){r0(a,xe)}while(!0);return i&&a.shellSuspendCounter++,ja=Ln=null,Rt=h,H.H=y,H.A=T,ht===null&&(qt=null,pt=0,el()),B}function sS(){for(;ht!==null;)u0(ht)}function oS(a,i){var o=Rt;Rt|=2;var h=n0(),y=i0();qt!==a||pt!==i?(af=null,rf=Ie()+500,Sl(a,i)):El=ke(a,i);e:do try{if(Bt!==0&&ht!==null){i=ht;var T=wa;t:switch(Bt){case 1:Bt=0,wa=null,wl(a,i,T,1);break;case 2:case 9:if(ks(T)){Bt=0,wa=null,l0(i);break}i=function(){Bt!==2&&Bt!==9||qt!==a||(Bt=7),cn(a)},T.then(i,i);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:ks(T)?(Bt=0,wa=null,l0(i)):(Bt=0,wa=null,wl(a,i,T,7));break;case 5:var B=null;switch(ht.tag){case 26:B=ht.memoizedState;case 5:case 27:var V=ht;if(B?Y0(B):V.stateNode.complete){Bt=0,wa=null;var $=V.sibling;if($!==null)ht=$;else{var de=V.return;de!==null?(ht=de,lf(de)):ht=null}break t}}Bt=0,wa=null,wl(a,i,T,5);break;case 6:Bt=0,wa=null,wl(a,i,T,6);break;case 8:fh(),ur=6;break e;default:throw Error(n(462))}}cS();break}catch(xe){r0(a,xe)}while(!0);return ja=Ln=null,H.H=h,H.A=y,Rt=o,ht!==null?0:(qt=null,pt=0,el(),ur)}function cS(){for(;ht!==null&&!Fe();)u0(ht)}function u0(a){var i=Oy(a.alternate,a,Kn);a.memoizedProps=a.pendingProps,i===null?lf(a):ht=i}function l0(a){var i=a,o=i.alternate;switch(i.tag){case 15:case 0:i=wy(o,i,i.pendingProps,i.type,void 0,pt);break;case 11:i=wy(o,i,i.pendingProps,i.type.render,i.ref,pt);break;case 5:Nv(i);default:By(o,i),i=ht=Ac(i,Kn),i=Oy(o,i,Kn)}a.memoizedProps=a.pendingProps,i===null?lf(a):ht=i}function wl(a,i,o,h){ja=Ln=null,Nv(i),mi=null,yu=0;var y=i.return;try{if($T(a,y,i,o,pt)){ur=1,Kc(a,oa(o,a.current)),ht=null;return}}catch(T){if(y!==null)throw ht=y,T;ur=1,Kc(a,oa(o,a.current)),ht=null;return}i.flags&32768?(vt||h===1?a=!0:El||(pt&536870912)!==0?a=!1:(xi=a=!0,(h===2||h===9||h===3||h===6)&&(h=Ta.current,h!==null&&h.tag===13&&(h.flags|=16384))),s0(i,a)):lf(i)}function lf(a){var i=a;do{if((i.flags&32768)!==0){s0(i,xi);return}a=i.return;var o=tS(i.alternate,i,Kn);if(o!==null){ht=o;return}if(i=i.sibling,i!==null){ht=i;return}ht=i=a}while(i!==null);ur===0&&(ur=5)}function s0(a,i){do{var o=rS(a.alternate,a);if(o!==null){o.flags&=32767,ht=o;return}if(o=a.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(a=a.sibling,a!==null)){ht=a;return}ht=a=o}while(a!==null);ur=6,ht=null}function o0(a,i,o,h,y,T,B,V,$){a.cancelPendingCommit=null;do sf();while(Cr!==0);if((Rt&6)!==0)throw Error(n(327));if(i!==null){if(i===a.current)throw Error(n(177));if(T=i.lanes|i.childLanes,T|=xs,Tr(a,o,T,B,V,$),a===qt&&(ht=qt=null,pt=0),Tl=i,wi=a,Xn=o,sh=T,oh=y,$y=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,hS(dt,function(){return h0(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=H.T,H.T=null,y=j.p,j.p=2,B=Rt,Rt|=4;try{aS(a,i,o)}finally{Rt=B,j.p=y,H.T=h}}Cr=1,c0(),f0(),d0()}}function c0(){if(Cr===1){Cr=0;var a=wi,i=Tl,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var h=j.p;j.p=2;var y=Rt;Rt|=4;try{jy(i,a);var T=wh,B=mc(a.containerInfo),V=T.focusedElem,$=T.selectionRange;if(B!==V&&V&&V.ownerDocument&&pc(V.ownerDocument.documentElement,V)){if($!==null&&ys(V)){var de=$.start,xe=$.end;if(xe===void 0&&(xe=de),"selectionStart"in V)V.selectionStart=de,V.selectionEnd=Math.min(xe,V.value.length);else{var Ce=V.ownerDocument||document,ve=Ce&&Ce.defaultView||window;if(ve.getSelection){var me=ve.getSelection(),He=V.textContent.length,et=Math.min($.start,He),_t=$.end===void 0?et:Math.min($.end,He);!me.extend&&et>_t&&(B=_t,_t=et,et=B);var ue=gc(V,et),ae=gc(V,_t);if(ue&&ae&&(me.rangeCount!==1||me.anchorNode!==ue.node||me.anchorOffset!==ue.offset||me.focusNode!==ae.node||me.focusOffset!==ae.offset)){var ce=Ce.createRange();ce.setStart(ue.node,ue.offset),me.removeAllRanges(),et>_t?(me.addRange(ce),me.extend(ae.node,ae.offset)):(ce.setEnd(ae.node,ae.offset),me.addRange(ce))}}}}for(Ce=[],me=V;me=me.parentNode;)me.nodeType===1&&Ce.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Ce.length;V++){var we=Ce[V];we.element.scrollLeft=we.left,we.element.scrollTop=we.top}}Ef=!!Sh,wh=Sh=null}finally{Rt=y,j.p=h,H.T=o}}a.current=i,Cr=2}}function f0(){if(Cr===2){Cr=0;var a=wi,i=Tl,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var h=j.p;j.p=2;var y=Rt;Rt|=4;try{Py(a,i.alternate,i)}finally{Rt=y,j.p=h,H.T=o}}Cr=3}}function d0(){if(Cr===4||Cr===3){Cr=0,tt();var a=wi,i=Tl,o=Xn,h=$y;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Cr=5:(Cr=0,Tl=wi=null,v0(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(Si=null),ia(o),i=i.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(F,i,void 0,(i.current.flags&128)===128)}catch{}if(h!==null){i=H.T,y=j.p,j.p=2,H.T=null;try{for(var T=a.onRecoverableError,B=0;B<h.length;B++){var V=h[B];T(V.value,{componentStack:V.stack})}}finally{H.T=i,j.p=y}}(Xn&3)!==0&&sf(),cn(a),y=a.pendingLanes,(o&261930)!==0&&(y&42)!==0?a===ch?$s++:($s=0,ch=a):$s=0,Js(0)}}function v0(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,Ya(i)))}function sf(){return c0(),f0(),d0(),h0()}function h0(){if(Cr!==5)return!1;var a=wi,i=sh;sh=0;var o=ia(Xn),h=H.T,y=j.p;try{j.p=32>o?32:o,H.T=null,o=oh,oh=null;var T=wi,B=Xn;if(Cr=0,Tl=wi=null,Xn=0,(Rt&6)!==0)throw Error(n(331));var V=Rt;if(Rt|=4,Zy(T.current),Yy(T,T.current,B,o),Rt=V,Js(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(F,T)}catch{}return!0}finally{j.p=y,H.T=h,v0(a,i)}}function g0(a,i,o){i=oa(o,i),i=Gv(a.stateNode,i,2),a=Xt(a,i,2),a!==null&&(St(a,2),cn(a))}function It(a,i,o){if(a.tag===3)g0(a,a,o);else for(;i!==null;){if(i.tag===3){g0(i,a,o);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Si===null||!Si.has(h))){a=oa(o,a),o=py(2),h=Xt(i,o,2),h!==null&&(my(o,h,i,a),St(h,2),cn(h));break}}i=i.return}}function vh(a,i,o){var h=a.pingCache;if(h===null){h=a.pingCache=new uS;var y=new Set;h.set(i,y)}else y=h.get(i),y===void 0&&(y=new Set,h.set(i,y));y.has(o)||(ih=!0,y.add(o),a=fS.bind(null,a,i,o),i.then(a,a))}function fS(a,i,o){var h=a.pingCache;h!==null&&h.delete(i),a.pingedLanes|=a.suspendedLanes&o,a.warmLanes&=~o,qt===a&&(pt&o)===o&&(ur===4||ur===3&&(pt&62914560)===pt&&300>Ie()-tf?(Rt&2)===0&&Sl(a,0):uh|=o,xl===pt&&(xl=0)),cn(a)}function p0(a,i){i===0&&(i=nt()),a=Dn(a,i),a!==null&&(St(a,i),cn(a))}function dS(a){var i=a.memoizedState,o=0;i!==null&&(o=i.retryLane),p0(a,o)}function vS(a,i){var o=0;switch(a.tag){case 31:case 13:var h=a.stateNode,y=a.memoizedState;y!==null&&(o=y.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(n(314))}h!==null&&h.delete(i),p0(a,o)}function hS(a,i){return Oe(a,i)}var of=null,Al=null,hh=!1,cf=!1,gh=!1,Ci=0;function cn(a){a!==Al&&a.next===null&&(Al===null?of=Al=a:Al=Al.next=a),cf=!0,hh||(hh=!0,pS())}function Js(a,i){if(!gh&&cf){gh=!0;do for(var o=!1,h=of;h!==null;){if(a!==0){var y=h.pendingLanes;if(y===0)var T=0;else{var B=h.suspendedLanes,V=h.pingedLanes;T=(1<<31-ge(42|a)+1)-1,T&=y&~(B&~V),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(o=!0,E0(h,T))}else T=pt,T=rt(h,h===qt?T:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(T&3)===0||ke(h,T)||(o=!0,E0(h,T));h=h.next}while(o);gh=!1}}function gS(){m0()}function m0(){cf=hh=!1;var a=0;Ci!==0&&CS()&&(a=Ci);for(var i=Ie(),o=null,h=of;h!==null;){var y=h.next,T=y0(h,i);T===0?(h.next=null,o===null?of=y:o.next=y,y===null&&(Al=o)):(o=h,(a!==0||(T&3)!==0)&&(cf=!0)),h=y}Cr!==0&&Cr!==5||Js(a),Ci!==0&&(Ci=0)}function y0(a,i){for(var o=a.suspendedLanes,h=a.pingedLanes,y=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var B=31-ge(T),V=1<<B,$=y[B];$===-1?((V&o)===0||(V&h)!==0)&&(y[B]=st(V,i)):$<=i&&(a.expiredLanes|=V),T&=~V}if(i=qt,o=pt,o=rt(a,a===i?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,o===0||a===i&&(Bt===2||Bt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Ge(h),a.callbackNode=null,a.callbackPriority=0;if((o&3)===0||ke(a,o)){if(i=o&-o,i===a.callbackPriority)return i;switch(h!==null&&Ge(h),ia(o)){case 2:case 8:o=yt;break;case 32:o=dt;break;case 268435456:o=We;break;default:o=dt}return h=b0.bind(null,a),o=Oe(o,h),a.callbackPriority=i,a.callbackNode=o,i}return h!==null&&h!==null&&Ge(h),a.callbackPriority=2,a.callbackNode=null,2}function b0(a,i){if(Cr!==0&&Cr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var o=a.callbackNode;if(sf()&&a.callbackNode!==o)return null;var h=pt;return h=rt(a,a===qt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(e0(a,h,i),y0(a,Ie()),a.callbackNode!=null&&a.callbackNode===o?b0.bind(null,a):null)}function E0(a,i){if(sf())return null;e0(a,i,!0)}function pS(){RS(function(){(Rt&6)!==0?Oe(ct,gS):m0()})}function ph(){if(Ci===0){var a=hi;a===0&&(a=Ue,Ue<<=1,(Ue&261888)===0&&(Ue=256)),Ci=a}return Ci}function x0(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:tu(""+a)}function T0(a,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,a.id&&o.setAttribute("form",a.id),i.parentNode.insertBefore(o,i),a=new FormData(a),o.parentNode.removeChild(o),a}function mS(a,i,o,h,y){if(i==="submit"&&o&&o.stateNode===y){var T=x0((y[wt]||null).action),B=h.submitter;B&&(i=(i=B[wt]||null)?x0(i.formAction):B.getAttribute("formAction"),i!==null&&(T=i,B=null));var V=new iu("action","action",null,h,y);a.push({event:V,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Ci!==0){var $=B?T0(y,B):new FormData(y);_v(o,{pending:!0,data:$,method:y.method,action:T},null,$)}}else typeof T=="function"&&(V.preventDefault(),$=B?T0(y,B):new FormData(y),_v(o,{pending:!0,data:$,method:y.method,action:T},T,$))},currentTarget:y}]})}}for(var mh=0;mh<Es.length;mh++){var yh=Es[mh],yS=yh.toLowerCase(),bS=yh[0].toUpperCase()+yh.slice(1);la(yS,"on"+bS)}la(bc,"onAnimationEnd"),la(Ec,"onAnimationIteration"),la(xc,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(fv,"onTransitionRun"),la(dv,"onTransitionStart"),la(vv,"onTransitionCancel"),la(Tc,"onTransitionEnd"),Wr("onMouseEnter",["mouseout","mouseover"]),Wr("onMouseLeave",["mouseout","mouseover"]),Wr("onPointerEnter",["pointerout","pointerover"]),Wr("onPointerLeave",["pointerout","pointerover"]),hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hr("onBeforeInput",["compositionend","keypress","textInput","paste"]),hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ES=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function S0(a,i){i=(i&4)!==0;for(var o=0;o<a.length;o++){var h=a[o],y=h.event;h=h.listeners;e:{var T=void 0;if(i)for(var B=h.length-1;0<=B;B--){var V=h[B],$=V.instance,de=V.currentTarget;if(V=V.listener,$!==T&&y.isPropagationStopped())break e;T=V,y.currentTarget=de;try{T(y)}catch(xe){Ju(xe)}y.currentTarget=null,T=$}else for(B=0;B<h.length;B++){if(V=h[B],$=V.instance,de=V.currentTarget,V=V.listener,$!==T&&y.isPropagationStopped())break e;T=V,y.currentTarget=de;try{T(y)}catch(xe){Ju(xe)}y.currentTarget=null,T=$}}}}function gt(a,i){var o=i[sr];o===void 0&&(o=i[sr]=new Set);var h=a+"__bubble";o.has(h)||(w0(i,a,2,!1),o.add(h))}function bh(a,i,o){var h=0;i&&(h|=4),w0(o,a,h,i)}var ff="_reactListening"+Math.random().toString(36).slice(2);function Eh(a){if(!a[ff]){a[ff]=!0,Uu.forEach(function(o){o!=="selectionchange"&&(ES.has(o)||bh(o,!1,a),bh(o,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[ff]||(i[ff]=!0,bh("selectionchange",!1,i))}}function w0(a,i,o,h){switch(J0(i)){case 2:var y=XS;break;case 8:y=ZS;break;default:y=zh}o=y.bind(null,i,o,a),y=void 0,!is||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(y=!0),h?y!==void 0?a.addEventListener(i,o,{capture:!0,passive:y}):a.addEventListener(i,o,!0):y!==void 0?a.addEventListener(i,o,{passive:y}):a.addEventListener(i,o,!1)}function xh(a,i,o,h,y){var T=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var B=h.tag;if(B===3||B===4){var V=h.stateNode.containerInfo;if(V===y)break;if(B===4)for(B=h.return;B!==null;){var $=B.tag;if(($===3||$===4)&&B.stateNode.containerInfo===y)return;B=B.return}for(;V!==null;){if(B=en(V),B===null)return;if($=B.tag,$===5||$===6||$===26||$===27){h=T=B;continue e}V=V.parentNode}}h=h.return}Jo(function(){var de=T,xe=au(o),Ce=[];e:{var ve=Sc.get(a);if(ve!==void 0){var me=iu,He=a;switch(a){case"keypress":if(Fu(o)===0)break e;case"keydown":case"keyup":me=Zd;break;case"focusin":He="focus",me=os;break;case"focusout":He="blur",me=os;break;case"beforeblur":case"afterblur":me=os;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=$d;break;case bc:case Ec:case xc:me=Hd;break;case Tc:me=Jd;break;case"scroll":case"scrollend":me=_d;break;case"wheel":me=tv;break;case"copy":case"cut":case"paste":me=Vd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=ac;break;case"toggle":case"beforetoggle":me=av}var et=(i&4)!==0,_t=!et&&(a==="scroll"||a==="scrollend"),ue=et?ve!==null?ve+"Capture":null:ve;et=[];for(var ae=de,ce;ae!==null;){var we=ae;if(ce=we.stateNode,we=we.tag,we!==5&&we!==26&&we!==27||ce===null||ue===null||(we=nu(ae,ue),we!=null&&et.push(to(ae,we,ce))),_t)break;ae=ae.return}0<et.length&&(ve=new me(ve,He,null,o,xe),Ce.push({event:ve,listeners:et}))}}if((i&7)===0){e:{if(ve=a==="mouseover"||a==="pointerover",me=a==="mouseout"||a==="pointerout",ve&&o!==ru&&(He=o.relatedTarget||o.fromElement)&&(en(He)||He[Sr]))break e;if((me||ve)&&(ve=xe.window===xe?xe:(ve=xe.ownerDocument)?ve.defaultView||ve.parentWindow:window,me?(He=o.relatedTarget||o.toElement,me=de,He=He?en(He):null,He!==null&&(_t=l(He),et=He.tag,He!==_t||et!==5&&et!==27&&et!==6)&&(He=null)):(me=null,He=de),me!==He)){if(et=ss,we="onMouseLeave",ue="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(et=ac,we="onPointerLeave",ue="onPointerEnter",ae="pointer"),_t=me==null?ve:Ea(me),ce=He==null?ve:Ea(He),ve=new et(we,ae+"leave",me,o,xe),ve.target=_t,ve.relatedTarget=ce,we=null,en(xe)===de&&(et=new et(ue,ae+"enter",He,o,xe),et.target=ce,et.relatedTarget=_t,we=et),_t=we,me&&He)t:{for(et=xS,ue=me,ae=He,ce=0,we=ue;we;we=et(we))ce++;we=0;for(var Ze=ae;Ze;Ze=et(Ze))we++;for(;0<ce-we;)ue=et(ue),ce--;for(;0<we-ce;)ae=et(ae),we--;for(;ce--;){if(ue===ae||ae!==null&&ue===ae.alternate){et=ue;break t}ue=et(ue),ae=et(ae)}et=null}else et=null;me!==null&&A0(Ce,ve,me,et,!1),He!==null&&_t!==null&&A0(Ce,_t,He,et,!0)}}e:{if(ve=de?Ea(de):window,me=ve.nodeName&&ve.nodeName.toLowerCase(),me==="select"||me==="input"&&ve.type==="file")var At=ii;else if(oc(ve))if(vs)At=sv;else{At=vc;var je=ms}else me=ve.nodeName,!me||me.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?de&&as(de.elementType)&&(At=ii):At=Wu;if(At&&(At=At(a,de))){cc(Ce,At,o,xe);break e}je&&je(a,ve,de),a==="focusout"&&de&&ve.type==="number"&&de.memoizedProps.value!=null&&rs(ve,"number",ve.value)}switch(je=de?Ea(de):window,a){case"focusin":(oc(je)||je.contentEditable==="true")&&(ui=je,$u=de,li=null);break;case"focusout":li=$u=ui=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,yc(Ce,o,xe);break;case"selectionchange":if(cv)break;case"keydown":case"keyup":yc(Ce,o,xe)}var ot;if(fs)e:{switch(a){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else ni?ds(a,o)&&(mt="onCompositionEnd"):a==="keydown"&&o.keyCode===229&&(mt="onCompositionStart");mt&&(ic&&o.locale!=="ko"&&(ni||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&ni&&(ot=ec()):(rn=xe,us="value"in rn?rn.value:rn.textContent,ni=!0)),je=df(de,mt),0<je.length&&(mt=new rc(mt,a,null,o,xe),Ce.push({event:mt,listeners:je}),ot?mt.data=ot:(ot=Zu(o),ot!==null&&(mt.data=ot)))),(ot=iv?uv(a,o):cu(a,o))&&(mt=df(de,"onBeforeInput"),0<mt.length&&(je=new rc("onBeforeInput","beforeinput",null,o,xe),Ce.push({event:je,listeners:mt}),je.data=ot)),mS(Ce,a,de,o,xe)}S0(Ce,i)})}function to(a,i,o){return{instance:a,listener:i,currentTarget:o}}function df(a,i){for(var o=i+"Capture",h=[];a!==null;){var y=a,T=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||T===null||(y=nu(a,o),y!=null&&h.unshift(to(a,y,T)),y=nu(a,i),y!=null&&h.push(to(a,y,T))),a.tag===3)return h;a=a.return}return[]}function xS(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function A0(a,i,o,h,y){for(var T=i._reactName,B=[];o!==null&&o!==h;){var V=o,$=V.alternate,de=V.stateNode;if(V=V.tag,$!==null&&$===h)break;V!==5&&V!==26&&V!==27||de===null||($=de,y?(de=nu(o,T),de!=null&&B.unshift(to(o,de,$))):y||(de=nu(o,T),de!=null&&B.push(to(o,de,$)))),o=o.return}B.length!==0&&a.push({event:i,listeners:B})}var TS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function C0(a){return(typeof a=="string"?a:""+a).replace(TS,`
`).replace(SS,"")}function N0(a,i){return i=C0(i),C0(a)===i}function zt(a,i,o,h,y,T){switch(o){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||Sn(a,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&Sn(a,""+h);break;case"className":Da(a,"class",h);break;case"tabIndex":Da(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Da(a,o,h);break;case"style":Wo(a,h,T);break;case"data":if(i!=="object"){Da(a,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||o!=="href")){a.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(o);break}h=tu(""+h),a.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(o==="formAction"?(i!=="input"&&zt(a,i,"name",y.name,y,null),zt(a,i,"formEncType",y.formEncType,y,null),zt(a,i,"formMethod",y.formMethod,y,null),zt(a,i,"formTarget",y.formTarget,y,null)):(zt(a,i,"encType",y.encType,y,null),zt(a,i,"method",y.method,y,null),zt(a,i,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(o);break}h=tu(""+h),a.setAttribute(o,h);break;case"onClick":h!=null&&(a.onclick=Oa);break;case"onScroll":h!=null&&gt("scroll",a);break;case"onScrollEnd":h!=null&&gt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(o=h.__html,o!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=o}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}o=tu(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(o,""+h):a.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(o,""):a.removeAttribute(o);break;case"capture":case"download":h===!0?a.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(o,h):a.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(o,h):a.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(o):a.setAttribute(o,h);break;case"popover":gt("beforetoggle",a),gt("toggle",a),$t(a,"popover",h);break;case"xlinkActuate":Mr(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Mr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Mr(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Mr(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Mr(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Mr(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Mr(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Mr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Mr(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":$t(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=$o.get(o)||o,$t(a,o,h))}}function Th(a,i,o,h,y,T){switch(o){case"style":Wo(a,h,T);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(n(61));if(o=h.__html,o!=null){if(y.children!=null)throw Error(n(60));a.innerHTML=o}}break;case"children":typeof h=="string"?Sn(a,h):(typeof h=="number"||typeof h=="bigint")&&Sn(a,""+h);break;case"onScroll":h!=null&&gt("scroll",a);break;case"onScrollEnd":h!=null&&gt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=Oa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$i.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(y=o.endsWith("Capture"),i=o.slice(2,y?o.length-7:void 0),T=a[wt]||null,T=T!=null?T[o]:null,typeof T=="function"&&a.removeEventListener(i,T,y),typeof h=="function")){typeof T!="function"&&T!==null&&(o in a?a[o]=null:a.hasAttribute(o)&&a.removeAttribute(o)),a.addEventListener(i,h,y);break e}o in a?a[o]=h:h===!0?a.setAttribute(o,""):$t(a,o,h)}}}function Pr(a,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",a),gt("load",a);var h=!1,y=!1,T;for(T in o)if(o.hasOwnProperty(T)){var B=o[T];if(B!=null)switch(T){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:zt(a,i,T,B,o,null)}}y&&zt(a,i,"srcSet",o.srcSet,o,null),h&&zt(a,i,"src",o.src,o,null);return;case"input":gt("invalid",a);var V=T=B=y=null,$=null,de=null;for(h in o)if(o.hasOwnProperty(h)){var xe=o[h];if(xe!=null)switch(h){case"name":y=xe;break;case"type":B=xe;break;case"checked":$=xe;break;case"defaultChecked":de=xe;break;case"value":T=xe;break;case"defaultValue":V=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(n(137,i));break;default:zt(a,i,h,xe,o,null)}}Gu(a,T,V,$,de,B,y,!1);return;case"select":gt("invalid",a),h=B=T=null;for(y in o)if(o.hasOwnProperty(y)&&(V=o[y],V!=null))switch(y){case"value":T=V;break;case"defaultValue":B=V;break;case"multiple":h=V;default:zt(a,i,y,V,o,null)}i=T,o=B,a.multiple=!!h,i!=null?Tn(a,!!h,i,!1):o!=null&&Tn(a,!!h,o,!0);return;case"textarea":gt("invalid",a),T=y=h=null;for(B in o)if(o.hasOwnProperty(B)&&(V=o[B],V!=null))switch(B){case"value":h=V;break;case"defaultValue":y=V;break;case"children":T=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(n(91));break;default:zt(a,i,B,V,o,null)}Qo(a,h,y,T);return;case"option":for($ in o)o.hasOwnProperty($)&&(h=o[$],h!=null)&&($==="selected"?a.selected=h&&typeof h!="function"&&typeof h!="symbol":zt(a,i,$,h,o,null));return;case"dialog":gt("beforetoggle",a),gt("toggle",a),gt("cancel",a),gt("close",a);break;case"iframe":case"object":gt("load",a);break;case"video":case"audio":for(h=0;h<eo.length;h++)gt(eo[h],a);break;case"image":gt("error",a),gt("load",a);break;case"details":gt("toggle",a);break;case"embed":case"source":case"link":gt("error",a),gt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in o)if(o.hasOwnProperty(de)&&(h=o[de],h!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,i));default:zt(a,i,de,h,o,null)}return;default:if(as(i)){for(xe in o)o.hasOwnProperty(xe)&&(h=o[xe],h!==void 0&&Th(a,i,xe,h,o,void 0));return}}for(V in o)o.hasOwnProperty(V)&&(h=o[V],h!=null&&zt(a,i,V,h,o,null))}function wS(a,i,o,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,T=null,B=null,V=null,$=null,de=null,xe=null;for(me in o){var Ce=o[me];if(o.hasOwnProperty(me)&&Ce!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":$=Ce;default:h.hasOwnProperty(me)||zt(a,i,me,null,h,Ce)}}for(var ve in h){var me=h[ve];if(Ce=o[ve],h.hasOwnProperty(ve)&&(me!=null||Ce!=null))switch(ve){case"type":T=me;break;case"name":y=me;break;case"checked":de=me;break;case"defaultChecked":xe=me;break;case"value":B=me;break;case"defaultValue":V=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(n(137,i));break;default:me!==Ce&&zt(a,i,ve,me,h,Ce)}}tn(a,B,V,$,de,xe,T,y);return;case"select":me=B=V=ve=null;for(T in o)if($=o[T],o.hasOwnProperty(T)&&$!=null)switch(T){case"value":break;case"multiple":me=$;default:h.hasOwnProperty(T)||zt(a,i,T,null,h,$)}for(y in h)if(T=h[y],$=o[y],h.hasOwnProperty(y)&&(T!=null||$!=null))switch(y){case"value":ve=T;break;case"defaultValue":V=T;break;case"multiple":B=T;default:T!==$&&zt(a,i,y,T,h,$)}i=V,o=B,h=me,ve!=null?Tn(a,!!o,ve,!1):!!h!=!!o&&(i!=null?Tn(a,!!o,i,!0):Tn(a,!!o,o?[]:"",!1));return;case"textarea":me=ve=null;for(V in o)if(y=o[V],o.hasOwnProperty(V)&&y!=null&&!h.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:zt(a,i,V,null,h,y)}for(B in h)if(y=h[B],T=o[B],h.hasOwnProperty(B)&&(y!=null||T!=null))switch(B){case"value":ve=y;break;case"defaultValue":me=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(n(91));break;default:y!==T&&zt(a,i,B,y,h,T)}Zo(a,ve,me);return;case"option":for(var He in o)ve=o[He],o.hasOwnProperty(He)&&ve!=null&&!h.hasOwnProperty(He)&&(He==="selected"?a.selected=!1:zt(a,i,He,null,h,ve));for($ in h)ve=h[$],me=o[$],h.hasOwnProperty($)&&ve!==me&&(ve!=null||me!=null)&&($==="selected"?a.selected=ve&&typeof ve!="function"&&typeof ve!="symbol":zt(a,i,$,ve,h,me));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in o)ve=o[et],o.hasOwnProperty(et)&&ve!=null&&!h.hasOwnProperty(et)&&zt(a,i,et,null,h,ve);for(de in h)if(ve=h[de],me=o[de],h.hasOwnProperty(de)&&ve!==me&&(ve!=null||me!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(n(137,i));break;default:zt(a,i,de,ve,h,me)}return;default:if(as(i)){for(var _t in o)ve=o[_t],o.hasOwnProperty(_t)&&ve!==void 0&&!h.hasOwnProperty(_t)&&Th(a,i,_t,void 0,h,ve);for(xe in h)ve=h[xe],me=o[xe],!h.hasOwnProperty(xe)||ve===me||ve===void 0&&me===void 0||Th(a,i,xe,ve,h,me);return}}for(var ue in o)ve=o[ue],o.hasOwnProperty(ue)&&ve!=null&&!h.hasOwnProperty(ue)&&zt(a,i,ue,null,h,ve);for(Ce in h)ve=h[Ce],me=o[Ce],!h.hasOwnProperty(Ce)||ve===me||ve==null&&me==null||zt(a,i,Ce,ve,h,me)}function R0(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function AS(){if(typeof performance.getEntriesByType=="function"){for(var a=0,i=0,o=performance.getEntriesByType("resource"),h=0;h<o.length;h++){var y=o[h],T=y.transferSize,B=y.initiatorType,V=y.duration;if(T&&V&&R0(B)){for(B=0,V=y.responseEnd,h+=1;h<o.length;h++){var $=o[h],de=$.startTime;if(de>V)break;var xe=$.transferSize,Ce=$.initiatorType;xe&&R0(Ce)&&($=$.responseEnd,B+=xe*($<V?1:(V-de)/($-de)))}if(--h,i+=8*(T+B)/(y.duration/1e3),a++,10<a)break}}if(0<a)return i/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Sh=null,wh=null;function vf(a){return a.nodeType===9?a:a.ownerDocument}function D0(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O0(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function Ah(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ch=null;function CS(){var a=window.event;return a&&a.type==="popstate"?a===Ch?!1:(Ch=a,!0):(Ch=null,!1)}var M0=typeof setTimeout=="function"?setTimeout:void 0,NS=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,RS=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(a){return B0.resolve(null).then(a).catch(DS)}:M0;function DS(a){setTimeout(function(){throw a})}function Ni(a){return a==="head"}function I0(a,i){var o=i,h=0;do{var y=o.nextSibling;if(a.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"||o==="/&"){if(h===0){a.removeChild(y),Dl(i);return}h--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")h++;else if(o==="html")ro(a.ownerDocument.documentElement);else if(o==="head"){o=a.ownerDocument.head,ro(o);for(var T=o.firstChild;T;){var B=T.nextSibling,V=T.nodeName;T[vr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&T.rel.toLowerCase()==="stylesheet"||o.removeChild(T),T=B}}else o==="body"&&ro(a.ownerDocument.body);o=y}while(o);Dl(i)}function L0(a,i){var o=a;a=0;do{var h=o.nextSibling;if(o.nodeType===1?i?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(i?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(a===0)break;a--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||a++;o=h}while(o)}function Nh(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Nh(o),yn(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}a.removeChild(o)}}function OS(a,i,o,h){for(;a.nodeType===1;){var y=o;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[vr])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var T=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=za(a.nextSibling),a===null)break}return null}function MS(a,i,o){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!o||(a=za(a.nextSibling),a===null))return null;return a}function z0(a,i){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!i||(a=za(a.nextSibling),a===null))return null;return a}function Rh(a){return a.data==="$?"||a.data==="$~"}function Dh(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function BS(a,i){var o=a.ownerDocument;if(a.data==="$~")a._reactRetry=i;else if(a.data!=="$?"||o.readyState!=="loading")i();else{var h=function(){i(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function za(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return a}var Oh=null;function _0(a){a=a.nextSibling;for(var i=0;a;){if(a.nodeType===8){var o=a.data;if(o==="/$"||o==="/&"){if(i===0)return za(a.nextSibling);i--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||i++}a=a.nextSibling}return null}function k0(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var o=a.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(i===0)return a;i--}else o!=="/$"&&o!=="/&"||i++}a=a.previousSibling}return null}function U0(a,i,o){switch(i=vf(o),a){case"html":if(a=i.documentElement,!a)throw Error(n(452));return a;case"head":if(a=i.head,!a)throw Error(n(453));return a;case"body":if(a=i.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function ro(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);yn(a)}var _a=new Map,P0=new Set;function hf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Zn=j.d;j.d={f:IS,r:LS,D:zS,C:_S,L:kS,m:US,X:qS,S:PS,M:HS};function IS(){var a=Zn.f(),i=nf();return a||i}function LS(a){var i=Ha(a);i!==null&&i.tag===5&&i.type==="form"?ry(i):Zn.r(a)}var Cl=typeof document>"u"?null:document;function q0(a,i,o){var h=Cl;if(h&&typeof i=="string"&&i){var y=jr(i);y='link[rel="'+a+'"][href="'+y+'"]',typeof o=="string"&&(y+='[crossorigin="'+o+'"]'),P0.has(y)||(P0.add(y),a={rel:a,crossOrigin:o,href:i},h.querySelector(y)===null&&(i=h.createElement("link"),Pr(i,"link",a),rr(i),h.head.appendChild(i)))}}function zS(a){Zn.D(a),q0("dns-prefetch",a,null)}function _S(a,i){Zn.C(a,i),q0("preconnect",a,i)}function kS(a,i,o){Zn.L(a,i,o);var h=Cl;if(h&&a&&i){var y='link[rel="preload"][as="'+jr(i)+'"]';i==="image"&&o&&o.imageSrcSet?(y+='[imagesrcset="'+jr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(y+='[imagesizes="'+jr(o.imageSizes)+'"]')):y+='[href="'+jr(a)+'"]';var T=y;switch(i){case"style":T=Nl(a);break;case"script":T=Rl(a)}_a.has(T)||(a=g({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:a,as:i},o),_a.set(T,a),h.querySelector(y)!==null||i==="style"&&h.querySelector(ao(T))||i==="script"&&h.querySelector(no(T))||(i=h.createElement("link"),Pr(i,"link",a),rr(i),h.head.appendChild(i)))}}function US(a,i){Zn.m(a,i);var o=Cl;if(o&&a){var h=i&&typeof i.as=="string"?i.as:"script",y='link[rel="modulepreload"][as="'+jr(h)+'"][href="'+jr(a)+'"]',T=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Rl(a)}if(!_a.has(T)&&(a=g({rel:"modulepreload",href:a},i),_a.set(T,a),o.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(no(T)))return}h=o.createElement("link"),Pr(h,"link",a),rr(h),o.head.appendChild(h)}}}function PS(a,i,o){Zn.S(a,i,o);var h=Cl;if(h&&a){var y=xa(h).hoistableStyles,T=Nl(a);i=i||"default";var B=y.get(T);if(!B){var V={loading:0,preload:null};if(B=h.querySelector(ao(T)))V.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":i},o),(o=_a.get(T))&&Mh(a,o);var $=B=h.createElement("link");rr($),Pr($,"link",a),$._p=new Promise(function(de,xe){$.onload=de,$.onerror=xe}),$.addEventListener("load",function(){V.loading|=1}),$.addEventListener("error",function(){V.loading|=2}),V.loading|=4,gf(B,i,h)}B={type:"stylesheet",instance:B,count:1,state:V},y.set(T,B)}}}function qS(a,i){Zn.X(a,i);var o=Cl;if(o&&a){var h=xa(o).hoistableScripts,y=Rl(a),T=h.get(y);T||(T=o.querySelector(no(y)),T||(a=g({src:a,async:!0},i),(i=_a.get(y))&&Bh(a,i),T=o.createElement("script"),rr(T),Pr(T,"link",a),o.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},h.set(y,T))}}function HS(a,i){Zn.M(a,i);var o=Cl;if(o&&a){var h=xa(o).hoistableScripts,y=Rl(a),T=h.get(y);T||(T=o.querySelector(no(y)),T||(a=g({src:a,async:!0,type:"module"},i),(i=_a.get(y))&&Bh(a,i),T=o.createElement("script"),rr(T),Pr(T,"link",a),o.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},h.set(y,T))}}function H0(a,i,o,h){var y=(y=he.current)?hf(y):null;if(!y)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Nl(o.href),o=xa(y).hoistableStyles,h=o.get(i),h||(h={type:"style",instance:null,count:0,state:null},o.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){a=Nl(o.href);var T=xa(y).hoistableStyles,B=T.get(a);if(B||(y=y.ownerDocument||y,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,B),(T=y.querySelector(ao(a)))&&!T._p&&(B.instance=T,B.state.loading=5),_a.has(a)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},_a.set(a,o),T||GS(y,a,o,B.state))),i&&h===null)throw Error(n(528,""));return B}if(i&&h!==null)throw Error(n(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Rl(o),o=xa(y).hoistableScripts,h=o.get(i),h||(h={type:"script",instance:null,count:0,state:null},o.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Nl(a){return'href="'+jr(a)+'"'}function ao(a){return'link[rel="stylesheet"]['+a+"]"}function G0(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function GS(a,i,o,h){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=a.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),Pr(i,"link",o),rr(i),a.head.appendChild(i))}function Rl(a){return'[src="'+jr(a)+'"]'}function no(a){return"script[async]"+a}function V0(a,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var h=a.querySelector('style[data-href~="'+jr(o.href)+'"]');if(h)return i.instance=h,rr(h),h;var y=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),rr(h),Pr(h,"style",y),gf(h,o.precedence,a),i.instance=h;case"stylesheet":y=Nl(o.href);var T=a.querySelector(ao(y));if(T)return i.state.loading|=4,i.instance=T,rr(T),T;h=G0(o),(y=_a.get(y))&&Mh(h,y),T=(a.ownerDocument||a).createElement("link"),rr(T);var B=T;return B._p=new Promise(function(V,$){B.onload=V,B.onerror=$}),Pr(T,"link",h),i.state.loading|=4,gf(T,o.precedence,a),i.instance=T;case"script":return T=Rl(o.src),(y=a.querySelector(no(T)))?(i.instance=y,rr(y),y):(h=o,(y=_a.get(T))&&(h=g({},o),Bh(h,y)),a=a.ownerDocument||a,y=a.createElement("script"),rr(y),Pr(y,"link",h),a.head.appendChild(y),i.instance=y);case"void":return null;default:throw Error(n(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,gf(h,o.precedence,a));return i.instance}function gf(a,i,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,T=y,B=0;B<h.length;B++){var V=h[B];if(V.dataset.precedence===i)T=V;else if(T!==y)break}T?T.parentNode.insertBefore(a,T.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(a,i.firstChild))}function Mh(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function Bh(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var pf=null;function j0(a,i,o){if(pf===null){var h=new Map,y=pf=new Map;y.set(o,h)}else y=pf,h=y.get(o),h||(h=new Map,y.set(o,h));if(h.has(a))return h;for(h.set(a,null),o=o.getElementsByTagName(a),y=0;y<o.length;y++){var T=o[y];if(!(T[vr]||T[Dt]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var B=T.getAttribute(i)||"";B=a+B;var V=h.get(B);V?V.push(T):h.set(B,[T])}}return h}function F0(a,i,o){a=a.ownerDocument||a,a.head.insertBefore(o,i==="title"?a.querySelector("head > title"):null)}function VS(a,i,o){if(o===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(a=i.disabled,typeof i.precedence=="string"&&a==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Y0(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function jS(a,i,o,h){if(o.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var y=Nl(h.href),T=i.querySelector(ao(y));if(T){i=T._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(a.count++,a=mf.bind(a),i.then(a,a)),o.state.loading|=4,o.instance=T,rr(T);return}T=i.ownerDocument||i,h=G0(h),(y=_a.get(y))&&Mh(h,y),T=T.createElement("link"),rr(T);var B=T;B._p=new Promise(function(V,$){B.onload=V,B.onerror=$}),Pr(T,"link",h),o.instance=T}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(a.count++,o=mf.bind(a),i.addEventListener("load",o),i.addEventListener("error",o))}}var Ih=0;function FS(a,i){return a.stylesheets&&a.count===0&&bf(a,a.stylesheets),0<a.count||0<a.imgCount?function(o){var h=setTimeout(function(){if(a.stylesheets&&bf(a,a.stylesheets),a.unsuspend){var T=a.unsuspend;a.unsuspend=null,T()}},6e4+i);0<a.imgBytes&&Ih===0&&(Ih=62500*AS());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&bf(a,a.stylesheets),a.unsuspend)){var T=a.unsuspend;a.unsuspend=null,T()}},(a.imgBytes>Ih?50:800)+i);return a.unsuspend=o,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function mf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var yf=null;function bf(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,yf=new Map,i.forEach(YS,a),yf=null,mf.call(a))}function YS(a,i){if(!(i.state.loading&4)){var o=yf.get(a);if(o)var h=o.get(null);else{o=new Map,yf.set(a,o);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<y.length;T++){var B=y[T];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(o.set(B.dataset.precedence,B),h=B)}h&&o.set(null,h)}y=i.instance,B=y.getAttribute("data-precedence"),T=o.get(B)||h,T===h&&o.set(null,y),o.set(B,y),this.count++,h=mf.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),T?T.parentNode.insertBefore(y,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),i.state.loading|=4}}var io={$$typeof:R,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function KS(a,i,o,h,y,T,B,V,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kt(0),this.hiddenUpdates=Kt(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=T,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function K0(a,i,o,h,y,T,B,V,$,de,xe,Ce){return a=new KS(a,i,o,B,$,de,xe,Ce,V),i=1,T===!0&&(i|=24),T=Jr(3,null,null,i),a.current=T,T.stateNode=a,i=Bs(),i.refCount++,a.pooledCache=i,i.refCount++,T.memoizedState={element:h,isDehydrated:o,cache:i},Ae(T),a}function X0(a){return a?(a=On,a):On}function Z0(a,i,o,h,y,T){y=X0(y),h.context===null?h.context=y:h.pendingContext=y,h=Et(i),h.payload={element:o},T=T===void 0?null:T,T!==null&&(h.callback=T),o=Xt(a,h,i),o!==null&&(pa(o,a,i),Fr(o,a,i))}function Q0(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var o=a.retryLane;a.retryLane=o!==0&&o<i?o:i}}function Lh(a,i){Q0(a,i),(a=a.alternate)&&Q0(a,i)}function W0(a){if(a.tag===13||a.tag===31){var i=Dn(a,67108864);i!==null&&pa(i,a,67108864),Lh(a,67108864)}}function $0(a){if(a.tag===13||a.tag===31){var i=Ca();i=tr(i);var o=Dn(a,i);o!==null&&pa(o,a,i),Lh(a,i)}}var Ef=!0;function XS(a,i,o,h){var y=H.T;H.T=null;var T=j.p;try{j.p=2,zh(a,i,o,h)}finally{j.p=T,H.T=y}}function ZS(a,i,o,h){var y=H.T;H.T=null;var T=j.p;try{j.p=8,zh(a,i,o,h)}finally{j.p=T,H.T=y}}function zh(a,i,o,h){if(Ef){var y=_h(h);if(y===null)xh(a,i,h,xf,o),eb(a,h);else if(WS(y,a,i,o,h))h.stopPropagation();else if(eb(a,h),i&4&&-1<QS.indexOf(a)){for(;y!==null;){var T=Ha(y);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var B=Je(T.pendingLanes);if(B!==0){var V=T;for(V.pendingLanes|=2,V.entangledLanes|=2;B;){var $=1<<31-ge(B);V.entanglements[1]|=$,B&=~$}cn(T),(Rt&6)===0&&(rf=Ie()+500,Js(0))}}break;case 31:case 13:V=Dn(T,2),V!==null&&pa(V,T,2),nf(),Lh(T,2)}if(T=_h(h),T===null&&xh(a,i,h,xf,o),T===y)break;y=T}y!==null&&h.stopPropagation()}else xh(a,i,h,null,o)}}function _h(a){return a=au(a),kh(a)}var xf=null;function kh(a){if(xf=null,a=en(a),a!==null){var i=l(a);if(i===null)a=null;else{var o=i.tag;if(o===13){if(a=s(i),a!==null)return a;a=null}else if(o===31){if(a=c(i),a!==null)return a;a=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return xf=a,null}function J0(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(at()){case ct:return 2;case yt:return 8;case dt:case bt:return 32;case We:return 268435456;default:return 32}default:return 32}}var Uh=!1,Ri=null,Di=null,Oi=null,uo=new Map,lo=new Map,Mi=[],QS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eb(a,i){switch(a){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":uo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":lo.delete(i.pointerId)}}function so(a,i,o,h,y,T){return a===null||a.nativeEvent!==T?(a={blockedOn:i,domEventName:o,eventSystemFlags:h,nativeEvent:T,targetContainers:[y]},i!==null&&(i=Ha(i),i!==null&&W0(i)),a):(a.eventSystemFlags|=h,i=a.targetContainers,y!==null&&i.indexOf(y)===-1&&i.push(y),a)}function WS(a,i,o,h,y){switch(i){case"focusin":return Ri=so(Ri,a,i,o,h,y),!0;case"dragenter":return Di=so(Di,a,i,o,h,y),!0;case"mouseover":return Oi=so(Oi,a,i,o,h,y),!0;case"pointerover":var T=y.pointerId;return uo.set(T,so(uo.get(T)||null,a,i,o,h,y)),!0;case"gotpointercapture":return T=y.pointerId,lo.set(T,so(lo.get(T)||null,a,i,o,h,y)),!0}return!1}function tb(a){var i=en(a.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=s(o),i!==null){a.blockedOn=i,ua(a.priority,function(){$0(o)});return}}else if(i===31){if(i=c(o),i!==null){a.blockedOn=i,ua(a.priority,function(){$0(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){a.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Tf(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var o=_h(a.nativeEvent);if(o===null){o=a.nativeEvent;var h=new o.constructor(o.type,o);ru=h,o.target.dispatchEvent(h),ru=null}else return i=Ha(o),i!==null&&W0(i),a.blockedOn=o,!1;i.shift()}return!0}function rb(a,i,o){Tf(a)&&o.delete(i)}function $S(){Uh=!1,Ri!==null&&Tf(Ri)&&(Ri=null),Di!==null&&Tf(Di)&&(Di=null),Oi!==null&&Tf(Oi)&&(Oi=null),uo.forEach(rb),lo.forEach(rb)}function Sf(a,i){a.blockedOn===i&&(a.blockedOn=null,Uh||(Uh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,$S)))}var wf=null;function ab(a){wf!==a&&(wf=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wf===a&&(wf=null);for(var i=0;i<a.length;i+=3){var o=a[i],h=a[i+1],y=a[i+2];if(typeof h!="function"){if(kh(h||o)===null)continue;break}var T=Ha(o);T!==null&&(a.splice(i,3),i-=3,_v(T,{pending:!0,data:y,method:o.method,action:h},h,y))}}))}function Dl(a){function i($){return Sf($,a)}Ri!==null&&Sf(Ri,a),Di!==null&&Sf(Di,a),Oi!==null&&Sf(Oi,a),uo.forEach(i),lo.forEach(i);for(var o=0;o<Mi.length;o++){var h=Mi[o];h.blockedOn===a&&(h.blockedOn=null)}for(;0<Mi.length&&(o=Mi[0],o.blockedOn===null);)tb(o),o.blockedOn===null&&Mi.shift();if(o=(a.ownerDocument||a).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var y=o[h],T=o[h+1],B=y[wt]||null;if(typeof T=="function")B||ab(o);else if(B){var V=null;if(T&&T.hasAttribute("formAction")){if(y=T,B=T[wt]||null)V=B.formAction;else if(kh(y)!==null)continue}else V=B.action;typeof V=="function"?o[h+1]=V:(o.splice(h,3),h-=3),ab(o)}}}function nb(){function a(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(B){return y=B})},focusReset:"manual",scroll:"manual"})}function i(){y!==null&&(y(),y=null),h||setTimeout(o,20)}function o(){if(!h&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(o,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),y!==null&&(y(),y=null)}}}function Ph(a){this._internalRoot=a}Af.prototype.render=Ph.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(n(409));var o=i.current,h=Ca();Z0(o,h,a,i,null,null)},Af.prototype.unmount=Ph.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;Z0(a.current,2,null,a,null,null),nf(),i[Sr]=null}};function Af(a){this._internalRoot=a}Af.prototype.unstable_scheduleHydration=function(a){if(a){var i=jt();a={blockedOn:null,target:a,priority:i};for(var o=0;o<Mi.length&&i!==0&&i<Mi[o].priority;o++);Mi.splice(o,0,a),o===0&&tb(a)}};var ib=e.version;if(ib!=="19.2.4")throw Error(n(527,ib,"19.2.4"));j.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=f(i),a=a!==null?v(a):null,a=a===null?null:a.stateNode,a};var JS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cf.isDisabled&&Cf.supportsFiber)try{F=Cf.inject(JS),se=Cf}catch{}}return co.createRoot=function(a,i){if(!u(a))throw Error(n(299));var o=!1,h="",y=dy,T=vy,B=hy;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(y=i.onUncaughtError),i.onCaughtError!==void 0&&(T=i.onCaughtError),i.onRecoverableError!==void 0&&(B=i.onRecoverableError)),i=K0(a,1,!1,null,null,o,h,null,y,T,B,nb),a[Sr]=i.current,Eh(a),new Ph(i)},co.hydrateRoot=function(a,i,o){if(!u(a))throw Error(n(299));var h=!1,y="",T=dy,B=vy,V=hy,$=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(y=o.identifierPrefix),o.onUncaughtError!==void 0&&(T=o.onUncaughtError),o.onCaughtError!==void 0&&(B=o.onCaughtError),o.onRecoverableError!==void 0&&(V=o.onRecoverableError),o.formState!==void 0&&($=o.formState)),i=K0(a,1,!0,i,o??null,h,y,$,T,B,V,nb),i.context=X0(null),o=i.current,h=Ca(),h=tr(h),y=Et(h),y.callback=null,Xt(o,y,h),o=h,i.current.lanes=o,St(i,o),cn(i),a[Sr]=i.current,Eh(a),new Af(i)},co.version="19.2.4",co}var gb;function ow(){if(gb)return Vh.exports;gb=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vh.exports=sw(),Vh.exports}var cw=ow();function fw({onMessage:t,messages:e}){const r=Kr.useRef(null),n=()=>{r.current?.scrollIntoView({behavior:"smooth"})};Kr.useEffect(()=>{n()},[e]);const u=["I want something affordable for commuting","I'm a beginner with bad knees","Looking for a mountain bike for trails","Need a fitness bike, money is no object","Weekend rides on mixed terrain"];return Y.jsxs("div",{className:"flex flex-col h-full bg-slate-800/50 rounded-xl border border-slate-700",children:[Y.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[Y.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[Y.jsx("span",{className:"text-2xl",children:""}),"Tell us what you need"]}),Y.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Select a scenario to see how Bayesian inference works"})]}),Y.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-[200px]",children:[e.length===0?Y.jsxs("div",{className:"text-slate-400 text-sm",children:[Y.jsx("p",{className:"mb-3",children:"Click a scenario to start:"}),Y.jsx("div",{className:"space-y-2",children:u.map((l,s)=>Y.jsxs("button",{onClick:()=>t(l),className:"block w-full text-left px-3 py-2 bg-slate-700/50 hover:bg-slate-700 rounded-lg text-slate-300 text-sm transition-colors",children:['"',l,'"']},s))})]}):e.map((l,s)=>Y.jsx("div",{className:`chat-message flex ${l.type==="user"?"justify-end":"justify-start"}`,children:Y.jsxs("div",{className:`max-w-[85%] px-4 py-2 rounded-2xl ${l.type==="user"?"bg-blue-600 text-white rounded-br-md":"bg-slate-700 text-slate-200 rounded-bl-md"}`,children:[l.type==="system"&&Y.jsx("span",{className:"text-xs text-blue-400 block mb-1",children:" AI + Bayesian"}),Y.jsx("p",{className:"text-sm",children:l.text}),l.evidence&&Object.keys(l.evidence).length>0&&Y.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-600",children:[Y.jsx("p",{className:"text-xs text-slate-400 mb-1",children:"Extracted evidence:"}),Y.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(l.evidence).map(([c,d])=>Y.jsxs("span",{className:"px-2 py-0.5 bg-blue-500/30 text-blue-300 rounded text-xs",children:[c,": ",d]},c))})]})]})},s)),Y.jsx("div",{ref:r})]}),e.length>0&&Y.jsxs("div",{className:"p-4 border-t border-slate-700",children:[Y.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Try another scenario:"}),Y.jsx("div",{className:"flex flex-wrap gap-2",children:u.map((l,s)=>Y.jsx("button",{onClick:()=>t(l),className:"px-3 py-1.5 bg-slate-700/50 hover:bg-slate-700 rounded-lg text-slate-300 text-xs transition-colors",children:l.length>25?l.substring(0,25)+"...":l},s))})]})]})}var Kh={exports:{}},Xh,pb;function dw(){if(pb)return Xh;pb=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xh=t,Xh}var Zh,mb;function vw(){if(mb)return Zh;mb=1;var t=dw();function e(){}function r(){}return r.resetWarningCache=e,Zh=function(){function n(s,c,d,f,v,g){if(g!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function u(){return n}var l={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:u,element:n,elementType:n,instanceOf:u,node:n,objectOf:u,oneOf:u,oneOfType:u,shape:u,exact:u,checkPropTypes:r,resetWarningCache:e};return l.PropTypes=l,l},Zh}var yb;function hw(){return yb||(yb=1,Kh.exports=vw()()),Kh.exports}var gw=hw();const pw=QE(gw);function Dp(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function mw(t){if(Array.isArray(t))return t}function yw(t){if(Array.isArray(t))return Dp(t)}function Ki(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bw(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$E(n.key),n)}}function Xi(t,e,r){return e&&bw(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ba(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Wp(t))||e){r&&(t=r);var n=0,u=function(){};return{s:u,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(d){throw d},f:u}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,s=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var d=r.next();return s=d.done,d},e:function(d){c=!0,l=d},f:function(){try{s||r.return==null||r.return()}finally{if(c)throw l}}}}function WE(t,e,r){return(e=$E(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ew(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xw(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,u,l,s,c=[],d=!0,f=!1;try{if(l=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=l.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(v){f=!0,u=v}finally{try{if(!d&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(f)throw u}}return c}}function Tw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xr(t,e){return mw(t)||xw(t,e)||Wp(t,e)||Tw()}function rd(t){return yw(t)||Ew(t)||Wp(t)||Sw()}function ww(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $E(t){var e=ww(t,"string");return typeof e=="symbol"?e:e+""}function Dr(t){"@babel/helpers - typeof";return Dr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dr(t)}function Wp(t,e){if(t){if(typeof t=="string")return Dp(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Dp(t,e):void 0}}var Nr=typeof window>"u"?null:window,bb=Nr?Nr.navigator:null;Nr&&Nr.document;var Aw=Dr(""),JE=Dr({}),Cw=Dr(function(){}),Nw=typeof HTMLElement>"u"?"undefined":Dr(HTMLElement),ko=function(e){return e&&e.instanceString&&ar(e.instanceString)?e.instanceString():null},Xe=function(e){return e!=null&&Dr(e)==Aw},ar=function(e){return e!=null&&Dr(e)===Cw},Ht=function(e){return!Ra(e)&&(Array.isArray?Array.isArray(e):e!=null&&e instanceof Array)},Tt=function(e){return e!=null&&Dr(e)===JE&&!Ht(e)&&e.constructor===Object},Rw=function(e){return e!=null&&Dr(e)===JE},Me=function(e){return e!=null&&Dr(e)===Dr(1)&&!isNaN(e)},Dw=function(e){return Me(e)&&Math.floor(e)===e},ad=function(e){if(Nw!=="undefined")return e!=null&&e instanceof HTMLElement},Ra=function(e){return Uo(e)||ex(e)},Uo=function(e){return ko(e)==="collection"&&e._private.single},ex=function(e){return ko(e)==="collection"&&!e._private.single},$p=function(e){return ko(e)==="core"},tx=function(e){return ko(e)==="stylesheet"},Ow=function(e){return ko(e)==="event"},Hi=function(e){return e==null?!0:!!(e===""||e.match(/^\s+$/))},Mw=function(e){return typeof HTMLElement>"u"?!1:e instanceof HTMLElement},Bw=function(e){return Tt(e)&&Me(e.x1)&&Me(e.x2)&&Me(e.y1)&&Me(e.y2)},Iw=function(e){return Rw(e)&&ar(e.then)},Lw=function(){return bb&&bb.userAgent.match(/msie|trident|edge/i)},Kl=function(e,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var l=[],s=0;s<arguments.length;s++)l.push(arguments[s]);return l.join("$")});var n=function(){var l=this,s=arguments,c,d=r.apply(l,s),f=n.cache;return(c=f[d])||(c=f[d]=e.apply(l,s)),c};return n.cache={},n},Jp=Kl(function(t){return t.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),pd=Kl(function(t){return t.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),rx=Kl(function(t,e){return t+e[0].toUpperCase()+e.substring(1)},function(t,e){return t+"$"+e}),Eb=function(e){return Hi(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},_i=function(e,r){return e.slice(-1*r.length)===r},Rr="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",zw="rgb[a]?\\(("+Rr+"[%]?)\\s*,\\s*("+Rr+"[%]?)\\s*,\\s*("+Rr+"[%]?)(?:\\s*,\\s*("+Rr+"))?\\)",_w="rgb[a]?\\((?:"+Rr+"[%]?)\\s*,\\s*(?:"+Rr+"[%]?)\\s*,\\s*(?:"+Rr+"[%]?)(?:\\s*,\\s*(?:"+Rr+"))?\\)",kw="hsl[a]?\\(("+Rr+")\\s*,\\s*("+Rr+"[%])\\s*,\\s*("+Rr+"[%])(?:\\s*,\\s*("+Rr+"))?\\)",Uw="hsl[a]?\\((?:"+Rr+")\\s*,\\s*(?:"+Rr+"[%])\\s*,\\s*(?:"+Rr+"[%])(?:\\s*,\\s*(?:"+Rr+"))?\\)",Pw="\\#[0-9a-fA-F]{3}",qw="\\#[0-9a-fA-F]{6}",ax=function(e,r){return e<r?-1:e>r?1:0},Hw=function(e,r){return-1*ax(e,r)},$e=Object.assign!=null?Object.assign.bind(Object):function(t){for(var e=arguments,r=1;r<e.length;r++){var n=e[r];if(n!=null)for(var u=Object.keys(n),l=0;l<u.length;l++){var s=u[l];t[s]=n[s]}}return t},Gw=function(e){if(!(!(e.length===4||e.length===7)||e[0]!=="#")){var r=e.length===4,n,u,l,s=16;return r?(n=parseInt(e[1]+e[1],s),u=parseInt(e[2]+e[2],s),l=parseInt(e[3]+e[3],s)):(n=parseInt(e[1]+e[2],s),u=parseInt(e[3]+e[4],s),l=parseInt(e[5]+e[6],s)),[n,u,l]}},Vw=function(e){var r,n,u,l,s,c,d,f;function v(b,C,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?b+(C-b)*6*w:w<1/2?C:w<2/3?b+(C-b)*(2/3-w)*6:b}var g=new RegExp("^"+kw+"$").exec(e);if(g){if(n=parseInt(g[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,u=parseFloat(g[2]),u<0||u>100||(u=u/100,l=parseFloat(g[3]),l<0||l>100)||(l=l/100,s=g[4],s!==void 0&&(s=parseFloat(s),s<0||s>1)))return;if(u===0)c=d=f=Math.round(l*255);else{var p=l<.5?l*(1+u):l+u-l*u,E=2*l-p;c=Math.round(255*v(E,p,n+1/3)),d=Math.round(255*v(E,p,n)),f=Math.round(255*v(E,p,n-1/3))}r=[c,d,f,s]}return r},jw=function(e){var r,n=new RegExp("^"+zw+"$").exec(e);if(n){r=[];for(var u=[],l=1;l<=3;l++){var s=n[l];if(s[s.length-1]==="%"&&(u[l]=!0),s=parseFloat(s),u[l]&&(s=s/100*255),s<0||s>255)return;r.push(Math.floor(s))}var c=u[1]||u[2]||u[3],d=u[1]&&u[2]&&u[3];if(c&&!d)return;var f=n[4];if(f!==void 0){if(f=parseFloat(f),f<0||f>1)return;r.push(f)}}return r},Fw=function(e){return Yw[e.toLowerCase()]},nx=function(e){return(Ht(e)?e:null)||Fw(e)||Gw(e)||jw(e)||Vw(e)},Yw={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},ix=function(e){for(var r=e.map,n=e.keys,u=n.length,l=0;l<u;l++){var s=n[l];if(Tt(s))throw Error("Tried to set map with object key");l<n.length-1?(r[s]==null&&(r[s]={}),r=r[s]):r[s]=e.value}},ux=function(e){for(var r=e.map,n=e.keys,u=n.length,l=0;l<u;l++){var s=n[l];if(Tt(s))throw Error("Tried to get map with object key");if(r=r[s],r==null)return r}return r},Nf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Po(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Qh,xb;function qo(){if(xb)return Qh;xb=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return Qh=t,Qh}var Wh,Tb;function Kw(){if(Tb)return Wh;Tb=1;var t=typeof Nf=="object"&&Nf&&Nf.Object===Object&&Nf;return Wh=t,Wh}var $h,Sb;function md(){if(Sb)return $h;Sb=1;var t=Kw(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return $h=r,$h}var Jh,wb;function Xw(){if(wb)return Jh;wb=1;var t=md(),e=function(){return t.Date.now()};return Jh=e,Jh}var eg,Ab;function Zw(){if(Ab)return eg;Ab=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return eg=e,eg}var tg,Cb;function Qw(){if(Cb)return tg;Cb=1;var t=Zw(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return tg=r,tg}var rg,Nb;function em(){if(Nb)return rg;Nb=1;var t=md(),e=t.Symbol;return rg=e,rg}var ag,Rb;function Ww(){if(Rb)return ag;Rb=1;var t=em(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,u=t?t.toStringTag:void 0;function l(s){var c=r.call(s,u),d=s[u];try{s[u]=void 0;var f=!0}catch{}var v=n.call(s);return f&&(c?s[u]=d:delete s[u]),v}return ag=l,ag}var ng,Db;function $w(){if(Db)return ng;Db=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return ng=r,ng}var ig,Ob;function lx(){if(Ob)return ig;Ob=1;var t=em(),e=Ww(),r=$w(),n="[object Null]",u="[object Undefined]",l=t?t.toStringTag:void 0;function s(c){return c==null?c===void 0?u:n:l&&l in Object(c)?e(c):r(c)}return ig=s,ig}var ug,Mb;function Jw(){if(Mb)return ug;Mb=1;function t(e){return e!=null&&typeof e=="object"}return ug=t,ug}var lg,Bb;function Ho(){if(Bb)return lg;Bb=1;var t=lx(),e=Jw(),r="[object Symbol]";function n(u){return typeof u=="symbol"||e(u)&&t(u)==r}return lg=n,lg}var sg,Ib;function e2(){if(Ib)return sg;Ib=1;var t=Qw(),e=qo(),r=Ho(),n=NaN,u=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;function d(f){if(typeof f=="number")return f;if(r(f))return n;if(e(f)){var v=typeof f.valueOf=="function"?f.valueOf():f;f=e(v)?v+"":v}if(typeof f!="string")return f===0?f:+f;f=t(f);var g=l.test(f);return g||s.test(f)?c(f.slice(2),g?2:8):u.test(f)?n:+f}return sg=d,sg}var og,Lb;function t2(){if(Lb)return og;Lb=1;var t=qo(),e=Xw(),r=e2(),n="Expected a function",u=Math.max,l=Math.min;function s(c,d,f){var v,g,p,E,b,C,w=0,S=!1,N=!1,R=!0;if(typeof c!="function")throw new TypeError(n);d=r(d)||0,t(f)&&(S=!!f.leading,N="maxWait"in f,p=N?u(r(f.maxWait)||0,d):p,R="trailing"in f?!!f.trailing:R);function D(G){var X=v,Z=g;return v=g=void 0,w=G,E=c.apply(Z,X),E}function O(G){return w=G,b=setTimeout(z,d),S?D(G):E}function I(G){var X=G-C,Z=G-w,H=d-X;return N?l(H,p-Z):H}function M(G){var X=G-C,Z=G-w;return C===void 0||X>=d||X<0||N&&Z>=p}function z(){var G=e();if(M(G))return P(G);b=setTimeout(z,I(G))}function P(G){return b=void 0,R&&v?D(G):(v=g=void 0,E)}function k(){b!==void 0&&clearTimeout(b),w=0,v=C=g=b=void 0}function U(){return b===void 0?E:P(e())}function L(){var G=e(),X=M(G);if(v=arguments,g=this,C=G,X){if(b===void 0)return O(C);if(N)return clearTimeout(b),b=setTimeout(z,d),D(C)}return b===void 0&&(b=setTimeout(z,d)),E}return L.cancel=k,L.flush=U,L}return og=s,og}var r2=t2(),Go=Po(r2),cg=Nr?Nr.performance:null,sx=cg&&cg.now?function(){return cg.now()}:function(){return Date.now()},a2=(function(){if(Nr){if(Nr.requestAnimationFrame)return function(t){Nr.requestAnimationFrame(t)};if(Nr.mozRequestAnimationFrame)return function(t){Nr.mozRequestAnimationFrame(t)};if(Nr.webkitRequestAnimationFrame)return function(t){Nr.webkitRequestAnimationFrame(t)};if(Nr.msRequestAnimationFrame)return function(t){Nr.msRequestAnimationFrame(t)}}return function(t){t&&setTimeout(function(){t(sx())},1e3/60)}})(),nd=function(e){return a2(e)},Jn=sx,Nu=9261,ox=65599,Pl=5381,cx=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nu,n=r,u;u=e.next(),!u.done;)n=n*ox+u.value|0;return n},No=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nu;return r*ox+e|0},Ro=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Pl;return(r<<5)+r+e|0},n2=function(e,r){return e*2097152+r},Ii=function(e){return e[0]*2097152+e[1]},Rf=function(e,r){return[No(e[0],r[0]),Ro(e[1],r[1])]},zb=function(e,r){var n={value:0,done:!1},u=0,l=e.length,s={next:function(){return u<l?n.value=e[u++]:n.done=!0,n}};return cx(s,r)},Ou=function(e,r){var n={value:0,done:!1},u=0,l=e.length,s={next:function(){return u<l?n.value=e.charCodeAt(u++):n.done=!0,n}};return cx(s,r)},fx=function(){return i2(arguments)},i2=function(e){for(var r,n=0;n<e.length;n++){var u=e[n];n===0?r=Ou(u):r=Ou(u,r)}return r};function u2(t,e,r,n,u){var l=u*Math.PI/180,s=Math.cos(l)*(t-r)-Math.sin(l)*(e-n)+r,c=Math.sin(l)*(t-r)+Math.cos(l)*(e-n)+n;return{x:s,y:c}}var l2=function(e,r,n,u,l,s){return{x:(e-n)*l+n,y:(r-u)*s+u}};function s2(t,e,r){if(r===0)return t;var n=(e.x1+e.x2)/2,u=(e.y1+e.y2)/2,l=e.w/e.h,s=1/l,c=u2(t.x,t.y,n,u,r),d=l2(c.x,c.y,n,u,l,s);return{x:d.x,y:d.y}}var _b=!0,o2=console.warn!=null,c2=console.trace!=null,tm=Number.MAX_SAFE_INTEGER||9007199254740991,dx=function(){return!0},id=function(){return!1},kb=function(){return 0},rm=function(){},er=function(e){throw new Error(e)},vx=function(e){if(e!==void 0)_b=!!e;else return _b},Mt=function(e){vx()&&(o2?console.warn(e):(console.log(e),c2&&console.trace()))},f2=function(e){return $e({},e)},hn=function(e){return e==null?e:Ht(e)?e.slice():Tt(e)?f2(e):e},d2=function(e){return e.slice()},hx=function(e,r){for(r=e="";e++<36;r+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return r},v2={},gx=function(){return v2},Gr=function(e){var r=Object.keys(e);return function(n){for(var u={},l=0;l<r.length;l++){var s=r[l],c=n?.[s];u[s]=c===void 0?e[s]:c}return u}},Gi=function(e,r,n){for(var u=e.length-1;u>=0;u--)e[u]===r&&e.splice(u,1)},am=function(e){e.splice(0,e.length)},h2=function(e,r){for(var n=0;n<r.length;n++){var u=r[n];e.push(u)}},ma=function(e,r,n){return n&&(r=rx(n,r)),e[r]},Wn=function(e,r,n,u){n&&(r=rx(n,r)),e[r]=u},g2=(function(){function t(){Ki(this,t),this._obj={}}return Xi(t,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}])})(),$n=typeof Map<"u"?Map:g2,p2="undefined",m2=(function(){function t(e){if(Ki(this,t),this._obj=Object.create(null),this.size=0,e!=null){var r;e.instanceString!=null&&e.instanceString()===this.instanceString()?r=e.toArray():r=e;for(var n=0;n<r.length;n++)this.add(r[n])}}return Xi(t,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}])})(),Ql=(typeof Set>"u"?"undefined":Dr(Set))!==p2?Set:m2,yd=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0||r===void 0||!$p(e)){er("An element must have a core reference and parameters set");return}var u=r.group;if(u==null&&(r.data&&r.data.source!=null&&r.data.target!=null?u="edges":u="nodes"),u!=="nodes"&&u!=="edges"){er("An element must be of type `nodes` or `edges`; you specified `"+u+"`");return}this.length=1,this[0]=this;var l=this._private={cy:e,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:u,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?u==="edges":!!r.pannable,active:!1,classes:new Ql,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(l.position.x==null&&(l.position.x=0),l.position.y==null&&(l.position.y=0),r.renderedPosition){var s=r.renderedPosition,c=e.pan(),d=e.zoom();l.position={x:(s.x-c.x)/d,y:(s.y-c.y)/d}}var f=[];Ht(r.classes)?f=r.classes:Xe(r.classes)&&(f=r.classes.split(/\s+/));for(var v=0,g=f.length;v<g;v++){var p=f[v];!p||p===""||l.classes.add(p)}this.createEmitter(),(n===void 0||n)&&this.restore();var E=r.style||r.css;E&&(Mt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(E))},Ub=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(n,u,l){var s;Tt(n)&&!Ra(n)&&(s=n,n=s.roots||s.root,u=s.visit,l=s.directed),l=arguments.length===2&&!ar(u)?u:l,u=ar(u)?u:function(){};for(var c=this._private.cy,d=n=Xe(n)?this.filter(n):n,f=[],v=[],g={},p={},E={},b=0,C,w=this.byGroup(),S=w.nodes,N=w.edges,R=0;R<d.length;R++){var D=d[R],O=D.id();D.isNode()&&(f.unshift(D),e.bfs&&(E[O]=!0,v.push(D)),p[O]=0)}for(var I=function(){var G=e.bfs?f.shift():f.pop(),X=G.id();if(e.dfs){if(E[X])return 0;E[X]=!0,v.push(G)}var Z=p[X],H=g[X],j=H!=null?H.source():null,W=H!=null?H.target():null,ee=H==null?void 0:G.same(j)?W[0]:j[0],te;if(te=u(G,H,ee,b++,Z),te===!0)return C=G,1;if(te===!1)return 1;for(var q=G.connectedEdges().filter(function(he){return(!l||he.source().same(G))&&N.has(he)}),Q=0;Q<q.length;Q++){var J=q[Q],ie=J.connectedNodes().filter(function(he){return!he.same(G)&&S.has(he)}),oe=ie.id();ie.length!==0&&!E[oe]&&(ie=ie[0],f.push(ie),e.bfs&&(E[oe]=!0,v.push(ie)),g[oe]=J,p[oe]=p[X]+1)}},M;f.length!==0&&(M=I(),!(M!==0&&M===1)););for(var z=c.collection(),P=0;P<v.length;P++){var k=v[P],U=g[k.id()];U!=null&&z.push(U),z.push(k)}return{path:c.collection(z),found:c.collection(C)}}},Do={breadthFirstSearch:Ub({bfs:!0}),depthFirstSearch:Ub({dfs:!0})};Do.bfs=Do.breadthFirstSearch;Do.dfs=Do.depthFirstSearch;var jf={exports:{}},y2=jf.exports,Pb;function b2(){return Pb||(Pb=1,(function(t,e){(function(){var r,n,u,l,s,c,d,f,v,g,p,E,b,C,w;u=Math.floor,g=Math.min,n=function(S,N){return S<N?-1:S>N?1:0},v=function(S,N,R,D,O){var I;if(R==null&&(R=0),O==null&&(O=n),R<0)throw new Error("lo must be non-negative");for(D==null&&(D=S.length);R<D;)I=u((R+D)/2),O(N,S[I])<0?D=I:R=I+1;return[].splice.apply(S,[R,R-R].concat(N)),N},c=function(S,N,R){return R==null&&(R=n),S.push(N),C(S,0,S.length-1,R)},s=function(S,N){var R,D;return N==null&&(N=n),R=S.pop(),S.length?(D=S[0],S[0]=R,w(S,0,N)):D=R,D},f=function(S,N,R){var D;return R==null&&(R=n),D=S[0],S[0]=N,w(S,0,R),D},d=function(S,N,R){var D;return R==null&&(R=n),S.length&&R(S[0],N)<0&&(D=[S[0],N],N=D[0],S[0]=D[1],w(S,0,R)),N},l=function(S,N){var R,D,O,I,M,z;for(N==null&&(N=n),I=(function(){z=[];for(var P=0,k=u(S.length/2);0<=k?P<k:P>k;0<=k?P++:P--)z.push(P);return z}).apply(this).reverse(),M=[],D=0,O=I.length;D<O;D++)R=I[D],M.push(w(S,R,N));return M},b=function(S,N,R){var D;if(R==null&&(R=n),D=S.indexOf(N),D!==-1)return C(S,0,D,R),w(S,D,R)},p=function(S,N,R){var D,O,I,M,z;if(R==null&&(R=n),O=S.slice(0,N),!O.length)return O;for(l(O,R),z=S.slice(N),I=0,M=z.length;I<M;I++)D=z[I],d(O,D,R);return O.sort(R).reverse()},E=function(S,N,R){var D,O,I,M,z,P,k,U,L;if(R==null&&(R=n),N*10<=S.length){if(I=S.slice(0,N).sort(R),!I.length)return I;for(O=I[I.length-1],k=S.slice(N),M=0,P=k.length;M<P;M++)D=k[M],R(D,O)<0&&(v(I,D,0,null,R),I.pop(),O=I[I.length-1]);return I}for(l(S,R),L=[],z=0,U=g(N,S.length);0<=U?z<U:z>U;0<=U?++z:--z)L.push(s(S,R));return L},C=function(S,N,R,D){var O,I,M;for(D==null&&(D=n),O=S[R];R>N;){if(M=R-1>>1,I=S[M],D(O,I)<0){S[R]=I,R=M;continue}break}return S[R]=O},w=function(S,N,R){var D,O,I,M,z;for(R==null&&(R=n),O=S.length,z=N,I=S[N],D=2*N+1;D<O;)M=D+1,M<O&&!(R(S[D],S[M])<0)&&(D=M),S[N]=S[D],N=D,D=2*N+1;return S[N]=I,C(S,z,N,R)},r=(function(){S.push=c,S.pop=s,S.replace=f,S.pushpop=d,S.heapify=l,S.updateItem=b,S.nlargest=p,S.nsmallest=E;function S(N){this.cmp=N??n,this.nodes=[]}return S.prototype.push=function(N){return c(this.nodes,N,this.cmp)},S.prototype.pop=function(){return s(this.nodes,this.cmp)},S.prototype.peek=function(){return this.nodes[0]},S.prototype.contains=function(N){return this.nodes.indexOf(N)!==-1},S.prototype.replace=function(N){return f(this.nodes,N,this.cmp)},S.prototype.pushpop=function(N){return d(this.nodes,N,this.cmp)},S.prototype.heapify=function(){return l(this.nodes,this.cmp)},S.prototype.updateItem=function(N){return b(this.nodes,N,this.cmp)},S.prototype.clear=function(){return this.nodes=[]},S.prototype.empty=function(){return this.nodes.length===0},S.prototype.size=function(){return this.nodes.length},S.prototype.clone=function(){var N;return N=new S,N.nodes=this.nodes.slice(0),N},S.prototype.toArray=function(){return this.nodes.slice(0)},S.prototype.insert=S.prototype.push,S.prototype.top=S.prototype.peek,S.prototype.front=S.prototype.peek,S.prototype.has=S.prototype.contains,S.prototype.copy=S.prototype.clone,S})(),(function(S,N){return t.exports=N()})(this,function(){return r})}).call(y2)})(jf)),jf.exports}var fg,qb;function E2(){return qb||(qb=1,fg=b2()),fg}var x2=E2(),Vo=Po(x2),T2=Gr({root:null,weight:function(e){return 1},directed:!1}),S2={dijkstra:function(e){if(!Tt(e)){var r=arguments;e={root:r[0],weight:r[1],directed:r[2]}}var n=T2(e),u=n.root,l=n.weight,s=n.directed,c=this,d=l,f=Xe(u)?this.filter(u)[0]:u[0],v={},g={},p={},E=this.byGroup(),b=E.nodes,C=E.edges;C.unmergeBy(function(Z){return Z.isLoop()});for(var w=function(H){return v[H.id()]},S=function(H,j){v[H.id()]=j,N.updateItem(H)},N=new Vo(function(Z,H){return w(Z)-w(H)}),R=0;R<b.length;R++){var D=b[R];v[D.id()]=D.same(f)?0:1/0,N.push(D)}for(var O=function(H,j){for(var W=(s?H.edgesTo(j):H.edgesWith(j)).intersect(C),ee=1/0,te,q=0;q<W.length;q++){var Q=W[q],J=d(Q);(J<ee||!te)&&(ee=J,te=Q)}return{edge:te,dist:ee}};N.size()>0;){var I=N.pop(),M=w(I),z=I.id();if(p[z]=M,M!==1/0)for(var P=I.neighborhood().intersect(b),k=0;k<P.length;k++){var U=P[k],L=U.id(),G=O(I,U),X=M+G.dist;X<w(U)&&(S(U,X),g[L]={node:I,edge:G.edge})}}return{distanceTo:function(H){var j=Xe(H)?b.filter(H)[0]:H[0];return p[j.id()]},pathTo:function(H){var j=Xe(H)?b.filter(H)[0]:H[0],W=[],ee=j,te=ee.id();if(j.length>0)for(W.unshift(j);g[te];){var q=g[te];W.unshift(q.edge),W.unshift(q.node),ee=q.node,te=ee.id()}return c.spawn(W)}}}},w2={kruskal:function(e){e=e||function(R){return 1};for(var r=this.byGroup(),n=r.nodes,u=r.edges,l=n.length,s=new Array(l),c=n,d=function(D){for(var O=0;O<s.length;O++){var I=s[O];if(I.has(D))return O}},f=0;f<l;f++)s[f]=this.spawn(n[f]);for(var v=u.sort(function(R,D){return e(R)-e(D)}),g=0;g<v.length;g++){var p=v[g],E=p.source()[0],b=p.target()[0],C=d(E),w=d(b),S=s[C],N=s[w];C!==w&&(c.merge(p),S.merge(N),s.splice(w,1))}return c}},A2=Gr({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),C2={aStar:function(e){var r=this.cy(),n=A2(e),u=n.root,l=n.goal,s=n.heuristic,c=n.directed,d=n.weight;u=r.collection(u)[0],l=r.collection(l)[0];var f=u.id(),v=l.id(),g={},p={},E={},b=new Vo(function(te,q){return p[te.id()]-p[q.id()]}),C=new Ql,w={},S={},N=function(q,Q){b.push(q),C.add(Q)},R,D,O=function(){R=b.pop(),D=R.id(),C.delete(D)},I=function(q){return C.has(q)};N(u,f),g[f]=0,p[f]=s(u);for(var M=0;b.size()>0;){if(O(),M++,D===v){for(var z=[],P=l,k=v,U=S[k];z.unshift(P),U!=null&&z.unshift(U),P=w[k],P!=null;)k=P.id(),U=S[k];return{found:!0,distance:g[D],path:this.spawn(z),steps:M}}E[D]=!0;for(var L=R._private.edges,G=0;G<L.length;G++){var X=L[G];if(this.hasElementWithId(X.id())&&!(c&&X.data("source")!==D)){var Z=X.source(),H=X.target(),j=Z.id()!==D?Z:H,W=j.id();if(this.hasElementWithId(W)&&!E[W]){var ee=g[D]+d(X);if(!I(W)){g[W]=ee,p[W]=ee+s(j),N(j,W),w[W]=R,S[W]=X;continue}ee<g[W]&&(g[W]=ee,p[W]=ee+s(j),w[W]=R,S[W]=X)}}}}return{found:!1,distance:void 0,path:void 0,steps:M}}},N2=Gr({weight:function(e){return 1},directed:!1}),R2={floydWarshall:function(e){for(var r=this.cy(),n=N2(e),u=n.weight,l=n.directed,s=u,c=this.byGroup(),d=c.nodes,f=c.edges,v=d.length,g=v*v,p=function(J){return d.indexOf(J)},E=function(J){return d[J]},b=new Array(g),C=0;C<g;C++){var w=C%v,S=(C-w)/v;S===w?b[C]=0:b[C]=1/0}for(var N=new Array(g),R=new Array(g),D=0;D<f.length;D++){var O=f[D],I=O.source()[0],M=O.target()[0];if(I!==M){var z=p(I),P=p(M),k=z*v+P,U=s(O);if(b[k]>U&&(b[k]=U,N[k]=P,R[k]=O),!l){var L=P*v+z;!l&&b[L]>U&&(b[L]=U,N[L]=z,R[L]=O)}}}for(var G=0;G<v;G++)for(var X=0;X<v;X++)for(var Z=X*v+G,H=0;H<v;H++){var j=X*v+H,W=G*v+H;b[Z]+b[W]<b[j]&&(b[j]=b[Z]+b[W],N[j]=N[Z])}var ee=function(J){return(Xe(J)?r.filter(J):J)[0]},te=function(J){return p(ee(J))},q={distance:function(J,ie){var oe=te(J),he=te(ie);return b[oe*v+he]},path:function(J,ie){var oe=te(J),he=te(ie),be=E(oe);if(oe===he)return be.collection();if(N[oe*v+he]==null)return r.collection();var Re=r.collection(),ye=oe,ne;for(Re.merge(be);oe!==he;)ye=oe,oe=N[oe*v+he],ne=R[ye*v+oe],Re.merge(ne),Re.merge(E(oe));return Re}};return q}},D2=Gr({weight:function(e){return 1},directed:!1,root:null}),O2={bellmanFord:function(e){var r=this,n=D2(e),u=n.weight,l=n.directed,s=n.root,c=u,d=this,f=this.cy(),v=this.byGroup(),g=v.edges,p=v.nodes,E=p.length,b=new $n,C=!1,w=[];s=f.collection(s)[0],g.unmergeBy(function(Qe){return Qe.isLoop()});for(var S=g.length,N=function(qe){var Ke=b.get(qe.id());return Ke||(Ke={},b.set(qe.id(),Ke)),Ke},R=function(qe){return(Xe(qe)?f.$(qe):qe)[0]},D=function(qe){return N(R(qe)).dist},O=function(qe){for(var Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,Oe=R(qe),Ge=[],Fe=Oe;;){if(Fe==null)return r.spawn();var tt=N(Fe),Ie=tt.edge,at=tt.pred;if(Ge.unshift(Fe[0]),Fe.same(Ke)&&Ge.length>0)break;Ie!=null&&Ge.unshift(Ie),Fe=at}return d.spawn(Ge)},I=0;I<E;I++){var M=p[I],z=N(M);M.same(s)?z.dist=0:z.dist=1/0,z.pred=null,z.edge=null}for(var P=!1,k=function(qe,Ke,Oe,Ge,Fe,tt){var Ie=Ge.dist+tt;Ie<Fe.dist&&!Oe.same(Ge.edge)&&(Fe.dist=Ie,Fe.pred=qe,Fe.edge=Oe,P=!0)},U=1;U<E;U++){P=!1;for(var L=0;L<S;L++){var G=g[L],X=G.source(),Z=G.target(),H=c(G),j=N(X),W=N(Z);k(X,Z,G,j,W,H),l||k(Z,X,G,W,j,H)}if(!P)break}if(P)for(var ee=[],te=0;te<S;te++){var q=g[te],Q=q.source(),J=q.target(),ie=c(q),oe=N(Q).dist,he=N(J).dist;if(oe+ie<he||!l&&he+ie<oe)if(C||(Mt("Graph contains a negative weight cycle for Bellman-Ford"),C=!0),e.findNegativeWeightCycles!==!1){var be=[];oe+ie<he&&be.push(Q),!l&&he+ie<oe&&be.push(J);for(var Re=be.length,ye=0;ye<Re;ye++){var ne=be[ye],le=[ne];le.push(N(ne).edge);for(var fe=N(ne).pred;le.indexOf(fe)===-1;)le.push(fe),le.push(N(fe).edge),fe=N(fe).pred;le=le.slice(le.indexOf(fe));for(var Ee=le[0].id(),De=0,Le=2;Le<le.length;Le+=2)le[Le].id()<Ee&&(Ee=le[Le].id(),De=Le);le=le.slice(De).concat(le.slice(0,De)),le.push(le[0]);var ut=le.map(function(Qe){return Qe.id()}).join(",");ee.indexOf(ut)===-1&&(w.push(d.spawn(le)),ee.push(ut))}}else break}return{distanceTo:D,pathTo:O,hasNegativeWeightCycle:C,negativeWeightCycles:w}}},M2=Math.sqrt(2),B2=function(e,r,n){n.length===0&&er("Karger-Stein must be run on a connected (sub)graph");for(var u=n[e],l=u[1],s=u[2],c=r[l],d=r[s],f=n,v=f.length-1;v>=0;v--){var g=f[v],p=g[1],E=g[2];(r[p]===c&&r[E]===d||r[p]===d&&r[E]===c)&&f.splice(v,1)}for(var b=0;b<f.length;b++){var C=f[b];C[1]===d?(f[b]=C.slice(),f[b][1]=c):C[2]===d&&(f[b]=C.slice(),f[b][2]=c)}for(var w=0;w<r.length;w++)r[w]===d&&(r[w]=c);return f},dg=function(e,r,n,u){for(;n>u;){var l=Math.floor(Math.random()*r.length);r=B2(l,e,r),n--}return r},I2={kargerStein:function(){var e=this,r=this.byGroup(),n=r.nodes,u=r.edges;u.unmergeBy(function(W){return W.isLoop()});var l=n.length,s=u.length,c=Math.ceil(Math.pow(Math.log(l)/Math.LN2,2)),d=Math.floor(l/M2);if(l<2){er("At least 2 nodes are required for Karger-Stein algorithm");return}for(var f=[],v=0;v<s;v++){var g=u[v];f.push([v,n.indexOf(g.source()),n.indexOf(g.target())])}for(var p=1/0,E=[],b=new Array(l),C=new Array(l),w=new Array(l),S=function(ee,te){for(var q=0;q<l;q++)te[q]=ee[q]},N=0;N<=c;N++){for(var R=0;R<l;R++)C[R]=R;var D=dg(C,f.slice(),l,d),O=D.slice();S(C,w);var I=dg(C,D,d,2),M=dg(w,O,d,2);I.length<=M.length&&I.length<p?(p=I.length,E=I,S(C,b)):M.length<=I.length&&M.length<p&&(p=M.length,E=M,S(w,b))}for(var z=this.spawn(E.map(function(W){return u[W[0]]})),P=this.spawn(),k=this.spawn(),U=b[0],L=0;L<b.length;L++){var G=b[L],X=n[L];G===U?P.merge(X):k.merge(X)}var Z=function(ee){var te=e.spawn();return ee.forEach(function(q){te.merge(q),q.connectedEdges().forEach(function(Q){e.contains(Q)&&!z.contains(Q)&&te.merge(Q)})}),te},H=[Z(P),Z(k)],j={cut:z,components:H,partition1:P,partition2:k};return j}},vg,L2=function(e){return{x:e.x,y:e.y}},bd=function(e,r,n){return{x:e.x*r+n.x,y:e.y*r+n.y}},px=function(e,r,n){return{x:(e.x-n.x)/r,y:(e.y-n.y)/r}},ql=function(e){return{x:e[0],y:e[1]}},z2=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,u=1/0,l=r;l<n;l++){var s=e[l];isFinite(s)&&(u=Math.min(s,u))}return u},_2=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,u=-1/0,l=r;l<n;l++){var s=e[l];isFinite(s)&&(u=Math.max(s,u))}return u},k2=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,u=0,l=0,s=r;s<n;s++){var c=e[s];isFinite(c)&&(u+=c,l++)}return u/l},U2=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;u?e=e.slice(r,n):(n<e.length&&e.splice(n,e.length-n),r>0&&e.splice(0,r));for(var c=0,d=e.length-1;d>=0;d--){var f=e[d];s?isFinite(f)||(e[d]=-1/0,c++):e.splice(d,1)}l&&e.sort(function(p,E){return p-E});var v=e.length,g=Math.floor(v/2);return v%2!==0?e[g+1+c]:(e[g-1+c]+e[g+c])/2},P2=function(e){return Math.PI*e/180},Df=function(e,r){return Math.atan2(r,e)-Math.PI/2},nm=Math.log2||function(t){return Math.log(t)/Math.log(2)},im=function(e){return e>0?1:e<0?-1:0},Mu=function(e,r){return Math.sqrt(Au(e,r))},Au=function(e,r){var n=r.x-e.x,u=r.y-e.y;return n*n+u*u},q2=function(e){for(var r=e.length,n=0,u=0;u<r;u++)n+=e[u];for(var l=0;l<r;l++)e[l]=e[l]/n;return e},Ir=function(e,r,n,u){return(1-u)*(1-u)*e+2*(1-u)*u*r+u*u*n},Vl=function(e,r,n,u){return{x:Ir(e.x,r.x,n.x,u),y:Ir(e.y,r.y,n.y,u)}},H2=function(e,r,n,u){var l={x:r.x-e.x,y:r.y-e.y},s=Mu(e,r),c={x:l.x/s,y:l.y/s};return n=n??0,u=u??n*s,{x:e.x+c.x*u,y:e.y+c.y*u}},Oo=function(e,r,n){return Math.max(e,Math.min(n,r))},aa=function(e){if(e==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(e.x1!=null&&e.y1!=null){if(e.x2!=null&&e.y2!=null&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(e.w!=null&&e.h!=null&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},G2=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}},V2=function(e){e.x1=1/0,e.y1=1/0,e.x2=-1/0,e.y2=-1/0,e.w=0,e.h=0},j2=function(e,r){e.x1=Math.min(e.x1,r.x1),e.x2=Math.max(e.x2,r.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r.y1),e.y2=Math.max(e.y2,r.y2),e.h=e.y2-e.y1},mx=function(e,r,n){e.x1=Math.min(e.x1,r),e.x2=Math.max(e.x2,r),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},Ff=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.x1-=r,e.x2+=r,e.y1-=r,e.y2+=r,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Yf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,u,l,s;if(r.length===1)n=u=l=s=r[0];else if(r.length===2)n=l=r[0],s=u=r[1];else if(r.length===4){var c=xr(r,4);n=c[0],u=c[1],l=c[2],s=c[3]}return e.x1-=s,e.x2+=u,e.y1-=n,e.y2+=l,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},Hb=function(e,r){e.x1=r.x1,e.y1=r.y1,e.x2=r.x2,e.y2=r.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},um=function(e,r){return!(e.x1>r.x2||r.x1>e.x2||e.x2<r.x1||r.x2<e.x1||e.y2<r.y1||r.y2<e.y1||e.y1>r.y2||r.y1>e.y2)},ki=function(e,r,n){return e.x1<=r&&r<=e.x2&&e.y1<=n&&n<=e.y2},Gb=function(e,r){return ki(e,r.x,r.y)},yx=function(e,r){return ki(e,r.x1,r.y1)&&ki(e,r.x2,r.y2)},F2=(vg=Math.hypot)!==null&&vg!==void 0?vg:function(t,e){return Math.sqrt(t*t+e*e)};function Y2(t,e){if(t.length<3)throw new Error("Need at least 3 vertices");var r=function(z,P){return{x:z.x+P.x,y:z.y+P.y}},n=function(z,P){return{x:z.x-P.x,y:z.y-P.y}},u=function(z,P){return{x:z.x*P,y:z.y*P}},l=function(z,P){return z.x*P.y-z.y*P.x},s=function(z){var P=F2(z.x,z.y);return P===0?{x:0,y:0}:{x:z.x/P,y:z.y/P}},c=function(z){for(var P=0,k=0;k<z.length;k++){var U=z[k],L=z[(k+1)%z.length];P+=U.x*L.y-L.x*U.y}return P/2},d=function(z,P,k,U){var L=n(P,z),G=n(U,k),X=l(L,G);if(Math.abs(X)<1e-9)return r(z,u(L,.5));var Z=l(n(k,z),G)/X;return r(z,u(L,Z))},f=t.map(function(M){return{x:M.x,y:M.y}});c(f)<0&&f.reverse();for(var v=f.length,g=[],p=0;p<v;p++){var E=f[p],b=f[(p+1)%v],C=n(b,E),w=s({x:C.y,y:-C.x});g.push(w)}for(var S=g.map(function(M,z){var P=r(f[z],u(M,e)),k=r(f[(z+1)%v],u(M,e));return{p1:P,p2:k}}),N=[],R=0;R<v;R++){var D=S[(R-1+v)%v],O=S[R],I=d(D.p1,D.p2,O.p1,O.p2);N.push(I)}return N}function K2(t,e,r,n,u,l){var s=rA(t,e,r,n,u),c=Y2(s,l),d=aa();return c.forEach(function(f){return mx(d,f.x,f.y)}),d}var bx=function(e,r,n,u,l,s,c){var d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",f=d==="auto"?Vi(l,s):d,v=l/2,g=s/2;f=Math.min(f,v,g);var p=f!==v,E=f!==g,b;if(p){var C=n-v+f-c,w=u-g-c,S=n+v-f+c,N=w;if(b=Ui(e,r,n,u,C,w,S,N,!1),b.length>0)return b}if(E){var R=n+v+c,D=u-g+f-c,O=R,I=u+g-f+c;if(b=Ui(e,r,n,u,R,D,O,I,!1),b.length>0)return b}if(p){var M=n-v+f-c,z=u+g+c,P=n+v-f+c,k=z;if(b=Ui(e,r,n,u,M,z,P,k,!1),b.length>0)return b}if(E){var U=n-v-c,L=u-g+f-c,G=U,X=u+g-f+c;if(b=Ui(e,r,n,u,U,L,G,X,!1),b.length>0)return b}var Z;{var H=n-v+f,j=u-g+f;if(Z=xo(e,r,n,u,H,j,f+c),Z.length>0&&Z[0]<=H&&Z[1]<=j)return[Z[0],Z[1]]}{var W=n+v-f,ee=u-g+f;if(Z=xo(e,r,n,u,W,ee,f+c),Z.length>0&&Z[0]>=W&&Z[1]<=ee)return[Z[0],Z[1]]}{var te=n+v-f,q=u+g-f;if(Z=xo(e,r,n,u,te,q,f+c),Z.length>0&&Z[0]>=te&&Z[1]>=q)return[Z[0],Z[1]]}{var Q=n-v+f,J=u+g-f;if(Z=xo(e,r,n,u,Q,J,f+c),Z.length>0&&Z[0]<=Q&&Z[1]>=J)return[Z[0],Z[1]]}return[]},X2=function(e,r,n,u,l,s,c){var d=c,f=Math.min(n,l),v=Math.max(n,l),g=Math.min(u,s),p=Math.max(u,s);return f-d<=e&&e<=v+d&&g-d<=r&&r<=p+d},Z2=function(e,r,n,u,l,s,c,d,f){var v={x1:Math.min(n,c,l)-f,x2:Math.max(n,c,l)+f,y1:Math.min(u,d,s)-f,y2:Math.max(u,d,s)+f};return!(e<v.x1||e>v.x2||r<v.y1||r>v.y2)},Q2=function(e,r,n,u){n-=u;var l=r*r-4*e*n;if(l<0)return[];var s=Math.sqrt(l),c=2*e,d=(-r+s)/c,f=(-r-s)/c;return[d,f]},W2=function(e,r,n,u,l){var s=1e-5;e===0&&(e=s),r/=e,n/=e,u/=e;var c,d,f,v,g,p,E,b;if(d=(3*n-r*r)/9,f=-(27*u)+r*(9*n-2*(r*r)),f/=54,c=d*d*d+f*f,l[1]=0,E=r/3,c>0){g=f+Math.sqrt(c),g=g<0?-Math.pow(-g,1/3):Math.pow(g,1/3),p=f-Math.sqrt(c),p=p<0?-Math.pow(-p,1/3):Math.pow(p,1/3),l[0]=-E+g+p,E+=(g+p)/2,l[4]=l[2]=-E,E=Math.sqrt(3)*(-p+g)/2,l[3]=E,l[5]=-E;return}if(l[5]=l[3]=0,c===0){b=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),l[0]=-E+2*b,l[4]=l[2]=-(b+E);return}d=-d,v=d*d*d,v=Math.acos(f/Math.sqrt(v)),b=2*Math.sqrt(d),l[0]=-E+b*Math.cos(v/3),l[2]=-E+b*Math.cos((v+2*Math.PI)/3),l[4]=-E+b*Math.cos((v+4*Math.PI)/3)},$2=function(e,r,n,u,l,s,c,d){var f=1*n*n-4*n*l+2*n*c+4*l*l-4*l*c+c*c+u*u-4*u*s+2*u*d+4*s*s-4*s*d+d*d,v=9*n*l-3*n*n-3*n*c-6*l*l+3*l*c+9*u*s-3*u*u-3*u*d-6*s*s+3*s*d,g=3*n*n-6*n*l+n*c-n*e+2*l*l+2*l*e-c*e+3*u*u-6*u*s+u*d-u*r+2*s*s+2*s*r-d*r,p=1*n*l-n*n+n*e-l*e+u*s-u*u+u*r-s*r,E=[];W2(f,v,g,p,E);for(var b=1e-7,C=[],w=0;w<6;w+=2)Math.abs(E[w+1])<b&&E[w]>=0&&E[w]<=1&&C.push(E[w]);C.push(1),C.push(0);for(var S=-1,N,R,D,O=0;O<C.length;O++)N=Math.pow(1-C[O],2)*n+2*(1-C[O])*C[O]*l+C[O]*C[O]*c,R=Math.pow(1-C[O],2)*u+2*(1-C[O])*C[O]*s+C[O]*C[O]*d,D=Math.pow(N-e,2)+Math.pow(R-r,2),S>=0?D<S&&(S=D):S=D;return S},J2=function(e,r,n,u,l,s){var c=[e-n,r-u],d=[l-n,s-u],f=d[0]*d[0]+d[1]*d[1],v=c[0]*c[0]+c[1]*c[1],g=c[0]*d[0]+c[1]*d[1],p=g*g/f;return g<0?v:p>f?(e-l)*(e-l)+(r-s)*(r-s):v-p},ya=function(e,r,n){for(var u,l,s,c,d,f=0,v=0;v<n.length/2;v++)if(u=n[v*2],l=n[v*2+1],v+1<n.length/2?(s=n[(v+1)*2],c=n[(v+1)*2+1]):(s=n[(v+1-n.length/2)*2],c=n[(v+1-n.length/2)*2+1]),!(u==e&&s==e))if(u>=e&&e>=s||u<=e&&e<=s)d=(e-u)/(s-u)*(c-l)+l,d>r&&f++;else continue;return f%2!==0},ei=function(e,r,n,u,l,s,c,d,f){var v=new Array(n.length),g;d[0]!=null?(g=Math.atan(d[1]/d[0]),d[0]<0?g=g+Math.PI/2:g=-g-Math.PI/2):g=d;for(var p=Math.cos(-g),E=Math.sin(-g),b=0;b<v.length/2;b++)v[b*2]=s/2*(n[b*2]*p-n[b*2+1]*E),v[b*2+1]=c/2*(n[b*2+1]*p+n[b*2]*E),v[b*2]+=u,v[b*2+1]+=l;var C;if(f>0){var w=ld(v,-f);C=ud(w)}else C=v;return ya(e,r,C)},eA=function(e,r,n,u,l,s,c,d){for(var f=new Array(n.length*2),v=0;v<d.length;v++){var g=d[v];f[v*4+0]=g.startX,f[v*4+1]=g.startY,f[v*4+2]=g.stopX,f[v*4+3]=g.stopY;var p=Math.pow(g.cx-e,2)+Math.pow(g.cy-r,2);if(p<=Math.pow(g.radius,2))return!0}return ya(e,r,f)},ud=function(e){for(var r=new Array(e.length/2),n,u,l,s,c,d,f,v,g=0;g<e.length/4;g++){n=e[g*4],u=e[g*4+1],l=e[g*4+2],s=e[g*4+3],g<e.length/4-1?(c=e[(g+1)*4],d=e[(g+1)*4+1],f=e[(g+1)*4+2],v=e[(g+1)*4+3]):(c=e[0],d=e[1],f=e[2],v=e[3]);var p=Ui(n,u,l,s,c,d,f,v,!0);r[g*2]=p[0],r[g*2+1]=p[1]}return r},ld=function(e,r){for(var n=new Array(e.length*2),u,l,s,c,d=0;d<e.length/2;d++){u=e[d*2],l=e[d*2+1],d<e.length/2-1?(s=e[(d+1)*2],c=e[(d+1)*2+1]):(s=e[0],c=e[1]);var f=c-l,v=-(s-u),g=Math.sqrt(f*f+v*v),p=f/g,E=v/g;n[d*4]=u+p*r,n[d*4+1]=l+E*r,n[d*4+2]=s+p*r,n[d*4+3]=c+E*r}return n},tA=function(e,r,n,u,l,s){var c=n-e,d=u-r;c/=l,d/=s;var f=Math.sqrt(c*c+d*d),v=f-1;if(v<0)return[];var g=v/f;return[(n-e)*g+e,(u-r)*g+r]},Du=function(e,r,n,u,l,s,c){return e-=l,r-=s,e/=n/2+c,r/=u/2+c,e*e+r*r<=1},xo=function(e,r,n,u,l,s,c){var d=[n-e,u-r],f=[e-l,r-s],v=d[0]*d[0]+d[1]*d[1],g=2*(f[0]*d[0]+f[1]*d[1]),p=f[0]*f[0]+f[1]*f[1]-c*c,E=g*g-4*v*p;if(E<0)return[];var b=(-g+Math.sqrt(E))/(2*v),C=(-g-Math.sqrt(E))/(2*v),w=Math.min(b,C),S=Math.max(b,C),N=[];if(w>=0&&w<=1&&N.push(w),S>=0&&S<=1&&N.push(S),N.length===0)return[];var R=N[0]*d[0]+e,D=N[0]*d[1]+r;if(N.length>1){if(N[0]==N[1])return[R,D];var O=N[1]*d[0]+e,I=N[1]*d[1]+r;return[R,D,O,I]}else return[R,D]},hg=function(e,r,n){return r<=e&&e<=n||n<=e&&e<=r?e:e<=r&&r<=n||n<=r&&r<=e?r:n},Ui=function(e,r,n,u,l,s,c,d,f){var v=e-l,g=n-e,p=c-l,E=r-s,b=u-r,C=d-s,w=p*E-C*v,S=g*E-b*v,N=C*g-p*b;if(N!==0){var R=w/N,D=S/N,O=.001,I=0-O,M=1+O;return I<=R&&R<=M&&I<=D&&D<=M?[e+R*g,r+R*b]:f?[e+R*g,r+R*b]:[]}else return w===0||S===0?hg(e,n,c)===c?[c,d]:hg(e,n,l)===l?[l,s]:hg(l,c,n)===n?[n,u]:[]:[]},rA=function(e,r,n,u,l){var s=[],c=u/2,d=l/2,f=r,v=n;s.push({x:f+c*e[0],y:v+d*e[1]});for(var g=1;g<e.length/2;g++)s.push({x:f+c*e[g*2],y:v+d*e[g*2+1]});return s},Mo=function(e,r,n,u,l,s,c,d){var f=[],v,g=new Array(n.length),p=!0;s==null&&(p=!1);var E;if(p){for(var b=0;b<g.length/2;b++)g[b*2]=n[b*2]*s+u,g[b*2+1]=n[b*2+1]*c+l;if(d>0){var C=ld(g,-d);E=ud(C)}else E=g}else E=n;for(var w,S,N,R,D=0;D<E.length/2;D++)w=E[D*2],S=E[D*2+1],D<E.length/2-1?(N=E[(D+1)*2],R=E[(D+1)*2+1]):(N=E[0],R=E[1]),v=Ui(e,r,u,l,w,S,N,R),v.length!==0&&f.push(v[0],v[1]);return f},aA=function(e,r,n,u,l,s,c,d,f){var v=[],g,p=new Array(n.length*2);f.forEach(function(N,R){R===0?(p[p.length-2]=N.startX,p[p.length-1]=N.startY):(p[R*4-2]=N.startX,p[R*4-1]=N.startY),p[R*4]=N.stopX,p[R*4+1]=N.stopY,g=xo(e,r,u,l,N.cx,N.cy,N.radius),g.length!==0&&v.push(g[0],g[1])});for(var E=0;E<p.length/4;E++)g=Ui(e,r,u,l,p[E*4],p[E*4+1],p[E*4+2],p[E*4+3],!1),g.length!==0&&v.push(g[0],g[1]);if(v.length>2){for(var b=[v[0],v[1]],C=Math.pow(b[0]-e,2)+Math.pow(b[1]-r,2),w=1;w<v.length/2;w++){var S=Math.pow(v[w*2]-e,2)+Math.pow(v[w*2+1]-r,2);S<=C&&(b[0]=v[w*2],b[1]=v[w*2+1],C=S)}return b}return v},Of=function(e,r,n){var u=[e[0]-r[0],e[1]-r[1]],l=Math.sqrt(u[0]*u[0]+u[1]*u[1]),s=(l-n)/l;return s<0&&(s=1e-5),[r[0]+s*u[0],r[1]+s*u[1]]},ra=function(e,r){var n=Op(e,r);return n=Ex(n),n},Ex=function(e){for(var r,n,u=e.length/2,l=1/0,s=1/0,c=-1/0,d=-1/0,f=0;f<u;f++)r=e[2*f],n=e[2*f+1],l=Math.min(l,r),c=Math.max(c,r),s=Math.min(s,n),d=Math.max(d,n);for(var v=2/(c-l),g=2/(d-s),p=0;p<u;p++)r=e[2*p]=e[2*p]*v,n=e[2*p+1]=e[2*p+1]*g,l=Math.min(l,r),c=Math.max(c,r),s=Math.min(s,n),d=Math.max(d,n);if(s<-1)for(var E=0;E<u;E++)n=e[2*E+1]=e[2*E+1]+(-1-s);return e},Op=function(e,r){var n=1/e*2*Math.PI,u=e%2===0?Math.PI/2+n/2:Math.PI/2;u+=r;for(var l=new Array(e*2),s,c=0;c<e;c++)s=c*n+u,l[2*c]=Math.cos(s),l[2*c+1]=Math.sin(-s);return l},Vi=function(e,r){return Math.min(e/4,r/4,8)},xx=function(e,r){return Math.min(e/10,r/10,8)},lm=function(){return 8},nA=function(e,r,n){return[e-2*r+n,2*(r-e),e]},Mp=function(e,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function gg(t,e){function r(g){for(var p=[],E=0;E<g.length;E++){var b=g[E],C=g[(E+1)%g.length],w={x:C.x-b.x,y:C.y-b.y},S={x:-w.y,y:w.x},N=Math.sqrt(S.x*S.x+S.y*S.y);p.push({x:S.x/N,y:S.y/N})}return p}function n(g,p){var E=1/0,b=-1/0,C=ba(g),w;try{for(C.s();!(w=C.n()).done;){var S=w.value,N=S.x*p.x+S.y*p.y;E=Math.min(E,N),b=Math.max(b,N)}}catch(R){C.e(R)}finally{C.f()}return{min:E,max:b}}function u(g,p){return!(g.max<p.min||p.max<g.min)}var l=[].concat(rd(r(t)),rd(r(e))),s=ba(l),c;try{for(s.s();!(c=s.n()).done;){var d=c.value,f=n(t,d),v=n(e,d);if(!u(f,v))return!1}}catch(g){s.e(g)}finally{s.f()}return!0}var iA=Gr({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),uA={pageRank:function(e){for(var r=iA(e),n=r.dampingFactor,u=r.precision,l=r.iterations,s=r.weight,c=this._private.cy,d=this.byGroup(),f=d.nodes,v=d.edges,g=f.length,p=g*g,E=v.length,b=new Array(p),C=new Array(g),w=(1-n)/g,S=0;S<g;S++){for(var N=0;N<g;N++){var R=S*g+N;b[R]=0}C[S]=0}for(var D=0;D<E;D++){var O=v[D],I=O.data("source"),M=O.data("target");if(I!==M){var z=f.indexOfId(I),P=f.indexOfId(M),k=s(O),U=P*g+z;b[U]+=k,C[z]+=k}}for(var L=1/g+w,G=0;G<g;G++)if(C[G]===0)for(var X=0;X<g;X++){var Z=X*g+G;b[Z]=L}else for(var H=0;H<g;H++){var j=H*g+G;b[j]=b[j]/C[G]+w}for(var W=new Array(g),ee=new Array(g),te,q=0;q<g;q++)W[q]=1;for(var Q=0;Q<l;Q++){for(var J=0;J<g;J++)ee[J]=0;for(var ie=0;ie<g;ie++)for(var oe=0;oe<g;oe++){var he=ie*g+oe;ee[ie]+=b[he]*W[oe]}q2(ee),te=W,W=ee,ee=te;for(var be=0,Re=0;Re<g;Re++){var ye=te[Re]-W[Re];be+=ye*ye}if(be<u)break}var ne={rank:function(fe){return fe=c.collection(fe)[0],W[f.indexOf(fe)]}};return ne}},Vb=Gr({root:null,weight:function(e){return 1},directed:!1,alpha:0}),jl={degreeCentralityNormalized:function(e){e=Vb(e);var r=this.cy(),n=this.nodes(),u=n.length;if(e.directed){for(var v={},g={},p=0,E=0,b=0;b<u;b++){var C=n[b],w=C.id();e.root=C;var S=this.degreeCentrality(e);p<S.indegree&&(p=S.indegree),E<S.outdegree&&(E=S.outdegree),v[w]=S.indegree,g[w]=S.outdegree}return{indegree:function(R){return p==0?0:(Xe(R)&&(R=r.filter(R)),v[R.id()]/p)},outdegree:function(R){return E===0?0:(Xe(R)&&(R=r.filter(R)),g[R.id()]/E)}}}else{for(var l={},s=0,c=0;c<u;c++){var d=n[c];e.root=d;var f=this.degreeCentrality(e);s<f.degree&&(s=f.degree),l[d.id()]=f.degree}return{degree:function(R){return s===0?0:(Xe(R)&&(R=r.filter(R)),l[R.id()]/s)}}}},degreeCentrality:function(e){e=Vb(e);var r=this.cy(),n=this,u=e,l=u.root,s=u.weight,c=u.directed,d=u.alpha;if(l=r.collection(l)[0],c){for(var E=l.connectedEdges(),b=E.filter(function(I){return I.target().same(l)&&n.has(I)}),C=E.filter(function(I){return I.source().same(l)&&n.has(I)}),w=b.length,S=C.length,N=0,R=0,D=0;D<b.length;D++)N+=s(b[D]);for(var O=0;O<C.length;O++)R+=s(C[O]);return{indegree:Math.pow(w,1-d)*Math.pow(N,d),outdegree:Math.pow(S,1-d)*Math.pow(R,d)}}else{for(var f=l.connectedEdges().intersection(n),v=f.length,g=0,p=0;p<f.length;p++)g+=s(f[p]);return{degree:Math.pow(v,1-d)*Math.pow(g,d)}}}};jl.dc=jl.degreeCentrality;jl.dcn=jl.degreeCentralityNormalised=jl.degreeCentralityNormalized;var jb=Gr({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Fl={closenessCentralityNormalized:function(e){for(var r=jb(e),n=r.harmonic,u=r.weight,l=r.directed,s=this.cy(),c={},d=0,f=this.nodes(),v=this.floydWarshall({weight:u,directed:l}),g=0;g<f.length;g++){for(var p=0,E=f[g],b=0;b<f.length;b++)if(g!==b){var C=v.distance(E,f[b]);n?p+=1/C:p+=C}n||(p=1/p),d<p&&(d=p),c[E.id()]=p}return{closeness:function(S){return d==0?0:(Xe(S)?S=s.filter(S)[0].id():S=S.id(),c[S]/d)}}},closenessCentrality:function(e){var r=jb(e),n=r.root,u=r.weight,l=r.directed,s=r.harmonic;n=this.filter(n)[0];for(var c=this.dijkstra({root:n,weight:u,directed:l}),d=0,f=this.nodes(),v=0;v<f.length;v++){var g=f[v];if(!g.same(n)){var p=c.distanceTo(g);s?d+=1/p:d+=p}}return s?d:1/d}};Fl.cc=Fl.closenessCentrality;Fl.ccn=Fl.closenessCentralityNormalised=Fl.closenessCentralityNormalized;var lA=Gr({weight:null,directed:!1}),Bp={betweennessCentrality:function(e){for(var r=lA(e),n=r.directed,u=r.weight,l=u!=null,s=this.cy(),c=this.nodes(),d={},f={},v=0,g={set:function(R,D){f[R]=D,D>v&&(v=D)},get:function(R){return f[R]}},p=0;p<c.length;p++){var E=c[p],b=E.id();n?d[b]=E.outgoers().nodes():d[b]=E.openNeighborhood().nodes(),g.set(b,0)}for(var C=function(){for(var R=c[w].id(),D=[],O={},I={},M={},z=new Vo(function(ie,oe){return M[ie]-M[oe]}),P=0;P<c.length;P++){var k=c[P].id();O[k]=[],I[k]=0,M[k]=1/0}for(I[R]=1,M[R]=0,z.push(R);!z.empty();){var U=z.pop();if(D.push(U),l)for(var L=0;L<d[U].length;L++){var G=d[U][L],X=s.getElementById(U),Z=void 0;X.edgesTo(G).length>0?Z=X.edgesTo(G)[0]:Z=G.edgesTo(X)[0];var H=u(Z);G=G.id(),M[G]>M[U]+H&&(M[G]=M[U]+H,z.nodes.indexOf(G)<0?z.push(G):z.updateItem(G),I[G]=0,O[G]=[]),M[G]==M[U]+H&&(I[G]=I[G]+I[U],O[G].push(U))}else for(var j=0;j<d[U].length;j++){var W=d[U][j].id();M[W]==1/0&&(z.push(W),M[W]=M[U]+1),M[W]==M[U]+1&&(I[W]=I[W]+I[U],O[W].push(U))}}for(var ee={},te=0;te<c.length;te++)ee[c[te].id()]=0;for(;D.length>0;){for(var q=D.pop(),Q=0;Q<O[q].length;Q++){var J=O[q][Q];ee[J]=ee[J]+I[J]/I[q]*(1+ee[q])}q!=c[w].id()&&g.set(q,g.get(q)+ee[q])}},w=0;w<c.length;w++)C();var S={betweenness:function(R){var D=s.collection(R).id();return g.get(D)},betweennessNormalized:function(R){if(v==0)return 0;var D=s.collection(R).id();return g.get(D)/v}};return S.betweennessNormalised=S.betweennessNormalized,S}};Bp.bc=Bp.betweennessCentrality;var sA=Gr({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(t){return 1}]}),oA=function(e){return sA(e)},cA=function(e,r){for(var n=0,u=0;u<r.length;u++)n+=r[u](e);return n},fA=function(e,r,n){for(var u=0;u<r;u++)e[u*r+u]=n},Tx=function(e,r){for(var n,u=0;u<r;u++){n=0;for(var l=0;l<r;l++)n+=e[l*r+u];for(var s=0;s<r;s++)e[s*r+u]=e[s*r+u]/n}},dA=function(e,r,n){for(var u=new Array(n*n),l=0;l<n;l++){for(var s=0;s<n;s++)u[l*n+s]=0;for(var c=0;c<n;c++)for(var d=0;d<n;d++)u[l*n+d]+=e[l*n+c]*r[c*n+d]}return u},vA=function(e,r,n){for(var u=e.slice(0),l=1;l<n;l++)e=dA(e,u,r);return e},hA=function(e,r,n){for(var u=new Array(r*r),l=0;l<r*r;l++)u[l]=Math.pow(e[l],n);return Tx(u,r),u},gA=function(e,r,n,u){for(var l=0;l<n;l++){var s=Math.round(e[l]*Math.pow(10,u))/Math.pow(10,u),c=Math.round(r[l]*Math.pow(10,u))/Math.pow(10,u);if(s!==c)return!1}return!0},pA=function(e,r,n,u){for(var l=[],s=0;s<r;s++){for(var c=[],d=0;d<r;d++)Math.round(e[s*r+d]*1e3)/1e3>0&&c.push(n[d]);c.length!==0&&l.push(u.collection(c))}return l},mA=function(e,r){for(var n=0;n<e.length;n++)if(!r[n]||e[n].id()!==r[n].id())return!1;return!0},yA=function(e){for(var r=0;r<e.length;r++)for(var n=0;n<e.length;n++)r!=n&&mA(e[r],e[n])&&e.splice(n,1);return e},Fb=function(e){for(var r=this.nodes(),n=this.edges(),u=this.cy(),l=oA(e),s={},c=0;c<r.length;c++)s[r[c].id()]=c;for(var d=r.length,f=d*d,v=new Array(f),g,p=0;p<f;p++)v[p]=0;for(var E=0;E<n.length;E++){var b=n[E],C=s[b.source().id()],w=s[b.target().id()],S=cA(b,l.attributes);v[C*d+w]+=S,v[w*d+C]+=S}fA(v,d,l.multFactor),Tx(v,d);for(var N=!0,R=0;N&&R<l.maxIterations;)N=!1,g=vA(v,d,l.expandFactor),v=hA(g,d,l.inflateFactor),gA(v,g,f,4)||(N=!0),R++;var D=pA(v,d,r,u);return D=yA(D),D},bA={markovClustering:Fb,mcl:Fb},EA=function(e){return e},Sx=function(e,r){return Math.abs(r-e)},Yb=function(e,r,n){return e+Sx(r,n)},Kb=function(e,r,n){return e+Math.pow(n-r,2)},xA=function(e){return Math.sqrt(e)},TA=function(e,r,n){return Math.max(e,Sx(r,n))},fo=function(e,r,n,u,l){for(var s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:EA,c=u,d,f,v=0;v<e;v++)d=r(v),f=n(v),c=l(c,d,f);return s(c)},Xl={euclidean:function(e,r,n){return e>=2?fo(e,r,n,0,Kb,xA):fo(e,r,n,0,Yb)},squaredEuclidean:function(e,r,n){return fo(e,r,n,0,Kb)},manhattan:function(e,r,n){return fo(e,r,n,0,Yb)},max:function(e,r,n){return fo(e,r,n,-1/0,TA)}};Xl["squared-euclidean"]=Xl.squaredEuclidean;Xl.squaredeuclidean=Xl.squaredEuclidean;function Ed(t,e,r,n,u,l){var s;return ar(t)?s=t:s=Xl[t]||Xl.euclidean,e===0&&ar(t)?s(u,l):s(e,r,n,u,l)}var SA=Gr({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),sm=function(e){return SA(e)},sd=function(e,r,n,u,l){var s=l!=="kMedoids",c=s?function(g){return n[g]}:function(g){return u[g](n)},d=function(p){return u[p](r)},f=n,v=r;return Ed(e,u.length,c,d,f,v)},pg=function(e,r,n){for(var u=n.length,l=new Array(u),s=new Array(u),c=new Array(r),d=null,f=0;f<u;f++)l[f]=e.min(n[f]).value,s[f]=e.max(n[f]).value;for(var v=0;v<r;v++){d=[];for(var g=0;g<u;g++)d[g]=Math.random()*(s[g]-l[g])+l[g];c[v]=d}return c},wx=function(e,r,n,u,l){for(var s=1/0,c=0,d=0;d<r.length;d++){var f=sd(n,e,r[d],u,l);f<s&&(s=f,c=d)}return c},Ax=function(e,r,n){for(var u=[],l=null,s=0;s<r.length;s++)l=r[s],n[l.id()]===e&&u.push(l);return u},wA=function(e,r,n){return Math.abs(r-e)<=n},AA=function(e,r,n){for(var u=0;u<e.length;u++)for(var l=0;l<e[u].length;l++){var s=Math.abs(e[u][l]-r[u][l]);if(s>n)return!1}return!0},CA=function(e,r,n){for(var u=0;u<n;u++)if(e===r[u])return!0;return!1},Xb=function(e,r){var n=new Array(r);if(e.length<50)for(var u=0;u<r;u++){for(var l=e[Math.floor(Math.random()*e.length)];CA(l,n,u);)l=e[Math.floor(Math.random()*e.length)];n[u]=l}else for(var s=0;s<r;s++)n[s]=e[Math.floor(Math.random()*e.length)];return n},Zb=function(e,r,n){for(var u=0,l=0;l<r.length;l++)u+=sd("manhattan",r[l],e,n,"kMedoids");return u},NA=function(e){var r=this.cy(),n=this.nodes(),u=null,l=sm(e),s=new Array(l.k),c={},d;l.testMode?typeof l.testCentroids=="number"?(l.testCentroids,d=pg(n,l.k,l.attributes)):Dr(l.testCentroids)==="object"?d=l.testCentroids:d=pg(n,l.k,l.attributes):d=pg(n,l.k,l.attributes);for(var f=!0,v=0;f&&v<l.maxIterations;){for(var g=0;g<n.length;g++)u=n[g],c[u.id()]=wx(u,d,l.distance,l.attributes,"kMeans");f=!1;for(var p=0;p<l.k;p++){var E=Ax(p,n,c);if(E.length!==0){for(var b=l.attributes.length,C=d[p],w=new Array(b),S=new Array(b),N=0;N<b;N++){S[N]=0;for(var R=0;R<E.length;R++)u=E[R],S[N]+=l.attributes[N](u);w[N]=S[N]/E.length,wA(w[N],C[N],l.sensitivityThreshold)||(f=!0)}d[p]=w,s[p]=r.collection(E)}}v++}return s},RA=function(e){var r=this.cy(),n=this.nodes(),u=null,l=sm(e),s=new Array(l.k),c,d={},f,v=new Array(l.k);l.testMode?typeof l.testCentroids=="number"||(Dr(l.testCentroids)==="object"?c=l.testCentroids:c=Xb(n,l.k)):c=Xb(n,l.k);for(var g=!0,p=0;g&&p<l.maxIterations;){for(var E=0;E<n.length;E++)u=n[E],d[u.id()]=wx(u,c,l.distance,l.attributes,"kMedoids");g=!1;for(var b=0;b<c.length;b++){var C=Ax(b,n,d);if(C.length!==0){v[b]=Zb(c[b],C,l.attributes);for(var w=0;w<C.length;w++)f=Zb(C[w],C,l.attributes),f<v[b]&&(v[b]=f,c[b]=C[w],g=!0);s[b]=r.collection(C)}}p++}return s},DA=function(e,r,n,u,l){for(var s,c,d=0;d<r.length;d++)for(var f=0;f<e.length;f++)u[d][f]=Math.pow(n[d][f],l.m);for(var v=0;v<e.length;v++)for(var g=0;g<l.attributes.length;g++){s=0,c=0;for(var p=0;p<r.length;p++)s+=u[p][v]*l.attributes[g](r[p]),c+=u[p][v];e[v][g]=s/c}},OA=function(e,r,n,u,l){for(var s=0;s<e.length;s++)r[s]=e[s].slice();for(var c,d,f,v=2/(l.m-1),g=0;g<n.length;g++)for(var p=0;p<u.length;p++){c=0;for(var E=0;E<n.length;E++)d=sd(l.distance,u[p],n[g],l.attributes,"cmeans"),f=sd(l.distance,u[p],n[E],l.attributes,"cmeans"),c+=Math.pow(d/f,v);e[p][g]=1/c}},MA=function(e,r,n,u){for(var l=new Array(n.k),s=0;s<l.length;s++)l[s]=[];for(var c,d,f=0;f<r.length;f++){c=-1/0,d=-1;for(var v=0;v<r[0].length;v++)r[f][v]>c&&(c=r[f][v],d=v);l[d].push(e[f])}for(var g=0;g<l.length;g++)l[g]=u.collection(l[g]);return l},Qb=function(e){var r=this.cy(),n=this.nodes(),u=sm(e),l,s,c,d,f;d=new Array(n.length);for(var v=0;v<n.length;v++)d[v]=new Array(u.k);c=new Array(n.length);for(var g=0;g<n.length;g++)c[g]=new Array(u.k);for(var p=0;p<n.length;p++){for(var E=0,b=0;b<u.k;b++)c[p][b]=Math.random(),E+=c[p][b];for(var C=0;C<u.k;C++)c[p][C]=c[p][C]/E}s=new Array(u.k);for(var w=0;w<u.k;w++)s[w]=new Array(u.attributes.length);f=new Array(n.length);for(var S=0;S<n.length;S++)f[S]=new Array(u.k);for(var N=!0,R=0;N&&R<u.maxIterations;)N=!1,DA(s,n,c,f,u),OA(c,d,s,n,u),AA(c,d,u.sensitivityThreshold)||(N=!0),R++;return l=MA(n,c,u,r),{clusters:l,degreeOfMembership:c}},BA={kMeans:NA,kMedoids:RA,fuzzyCMeans:Qb,fcm:Qb},IA=Gr({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),LA={single:"min",complete:"max"},zA=function(e){var r=IA(e),n=LA[r.linkage];return n!=null&&(r.linkage=n),r},Wb=function(e,r,n,u,l){for(var s=0,c=1/0,d,f=l.attributes,v=function(P,k){return Ed(l.distance,f.length,function(U){return f[U](P)},function(U){return f[U](k)},P,k)},g=0;g<e.length;g++){var p=e[g].key,E=n[p][u[p]];E<c&&(s=p,c=E)}if(l.mode==="threshold"&&c>=l.threshold||l.mode==="dendrogram"&&e.length===1)return!1;var b=r[s],C=r[u[s]],w;l.mode==="dendrogram"?w={left:b,right:C,key:b.key}:w={value:b.value.concat(C.value),key:b.key},e[b.index]=w,e.splice(C.index,1),r[b.key]=w;for(var S=0;S<e.length;S++){var N=e[S];b.key===N.key?d=1/0:l.linkage==="min"?(d=n[b.key][N.key],n[b.key][N.key]>n[C.key][N.key]&&(d=n[C.key][N.key])):l.linkage==="max"?(d=n[b.key][N.key],n[b.key][N.key]<n[C.key][N.key]&&(d=n[C.key][N.key])):l.linkage==="mean"?d=(n[b.key][N.key]*b.size+n[C.key][N.key]*C.size)/(b.size+C.size):l.mode==="dendrogram"?d=v(N.value,b.value):d=v(N.value[0],b.value[0]),n[b.key][N.key]=n[N.key][b.key]=d}for(var R=0;R<e.length;R++){var D=e[R].key;if(u[D]===b.key||u[D]===C.key){for(var O=D,I=0;I<e.length;I++){var M=e[I].key;n[D][M]<n[D][O]&&(O=M)}u[D]=O}e[R].index=R}return b.key=C.key=b.index=C.index=null,!0},Hl=function(e,r,n){e&&(e.value?r.push(e.value):(e.left&&Hl(e.left,r),e.right&&Hl(e.right,r)))},Ip=function(e,r){if(!e)return"";if(e.left&&e.right){var n=Ip(e.left,r),u=Ip(e.right,r),l=r.add({group:"nodes",data:{id:n+","+u}});return r.add({group:"edges",data:{source:n,target:l.id()}}),r.add({group:"edges",data:{source:u,target:l.id()}}),l.id()}else if(e.value)return e.value.id()},Lp=function(e,r,n){if(!e)return[];var u=[],l=[],s=[];return r===0?(e.left&&Hl(e.left,u),e.right&&Hl(e.right,l),s=u.concat(l),[n.collection(s)]):r===1?e.value?[n.collection(e.value)]:(e.left&&Hl(e.left,u),e.right&&Hl(e.right,l),[n.collection(u),n.collection(l)]):e.value?[n.collection(e.value)]:(e.left&&(u=Lp(e.left,r-1,n)),e.right&&(l=Lp(e.right,r-1,n)),u.concat(l))},$b=function(e){for(var r=this.cy(),n=this.nodes(),u=zA(e),l=u.attributes,s=function(R,D){return Ed(u.distance,l.length,function(O){return l[O](R)},function(O){return l[O](D)},R,D)},c=[],d=[],f=[],v=[],g=0;g<n.length;g++){var p={value:u.mode==="dendrogram"?n[g]:[n[g]],key:g,index:g};c[g]=p,v[g]=p,d[g]=[],f[g]=0}for(var E=0;E<c.length;E++)for(var b=0;b<=E;b++){var C=void 0;u.mode==="dendrogram"?C=E===b?1/0:s(c[E].value,c[b].value):C=E===b?1/0:s(c[E].value[0],c[b].value[0]),d[E][b]=C,d[b][E]=C,C<d[E][f[E]]&&(f[E]=b)}for(var w=Wb(c,v,d,f,u);w;)w=Wb(c,v,d,f,u);var S;return u.mode==="dendrogram"?(S=Lp(c[0],u.dendrogramDepth,r),u.addDendrogram&&Ip(c[0],r)):(S=new Array(c.length),c.forEach(function(N,R){N.key=N.index=null,S[R]=r.collection(N.value)})),S},_A={hierarchicalClustering:$b,hca:$b},kA=Gr({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),UA=function(e){var r=e.damping,n=e.preference;.5<=r&&r<1||er("Damping must range on [0.5, 1).  Got: ".concat(r));var u=["median","mean","min","max"];return u.some(function(l){return l===n})||Me(n)||er("Preference must be one of [".concat(u.map(function(l){return"'".concat(l,"'")}).join(", "),"] or a number.  Got: ").concat(n)),kA(e)},PA=function(e,r,n,u){var l=function(c,d){return u[d](c)};return-Ed(e,u.length,function(s){return l(r,s)},function(s){return l(n,s)},r,n)},qA=function(e,r){var n=null;return r==="median"?n=U2(e):r==="mean"?n=k2(e):r==="min"?n=z2(e):r==="max"?n=_2(e):n=r,n},HA=function(e,r,n){for(var u=[],l=0;l<e;l++)r[l*e+l]+n[l*e+l]>0&&u.push(l);return u},Jb=function(e,r,n){for(var u=[],l=0;l<e;l++){for(var s=-1,c=-1/0,d=0;d<n.length;d++){var f=n[d];r[l*e+f]>c&&(s=f,c=r[l*e+f])}s>0&&u.push(s)}for(var v=0;v<n.length;v++)u[n[v]]=n[v];return u},GA=function(e,r,n){for(var u=Jb(e,r,n),l=0;l<n.length;l++){for(var s=[],c=0;c<u.length;c++)u[c]===n[l]&&s.push(c);for(var d=-1,f=-1/0,v=0;v<s.length;v++){for(var g=0,p=0;p<s.length;p++)g+=r[s[p]*e+s[v]];g>f&&(d=v,f=g)}n[l]=s[d]}return u=Jb(e,r,n),u},e1=function(e){for(var r=this.cy(),n=this.nodes(),u=UA(e),l={},s=0;s<n.length;s++)l[n[s].id()]=s;var c,d,f,v,g,p;c=n.length,d=c*c,f=new Array(d);for(var E=0;E<d;E++)f[E]=-1/0;for(var b=0;b<c;b++)for(var C=0;C<c;C++)b!==C&&(f[b*c+C]=PA(u.distance,n[b],n[C],u.attributes));v=qA(f,u.preference);for(var w=0;w<c;w++)f[w*c+w]=v;g=new Array(d);for(var S=0;S<d;S++)g[S]=0;p=new Array(d);for(var N=0;N<d;N++)p[N]=0;for(var R=new Array(c),D=new Array(c),O=new Array(c),I=0;I<c;I++)R[I]=0,D[I]=0,O[I]=0;for(var M=new Array(c*u.minIterations),z=0;z<M.length;z++)M[z]=0;var P;for(P=0;P<u.maxIterations;P++){for(var k=0;k<c;k++){for(var U=-1/0,L=-1/0,G=-1,X=0,Z=0;Z<c;Z++)R[Z]=g[k*c+Z],X=p[k*c+Z]+f[k*c+Z],X>=U?(L=U,U=X,G=Z):X>L&&(L=X);for(var H=0;H<c;H++)g[k*c+H]=(1-u.damping)*(f[k*c+H]-U)+u.damping*R[H];g[k*c+G]=(1-u.damping)*(f[k*c+G]-L)+u.damping*R[G]}for(var j=0;j<c;j++){for(var W=0,ee=0;ee<c;ee++)R[ee]=p[ee*c+j],D[ee]=Math.max(0,g[ee*c+j]),W+=D[ee];W-=D[j],D[j]=g[j*c+j],W+=D[j];for(var te=0;te<c;te++)p[te*c+j]=(1-u.damping)*Math.min(0,W-D[te])+u.damping*R[te];p[j*c+j]=(1-u.damping)*(W-D[j])+u.damping*R[j]}for(var q=0,Q=0;Q<c;Q++){var J=p[Q*c+Q]+g[Q*c+Q]>0?1:0;M[P%u.minIterations*c+Q]=J,q+=J}if(q>0&&(P>=u.minIterations-1||P==u.maxIterations-1)){for(var ie=0,oe=0;oe<c;oe++){O[oe]=0;for(var he=0;he<u.minIterations;he++)O[oe]+=M[he*c+oe];(O[oe]===0||O[oe]===u.minIterations)&&ie++}if(ie===c)break}}for(var be=HA(c,g,p),Re=GA(c,f,be),ye={},ne=0;ne<be.length;ne++)ye[be[ne]]=[];for(var le=0;le<n.length;le++){var fe=l[n[le].id()],Ee=Re[fe];Ee!=null&&ye[Ee].push(n[le])}for(var De=new Array(be.length),Le=0;Le<be.length;Le++)De[Le]=r.collection(ye[be[Le]]);return De},VA={affinityPropagation:e1,ap:e1},jA=Gr({root:void 0,directed:!1}),FA={hierholzer:function(e){if(!Tt(e)){var r=arguments;e={root:r[0],directed:r[1]}}var n=jA(e),u=n.root,l=n.directed,s=this,c=!1,d,f,v;u&&(v=Xe(u)?this.filter(u)[0].id():u[0].id());var g={},p={};l?s.forEach(function(N){var R=N.id();if(N.isNode()){var D=N.indegree(!0),O=N.outdegree(!0),I=D-O,M=O-D;I==1?d?c=!0:d=R:M==1?f?c=!0:f=R:(M>1||I>1)&&(c=!0),g[R]=[],N.outgoers().forEach(function(z){z.isEdge()&&g[R].push(z.id())})}else p[R]=[void 0,N.target().id()]}):s.forEach(function(N){var R=N.id();if(N.isNode()){var D=N.degree(!0);D%2&&(d?f?c=!0:f=R:d=R),g[R]=[],N.connectedEdges().forEach(function(O){return g[R].push(O.id())})}else p[R]=[N.source().id(),N.target().id()]});var E={found:!1,trail:void 0};if(c)return E;if(f&&d)if(l){if(v&&f!=v)return E;v=f}else{if(v&&f!=v&&d!=v)return E;v||(v=f)}else v||(v=s[0].id());var b=function(R){for(var D=R,O=[R],I,M,z;g[D].length;)I=g[D].shift(),M=p[I][0],z=p[I][1],D!=z?(g[z]=g[z].filter(function(P){return P!=I}),D=z):!l&&D!=M&&(g[M]=g[M].filter(function(P){return P!=I}),D=M),O.unshift(I),O.unshift(D);return O},C=[],w=[];for(w=b(v);w.length!=1;)g[w[0]].length==0?(C.unshift(s.getElementById(w.shift())),C.unshift(s.getElementById(w.shift()))):w=b(w.shift()).concat(w);C.unshift(s.getElementById(w.shift()));for(var S in g)if(g[S].length)return E;return E.found=!0,E.trail=this.spawn(C,!0),E}},Mf=function(){var e=this,r={},n=0,u=0,l=[],s=[],c={},d=function(p,E){for(var b=s.length-1,C=[],w=e.spawn();s[b].x!=p||s[b].y!=E;)C.push(s.pop().edge),b--;C.push(s.pop().edge),C.forEach(function(S){var N=S.connectedNodes().intersection(e);w.merge(S),N.forEach(function(R){var D=R.id(),O=R.connectedEdges().intersection(e);w.merge(R),r[D].cutVertex?w.merge(O.filter(function(I){return I.isLoop()})):w.merge(O)})}),l.push(w)},f=function(p,E,b){p===b&&(u+=1),r[E]={id:n,low:n++,cutVertex:!1};var C=e.getElementById(E).connectedEdges().intersection(e);if(C.size()===0)l.push(e.spawn(e.getElementById(E)));else{var w,S,N,R;C.forEach(function(D){w=D.source().id(),S=D.target().id(),N=w===E?S:w,N!==b&&(R=D.id(),c[R]||(c[R]=!0,s.push({x:E,y:N,edge:D})),N in r?r[E].low=Math.min(r[E].low,r[N].id):(f(p,N,E),r[E].low=Math.min(r[E].low,r[N].low),r[E].id<=r[N].low&&(r[E].cutVertex=!0,d(E,N))))})}};e.forEach(function(g){if(g.isNode()){var p=g.id();p in r||(u=0,f(p,p),r[p].cutVertex=u>1)}});var v=Object.keys(r).filter(function(g){return r[g].cutVertex}).map(function(g){return e.getElementById(g)});return{cut:e.spawn(v),components:l}},YA={hopcroftTarjanBiconnected:Mf,htbc:Mf,htb:Mf,hopcroftTarjanBiconnectedComponents:Mf},Bf=function(){var e=this,r={},n=0,u=[],l=[],s=e.spawn(e),c=function(f){l.push(f),r[f]={index:n,low:n++,explored:!1};var v=e.getElementById(f).connectedEdges().intersection(e);if(v.forEach(function(C){var w=C.target().id();w!==f&&(w in r||c(w),r[w].explored||(r[f].low=Math.min(r[f].low,r[w].low)))}),r[f].index===r[f].low){for(var g=e.spawn();;){var p=l.pop();if(g.merge(e.getElementById(p)),r[p].low=r[f].index,r[p].explored=!0,p===f)break}var E=g.edgesWith(g),b=g.merge(E);u.push(b),s=s.difference(b)}};return e.forEach(function(d){if(d.isNode()){var f=d.id();f in r||c(f)}}),{cut:s,components:u}},KA={tarjanStronglyConnected:Bf,tsc:Bf,tscc:Bf,tarjanStronglyConnectedComponents:Bf},Cx={};[Do,S2,w2,C2,R2,O2,I2,uA,jl,Fl,Bp,bA,BA,_A,VA,FA,YA,KA].forEach(function(t){$e(Cx,t)});var Nx=0,Rx=1,Dx=2,Ja=function(e){if(!(this instanceof Ja))return new Ja(e);this.id="Thenable/1.0.7",this.state=Nx,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof e=="function"&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Ja.prototype={fulfill:function(e){return t1(this,Rx,"fulfillValue",e)},reject:function(e){return t1(this,Dx,"rejectReason",e)},then:function(e,r){var n=this,u=new Ja;return n.onFulfilled.push(a1(e,u,"fulfill")),n.onRejected.push(a1(r,u,"reject")),Ox(n),u.proxy}};var t1=function(e,r,n,u){return e.state===Nx&&(e.state=r,e[n]=u,Ox(e)),e},Ox=function(e){e.state===Rx?r1(e,"onFulfilled",e.fulfillValue):e.state===Dx&&r1(e,"onRejected",e.rejectReason)},r1=function(e,r,n){if(e[r].length!==0){var u=e[r];e[r]=[];var l=function(){for(var c=0;c<u.length;c++)u[c](n)};typeof setImmediate=="function"?setImmediate(l):setTimeout(l,0)}},a1=function(e,r,n){return function(u){if(typeof e!="function")r[n].call(r,u);else{var l;try{l=e(u)}catch(s){r.reject(s);return}Mx(r,l)}}},Mx=function(e,r){if(e===r||e.proxy===r){e.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(Dr(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(l){e.reject(l);return}if(typeof n=="function"){var u=!1;try{n.call(r,function(l){u||(u=!0,l===r?e.reject(new TypeError("circular thenable chain")):Mx(e,l))},function(l){u||(u=!0,e.reject(l))})}catch(l){u||e.reject(l)}return}e.fulfill(r)};Ja.all=function(t){return new Ja(function(e,r){for(var n=new Array(t.length),u=0,l=function(d,f){n[d]=f,u++,u===t.length&&e(n)},s=0;s<t.length;s++)(function(c){var d=t[c],f=d!=null&&d.then!=null;if(f)d.then(function(g){l(c,g)},function(g){r(g)});else{var v=d;l(c,v)}})(s)})};Ja.resolve=function(t){return new Ja(function(e,r){e(t)})};Ja.reject=function(t){return new Ja(function(e,r){r(t)})};var Wl=typeof Promise<"u"?Promise:Ja,zp=function(e,r,n){var u=$p(e),l=!u,s=this._private=$e({duration:1e3},r,n);if(s.target=e,s.style=s.style||s.css,s.started=!1,s.playing=!1,s.hooked=!1,s.applying=!1,s.progress=0,s.completes=[],s.frames=[],s.complete&&ar(s.complete)&&s.completes.push(s.complete),l){var c=e.position();s.startPosition=s.startPosition||{x:c.x,y:c.y},s.startStyle=s.startStyle||e.cy().style().getAnimationStartStyle(e,s.style)}if(u){var d=e.pan();s.startPan={x:d.x,y:d.y},s.startZoom=e.zoom()}this.length=1,this[0]=this},Bu=zp.prototype;$e(Bu,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var r,n=e.target._private.animation;e.queue?r=n.queue:r=n.current,r.push(this),Ra(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return e.progress===1&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var r=this._private;return e===void 0?r.progress*r.duration:this.progress(e/r.duration)},progress:function(e){var r=this._private,n=r.playing;return e===void 0?r.progress:(n&&this.pause(),r.progress=e,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var e=this._private,r=e.playing;r&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(f,v){var g=e[f];g!=null&&(e[f]=e[v],e[v]=g)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var u=0;u<e.style.length;u++){var l=e.style[u],s=l.name,c=e.startStyle[s];e.startStyle[s]=l,e.style[u]=c}return r&&this.play(),this},promise:function(e){var r=this._private,n;switch(e){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Wl(function(u,l){n.push(function(){u()})})}});Bu.complete=Bu.completed;Bu.run=Bu.play;Bu.running=Bu.playing;var XA={animated:function(){return function(){var r=this,n=r.length!==void 0,u=n?r:[r],l=this._private.cy||this;if(!l.styleEnabled())return!1;var s=u[0];if(s)return s._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,u=n?r:[r],l=this._private.cy||this;if(!l.styleEnabled())return this;for(var s=0;s<u.length;s++){var c=u[s];c._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var u=this._private.cy||this;return u.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var u=this._private.cy||this;return u.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var u=this,l=u.length!==void 0,s=l?u:[u],c=this._private.cy||this,d=!l,f=!d;if(!c.styleEnabled())return this;var v=c.style();r=$e({},r,n);var g=Object.keys(r).length===0;if(g)return new zp(s[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(f&&(r.style=v.getPropsList(r.style||r.css),r.css=void 0),f&&r.renderedPosition!=null){var p=r.renderedPosition,E=c.pan(),b=c.zoom();r.position=px(p,b,E)}if(d&&r.panBy!=null){var C=r.panBy,w=c.pan();r.pan={x:w.x+C.x,y:w.y+C.y}}var S=r.center||r.centre;if(d&&S!=null){var N=c.getCenterPan(S.eles,r.zoom);N!=null&&(r.pan=N)}if(d&&r.fit!=null){var R=r.fit,D=c.getFitViewport(R.eles||R.boundingBox,R.padding);D!=null&&(r.pan=D.pan,r.zoom=D.zoom)}if(d&&Tt(r.zoom)){var O=c.getZoomedViewport(r.zoom);O!=null?(O.zoomed&&(r.zoom=O.zoom),O.panned&&(r.pan=O.pan)):r.zoom=null}return new zp(s[0],r)}},animate:function(){return function(r,n){var u=this,l=u.length!==void 0,s=l?u:[u],c=this._private.cy||this;if(!c.styleEnabled())return this;n&&(r=$e({},r,n));for(var d=0;d<s.length;d++){var f=s[d],v=f.animated()&&(r.queue===void 0||r.queue),g=f.animation(r,v?{queue:!0}:void 0);g.play()}return this}},stop:function(){return function(r,n){var u=this,l=u.length!==void 0,s=l?u:[u],c=this._private.cy||this;if(!c.styleEnabled())return this;for(var d=0;d<s.length;d++){for(var f=s[d],v=f._private,g=v.animation.current,p=0;p<g.length;p++){var E=g[p],b=E._private;n&&(b.duration=0)}r&&(v.animation.queue=[]),n||(v.animation.current=[])}return c.notify("draw"),this}}},mg,n1;function xd(){if(n1)return mg;n1=1;var t=Array.isArray;return mg=t,mg}var yg,i1;function ZA(){if(i1)return yg;i1=1;var t=xd(),e=Ho(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function u(l,s){if(t(l))return!1;var c=typeof l;return c=="number"||c=="symbol"||c=="boolean"||l==null||e(l)?!0:n.test(l)||!r.test(l)||s!=null&&l in Object(s)}return yg=u,yg}var bg,u1;function QA(){if(u1)return bg;u1=1;var t=lx(),e=qo(),r="[object AsyncFunction]",n="[object Function]",u="[object GeneratorFunction]",l="[object Proxy]";function s(c){if(!e(c))return!1;var d=t(c);return d==n||d==u||d==r||d==l}return bg=s,bg}var Eg,l1;function WA(){if(l1)return Eg;l1=1;var t=md(),e=t["__core-js_shared__"];return Eg=e,Eg}var xg,s1;function $A(){if(s1)return xg;s1=1;var t=WA(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return xg=r,xg}var Tg,o1;function JA(){if(o1)return Tg;o1=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return Tg=r,Tg}var Sg,c1;function eC(){if(c1)return Sg;c1=1;var t=QA(),e=$A(),r=qo(),n=JA(),u=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,d=s.toString,f=c.hasOwnProperty,v=RegExp("^"+d.call(f).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function g(p){if(!r(p)||e(p))return!1;var E=t(p)?v:l;return E.test(n(p))}return Sg=g,Sg}var wg,f1;function tC(){if(f1)return wg;f1=1;function t(e,r){return e?.[r]}return wg=t,wg}var Ag,d1;function om(){if(d1)return Ag;d1=1;var t=eC(),e=tC();function r(n,u){var l=e(n,u);return t(l)?l:void 0}return Ag=r,Ag}var Cg,v1;function Td(){if(v1)return Cg;v1=1;var t=om(),e=t(Object,"create");return Cg=e,Cg}var Ng,h1;function rC(){if(h1)return Ng;h1=1;var t=Td();function e(){this.__data__=t?t(null):{},this.size=0}return Ng=e,Ng}var Rg,g1;function aC(){if(g1)return Rg;g1=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return Rg=t,Rg}var Dg,p1;function nC(){if(p1)return Dg;p1=1;var t=Td(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function u(l){var s=this.__data__;if(t){var c=s[l];return c===e?void 0:c}return n.call(s,l)?s[l]:void 0}return Dg=u,Dg}var Og,m1;function iC(){if(m1)return Og;m1=1;var t=Td(),e=Object.prototype,r=e.hasOwnProperty;function n(u){var l=this.__data__;return t?l[u]!==void 0:r.call(l,u)}return Og=n,Og}var Mg,y1;function uC(){if(y1)return Mg;y1=1;var t=Td(),e="__lodash_hash_undefined__";function r(n,u){var l=this.__data__;return this.size+=this.has(n)?0:1,l[n]=t&&u===void 0?e:u,this}return Mg=r,Mg}var Bg,b1;function lC(){if(b1)return Bg;b1=1;var t=rC(),e=aC(),r=nC(),n=iC(),u=uC();function l(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=n,l.prototype.set=u,Bg=l,Bg}var Ig,E1;function sC(){if(E1)return Ig;E1=1;function t(){this.__data__=[],this.size=0}return Ig=t,Ig}var Lg,x1;function Bx(){if(x1)return Lg;x1=1;function t(e,r){return e===r||e!==e&&r!==r}return Lg=t,Lg}var zg,T1;function Sd(){if(T1)return zg;T1=1;var t=Bx();function e(r,n){for(var u=r.length;u--;)if(t(r[u][0],n))return u;return-1}return zg=e,zg}var _g,S1;function oC(){if(S1)return _g;S1=1;var t=Sd(),e=Array.prototype,r=e.splice;function n(u){var l=this.__data__,s=t(l,u);if(s<0)return!1;var c=l.length-1;return s==c?l.pop():r.call(l,s,1),--this.size,!0}return _g=n,_g}var kg,w1;function cC(){if(w1)return kg;w1=1;var t=Sd();function e(r){var n=this.__data__,u=t(n,r);return u<0?void 0:n[u][1]}return kg=e,kg}var Ug,A1;function fC(){if(A1)return Ug;A1=1;var t=Sd();function e(r){return t(this.__data__,r)>-1}return Ug=e,Ug}var Pg,C1;function dC(){if(C1)return Pg;C1=1;var t=Sd();function e(r,n){var u=this.__data__,l=t(u,r);return l<0?(++this.size,u.push([r,n])):u[l][1]=n,this}return Pg=e,Pg}var qg,N1;function vC(){if(N1)return qg;N1=1;var t=sC(),e=oC(),r=cC(),n=fC(),u=dC();function l(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=n,l.prototype.set=u,qg=l,qg}var Hg,R1;function hC(){if(R1)return Hg;R1=1;var t=om(),e=md(),r=t(e,"Map");return Hg=r,Hg}var Gg,D1;function gC(){if(D1)return Gg;D1=1;var t=lC(),e=vC(),r=hC();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Gg=n,Gg}var Vg,O1;function pC(){if(O1)return Vg;O1=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return Vg=t,Vg}var jg,M1;function wd(){if(M1)return jg;M1=1;var t=pC();function e(r,n){var u=r.__data__;return t(n)?u[typeof n=="string"?"string":"hash"]:u.map}return jg=e,jg}var Fg,B1;function mC(){if(B1)return Fg;B1=1;var t=wd();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return Fg=e,Fg}var Yg,I1;function yC(){if(I1)return Yg;I1=1;var t=wd();function e(r){return t(this,r).get(r)}return Yg=e,Yg}var Kg,L1;function bC(){if(L1)return Kg;L1=1;var t=wd();function e(r){return t(this,r).has(r)}return Kg=e,Kg}var Xg,z1;function EC(){if(z1)return Xg;z1=1;var t=wd();function e(r,n){var u=t(this,r),l=u.size;return u.set(r,n),this.size+=u.size==l?0:1,this}return Xg=e,Xg}var Zg,_1;function xC(){if(_1)return Zg;_1=1;var t=gC(),e=mC(),r=yC(),n=bC(),u=EC();function l(s){var c=-1,d=s==null?0:s.length;for(this.clear();++c<d;){var f=s[c];this.set(f[0],f[1])}}return l.prototype.clear=t,l.prototype.delete=e,l.prototype.get=r,l.prototype.has=n,l.prototype.set=u,Zg=l,Zg}var Qg,k1;function TC(){if(k1)return Qg;k1=1;var t=xC(),e="Expected a function";function r(n,u){if(typeof n!="function"||u!=null&&typeof u!="function")throw new TypeError(e);var l=function(){var s=arguments,c=u?u.apply(this,s):s[0],d=l.cache;if(d.has(c))return d.get(c);var f=n.apply(this,s);return l.cache=d.set(c,f)||d,f};return l.cache=new(r.Cache||t),l}return r.Cache=t,Qg=r,Qg}var Wg,U1;function SC(){if(U1)return Wg;U1=1;var t=TC(),e=500;function r(n){var u=t(n,function(s){return l.size===e&&l.clear(),s}),l=u.cache;return u}return Wg=r,Wg}var $g,P1;function Ix(){if(P1)return $g;P1=1;var t=SC(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(u){var l=[];return u.charCodeAt(0)===46&&l.push(""),u.replace(e,function(s,c,d,f){l.push(d?f.replace(r,"$1"):c||s)}),l});return $g=n,$g}var Jg,q1;function Lx(){if(q1)return Jg;q1=1;function t(e,r){for(var n=-1,u=e==null?0:e.length,l=Array(u);++n<u;)l[n]=r(e[n],n,e);return l}return Jg=t,Jg}var ep,H1;function wC(){if(H1)return ep;H1=1;var t=em(),e=Lx(),r=xd(),n=Ho(),u=t?t.prototype:void 0,l=u?u.toString:void 0;function s(c){if(typeof c=="string")return c;if(r(c))return e(c,s)+"";if(n(c))return l?l.call(c):"";var d=c+"";return d=="0"&&1/c==-1/0?"-0":d}return ep=s,ep}var tp,G1;function zx(){if(G1)return tp;G1=1;var t=wC();function e(r){return r==null?"":t(r)}return tp=e,tp}var rp,V1;function _x(){if(V1)return rp;V1=1;var t=xd(),e=ZA(),r=Ix(),n=zx();function u(l,s){return t(l)?l:e(l,s)?[l]:r(n(l))}return rp=u,rp}var ap,j1;function cm(){if(j1)return ap;j1=1;var t=Ho();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return ap=e,ap}var np,F1;function AC(){if(F1)return np;F1=1;var t=_x(),e=cm();function r(n,u){u=t(u,n);for(var l=0,s=u.length;n!=null&&l<s;)n=n[e(u[l++])];return l&&l==s?n:void 0}return np=r,np}var ip,Y1;function CC(){if(Y1)return ip;Y1=1;var t=AC();function e(r,n,u){var l=r==null?void 0:t(r,n);return l===void 0?u:l}return ip=e,ip}var NC=CC(),RC=Po(NC),up,K1;function DC(){if(K1)return up;K1=1;var t=om(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return up=e,up}var lp,X1;function OC(){if(X1)return lp;X1=1;var t=DC();function e(r,n,u){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:u,writable:!0}):r[n]=u}return lp=e,lp}var sp,Z1;function MC(){if(Z1)return sp;Z1=1;var t=OC(),e=Bx(),r=Object.prototype,n=r.hasOwnProperty;function u(l,s,c){var d=l[s];(!(n.call(l,s)&&e(d,c))||c===void 0&&!(s in l))&&t(l,s,c)}return sp=u,sp}var op,Q1;function BC(){if(Q1)return op;Q1=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,u){var l=typeof n;return u=u??t,!!u&&(l=="number"||l!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<u}return op=r,op}var cp,W1;function IC(){if(W1)return cp;W1=1;var t=MC(),e=_x(),r=BC(),n=qo(),u=cm();function l(s,c,d,f){if(!n(s))return s;c=e(c,s);for(var v=-1,g=c.length,p=g-1,E=s;E!=null&&++v<g;){var b=u(c[v]),C=d;if(b==="__proto__"||b==="constructor"||b==="prototype")return s;if(v!=p){var w=E[b];C=f?f(w,b,E):void 0,C===void 0&&(C=n(w)?w:r(c[v+1])?[]:{})}t(E,b,C),E=E[b]}return s}return cp=l,cp}var fp,$1;function LC(){if($1)return fp;$1=1;var t=IC();function e(r,n,u){return r==null?r:t(r,n,u)}return fp=e,fp}var zC=LC(),_C=Po(zC),dp,J1;function kC(){if(J1)return dp;J1=1;function t(e,r){var n=-1,u=e.length;for(r||(r=Array(u));++n<u;)r[n]=e[n];return r}return dp=t,dp}var vp,eE;function UC(){if(eE)return vp;eE=1;var t=Lx(),e=kC(),r=xd(),n=Ho(),u=Ix(),l=cm(),s=zx();function c(d){return r(d)?t(d,l):n(d)?[d]:e(u(s(d)))}return vp=c,vp}var PC=UC(),qC=Po(PC),HC={data:function(e){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(u){},beforeSet:function(u,l){},onSet:function(u){},canSet:function(u){return!0}};return e=$e({},r,e),function(u,l){var s=e,c=this,d=c.length!==void 0,f=d?c:[c],v=d?c[0]:c;if(Xe(u)){var g=u.indexOf(".")!==-1,p=g&&qC(u);if(s.allowGetting&&l===void 0){var E;return v&&(s.beforeGet(v),p&&v._private[s.field][u]===void 0?E=RC(v._private[s.field],p):E=v._private[s.field][u]),E}else if(s.allowSetting&&l!==void 0){var b=!s.immutableKeys[u];if(b){var C=WE({},u,l);s.beforeSet(c,C);for(var w=0,S=f.length;w<S;w++){var N=f[w];s.canSet(N)&&(p&&v._private[s.field][u]===void 0?_C(N._private[s.field],p,l):N._private[s.field][u]=l)}s.updateStyle&&c.updateStyle(),s.onSet(c),s.settingTriggersEvent&&c[s.triggerFnName](s.settingEvent)}}}else if(s.allowSetting&&Tt(u)){var R=u,D,O,I=Object.keys(R);s.beforeSet(c,R);for(var M=0;M<I.length;M++){D=I[M],O=R[D];var z=!s.immutableKeys[D];if(z)for(var P=0;P<f.length;P++){var k=f[P];s.canSet(k)&&(k._private[s.field][D]=O)}}s.updateStyle&&c.updateStyle(),s.onSet(c),s.settingTriggersEvent&&c[s.triggerFnName](s.settingEvent)}else if(s.allowBinding&&ar(u)){var U=u;c.on(s.bindingEvent,U)}else if(s.allowGetting&&u===void 0){var L;return v&&(s.beforeGet(v),L=v._private[s.field]),L}return c}},removeData:function(e){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return e=$e({},r,e),function(u){var l=e,s=this,c=s.length!==void 0,d=c?s:[s];if(Xe(u)){for(var f=u.split(/\s+/),v=f.length,g=0;g<v;g++){var p=f[g];if(!Hi(p)){var E=!l.immutableKeys[p];if(E)for(var b=0,C=d.length;b<C;b++)d[b]._private[l.field][p]=void 0}}l.triggerEvent&&s[l.triggerFnName](l.event)}else if(u===void 0){for(var w=0,S=d.length;w<S;w++)for(var N=d[w]._private[l.field],R=Object.keys(N),D=0;D<R.length;D++){var O=R[D],I=!l.immutableKeys[O];I&&(N[O]=void 0)}l.triggerEvent&&s[l.triggerFnName](l.event)}return s}}},GC={eventAliasesOn:function(e){var r=e;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,u){var l=this,s=Array.prototype.slice.call(arguments,0);return new Wl(function(c,d){var f=function(E){l.off.apply(l,g),c(E)},v=s.concat([f]),g=v.concat([]);l.on.apply(l,v)})}}},Ot={};[XA,HC,GC].forEach(function(t){$e(Ot,t)});var VC={animate:Ot.animate(),animation:Ot.animation(),animated:Ot.animated(),clearQueue:Ot.clearQueue(),delay:Ot.delay(),delayAnimation:Ot.delayAnimation(),stop:Ot.stop()},Kf={classes:function(e){var r=this;if(e===void 0){var n=[];return r[0]._private.classes.forEach(function(b){return n.push(b)}),n}else Ht(e)||(e=(e||"").match(/\S+/g)||[]);for(var u=[],l=new Ql(e),s=0;s<r.length;s++){for(var c=r[s],d=c._private,f=d.classes,v=!1,g=0;g<e.length;g++){var p=e[g],E=f.has(p);if(!E){v=!0;break}}v||(v=f.size!==e.length),v&&(d.classes=l,u.push(c))}return u.length>0&&this.spawn(u).updateStyle().emit("class"),r},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var r=this[0];return r!=null&&r._private.classes.has(e)},toggleClass:function(e,r){Ht(e)||(e=e.match(/\S+/g)||[]);for(var n=this,u=r===void 0,l=[],s=0,c=n.length;s<c;s++)for(var d=n[s],f=d._private.classes,v=!1,g=0;g<e.length;g++){var p=e[g],E=f.has(p),b=!1;r||u&&!E?(f.add(p),b=!0):(!r||u&&E)&&(f.delete(p),b=!0),!v&&b&&(l.push(d),v=!0)}return l.length>0&&this.spawn(l).updateStyle().emit("class"),n},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(e),setTimeout(function(){n.removeClass(e)},r),n}};Kf.className=Kf.classNames=Kf.classes;var xt={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:Rr,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};xt.variable="(?:[\\w-.]|(?:\\\\"+xt.metaChar+"))+";xt.className="(?:[\\w-]|(?:\\\\"+xt.metaChar+"))+";xt.value=xt.string+"|"+xt.number;xt.id=xt.variable;(function(){var t,e,r;for(t=xt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],xt.comparatorOp+="|@"+e;for(t=xt.comparatorOp.split("|"),r=0;r<t.length;r++)e=t[r],!(e.indexOf("!")>=0)&&e!=="="&&(xt.comparatorOp+="|\\!"+e)})();var kt=function(){return{checks:[]}},Pe={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},_p=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(t,e){return Hw(t.selector,e.selector)}),jC=(function(){for(var t={},e,r=0;r<_p.length;r++)e=_p[r],t[e.selector]=e.matches;return t})(),FC=function(e,r){return jC[e](r)},YC="("+_p.map(function(t){return t.selector}).join("|")+")",Ol=function(e){return e.replace(new RegExp("\\\\("+xt.metaChar+")","g"),function(r,n){return n})},Li=function(e,r,n){e[e.length-1]=n},kp=[{name:"group",query:!0,regex:"("+xt.group+")",populate:function(e,r,n){var u=xr(n,1),l=u[0];r.checks.push({type:Pe.GROUP,value:l==="*"?l:l+"s"})}},{name:"state",query:!0,regex:YC,populate:function(e,r,n){var u=xr(n,1),l=u[0];r.checks.push({type:Pe.STATE,value:l})}},{name:"id",query:!0,regex:"\\#("+xt.id+")",populate:function(e,r,n){var u=xr(n,1),l=u[0];r.checks.push({type:Pe.ID,value:Ol(l)})}},{name:"className",query:!0,regex:"\\.("+xt.className+")",populate:function(e,r,n){var u=xr(n,1),l=u[0];r.checks.push({type:Pe.CLASS,value:Ol(l)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+xt.variable+")\\s*\\]",populate:function(e,r,n){var u=xr(n,1),l=u[0];r.checks.push({type:Pe.DATA_EXIST,field:Ol(l)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+xt.variable+")\\s*("+xt.comparatorOp+")\\s*("+xt.value+")\\s*\\]",populate:function(e,r,n){var u=xr(n,3),l=u[0],s=u[1],c=u[2],d=new RegExp("^"+xt.string+"$").exec(c)!=null;d?c=c.substring(1,c.length-1):c=parseFloat(c),r.checks.push({type:Pe.DATA_COMPARE,field:Ol(l),operator:s,value:c})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+xt.boolOp+")\\s*("+xt.variable+")\\s*\\]",populate:function(e,r,n){var u=xr(n,2),l=u[0],s=u[1];r.checks.push({type:Pe.DATA_BOOL,field:Ol(s),operator:l})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+xt.meta+")\\s*("+xt.comparatorOp+")\\s*("+xt.number+")\\s*\\]\\]",populate:function(e,r,n){var u=xr(n,3),l=u[0],s=u[1],c=u[2];r.checks.push({type:Pe.META_COMPARE,field:Ol(l),operator:s,value:parseFloat(c)})}},{name:"nextQuery",separator:!0,regex:xt.separator,populate:function(e,r){var n=e.currentSubject,u=e.edgeCount,l=e.compoundCount,s=e[e.length-1];n!=null&&(s.subject=n,e.currentSubject=null),s.edgeCount=u,s.compoundCount=l,e.edgeCount=0,e.compoundCount=0;var c=e[e.length++]=kt();return c}},{name:"directedEdge",separator:!0,regex:xt.directedEdge,populate:function(e,r){if(e.currentSubject==null){var n=kt(),u=r,l=kt();return n.checks.push({type:Pe.DIRECTED_EDGE,source:u,target:l}),Li(e,r,n),e.edgeCount++,l}else{var s=kt(),c=r,d=kt();return s.checks.push({type:Pe.NODE_SOURCE,source:c,target:d}),Li(e,r,s),e.edgeCount++,d}}},{name:"undirectedEdge",separator:!0,regex:xt.undirectedEdge,populate:function(e,r){if(e.currentSubject==null){var n=kt(),u=r,l=kt();return n.checks.push({type:Pe.UNDIRECTED_EDGE,nodes:[u,l]}),Li(e,r,n),e.edgeCount++,l}else{var s=kt(),c=r,d=kt();return s.checks.push({type:Pe.NODE_NEIGHBOR,node:c,neighbor:d}),Li(e,r,s),d}}},{name:"child",separator:!0,regex:xt.child,populate:function(e,r){if(e.currentSubject==null){var n=kt(),u=kt(),l=e[e.length-1];return n.checks.push({type:Pe.CHILD,parent:l,child:u}),Li(e,r,n),e.compoundCount++,u}else if(e.currentSubject===r){var s=kt(),c=e[e.length-1],d=kt(),f=kt(),v=kt(),g=kt();return s.checks.push({type:Pe.COMPOUND_SPLIT,left:c,right:d,subject:f}),f.checks=r.checks,r.checks=[{type:Pe.TRUE}],g.checks.push({type:Pe.TRUE}),d.checks.push({type:Pe.PARENT,parent:g,child:v}),Li(e,c,s),e.currentSubject=f,e.compoundCount++,v}else{var p=kt(),E=kt(),b=[{type:Pe.PARENT,parent:p,child:E}];return p.checks=r.checks,r.checks=b,e.compoundCount++,E}}},{name:"descendant",separator:!0,regex:xt.descendant,populate:function(e,r){if(e.currentSubject==null){var n=kt(),u=kt(),l=e[e.length-1];return n.checks.push({type:Pe.DESCENDANT,ancestor:l,descendant:u}),Li(e,r,n),e.compoundCount++,u}else if(e.currentSubject===r){var s=kt(),c=e[e.length-1],d=kt(),f=kt(),v=kt(),g=kt();return s.checks.push({type:Pe.COMPOUND_SPLIT,left:c,right:d,subject:f}),f.checks=r.checks,r.checks=[{type:Pe.TRUE}],g.checks.push({type:Pe.TRUE}),d.checks.push({type:Pe.ANCESTOR,ancestor:g,descendant:v}),Li(e,c,s),e.currentSubject=f,e.compoundCount++,v}else{var p=kt(),E=kt(),b=[{type:Pe.ANCESTOR,ancestor:p,descendant:E}];return p.checks=r.checks,r.checks=b,e.compoundCount++,E}}},{name:"subject",modifier:!0,regex:xt.subject,populate:function(e,r){if(e.currentSubject!=null&&e.currentSubject!==r)return Mt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=r;var n=e[e.length-1],u=n.checks[0],l=u==null?null:u.type;l===Pe.DIRECTED_EDGE?u.type=Pe.NODE_TARGET:l===Pe.UNDIRECTED_EDGE&&(u.type=Pe.NODE_NEIGHBOR,u.node=u.nodes[1],u.neighbor=u.nodes[0],u.nodes=null)}}];kp.forEach(function(t){return t.regexObj=new RegExp("^"+t.regex)});var KC=function(e){for(var r,n,u,l=0;l<kp.length;l++){var s=kp[l],c=s.name,d=e.match(s.regexObj);if(d!=null){n=d,r=s,u=c;var f=d[0];e=e.substring(f.length);break}}return{expr:r,match:n,name:u,remaining:e}},XC=function(e){var r=e.match(/^\s+/);if(r){var n=r[0];e=e.substring(n.length)}return e},ZC=function(e){var r=this,n=r.inputText=e,u=r[0]=kt();for(r.length=1,n=XC(n);;){var l=KC(n);if(l.expr==null)return Mt("The selector `"+e+"`is invalid"),!1;var s=l.match.slice(1),c=l.expr.populate(r,u,s);if(c===!1)return!1;if(c!=null&&(u=c),n=l.remaining,n.match(/^\s*$/))break}var d=r[r.length-1];r.currentSubject!=null&&(d.subject=r.currentSubject),d.edgeCount=r.edgeCount,d.compoundCount=r.compoundCount;for(var f=0;f<r.length;f++){var v=r[f];if(v.compoundCount>0&&v.edgeCount>0)return Mt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(v.edgeCount>1)return Mt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;v.edgeCount===1&&Mt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},QC=function(){if(this.toStringCache!=null)return this.toStringCache;for(var e=function(v){return v??""},r=function(v){return Xe(v)?'"'+v+'"':e(v)},n=function(v){return" "+v+" "},u=function(v,g){var p=v.type,E=v.value;switch(p){case Pe.GROUP:{var b=e(E);return b.substring(0,b.length-1)}case Pe.DATA_COMPARE:{var C=v.field,w=v.operator;return"["+C+n(e(w))+r(E)+"]"}case Pe.DATA_BOOL:{var S=v.operator,N=v.field;return"["+e(S)+N+"]"}case Pe.DATA_EXIST:{var R=v.field;return"["+R+"]"}case Pe.META_COMPARE:{var D=v.operator,O=v.field;return"[["+O+n(e(D))+r(E)+"]]"}case Pe.STATE:return E;case Pe.ID:return"#"+E;case Pe.CLASS:return"."+E;case Pe.PARENT:case Pe.CHILD:return l(v.parent,g)+n(">")+l(v.child,g);case Pe.ANCESTOR:case Pe.DESCENDANT:return l(v.ancestor,g)+" "+l(v.descendant,g);case Pe.COMPOUND_SPLIT:{var I=l(v.left,g),M=l(v.subject,g),z=l(v.right,g);return I+(I.length>0?" ":"")+M+z}case Pe.TRUE:return""}},l=function(v,g){return v.checks.reduce(function(p,E,b){return p+(g===v&&b===0?"$":"")+u(E,g)},"")},s="",c=0;c<this.length;c++){var d=this[c];s+=l(d,d.subject),this.length>1&&c<this.length-1&&(s+=", ")}return this.toStringCache=s,s},WC={parse:ZC,toString:QC},kx=function(e,r,n){var u,l=Xe(e),s=Me(e),c=Xe(n),d,f,v=!1,g=!1,p=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),g=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),v=!0),(l||c||v)&&(d=!l&&!s?"":""+e,f=""+n),v&&(e=d=d.toLowerCase(),n=f=f.toLowerCase()),r){case"*=":u=d.indexOf(f)>=0;break;case"$=":u=d.indexOf(f,d.length-f.length)>=0;break;case"^=":u=d.indexOf(f)===0;break;case"=":u=e===n;break;case">":p=!0,u=e>n;break;case">=":p=!0,u=e>=n;break;case"<":p=!0,u=e<n;break;case"<=":p=!0,u=e<=n;break;default:u=!1;break}return g&&(e!=null||!p)&&(u=!u),u},$C=function(e,r){switch(r){case"?":return!!e;case"!":return!e;case"^":return e===void 0}},JC=function(e){return e!==void 0},fm=function(e,r){return e.data(r)},eN=function(e,r){return e[r]()},lr=[],Qt=function(e,r){return e.checks.every(function(n){return lr[n.type](n,r)})};lr[Pe.GROUP]=function(t,e){var r=t.value;return r==="*"||r===e.group()};lr[Pe.STATE]=function(t,e){var r=t.value;return FC(r,e)};lr[Pe.ID]=function(t,e){var r=t.value;return e.id()===r};lr[Pe.CLASS]=function(t,e){var r=t.value;return e.hasClass(r)};lr[Pe.META_COMPARE]=function(t,e){var r=t.field,n=t.operator,u=t.value;return kx(eN(e,r),n,u)};lr[Pe.DATA_COMPARE]=function(t,e){var r=t.field,n=t.operator,u=t.value;return kx(fm(e,r),n,u)};lr[Pe.DATA_BOOL]=function(t,e){var r=t.field,n=t.operator;return $C(fm(e,r),n)};lr[Pe.DATA_EXIST]=function(t,e){var r=t.field;return t.operator,JC(fm(e,r))};lr[Pe.UNDIRECTED_EDGE]=function(t,e){var r=t.nodes[0],n=t.nodes[1],u=e.source(),l=e.target();return Qt(r,u)&&Qt(n,l)||Qt(n,u)&&Qt(r,l)};lr[Pe.NODE_NEIGHBOR]=function(t,e){return Qt(t.node,e)&&e.neighborhood().some(function(r){return r.isNode()&&Qt(t.neighbor,r)})};lr[Pe.DIRECTED_EDGE]=function(t,e){return Qt(t.source,e.source())&&Qt(t.target,e.target())};lr[Pe.NODE_SOURCE]=function(t,e){return Qt(t.source,e)&&e.outgoers().some(function(r){return r.isNode()&&Qt(t.target,r)})};lr[Pe.NODE_TARGET]=function(t,e){return Qt(t.target,e)&&e.incomers().some(function(r){return r.isNode()&&Qt(t.source,r)})};lr[Pe.CHILD]=function(t,e){return Qt(t.child,e)&&Qt(t.parent,e.parent())};lr[Pe.PARENT]=function(t,e){return Qt(t.parent,e)&&e.children().some(function(r){return Qt(t.child,r)})};lr[Pe.DESCENDANT]=function(t,e){return Qt(t.descendant,e)&&e.ancestors().some(function(r){return Qt(t.ancestor,r)})};lr[Pe.ANCESTOR]=function(t,e){return Qt(t.ancestor,e)&&e.descendants().some(function(r){return Qt(t.descendant,r)})};lr[Pe.COMPOUND_SPLIT]=function(t,e){return Qt(t.subject,e)&&Qt(t.left,e)&&Qt(t.right,e)};lr[Pe.TRUE]=function(){return!0};lr[Pe.COLLECTION]=function(t,e){var r=t.value;return r.has(e)};lr[Pe.FILTER]=function(t,e){var r=t.value;return r(e)};var tN=function(e){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===Pe.ID)return e.getElementById(r[0].checks[0].value).collection();var n=function(l){for(var s=0;s<r.length;s++){var c=r[s];if(Qt(c,l))return!0}return!1};return r.text()==null&&(n=function(){return!0}),e.filter(n)},rN=function(e){for(var r=this,n=0;n<r.length;n++){var u=r[n];if(Qt(u,e))return!0}return!1},aN={matches:rN,filter:tN},ji=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,e==null||Xe(e)&&e.match(/^\s*$/)||(Ra(e)?this.addQuery({checks:[{type:Pe.COLLECTION,value:e.collection()}]}):ar(e)?this.addQuery({checks:[{type:Pe.FILTER,value:e}]}):Xe(e)?this.parse(e)||(this.invalid=!0):er("A selector must be created from a string; found "))},Fi=ji.prototype;[WC,aN].forEach(function(t){return $e(Fi,t)});Fi.text=function(){return this.inputText};Fi.size=function(){return this.length};Fi.eq=function(t){return this[t]};Fi.sameText=function(t){return!this.invalid&&!t.invalid&&this.text()===t.text()};Fi.addQuery=function(t){this[this.length++]=t};Fi.selector=Fi.toString;var Pi={allAre:function(e){var r=new ji(e);return this.every(function(n){return r.matches(n)})},is:function(e){var r=new ji(e);return this.some(function(n){return r.matches(n)})},some:function(e,r){for(var n=0;n<this.length;n++){var u=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(u)return!0}return!1},every:function(e,r){for(var n=0;n<this.length;n++){var u=r?e.apply(r,[this[n],n,this]):e(this[n],n,this);if(!u)return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var r=this.length,n=e.length;return r!==n?!1:r===1?this[0]===e[0]:this.every(function(u){return e.hasElementWithId(u.id())})},anySame:function(e){return e=this.cy().collection(e),this.some(function(r){return e.hasElementWithId(r.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var r=this.neighborhood();return e.every(function(n){return r.hasElementWithId(n.id())})},contains:function(e){e=this.cy().collection(e);var r=this;return e.every(function(n){return r.hasElementWithId(n.id())})}};Pi.allAreNeighbours=Pi.allAreNeighbors;Pi.has=Pi.contains;Pi.equal=Pi.equals=Pi.same;var Pa=function(e,r){return function(u,l,s,c){var d=u,f=this,v;if(d==null?v="":Ra(d)&&d.length===1&&(v=d.id()),f.length===1&&v){var g=f[0]._private,p=g.traversalCache=g.traversalCache||{},E=p[r]=p[r]||[],b=Ou(v),C=E[b];return C||(E[b]=e.call(f,u,l,s,c))}else return e.call(f,u,l,s,c)}},Zl={parent:function(e){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var u=0;u<this.length;u++){var l=this[u],s=l._private.parent;s&&r.push(s)}return this.spawn(r,!0).filter(e)},parents:function(e){for(var r=[],n=this.parent();n.nonempty();){for(var u=0;u<n.length;u++){var l=n[u];r.push(l)}n=n.parent()}return this.spawn(r,!0).filter(e)},commonAncestors:function(e){for(var r,n=0;n<this.length;n++){var u=this[n],l=u.parents();r=r||l,r=r.intersect(l)}return r.filter(e)},orphans:function(e){return this.stdFilter(function(r){return r.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(r){return r.isChild()}).filter(e)},children:Pa(function(t){for(var e=[],r=0;r<this.length;r++)for(var n=this[r],u=n._private.children,l=0;l<u.length;l++)e.push(u[l]);return this.spawn(e,!0).filter(t)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length!==0},isChildless:function(){var e=this[0];if(e)return e.isNode()&&e._private.children.length===0},isChild:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent!=null},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&e._private.parent==null},descendants:function(e){var r=[];function n(u){for(var l=0;l<u.length;l++){var s=u[l];r.push(s),s.children().nonempty()&&n(s.children())}}return n(this.children()),this.spawn(r,!0).filter(e)}};function dm(t,e,r,n){for(var u=[],l=new Ql,s=t.cy(),c=s.hasCompoundNodes(),d=0;d<t.length;d++){var f=t[d];r?u.push(f):c&&n(u,l,f)}for(;u.length>0;){var v=u.shift();e(v),l.add(v.id()),c&&n(u,l,v)}return t}function Ux(t,e,r){if(r.isParent())for(var n=r._private.children,u=0;u<n.length;u++){var l=n[u];e.has(l.id())||t.push(l)}}Zl.forEachDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return dm(this,t,e,Ux)};function Px(t,e,r){if(r.isChild()){var n=r._private.parent;e.has(n.id())||t.push(n)}}Zl.forEachUp=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return dm(this,t,e,Px)};function nN(t,e,r){Px(t,e,r),Ux(t,e,r)}Zl.forEachUpAndDown=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return dm(this,t,e,nN)};Zl.ancestors=Zl.parents;var Bo,qx;Bo=qx={data:Ot.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Ot.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Ot.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ot.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Ot.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Ot.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}};Bo.attr=Bo.data;Bo.removeAttr=Bo.removeData;var iN=qx,Ad={};function hp(t){return function(e){var r=this;if(e===void 0&&(e=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,u=r[0],l=u._private.edges,s=0;s<l.length;s++){var c=l[s];!e&&c.isLoop()||(n+=t(u,c))}return n}else return}}$e(Ad,{degree:hp(function(t,e){return e.source().same(e.target())?2:1}),indegree:hp(function(t,e){return e.target().same(t)?1:0}),outdegree:hp(function(t,e){return e.source().same(t)?1:0})});function Ml(t,e){return function(r){for(var n,u=this.nodes(),l=0;l<u.length;l++){var s=u[l],c=s[t](r);c!==void 0&&(n===void 0||e(c,n))&&(n=c)}return n}}$e(Ad,{minDegree:Ml("degree",function(t,e){return t<e}),maxDegree:Ml("degree",function(t,e){return t>e}),minIndegree:Ml("indegree",function(t,e){return t<e}),maxIndegree:Ml("indegree",function(t,e){return t>e}),minOutdegree:Ml("outdegree",function(t,e){return t<e}),maxOutdegree:Ml("outdegree",function(t,e){return t>e})});$e(Ad,{totalDegree:function(e){for(var r=0,n=this.nodes(),u=0;u<n.length;u++)r+=n[u].degree(e);return r}});var $a,Hx,Gx=function(e,r,n){for(var u=0;u<e.length;u++){var l=e[u];if(!l.locked()){var s=l._private.position,c={x:r.x!=null?r.x-s.x:0,y:r.y!=null?r.y-s.y:0};l.isParent()&&!(c.x===0&&c.y===0)&&l.children().shift(c,n),l.dirtyBoundingBoxCache()}}},tE={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,r){Gx(e,r,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};$a=Hx={position:Ot.data(tE),silentPosition:Ot.data($e({},tE,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,r){Gx(e,r,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,r){if(Tt(e))r?this.silentPosition(e):this.position(e);else if(ar(e)){var n=e,u=this.cy();u.startBatch();for(var l=0;l<this.length;l++){var s=this[l],c=void 0;(c=n(s,l))&&(r?s.silentPosition(c):s.position(c))}u.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,r,n){var u;if(Tt(e)?(u={x:Me(e.x)?e.x:0,y:Me(e.y)?e.y:0},n=r):Xe(e)&&Me(r)&&(u={x:0,y:0},u[e]=r),u!=null){var l=this.cy();l.startBatch();for(var s=0;s<this.length;s++){var c=this[s];if(!(l.hasCompoundNodes()&&c.isChild()&&c.ancestors().anySame(this))){var d=c.position(),f={x:d.x+u.x,y:d.y+u.y};n?c.silentPosition(f):c.position(f)}}l.endBatch()}return this},silentShift:function(e,r){return Tt(e)?this.shift(e,!0):Xe(e)&&Me(r)&&this.shift(e,r,!0),this},renderedPosition:function(e,r){var n=this[0],u=this.cy(),l=u.zoom(),s=u.pan(),c=Tt(e)?e:void 0,d=c!==void 0||r!==void 0&&Xe(e);if(n&&n.isNode())if(d)for(var f=0;f<this.length;f++){var v=this[f];r!==void 0?v.position(e,(r-s[e])/l):c!==void 0&&v.position(px(c,l,s))}else{var g=n.position();return c=bd(g,l,s),e===void 0?c:c[e]}else if(!d)return;return this},relativePosition:function(e,r){var n=this[0],u=this.cy(),l=Tt(e)?e:void 0,s=l!==void 0||r!==void 0&&Xe(e),c=u.hasCompoundNodes();if(n&&n.isNode())if(s)for(var d=0;d<this.length;d++){var f=this[d],v=c?f.parent():null,g=v&&v.length>0,p=g;g&&(v=v[0]);var E=p?v.position():{x:0,y:0};r!==void 0?f.position(e,r+E[e]):l!==void 0&&f.position({x:l.x+E.x,y:l.y+E.y})}else{var b=n.position(),C=c?n.parent():null,w=C&&C.length>0,S=w;w&&(C=C[0]);var N=S?C.position():{x:0,y:0};return l={x:b.x-N.x,y:b.y-N.y},e===void 0?l:l[e]}else if(!s)return;return this}};$a.modelPosition=$a.point=$a.position;$a.modelPositions=$a.points=$a.positions;$a.renderedPoint=$a.renderedPosition;$a.relativePoint=$a.relativePosition;var uN=Hx,Yl,Zi;Yl=Zi={};Zi.renderedBoundingBox=function(t){var e=this.boundingBox(t),r=this.cy(),n=r.zoom(),u=r.pan(),l=e.x1*n+u.x,s=e.x2*n+u.x,c=e.y1*n+u.y,d=e.y2*n+u.y;return{x1:l,x2:s,y1:c,y2:d,w:s-l,h:d-c}};Zi.dirtyCompoundBoundsCache=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();return!e.styleEnabled()||!e.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,t||r.emitAndNotify("bounds")}}),this)};Zi.updateCompoundBounds=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=this.cy();if(!e.styleEnabled()||!e.hasCompoundNodes())return this;if(!t&&e.batching())return this;function r(s){if(!s.isParent())return;var c=s._private,d=s.children(),f=s.pstyle("compound-sizing-wrt-labels").value==="include",v={width:{val:s.pstyle("min-width").pfValue,left:s.pstyle("min-width-bias-left"),right:s.pstyle("min-width-bias-right")},height:{val:s.pstyle("min-height").pfValue,top:s.pstyle("min-height-bias-top"),bottom:s.pstyle("min-height-bias-bottom")}},g=d.boundingBox({includeLabels:f,includeOverlays:!1,useCache:!1}),p=c.position;(g.w===0||g.h===0)&&(g={w:s.pstyle("width").pfValue,h:s.pstyle("height").pfValue},g.x1=p.x-g.w/2,g.x2=p.x+g.w/2,g.y1=p.y-g.h/2,g.y2=p.y+g.h/2);function E(P,k,U){var L=0,G=0,X=k+U;return P>0&&X>0&&(L=k/X*P,G=U/X*P),{biasDiff:L,biasComplementDiff:G}}function b(P,k,U,L){if(U.units==="%")switch(L){case"width":return P>0?U.pfValue*P:0;case"height":return k>0?U.pfValue*k:0;case"average":return P>0&&k>0?U.pfValue*(P+k)/2:0;case"min":return P>0&&k>0?P>k?U.pfValue*k:U.pfValue*P:0;case"max":return P>0&&k>0?P>k?U.pfValue*P:U.pfValue*k:0;default:return 0}else return U.units==="px"?U.pfValue:0}var C=v.width.left.value;v.width.left.units==="px"&&v.width.val>0&&(C=C*100/v.width.val);var w=v.width.right.value;v.width.right.units==="px"&&v.width.val>0&&(w=w*100/v.width.val);var S=v.height.top.value;v.height.top.units==="px"&&v.height.val>0&&(S=S*100/v.height.val);var N=v.height.bottom.value;v.height.bottom.units==="px"&&v.height.val>0&&(N=N*100/v.height.val);var R=E(v.width.val-g.w,C,w),D=R.biasDiff,O=R.biasComplementDiff,I=E(v.height.val-g.h,S,N),M=I.biasDiff,z=I.biasComplementDiff;c.autoPadding=b(g.w,g.h,s.pstyle("padding"),s.pstyle("padding-relative-to").value),c.autoWidth=Math.max(g.w,v.width.val),p.x=(-D+g.x1+g.x2+O)/2,c.autoHeight=Math.max(g.h,v.height.val),p.y=(-M+g.y1+g.y2+z)/2}for(var n=0;n<this.length;n++){var u=this[n],l=u._private;(!l.compoundBoundsClean||t)&&(r(u),e.batching()||(l.compoundBoundsClean=!0))}return this};var Ua=function(e){return e===1/0||e===-1/0?0:e},Wa=function(e,r,n,u,l){u-r===0||l-n===0||r==null||n==null||u==null||l==null||(e.x1=r<e.x1?r:e.x1,e.x2=u>e.x2?u:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=l>e.y2?l:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},zi=function(e,r){return r==null?e:Wa(e,r.x1,r.y1,r.x2,r.y2)},vo=function(e,r,n){return ma(e,r,n)},If=function(e,r,n){if(!r.cy().headless()){var u=r._private,l=u.rstyle,s=l.arrowWidth/2,c=r.pstyle(n+"-arrow-shape").value,d,f;if(c!=="none"){n==="source"?(d=l.srcX,f=l.srcY):n==="target"?(d=l.tgtX,f=l.tgtY):(d=l.midX,f=l.midY);var v=u.arrowBounds=u.arrowBounds||{},g=v[n]=v[n]||{};g.x1=d-s,g.y1=f-s,g.x2=d+s,g.y2=f+s,g.w=g.x2-g.x1,g.h=g.y2-g.y1,Ff(g,1),Wa(e,g.x1,g.y1,g.x2,g.y2)}}},gp=function(e,r,n){if(!r.cy().headless()){var u;n?u=n+"-":u="";var l=r._private,s=l.rstyle,c=r.pstyle(u+"label").strValue;if(c){var d=r.pstyle("text-halign"),f=r.pstyle("text-valign"),v=vo(s,"labelWidth",n),g=vo(s,"labelHeight",n),p=vo(s,"labelX",n),E=vo(s,"labelY",n),b=r.pstyle(u+"text-margin-x").pfValue,C=r.pstyle(u+"text-margin-y").pfValue,w=r.isEdge(),S=r.pstyle(u+"text-rotation"),N=r.pstyle("text-outline-width").pfValue,R=r.pstyle("text-border-width").pfValue,D=R/2,O=r.pstyle("text-background-padding").pfValue,I=2,M=g,z=v,P=z/2,k=M/2,U,L,G,X;if(w)U=p-P,L=p+P,G=E-k,X=E+k;else{switch(d.value){case"left":U=p-z,L=p;break;case"center":U=p-P,L=p+P;break;case"right":U=p,L=p+z;break}switch(f.value){case"top":G=E-M,X=E;break;case"center":G=E-k,X=E+k;break;case"bottom":G=E,X=E+M;break}}var Z=b-Math.max(N,D)-O-I,H=b+Math.max(N,D)+O+I,j=C-Math.max(N,D)-O-I,W=C+Math.max(N,D)+O+I;U+=Z,L+=H,G+=j,X+=W;var ee=n||"main",te=l.labelBounds,q=te[ee]=te[ee]||{};q.x1=U,q.y1=G,q.x2=L,q.y2=X,q.w=L-U,q.h=X-G,q.leftPad=Z,q.rightPad=H,q.topPad=j,q.botPad=W;var Q=w&&S.strValue==="autorotate",J=S.pfValue!=null&&S.pfValue!==0;if(Q||J){var ie=Q?vo(l.rstyle,"labelAngle",n):S.pfValue,oe=Math.cos(ie),he=Math.sin(ie),be=(U+L)/2,Re=(G+X)/2;if(!w){switch(d.value){case"left":be=L;break;case"right":be=U;break}switch(f.value){case"top":Re=X;break;case"bottom":Re=G;break}}var ye=function(Qe,qe){return Qe=Qe-be,qe=qe-Re,{x:Qe*oe-qe*he+be,y:Qe*he+qe*oe+Re}},ne=ye(U,G),le=ye(U,X),fe=ye(L,G),Ee=ye(L,X);U=Math.min(ne.x,le.x,fe.x,Ee.x),L=Math.max(ne.x,le.x,fe.x,Ee.x),G=Math.min(ne.y,le.y,fe.y,Ee.y),X=Math.max(ne.y,le.y,fe.y,Ee.y)}var De=ee+"Rot",Le=te[De]=te[De]||{};Le.x1=U,Le.y1=G,Le.x2=L,Le.y2=X,Le.w=L-U,Le.h=X-G,Wa(e,U,G,L,X),Wa(l.labelBounds.all,U,G,L,X)}return e}},rE=function(e,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,u=r.pstyle("outline-width").value,l=r.pstyle("outline-offset").value,s=u+l;Vx(e,r,n,s,"outside",s/2)}},Vx=function(e,r,n,u,l,s){if(!(n===0||u<=0||l==="inside")){var c=r.cy(),d=r.pstyle("shape").value,f=c.renderer().nodeShapes[d],v=r.position(),g=v.x,p=v.y,E=r.width(),b=r.height();if(f.hasMiterBounds){l==="center"&&(u/=2);var C=f.miterBounds(g,p,E,b,u);zi(e,C)}else s!=null&&s>0&&Yf(e,[s,s,s,s])}},lN=function(e,r){if(!r.cy().headless()){var n=r.pstyle("border-opacity").value,u=r.pstyle("border-width").pfValue,l=r.pstyle("border-position").value;Vx(e,r,n,u,l)}},sN=function(e,r){var n=e._private.cy,u=n.styleEnabled(),l=n.headless(),s=aa(),c=e._private,d=e.isNode(),f=e.isEdge(),v,g,p,E,b,C,w=c.rstyle,S=d&&u?e.pstyle("bounds-expansion").pfValue:[0],N=function(ut){return ut.pstyle("display").value!=="none"},R=!u||N(e)&&(!f||N(e.source())&&N(e.target()));if(R){var D=0,O=0;u&&r.includeOverlays&&(D=e.pstyle("overlay-opacity").value,D!==0&&(O=e.pstyle("overlay-padding").value));var I=0,M=0;u&&r.includeUnderlays&&(I=e.pstyle("underlay-opacity").value,I!==0&&(M=e.pstyle("underlay-padding").value));var z=Math.max(O,M),P=0,k=0;if(u&&(P=e.pstyle("width").pfValue,k=P/2),d&&r.includeNodes){var U=e.position();b=U.x,C=U.y;var L=e.outerWidth(),G=L/2,X=e.outerHeight(),Z=X/2;v=b-G,g=b+G,p=C-Z,E=C+Z,Wa(s,v,p,g,E),u&&rE(s,e),u&&r.includeOutlines&&!l&&rE(s,e),u&&lN(s,e)}else if(f&&r.includeEdges)if(u&&!l){var H=e.pstyle("curve-style").strValue;if(v=Math.min(w.srcX,w.midX,w.tgtX),g=Math.max(w.srcX,w.midX,w.tgtX),p=Math.min(w.srcY,w.midY,w.tgtY),E=Math.max(w.srcY,w.midY,w.tgtY),v-=k,g+=k,p-=k,E+=k,Wa(s,v,p,g,E),H==="haystack"){var j=w.haystackPts;if(j&&j.length===2){if(v=j[0].x,p=j[0].y,g=j[1].x,E=j[1].y,v>g){var W=v;v=g,g=W}if(p>E){var ee=p;p=E,E=ee}Wa(s,v-k,p-k,g+k,E+k)}}else if(H==="bezier"||H==="unbundled-bezier"||_i(H,"segments")||_i(H,"taxi")){var te;switch(H){case"bezier":case"unbundled-bezier":te=w.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":te=w.linePts;break}if(te!=null)for(var q=0;q<te.length;q++){var Q=te[q];v=Q.x-k,g=Q.x+k,p=Q.y-k,E=Q.y+k,Wa(s,v,p,g,E)}}}else{var J=e.source(),ie=J.position(),oe=e.target(),he=oe.position();if(v=ie.x,g=he.x,p=ie.y,E=he.y,v>g){var be=v;v=g,g=be}if(p>E){var Re=p;p=E,E=Re}v-=k,g+=k,p-=k,E+=k,Wa(s,v,p,g,E)}if(u&&r.includeEdges&&f&&(If(s,e,"mid-source"),If(s,e,"mid-target"),If(s,e,"source"),If(s,e,"target")),u){var ye=e.pstyle("ghost").value==="yes";if(ye){var ne=e.pstyle("ghost-offset-x").pfValue,le=e.pstyle("ghost-offset-y").pfValue;Wa(s,s.x1+ne,s.y1+le,s.x2+ne,s.y2+le)}}var fe=c.bodyBounds=c.bodyBounds||{};Hb(fe,s),Yf(fe,S),Ff(fe,1),u&&(v=s.x1,g=s.x2,p=s.y1,E=s.y2,Wa(s,v-z,p-z,g+z,E+z));var Ee=c.overlayBounds=c.overlayBounds||{};Hb(Ee,s),Yf(Ee,S),Ff(Ee,1);var De=c.labelBounds=c.labelBounds||{};De.all!=null?V2(De.all):De.all=aa(),u&&r.includeLabels&&(r.includeMainLabels&&gp(s,e,null),f&&(r.includeSourceLabels&&gp(s,e,"source"),r.includeTargetLabels&&gp(s,e,"target")))}return s.x1=Ua(s.x1),s.y1=Ua(s.y1),s.x2=Ua(s.x2),s.y2=Ua(s.y2),s.w=Ua(s.x2-s.x1),s.h=Ua(s.y2-s.y1),s.w>0&&s.h>0&&R&&(Yf(s,S),Ff(s,1)),s},jx=function(e){var r=0,n=function(s){return(s?1:0)<<r++},u=0;return u+=n(e.incudeNodes),u+=n(e.includeEdges),u+=n(e.includeLabels),u+=n(e.includeMainLabels),u+=n(e.includeSourceLabels),u+=n(e.includeTargetLabels),u+=n(e.includeOverlays),u+=n(e.includeOutlines),u},Fx=function(e){var r=function(c){return Math.round(c)};if(e.isEdge()){var n=e.source().position(),u=e.target().position();return zb([r(n.x),r(n.y),r(u.x),r(u.y)])}else{var l=e.position();return zb([r(l.x),r(l.y)])}},aE=function(e,r){var n=e._private,u,l=e.isEdge(),s=r==null?nE:jx(r),c=s===nE;if(n.bbCache==null?(u=sN(e,Io),n.bbCache=u,n.bbCachePosKey=Fx(e)):u=n.bbCache,!c){var d=e.isNode();u=aa(),(r.includeNodes&&d||r.includeEdges&&!d)&&(r.includeOverlays?zi(u,n.overlayBounds):zi(u,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!l||r.includeSourceLabels&&r.includeTargetLabels)?zi(u,n.labelBounds.all):(r.includeMainLabels&&zi(u,n.labelBounds.mainRot),r.includeSourceLabels&&zi(u,n.labelBounds.sourceRot),r.includeTargetLabels&&zi(u,n.labelBounds.targetRot))),u.w=u.x2-u.x1,u.h=u.y2-u.y1}return u},Io={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},nE=jx(Io),iE=Gr(Io);Zi.boundingBox=function(t){var e,r=t===void 0||t.useCache===void 0||t.useCache===!0,n=Kl(function(v){var g=v._private;return g.bbCache==null||g.styleDirty||g.bbCachePosKey!==Fx(v)},function(v){return v.id()});if(r&&this.length===1&&!n(this[0]))t===void 0?t=Io:t=iE(t),e=aE(this[0],t);else{e=aa(),t=t||Io;var u=iE(t),l=this,s=l.cy(),c=s.styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),c&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var d=0;d<l.length;d++){var f=l[d];n(f)&&f.dirtyBoundingBoxCache(),zi(e,aE(f,u))}}return e.x1=Ua(e.x1),e.y1=Ua(e.y1),e.x2=Ua(e.x2),e.y2=Ua(e.y2),e.w=Ua(e.x2-e.x1),e.h=Ua(e.y2-e.y1),e};Zi.dirtyBoundingBoxCache=function(){for(var t=0;t<this.length;t++){var e=this[t]._private;e.bbCache=null,e.bbCachePosKey=null,e.bodyBounds=null,e.overlayBounds=null,e.labelBounds.all=null,e.labelBounds.source=null,e.labelBounds.target=null,e.labelBounds.main=null,e.labelBounds.sourceRot=null,e.labelBounds.targetRot=null,e.labelBounds.mainRot=null,e.arrowBounds.source=null,e.arrowBounds.target=null,e.arrowBounds["mid-source"]=null,e.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};Zi.boundingBoxAt=function(t){var e=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),u=r.collection();if(n&&(u=e.filter(function(f){return f.isParent()}),e=e.not(u)),Tt(t)){var l=t;t=function(){return l}}var s=function(v,g){return v._private.bbAtOldPos=t(v,g)},c=function(v){return v._private.bbAtOldPos};r.startBatch(),e.forEach(s).silentPositions(t),n&&(u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),u.updateCompoundBounds(!0));var d=G2(this.boundingBox({useCache:!1}));return e.silentPositions(c),n&&(u.dirtyCompoundBoundsCache(),u.dirtyBoundingBoxCache(),u.updateCompoundBounds(!0)),r.endBatch(),d};Yl.boundingbox=Yl.bb=Yl.boundingBox;Yl.renderedBoundingbox=Yl.renderedBoundingBox;var oN=Zi,To,jo;To=jo={};var Yx=function(e){e.uppercaseName=Eb(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=Eb(e.outerName),To[e.name]=function(){var n=this[0],u=n._private,l=u.cy,s=l._private.styleEnabled;if(n)if(s){if(n.isParent())return n.updateCompoundBounds(),u[e.autoName]||0;var c=n.pstyle(e.name);return c.strValue==="label"?(n.recalculateRenderedStyle(),u.rstyle[e.labelName]||0):c.pfValue}else return 1},To["outer"+e.uppercaseName]=function(){var n=this[0],u=n._private,l=u.cy,s=l._private.styleEnabled;if(n)if(s){var c=n[e.name](),d=n.pstyle("border-position").value,f;d==="center"?f=n.pstyle("border-width").pfValue:d==="outside"?f=2*n.pstyle("border-width").pfValue:f=0;var v=2*n.padding();return c+f+v}else return 1},To["rendered"+e.uppercaseName]=function(){var n=this[0];if(n){var u=n[e.name]();return u*this.cy().zoom()}},To["rendered"+e.uppercaseOuterName]=function(){var n=this[0];if(n){var u=n[e.outerName]();return u*this.cy().zoom()}}};Yx({name:"width"});Yx({name:"height"});jo.padding=function(){var t=this[0],e=t._private;return t.isParent()?(t.updateCompoundBounds(),e.autoPadding!==void 0?e.autoPadding:t.pstyle("padding").pfValue):t.pstyle("padding").pfValue};jo.paddedHeight=function(){var t=this[0];return t.height()+2*t.padding()};jo.paddedWidth=function(){var t=this[0];return t.width()+2*t.padding()};var cN=jo,fN=function(e,r){if(e.isEdge()&&e.takesUpSpace())return r(e)},dN=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy();return bd(r(e),n.zoom(),n.pan())}},vN=function(e,r){if(e.isEdge()&&e.takesUpSpace()){var n=e.cy(),u=n.pan(),l=n.zoom();return r(e).map(function(s){return bd(s,l,u)})}},hN=function(e){return e.renderer().getControlPoints(e)},gN=function(e){return e.renderer().getSegmentPoints(e)},pN=function(e){return e.renderer().getSourceEndpoint(e)},mN=function(e){return e.renderer().getTargetEndpoint(e)},yN=function(e){return e.renderer().getEdgeMidpoint(e)},uE={controlPoints:{get:hN,mult:!0},segmentPoints:{get:gN,mult:!0},sourceEndpoint:{get:pN},targetEndpoint:{get:mN},midpoint:{get:yN}},bN=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)},EN=Object.keys(uE).reduce(function(t,e){var r=uE[e],n=bN(e);return t[e]=function(){return fN(this,r.get)},r.mult?t[n]=function(){return vN(this,r.get)}:t[n]=function(){return dN(this,r.get)},t},{}),xN=$e({},uN,oN,cN,EN);var Kx=function(e,r){this.recycle(e,r)};function ho(){return!1}function Lf(){return!0}Kx.prototype={instanceString:function(){return"event"},recycle:function(e,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=ho,e!=null&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Lf:ho):e!=null&&e.type?r=e:this.type=e,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,u=this.cy.zoom(),l=this.cy.pan();this.renderedPosition={x:n.x*u+l.x,y:n.y*u+l.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Lf;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Lf;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Lf,this.stopPropagation()},isDefaultPrevented:ho,isPropagationStopped:ho,isImmediatePropagationStopped:ho};var Xx=/^([^.]+)(\.(?:[^.]+))?$/,TN=".*",Zx={qualifierCompare:function(e,r){return e===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},lE=Object.keys(Zx),SN={};function Cd(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:SN,e=arguments.length>1?arguments[1]:void 0,r=0;r<lE.length;r++){var n=lE[r];this[n]=t[n]||Zx[n]}this.context=e||this.context,this.listeners=[],this.emitting=0}var Yi=Cd.prototype,Qx=function(e,r,n,u,l,s,c){ar(u)&&(l=u,u=null),c&&(s==null?s=c:s=$e({},s,c));for(var d=Ht(n)?n:n.split(/\s+/),f=0;f<d.length;f++){var v=d[f];if(!Hi(v)){var g=v.match(Xx);if(g){var p=g[1],E=g[2]?g[2]:null,b=r(e,v,p,E,u,l,s);if(b===!1)break}}}},sE=function(e,r){return e.addEventFields(e.context,r),new Kx(r.type,r)},wN=function(e,r,n){if(Ow(n)){r(e,n);return}else if(Tt(n)){r(e,sE(e,n));return}for(var u=Ht(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var s=u[l];if(!Hi(s)){var c=s.match(Xx);if(c){var d=c[1],f=c[2]?c[2]:null,v=sE(e,{type:d,namespace:f,target:e.context});r(e,v)}}}};Yi.on=Yi.addListener=function(t,e,r,n,u){return Qx(this,function(l,s,c,d,f,v,g){ar(v)&&l.listeners.push({event:s,callback:v,type:c,namespace:d,qualifier:f,conf:g})},t,e,r,n,u),this};Yi.one=function(t,e,r,n){return this.on(t,e,r,n,{one:!0})};Yi.removeListener=Yi.off=function(t,e,r,n){var u=this;this.emitting!==0&&(this.listeners=d2(this.listeners));for(var l=this.listeners,s=function(f){var v=l[f];Qx(u,function(g,p,E,b,C,w){if((v.type===E||t==="*")&&(!b&&v.namespace!==".*"||v.namespace===b)&&(!C||g.qualifierCompare(v.qualifier,C))&&(!w||v.callback===w))return l.splice(f,1),!1},t,e,r,n)},c=l.length-1;c>=0;c--)s(c);return this};Yi.removeAllListeners=function(){return this.removeListener("*")};Yi.emit=Yi.trigger=function(t,e,r){var n=this.listeners,u=n.length;return this.emitting++,Ht(e)||(e=[e]),wN(this,function(l,s){r!=null&&(n=[{event:s.event,type:s.type,namespace:s.namespace,callback:r}],u=n.length);for(var c=function(){var v=n[d];if(v.type===s.type&&(!v.namespace||v.namespace===s.namespace||v.namespace===TN)&&l.eventMatches(l.context,v,s)){var g=[s];e!=null&&h2(g,e),l.beforeEmit(l.context,v,s),v.conf&&v.conf.one&&(l.listeners=l.listeners.filter(function(b){return b!==v}));var p=l.callbackContext(l.context,v,s),E=v.callback.apply(p,g);l.afterEmit(l.context,v,s),E===!1&&(s.stopPropagation(),s.preventDefault())}},d=0;d<u;d++)c();l.bubble(l.context)&&!s.isPropagationStopped()&&l.parent(l.context).emit(s,e)},t),this.emitting--,this};var AN={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var u=r.qualifier;return u!=null?e!==n.target&&Uo(n.target)&&u.matches(n.target):!0},addEventFields:function(e,r){r.cy=e.cy(),r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e},beforeEmit:function(e,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},zf=function(e){return Xe(e)?new ji(e):e},Wx={createEmitter:function(){for(var e=0;e<this.length;e++){var r=this[e],n=r._private;n.emitter||(n.emitter=new Cd(AN,r))}return this},emitter:function(){return this._private.emitter},on:function(e,r,n){for(var u=zf(r),l=0;l<this.length;l++){var s=this[l];s.emitter().on(e,u,n)}return this},removeListener:function(e,r,n){for(var u=zf(r),l=0;l<this.length;l++){var s=this[l];s.emitter().removeListener(e,u,n)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){var r=this[e];r.emitter().removeAllListeners()}return this},one:function(e,r,n){for(var u=zf(r),l=0;l<this.length;l++){var s=this[l];s.emitter().one(e,u,n)}return this},once:function(e,r,n){for(var u=zf(r),l=0;l<this.length;l++){var s=this[l];s.emitter().on(e,u,n,{once:!0,onceCollection:this})}},emit:function(e,r){for(var n=0;n<this.length;n++){var u=this[n];u.emitter().emit(e,r)}return this},emitAndNotify:function(e,r){if(this.length!==0)return this.cy().notify(e,this),this.emit(e,r),this}};Ot.eventAliasesOn(Wx);var $x={nodes:function(e){return this.filter(function(r){return r.isNode()}).filter(e)},edges:function(e){return this.filter(function(r){return r.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var u=this[n];u.isNode()?e.push(u):r.push(u)}return{nodes:e,edges:r}},filter:function(e,r){if(e===void 0)return this;if(Xe(e)||Ra(e))return new ji(e).filter(this);if(ar(e)){for(var n=this.spawn(),u=this,l=0;l<u.length;l++){var s=u[l],c=r?e.apply(r,[s,l,u]):e(s,l,u);c&&n.push(s)}return n}return this.spawn()},not:function(e){if(e){Xe(e)&&(e=this.filter(e));for(var r=this.spawn(),n=0;n<this.length;n++){var u=this[n],l=e.has(u);l||r.push(u)}return r}else return this},absoluteComplement:function(){var e=this.cy();return e.mutableElements().not(this)},intersect:function(e){if(Xe(e)){var r=e;return this.filter(r)}for(var n=this.spawn(),u=this,l=e,s=this.length<e.length,c=s?u:l,d=s?l:u,f=0;f<c.length;f++){var v=c[f];d.has(v)&&n.push(v)}return n},xor:function(e){var r=this._private.cy;Xe(e)&&(e=r.$(e));var n=this.spawn(),u=this,l=e,s=function(d,f){for(var v=0;v<d.length;v++){var g=d[v],p=g._private.data.id,E=f.hasElementWithId(p);E||n.push(g)}};return s(u,l),s(l,u),n},diff:function(e){var r=this._private.cy;Xe(e)&&(e=r.$(e));var n=this.spawn(),u=this.spawn(),l=this.spawn(),s=this,c=e,d=function(v,g,p){for(var E=0;E<v.length;E++){var b=v[E],C=b._private.data.id,w=g.hasElementWithId(C);w?l.merge(b):p.push(b)}};return d(s,c,n),d(c,s,u),{left:n,right:u,both:l}},add:function(e){var r=this._private.cy;if(!e)return this;if(Xe(e)){var n=e;e=r.mutableElements().filter(n)}for(var u=this.spawnSelf(),l=0;l<e.length;l++){var s=e[l],c=!this.has(s);c&&u.push(s)}return u},merge:function(e){var r=this._private,n=r.cy;if(!e)return this;if(e&&Xe(e)){var u=e;e=n.mutableElements().filter(u)}for(var l=r.map,s=0;s<e.length;s++){var c=e[s],d=c._private.data.id,f=!l.has(d);if(f){var v=this.length++;this[v]=c,l.set(d,{ele:c,index:v})}}return this},unmergeAt:function(e){var r=this[e],n=r.id(),u=this._private,l=u.map;this[e]=void 0,l.delete(n);var s=e===this.length-1;if(this.length>1&&!s){var c=this.length-1,d=this[c],f=d._private.data.id;this[c]=void 0,this[e]=d,l.set(f,{ele:d,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var r=this._private,n=e._private.data.id,u=r.map,l=u.get(n);if(!l)return this;var s=l.index;return this.unmergeAt(s),this},unmerge:function(e){var r=this._private.cy;if(!e)return this;if(e&&Xe(e)){var n=e;e=r.mutableElements().filter(n)}for(var u=0;u<e.length;u++)this.unmergeOne(e[u]);return this},unmergeBy:function(e){for(var r=this.length-1;r>=0;r--){var n=this[r];e(n)&&this.unmergeAt(r)}return this},map:function(e,r){for(var n=[],u=this,l=0;l<u.length;l++){var s=u[l],c=r?e.apply(r,[s,l,u]):e(s,l,u);n.push(c)}return n},reduce:function(e,r){for(var n=r,u=this,l=0;l<u.length;l++)n=e(n,u[l],l,u);return n},max:function(e,r){for(var n=-1/0,u,l=this,s=0;s<l.length;s++){var c=l[s],d=r?e.apply(r,[c,s,l]):e(c,s,l);d>n&&(n=d,u=c)}return{value:n,ele:u}},min:function(e,r){for(var n=1/0,u,l=this,s=0;s<l.length;s++){var c=l[s],d=r?e.apply(r,[c,s,l]):e(c,s,l);d<n&&(n=d,u=c)}return{value:n,ele:u}}},Nt=$x;Nt.u=Nt["|"]=Nt["+"]=Nt.union=Nt.or=Nt.add;Nt["\\"]=Nt["!"]=Nt["-"]=Nt.difference=Nt.relativeComplement=Nt.subtract=Nt.not;Nt.n=Nt["&"]=Nt["."]=Nt.and=Nt.intersection=Nt.intersect;Nt["^"]=Nt["(+)"]=Nt["(-)"]=Nt.symmetricDifference=Nt.symdiff=Nt.xor;Nt.fnFilter=Nt.filterFn=Nt.stdFilter=Nt.filter;Nt.complement=Nt.abscomp=Nt.absoluteComplement;var CN={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Jx=function(e,r){var n=e.cy(),u=n.hasCompoundNodes();function l(v){var g=v.pstyle("z-compound-depth");return g.value==="auto"?u?v.zDepth():0:g.value==="bottom"?-1:g.value==="top"?tm:0}var s=l(e)-l(r);if(s!==0)return s;function c(v){var g=v.pstyle("z-index-compare");return g.value==="auto"&&v.isNode()?1:0}var d=c(e)-c(r);if(d!==0)return d;var f=e.pstyle("z-index").value-r.pstyle("z-index").value;return f!==0?f:e.poolIndex()-r.poolIndex()},od={forEach:function(e,r){if(ar(e))for(var n=this.length,u=0;u<n;u++){var l=this[u],s=r?e.apply(r,[l,u,this]):e(l,u,this);if(s===!1)break}return this},toArray:function(){for(var e=[],r=0;r<this.length;r++)e.push(this[r]);return e},slice:function(e,r){var n=[],u=this.length;r==null&&(r=u),e==null&&(e=0),e<0&&(e=u+e),r<0&&(r=u+r);for(var l=e;l>=0&&l<r&&l<u;l++)n.push(this[l]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(e){if(!ar(e))return this;var r=this.toArray().sort(e);return this.spawn(r)},sortByZIndex:function(){return this.sort(Jx)},zDepth:function(){var e=this[0];if(e){var r=e._private,n=r.group;if(n==="nodes"){var u=r.data.parent?e.parents().size():0;return e.isParent()?u:tm-1}else{var l=r.source,s=r.target,c=l.zDepth(),d=s.zDepth();return Math.max(c,d,0)}}}};od.each=od.forEach;var NN=function(){var e="undefined",r=(typeof Symbol>"u"?"undefined":Dr(Symbol))!=e&&Dr(Symbol.iterator)!=e;r&&(od[Symbol.iterator]=function(){var n=this,u={value:void 0,done:!1},l=0,s=this.length;return WE({next:function(){return l<s?u.value=n[l++]:(u.value=void 0,u.done=!0),u}},Symbol.iterator,function(){return this})})};NN();var RN=Gr({nodeDimensionsIncludeLabels:!1}),Xf={layoutDimensions:function(e){e=RN(e);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(e,r,n){var u=this.nodes().filter(function(O){return!O.isParent()}),l=this.cy(),s=r.eles,c=function(I){return I.id()},d=Kl(n,c);e.emit({type:"layoutstart",layout:e}),e.animations=[];var f=function(I,M,z){var P={x:M.x1+M.w/2,y:M.y1+M.h/2},k={x:(z.x-P.x)*I,y:(z.y-P.y)*I};return{x:P.x+k.x,y:P.y+k.y}},v=r.spacingFactor&&r.spacingFactor!==1,g=function(){if(!v)return null;for(var I=aa(),M=0;M<u.length;M++){var z=u[M],P=d(z,M);mx(I,P.x,P.y)}return I},p=g(),E=Kl(function(O,I){var M=d(O,I);if(v){var z=Math.abs(r.spacingFactor);M=f(z,p,M)}return r.transform!=null&&(M=r.transform(O,M)),M},c);if(r.animate){for(var b=0;b<u.length;b++){var C=u[b],w=E(C,b),S=r.animateFilter==null||r.animateFilter(C,b);if(S){var N=C.animation({position:w,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(N)}else C.position(w)}if(r.fit){var R=l.animation({fit:{boundingBox:s.boundingBoxAt(E),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});e.animations.push(R)}else if(r.zoom!==void 0&&r.pan!==void 0){var D=l.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});e.animations.push(D)}e.animations.forEach(function(O){return O.play()}),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),Wl.all(e.animations.map(function(O){return O.promise()})).then(function(){e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e})})}else u.positions(E),r.fit&&l.fit(r.eles,r.padding),r.zoom!=null&&l.zoom(r.zoom),r.pan&&l.pan(r.pan),e.one("layoutready",r.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",r.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){var r=this.cy();return r.makeLayout($e({},e,{eles:this}))}};Xf.createLayout=Xf.makeLayout=Xf.layout;function eT(t,e,r){var n=r._private,u=n.styleCache=n.styleCache||[],l;return(l=u[t])!=null||(l=u[t]=e(r)),l}function Nd(t,e){return t=Ou(t),function(n){return eT(t,e,n)}}function Rd(t,e){t=Ou(t);var r=function(u){return e.call(u)};return function(){var u=this[0];if(u)return eT(t,r,u)}}var qr={recalculateRenderedStyle:function(e){var r=this.cy(),n=r.renderer(),u=r.styleEnabled();return n&&u&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e=this.cy(),r=function(l){return l._private.styleCache=null};if(e.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(u){r(u),u.connectedEdges().forEach(r)});return this},updateStyle:function(e){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var u=r.hasCompoundNodes(),l=this;e=!!(e||e===void 0),u&&(l=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var s=l;return e?s.emitAndNotify("style"):s.emit("style"),l.forEach(function(c){return c._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,e.style().apply(n))}},parsedStyle:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],u=n.cy();if(u.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,u.style().apply(n));var l=n._private.style[e];return l??(r?u.style().getDefaultProperty(e):null)}},numericStyle:function(e){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(e);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(e){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(e).units},renderedStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,e)},style:function(e,r){var n=this.cy();if(!n.styleEnabled())return this;var u=!1,l=n.style();if(Tt(e)){var s=e;l.applyBypass(this,s,u),this.emitAndNotify("style")}else if(Xe(e))if(r===void 0){var c=this[0];return c?l.getStylePropertyValue(c,e):void 0}else l.applyBypass(this,e,r,u),this.emitAndNotify("style");else if(e===void 0){var d=this[0];return d?l.getRawStyle(d):void 0}return this},removeStyle:function(e){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,u=r.style(),l=this;if(e===void 0)for(var s=0;s<l.length;s++){var c=l[s];u.removeAllBypasses(c,n)}else{e=e.split(/\s+/);for(var d=0;d<l.length;d++){var f=l[d];u.removeBypasses(f,e,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var r=e.hasCompoundNodes(),n=this[0];if(n){var u=n._private,l=n.pstyle("opacity").value;if(!r)return l;var s=u.data.parent?n.parents():null;if(s)for(var c=0;c<s.length;c++){var d=s[c],f=d.pstyle("opacity").value;l=f*l}return l}},transparent:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var e=this.cy();if(!e.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function pp(t,e){var r=t._private,n=r.data.parent?t.parents():null;if(n)for(var u=0;u<n.length;u++){var l=n[u];if(!e(l))return!1}return!0}function vm(t){var e=t.ok,r=t.edgeOkViaNode||t.ok,n=t.parentOk||t.ok;return function(){var u=this.cy();if(!u.styleEnabled())return!0;var l=this[0],s=u.hasCompoundNodes();if(l){var c=l._private;if(!e(l))return!1;if(l.isNode())return!s||pp(l,n);var d=c.source,f=c.target;return r(d)&&(!s||pp(d,r))&&(d===f||r(f)&&(!s||pp(f,r)))}}}var $l=Nd("eleTakesUpSpace",function(t){return t.pstyle("display").value==="element"&&t.width()!==0&&(t.isNode()?t.height()!==0:!0)});qr.takesUpSpace=Rd("takesUpSpace",vm({ok:$l}));var DN=Nd("eleInteractive",function(t){return t.pstyle("events").value==="yes"&&t.pstyle("visibility").value==="visible"&&$l(t)}),ON=Nd("parentInteractive",function(t){return t.pstyle("visibility").value==="visible"&&$l(t)});qr.interactive=Rd("interactive",vm({ok:DN,parentOk:ON,edgeOkViaNode:$l}));qr.noninteractive=function(){var t=this[0];if(t)return!t.interactive()};var MN=Nd("eleVisible",function(t){return t.pstyle("visibility").value==="visible"&&t.pstyle("opacity").pfValue!==0&&$l(t)}),BN=$l;qr.visible=Rd("visible",vm({ok:MN,edgeOkViaNode:BN}));qr.hidden=function(){var t=this[0];if(t)return!t.visible()};qr.isBundledBezier=Rd("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});qr.bypass=qr.css=qr.style;qr.renderedCss=qr.renderedStyle;qr.removeBypass=qr.removeCss=qr.removeStyle;qr.pstyle=qr.parsedStyle;var qi={};function oE(t){return function(){var e=arguments,r=[];if(e.length===2){var n=e[0],u=e[1];this.on(t.event,n,u)}else if(e.length===1&&ar(e[0])){var l=e[0];this.on(t.event,l)}else if(e.length===0||e.length===1&&Ht(e[0])){for(var s=e.length===1?e[0]:null,c=0;c<this.length;c++){var d=this[c],f=!t.ableField||d._private[t.ableField],v=d._private[t.field]!=t.value;if(t.overrideAble){var g=t.overrideAble(d);if(g!==void 0&&(f=g,!g))return this}f&&(d._private[t.field]=t.value,v&&r.push(d))}var p=this.spawn(r);p.updateStyle(),p.emit(t.event),s&&p.emit(s)}return this}}function Jl(t){qi[t.field]=function(){var e=this[0];if(e){if(t.overrideField){var r=t.overrideField(e);if(r!==void 0)return r}return e._private[t.field]}},qi[t.on]=oE({event:t.on,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!0}),qi[t.off]=oE({event:t.off,field:t.field,ableField:t.ableField,overrideAble:t.overrideAble,value:!1})}Jl({field:"locked",overrideField:function(e){return e.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});Jl({field:"grabbable",overrideField:function(e){return e.cy().autoungrabify()||e.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});Jl({field:"selected",ableField:"selectable",overrideAble:function(e){return e.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});Jl({field:"selectable",overrideField:function(e){return e.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});qi.deselect=qi.unselect;qi.grabbed=function(){var t=this[0];if(t)return t._private.grabbed};Jl({field:"active",on:"activate",off:"unactivate"});Jl({field:"pannable",on:"panify",off:"unpanify"});qi.inactive=function(){var t=this[0];if(t)return!t._private.active};var Xr={},cE=function(e){return function(n){for(var u=this,l=[],s=0;s<u.length;s++){var c=u[s];if(c.isNode()){for(var d=!1,f=c.connectedEdges(),v=0;v<f.length;v++){var g=f[v],p=g.source(),E=g.target();if(e.noIncomingEdges&&E===c&&p!==c||e.noOutgoingEdges&&p===c&&E!==c){d=!0;break}}d||l.push(c)}}return this.spawn(l,!0).filter(n)}},fE=function(e){return function(r){for(var n=this,u=[],l=0;l<n.length;l++){var s=n[l];if(s.isNode())for(var c=s.connectedEdges(),d=0;d<c.length;d++){var f=c[d],v=f.source(),g=f.target();e.outgoing&&v===s?(u.push(f),u.push(g)):e.incoming&&g===s&&(u.push(f),u.push(v))}}return this.spawn(u,!0).filter(r)}},dE=function(e){return function(r){for(var n=this,u=[],l={};;){var s=e.outgoing?n.outgoers():n.incomers();if(s.length===0)break;for(var c=!1,d=0;d<s.length;d++){var f=s[d],v=f.id();l[v]||(l[v]=!0,u.push(f),c=!0)}if(!c)break;n=s}return this.spawn(u,!0).filter(r)}};Xr.clearTraversalCache=function(){for(var t=0;t<this.length;t++)this[t]._private.traversalCache=null};$e(Xr,{roots:cE({noIncomingEdges:!0}),leaves:cE({noOutgoingEdges:!0}),outgoers:Pa(fE({outgoing:!0}),"outgoers"),successors:dE({outgoing:!0}),incomers:Pa(fE({incoming:!0}),"incomers"),predecessors:dE({})});$e(Xr,{neighborhood:Pa(function(t){for(var e=[],r=this.nodes(),n=0;n<r.length;n++)for(var u=r[n],l=u.connectedEdges(),s=0;s<l.length;s++){var c=l[s],d=c.source(),f=c.target(),v=u===d?f:d;v.length>0&&e.push(v[0]),e.push(c[0])}return this.spawn(e,!0).filter(t)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}});Xr.neighbourhood=Xr.neighborhood;Xr.closedNeighbourhood=Xr.closedNeighborhood;Xr.openNeighbourhood=Xr.openNeighborhood;$e(Xr,{source:Pa(function(e){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&e?n.filter(e):n},"source"),target:Pa(function(e){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&e?n.filter(e):n},"target"),sources:vE({attr:"source"}),targets:vE({attr:"target"})});function vE(t){return function(r){for(var n=[],u=0;u<this.length;u++){var l=this[u],s=l._private[t.attr];s&&n.push(s)}return this.spawn(n,!0).filter(r)}}$e(Xr,{edgesWith:Pa(hE(),"edgesWith"),edgesTo:Pa(hE({thisIsSrc:!0}),"edgesTo")});function hE(t){return function(r){var n=[],u=this._private.cy,l=t||{};Xe(r)&&(r=u.$(r));for(var s=0;s<r.length;s++)for(var c=r[s]._private.edges,d=0;d<c.length;d++){var f=c[d],v=f._private.data,g=this.hasElementWithId(v.source)&&r.hasElementWithId(v.target),p=r.hasElementWithId(v.source)&&this.hasElementWithId(v.target),E=g||p;E&&((l.thisIsSrc||l.thisIsTgt)&&(l.thisIsSrc&&!g||l.thisIsTgt&&!p)||n.push(f))}return this.spawn(n,!0)}}$e(Xr,{connectedEdges:Pa(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var u=r[n];if(u.isNode())for(var l=u._private.edges,s=0;s<l.length;s++){var c=l[s];e.push(c)}}return this.spawn(e,!0).filter(t)},"connectedEdges"),connectedNodes:Pa(function(t){for(var e=[],r=this,n=0;n<r.length;n++){var u=r[n];u.isEdge()&&(e.push(u.source()[0]),e.push(u.target()[0]))}return this.spawn(e,!0).filter(t)},"connectedNodes"),parallelEdges:Pa(gE(),"parallelEdges"),codirectedEdges:Pa(gE({codirected:!0}),"codirectedEdges")});function gE(t){var e={codirected:!1};return t=$e({},e,t),function(n){for(var u=[],l=this.edges(),s=t,c=0;c<l.length;c++)for(var d=l[c],f=d._private,v=f.source,g=v._private.data.id,p=f.data.target,E=v._private.edges,b=0;b<E.length;b++){var C=E[b],w=C._private.data,S=w.target,N=w.source,R=S===p&&N===g,D=g===S&&p===N;(s.codirected&&R||!s.codirected&&(R||D))&&u.push(C)}return this.spawn(u,!0).filter(n)}}$e(Xr,{components:function(e){var r=this,n=r.cy(),u=n.collection(),l=e==null?r.nodes():e.nodes(),s=[];e!=null&&l.empty()&&(l=e.sources());var c=function(v,g){u.merge(v),l.unmerge(v),g.merge(v)};if(l.empty())return r.spawn();var d=function(){var v=n.collection();s.push(v);var g=l[0];c(g,v),r.bfs({directed:!1,roots:g,visit:function(E){return c(E,v)}}),v.forEach(function(p){p.connectedEdges().forEach(function(E){r.has(E)&&v.has(E.source())&&v.has(E.target())&&v.merge(E)})})};do d();while(l.length>0);return s},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}});Xr.componentsOf=Xr.components;var Hr=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(e===void 0){er("A collection must have a reference to the core");return}var l=new $n,s=!1;if(!r)r=[];else if(r.length>0&&Tt(r[0])&&!Uo(r[0])){s=!0;for(var c=[],d=new Ql,f=0,v=r.length;f<v;f++){var g=r[f];g.data==null&&(g.data={});var p=g.data;if(p.id==null)p.id=hx();else if(e.hasElementWithId(p.id)||d.has(p.id))continue;var E=new yd(e,g,!1);c.push(E),d.add(p.id)}r=c}this.length=0;for(var b=0,C=r.length;b<C;b++){var w=r[b][0];if(w!=null){var S=w._private.data.id;(!n||!l.has(S))&&(n&&l.set(S,{index:this.length,ele:w}),this[this.length]=w,this.length++)}}this._private={eles:this,cy:e,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(N){this.lazyMap=N},rebuildMap:function(){for(var R=this.lazyMap=new $n,D=this.eles,O=0;O<D.length;O++){var I=D[O];R.set(I.id(),{index:O,ele:I})}}},n&&(this._private.map=l),s&&!u&&this.restore()},Yt=yd.prototype=Hr.prototype=Object.create(Array.prototype);Yt.instanceString=function(){return"collection"};Yt.spawn=function(t,e){return new Hr(this.cy(),t,e)};Yt.spawnSelf=function(){return this.spawn(this)};Yt.cy=function(){return this._private.cy};Yt.renderer=function(){return this._private.cy.renderer()};Yt.element=function(){return this[0]};Yt.collection=function(){return ex(this)?this:new Hr(this._private.cy,[this])};Yt.unique=function(){return new Hr(this._private.cy,this,!0)};Yt.hasElementWithId=function(t){return t=""+t,this._private.map.has(t)};Yt.getElementById=function(t){t=""+t;var e=this._private.cy,r=this._private.map.get(t);return r?r.ele:new Hr(e)};Yt.$id=Yt.getElementById;Yt.poolIndex=function(){var t=this._private.cy,e=t._private.elements,r=this[0]._private.data.id;return e._private.map.get(r).index};Yt.indexOf=function(t){var e=t[0]._private.data.id;return this._private.map.get(e).index};Yt.indexOfId=function(t){return t=""+t,this._private.map.get(t).index};Yt.json=function(t){var e=this.element(),r=this.cy();if(e==null&&t)return this;if(e!=null){var n=e._private;if(Tt(t)){if(r.startBatch(),t.data){e.data(t.data);var u=n.data;if(e.isEdge()){var l=!1,s={},c=t.data.source,d=t.data.target;c!=null&&c!=u.source&&(s.source=""+c,l=!0),d!=null&&d!=u.target&&(s.target=""+d,l=!0),l&&(e=e.move(s))}else{var f="parent"in t.data,v=t.data.parent;f&&(v!=null||u.parent!=null)&&v!=u.parent&&(v===void 0&&(v=null),v!=null&&(v=""+v),e=e.move({parent:v}))}}t.position&&e.position(t.position);var g=function(C,w,S){var N=t[C];N!=null&&N!==n[C]&&(N?e[w]():e[S]())};return g("removed","remove","restore"),g("selected","select","unselect"),g("selectable","selectify","unselectify"),g("locked","lock","unlock"),g("grabbable","grabify","ungrabify"),g("pannable","panify","unpanify"),t.classes!=null&&e.classes(t.classes),r.endBatch(),this}else if(t===void 0){var p={data:hn(n.data),position:hn(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};p.classes="";var E=0;return n.classes.forEach(function(b){return p.classes+=E++===0?b:" "+b}),p}}};Yt.jsons=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e],n=r.json();t.push(n)}return t};Yt.clone=function(){for(var t=this.cy(),e=[],r=0;r<this.length;r++){var n=this[r],u=n.json(),l=new yd(t,u,!1);e.push(l)}return new Hr(t,e)};Yt.copy=Yt.clone;Yt.restore=function(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),u=n._private,l=[],s=[],c,d=0,f=r.length;d<f;d++){var v=r[d];e&&!v.removed()||(v.isNode()?l.push(v):s.push(v))}c=l.concat(s);var g,p=function(){c.splice(g,1),g--};for(g=0;g<c.length;g++){var E=c[g],b=E._private,C=b.data;if(E.clearTraversalCache(),!(!e&&!b.removed)){if(C.id===void 0)C.id=hx();else if(Me(C.id))C.id=""+C.id;else if(Hi(C.id)||!Xe(C.id)){er("Can not create element with invalid string ID `"+C.id+"`"),p();continue}else if(n.hasElementWithId(C.id)){er("Can not create second element with ID `"+C.id+"`"),p();continue}}var w=C.id;if(E.isNode()){var S=b.position;S.x==null&&(S.x=0),S.y==null&&(S.y=0)}if(E.isEdge()){for(var N=E,R=["source","target"],D=R.length,O=!1,I=0;I<D;I++){var M=R[I],z=C[M];Me(z)&&(z=C[M]=""+C[M]),z==null||z===""?(er("Can not create edge `"+w+"` with unspecified "+M),O=!0):n.hasElementWithId(z)||(er("Can not create edge `"+w+"` with nonexistant "+M+" `"+z+"`"),O=!0)}if(O){p();continue}var P=n.getElementById(C.source),k=n.getElementById(C.target);P.same(k)?P._private.edges.push(N):(P._private.edges.push(N),k._private.edges.push(N)),N._private.source=P,N._private.target=k}b.map=new $n,b.map.set(w,{ele:E,index:0}),b.removed=!1,e&&n.addToPool(E)}for(var U=0;U<l.length;U++){var L=l[U],G=L._private.data;Me(G.parent)&&(G.parent=""+G.parent);var X=G.parent,Z=X!=null;if(Z||L._private.parent){var H=L._private.parent?n.collection().merge(L._private.parent):n.getElementById(X);if(H.empty())G.parent=void 0;else if(H[0].removed())Mt("Node added with missing parent, reference to parent removed"),G.parent=void 0,L._private.parent=null;else{for(var j=!1,W=H;!W.empty();){if(L.same(W)){j=!0,G.parent=void 0;break}W=W.parent()}j||(H[0]._private.children.push(L),L._private.parent=H[0],u.hasCompoundNodes=!0)}}}if(c.length>0){for(var ee=c.length===r.length?r:new Hr(n,c),te=0;te<ee.length;te++){var q=ee[te];q.isNode()||(q.parallelEdges().clearTraversalCache(),q.source().clearTraversalCache(),q.target().clearTraversalCache())}var Q;u.hasCompoundNodes?Q=n.collection().merge(ee).merge(ee.connectedNodes()).merge(ee.parent()):Q=ee,Q.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(t),t?ee.emitAndNotify("add"):e&&ee.emit("add")}return r};Yt.removed=function(){var t=this[0];return t&&t._private.removed};Yt.inside=function(){var t=this[0];return t&&!t._private.removed};Yt.remove=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],u={},l=r._private.cy;function s(X){for(var Z=X._private.edges,H=0;H<Z.length;H++)d(Z[H])}function c(X){for(var Z=X._private.children,H=0;H<Z.length;H++)d(Z[H])}function d(X){var Z=u[X.id()];e&&X.removed()||Z||(u[X.id()]=!0,X.isNode()?(n.push(X),s(X),c(X)):n.unshift(X))}for(var f=0,v=r.length;f<v;f++){var g=r[f];d(g)}function p(X,Z){var H=X._private.edges;Gi(H,Z),X.clearTraversalCache()}function E(X){X.clearTraversalCache()}var b=[];b.ids={};function C(X,Z){Z=Z[0],X=X[0];var H=X._private.children,j=X.id();Gi(H,Z),Z._private.parent=null,b.ids[j]||(b.ids[j]=!0,b.push(X))}r.dirtyCompoundBoundsCache(),e&&l.removeFromPool(n);for(var w=0;w<n.length;w++){var S=n[w];if(S.isEdge()){var N=S.source()[0],R=S.target()[0];p(N,S),p(R,S);for(var D=S.parallelEdges(),O=0;O<D.length;O++){var I=D[O];E(I),I.isBundledBezier()&&I.dirtyBoundingBoxCache()}}else{var M=S.parent();M.length!==0&&C(M,S)}e&&(S._private.removed=!0)}var z=l._private.elements;l._private.hasCompoundNodes=!1;for(var P=0;P<z.length;P++){var k=z[P];if(k.isParent()){l._private.hasCompoundNodes=!0;break}}var U=new Hr(this.cy(),n);U.size()>0&&(t?U.emitAndNotify("remove"):e&&U.emit("remove"));for(var L=0;L<b.length;L++){var G=b[L];(!e||!G.removed())&&G.updateStyle()}return U};Yt.move=function(t){var e=this._private.cy,r=this,n=!1,u=!1,l=function(b){return b==null?b:""+b};if(t.source!==void 0||t.target!==void 0){var s=l(t.source),c=l(t.target),d=s!=null&&e.hasElementWithId(s),f=c!=null&&e.hasElementWithId(c);(d||f)&&(e.batch(function(){r.remove(n,u),r.emitAndNotify("moveout");for(var E=0;E<r.length;E++){var b=r[E],C=b._private.data;b.isEdge()&&(d&&(C.source=s),f&&(C.target=c))}r.restore(n,u)}),r.emitAndNotify("move"))}else if(t.parent!==void 0){var v=l(t.parent),g=v===null||e.hasElementWithId(v);if(g){var p=v===null?void 0:v;e.batch(function(){var E=r.remove(n,u);E.emitAndNotify("moveout");for(var b=0;b<r.length;b++){var C=r[b],w=C._private.data;C.isNode()&&(w.parent=p)}E.restore(n,u)}),r.emitAndNotify("move")}}return this};[Cx,VC,Kf,Pi,Zl,iN,Ad,xN,Wx,$x,CN,od,Xf,qr,qi,Xr].forEach(function(t){$e(Yt,t)});var IN={add:function(e){var r,n=this;if(Ra(e)){var u=e;if(u._private.cy===n)r=u.restore();else{for(var l=[],s=0;s<u.length;s++){var c=u[s];l.push(c.json())}r=new Hr(n,l)}}else if(Ht(e)){var d=e;r=new Hr(n,d)}else if(Tt(e)&&(Ht(e.nodes)||Ht(e.edges))){for(var f=e,v=[],g=["nodes","edges"],p=0,E=g.length;p<E;p++){var b=g[p],C=f[b];if(Ht(C))for(var w=0,S=C.length;w<S;w++){var N=$e({group:b},C[w]);v.push(N)}}r=new Hr(n,v)}else{var R=e;r=new yd(n,R).collection()}return r},remove:function(e){if(!Ra(e)){if(Xe(e)){var r=e;e=this.$(r)}}return e.remove()}};function LN(t,e,r,n){var u=4,l=.001,s=1e-7,c=10,d=11,f=1/(d-1),v=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var g=0;g<4;++g)if(typeof arguments[g]!="number"||isNaN(arguments[g])||!isFinite(arguments[g]))return!1;t=Math.min(t,1),r=Math.min(r,1),t=Math.max(t,0),r=Math.max(r,0);var p=v?new Float32Array(d):new Array(d);function E(k,U){return 1-3*U+3*k}function b(k,U){return 3*U-6*k}function C(k){return 3*k}function w(k,U,L){return((E(U,L)*k+b(U,L))*k+C(U))*k}function S(k,U,L){return 3*E(U,L)*k*k+2*b(U,L)*k+C(U)}function N(k,U){for(var L=0;L<u;++L){var G=S(U,t,r);if(G===0)return U;var X=w(U,t,r)-k;U-=X/G}return U}function R(){for(var k=0;k<d;++k)p[k]=w(k*f,t,r)}function D(k,U,L){var G,X,Z=0;do X=U+(L-U)/2,G=w(X,t,r)-k,G>0?L=X:U=X;while(Math.abs(G)>s&&++Z<c);return X}function O(k){for(var U=0,L=1,G=d-1;L!==G&&p[L]<=k;++L)U+=f;--L;var X=(k-p[L])/(p[L+1]-p[L]),Z=U+X*f,H=S(Z,t,r);return H>=l?N(k,Z):H===0?Z:D(k,U,U+f)}var I=!1;function M(){I=!0,(t!==e||r!==n)&&R()}var z=function(U){return I||M(),t===e&&r===n?U:U===0?0:U===1?1:w(O(U),e,n)};z.getControlPoints=function(){return[{x:t,y:e},{x:r,y:n}]};var P="generateBezier("+[t,e,r,n]+")";return z.toString=function(){return P},z}var zN=(function(){function t(n){return-n.tension*n.x-n.friction*n.v}function e(n,u,l){var s={x:n.x+l.dx*u,v:n.v+l.dv*u,tension:n.tension,friction:n.friction};return{dx:s.v,dv:t(s)}}function r(n,u){var l={dx:n.v,dv:t(n)},s=e(n,u*.5,l),c=e(n,u*.5,s),d=e(n,u,c),f=1/6*(l.dx+2*(s.dx+c.dx)+d.dx),v=1/6*(l.dv+2*(s.dv+c.dv)+d.dv);return n.x=n.x+f*u,n.v=n.v+v*u,n}return function n(u,l,s){var c={x:-1,v:0,tension:null,friction:null},d=[0],f=0,v=1/1e4,g=16/1e3,p,E,b;for(u=parseFloat(u)||500,l=parseFloat(l)||20,s=s||null,c.tension=u,c.friction=l,p=s!==null,p?(f=n(u,l),E=f/s*g):E=g;b=r(b||c,E),d.push(1+b.x),f+=16,Math.abs(b.x)>v&&Math.abs(b.v)>v;);return p?function(C){return d[C*(d.length-1)|0]}:f}})(),Ft=function(e,r,n,u){var l=LN(e,r,n,u);return function(s,c,d){return s+(c-s)*l(d)}},Zf={linear:function(e,r,n){return e+(r-e)*n},ease:Ft(.25,.1,.25,1),"ease-in":Ft(.42,0,1,1),"ease-out":Ft(0,0,.58,1),"ease-in-out":Ft(.42,0,.58,1),"ease-in-sine":Ft(.47,0,.745,.715),"ease-out-sine":Ft(.39,.575,.565,1),"ease-in-out-sine":Ft(.445,.05,.55,.95),"ease-in-quad":Ft(.55,.085,.68,.53),"ease-out-quad":Ft(.25,.46,.45,.94),"ease-in-out-quad":Ft(.455,.03,.515,.955),"ease-in-cubic":Ft(.55,.055,.675,.19),"ease-out-cubic":Ft(.215,.61,.355,1),"ease-in-out-cubic":Ft(.645,.045,.355,1),"ease-in-quart":Ft(.895,.03,.685,.22),"ease-out-quart":Ft(.165,.84,.44,1),"ease-in-out-quart":Ft(.77,0,.175,1),"ease-in-quint":Ft(.755,.05,.855,.06),"ease-out-quint":Ft(.23,1,.32,1),"ease-in-out-quint":Ft(.86,0,.07,1),"ease-in-expo":Ft(.95,.05,.795,.035),"ease-out-expo":Ft(.19,1,.22,1),"ease-in-out-expo":Ft(1,0,0,1),"ease-in-circ":Ft(.6,.04,.98,.335),"ease-out-circ":Ft(.075,.82,.165,1),"ease-in-out-circ":Ft(.785,.135,.15,.86),spring:function(e,r,n){if(n===0)return Zf.linear;var u=zN(e,r,n);return function(l,s,c){return l+(s-l)*u(c)}},"cubic-bezier":Ft};function pE(t,e,r,n,u){if(n===1||e===r)return r;var l=u(e,r,n);return t==null||((t.roundValue||t.color)&&(l=Math.round(l)),t.min!==void 0&&(l=Math.max(l,t.min)),t.max!==void 0&&(l=Math.min(l,t.max))),l}function mE(t,e){return t.pfValue!=null||t.value!=null?t.pfValue!=null&&(e==null||e.type.units!=="%")?t.pfValue:t.value:t}function Bl(t,e,r,n,u){var l=u!=null?u.type:null;r<0?r=0:r>1&&(r=1);var s=mE(t,u),c=mE(e,u);if(Me(s)&&Me(c))return pE(l,s,c,r,n);if(Ht(s)&&Ht(c)){for(var d=[],f=0;f<c.length;f++){var v=s[f],g=c[f];if(v!=null&&g!=null){var p=pE(l,v,g,r,n);d.push(p)}else d.push(g)}return d}}function _N(t,e,r,n){var u=!n,l=t._private,s=e._private,c=s.easing,d=s.startTime,f=n?t:t.cy(),v=f.style();if(!s.easingImpl)if(c==null)s.easingImpl=Zf.linear;else{var g;if(Xe(c)){var p=v.parse("transition-timing-function",c);g=p.value}else g=c;var E,b;Xe(g)?(E=g,b=[]):(E=g[1],b=g.slice(2).map(function(ee){return+ee})),b.length>0?(E==="spring"&&b.push(s.duration),s.easingImpl=Zf[E].apply(null,b)):s.easingImpl=Zf[E]}var C=s.easingImpl,w;if(s.duration===0?w=1:w=(r-d)/s.duration,s.applying&&(w=s.progress),w<0?w=0:w>1&&(w=1),s.delay==null){var S=s.startPosition,N=s.position;if(N&&u&&!t.locked()){var R={};go(S.x,N.x)&&(R.x=Bl(S.x,N.x,w,C)),go(S.y,N.y)&&(R.y=Bl(S.y,N.y,w,C)),t.position(R)}var D=s.startPan,O=s.pan,I=l.pan,M=O!=null&&n;M&&(go(D.x,O.x)&&(I.x=Bl(D.x,O.x,w,C)),go(D.y,O.y)&&(I.y=Bl(D.y,O.y,w,C)),t.emit("pan"));var z=s.startZoom,P=s.zoom,k=P!=null&&n;k&&(go(z,P)&&(l.zoom=Oo(l.minZoom,Bl(z,P,w,C),l.maxZoom)),t.emit("zoom")),(M||k)&&t.emit("viewport");var U=s.style;if(U&&U.length>0&&u){for(var L=0;L<U.length;L++){var G=U[L],X=G.name,Z=G,H=s.startStyle[X],j=v.properties[H.name],W=Bl(H,Z,w,C,j);v.overrideBypass(t,X,W)}t.emit("style")}}return s.progress=w,w}function go(t,e){return t==null||e==null?!1:Me(t)&&Me(e)?!0:!!(t&&e)}function kN(t,e,r,n){var u=e._private;u.started=!0,u.startTime=r-u.progress*u.duration}function yE(t,e){var r=e._private.aniEles,n=[];function u(v,g){var p=v._private,E=p.animation.current,b=p.animation.queue,C=!1;if(E.length===0){var w=b.shift();w&&E.push(w)}for(var S=function(I){for(var M=I.length-1;M>=0;M--){var z=I[M];z()}I.splice(0,I.length)},N=E.length-1;N>=0;N--){var R=E[N],D=R._private;if(D.stopped){E.splice(N,1),D.hooked=!1,D.playing=!1,D.started=!1,S(D.frames);continue}!D.playing&&!D.applying||(D.playing&&D.applying&&(D.applying=!1),D.started||kN(v,R,t),_N(v,R,t,g),D.applying&&(D.applying=!1),S(D.frames),D.step!=null&&D.step(t),R.completed()&&(E.splice(N,1),D.hooked=!1,D.playing=!1,D.started=!1,S(D.completes)),C=!0)}return!g&&E.length===0&&b.length===0&&n.push(v),C}for(var l=!1,s=0;s<r.length;s++){var c=r[s],d=u(c);l=l||d}var f=u(e,!0);(l||f)&&(r.length>0?e.notify("draw",r):e.notify("draw")),r.unmerge(n),e.emit("step")}var UN={animate:Ot.animate(),animation:Ot.animation(),animated:Ot.animated(),clearQueue:Ot.clearQueue(),delay:Ot.delay(),delayAnimation:Ot.delayAnimation(),stop:Ot.stop(),addToAnimationPool:function(e){var r=this;r.styleEnabled()&&r._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,!e.styleEnabled())return;function r(){e._private.animationsRunning&&nd(function(l){yE(l,e),r()})}var n=e.renderer();n&&n.beforeRender?n.beforeRender(function(l,s){yE(s,e)},n.beforeRenderPriorities.animations):r()}},PN={qualifierCompare:function(e,r){return e==null||r==null?e==null&&r==null:e.sameText(r)},eventMatches:function(e,r,n){var u=r.qualifier;return u!=null?e!==n.target&&Uo(n.target)&&u.matches(n.target):!0},addEventFields:function(e,r){r.cy=e,r.target=e},callbackContext:function(e,r,n){return r.qualifier!=null?n.target:e}},_f=function(e){return Xe(e)?new ji(e):e},tT={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Cd(PN,this)),this},emitter:function(){return this._private.emitter},on:function(e,r,n){return this.emitter().on(e,_f(r),n),this},removeListener:function(e,r,n){return this.emitter().removeListener(e,_f(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,r,n){return this.emitter().one(e,_f(r),n),this},once:function(e,r,n){return this.emitter().one(e,_f(r),n),this},emit:function(e,r){return this.emitter().emit(e,r),this},emitAndNotify:function(e,r){return this.emit(e),this.notify(e,r),this}};Ot.eventAliasesOn(tT);var Up={png:function(e){var r=this._private.renderer;return e=e||{},r.png(e)},jpg:function(e){var r=this._private.renderer;return e=e||{},e.bg=e.bg||"#fff",r.jpg(e)}};Up.jpeg=Up.jpg;var Qf={layout:function(e){var r=this;if(e==null){er("Layout options must be specified to make a layout");return}if(e.name==null){er("A `name` must be specified to make a layout");return}var n=e.name,u=r.extension("layout",n);if(u==null){er("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var l;Xe(e.eles)?l=r.$(e.eles):l=e.eles!=null?e.eles:r.$();var s=new u($e({},e,{cy:r,eles:l}));return s}};Qf.createLayout=Qf.makeLayout=Qf.layout;var qN={notify:function(e,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var u=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();r!=null&&u.merge(r);return}if(n.notificationsEnabled){var l=this.renderer();this.destroyed()||!l||l.notify(e,r)}},notifications:function(e){var r=this._private;return e===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return e.batchCount==null&&(e.batchCount=0),e.batchCount===0&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(e.batchCount===0)return this;if(e.batchCount--,e.batchCount===0){e.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(e.batchNotifications).forEach(function(n){var u=e.batchNotifications[n];u.empty()?r.notify(n):r.notify(n,u)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var r=this;return this.batch(function(){for(var n=Object.keys(e),u=0;u<n.length;u++){var l=n[u],s=e[l],c=r.getElementById(l);c.data(s)}})}},HN=Gr({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),Pp={renderTo:function(e,r,n,u){var l=this._private.renderer;return l.renderTo(e,r,n,u),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var r=this,n=r.extension("renderer",e.name);if(n==null){er("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}e.wheelSensitivity!==void 0&&Mt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var u=HN(e);u.cy=r,r._private.renderer=new n(u),this.notify("init")},destroyRenderer:function(){var e=this;e.notify("destroy");var r=e.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(n){var u=n._private;u.rscratch={},u.rstyle={},u.animation.current=[],u.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Pp.invalidateDimensions=Pp.resize;var Wf={collection:function(e,r){return Xe(e)?this.$(e):Ra(e)?e.collection():Ht(e)?(r||(r={}),new Hr(this,e,r.unique,r.removed)):new Hr(this)},nodes:function(e){var r=this.$(function(n){return n.isNode()});return e?r.filter(e):r},edges:function(e){var r=this.$(function(n){return n.isEdge()});return e?r.filter(e):r},$:function(e){var r=this._private.elements;return e?r.filter(e):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Wf.elements=Wf.filter=Wf.$;var zr={},wo="t",GN="f";zr.apply=function(t){for(var e=this,r=e._private,n=r.cy,u=n.collection(),l=0;l<t.length;l++){var s=t[l],c=e.getContextMeta(s);if(!c.empty){var d=e.getContextStyle(c),f=e.applyContextStyle(c,d,s);s._private.appliedInitStyle?e.updateTransitions(s,f.diffProps):s._private.appliedInitStyle=!0;var v=e.updateStyleHints(s);v&&u.push(s)}}return u};zr.getPropertiesDiff=function(t,e){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},u=t+"-"+e,l=n[u];if(l)return l;for(var s=[],c={},d=0;d<r.length;d++){var f=r[d],v=t[d]===wo,g=e[d]===wo,p=v!==g,E=f.mappedProperties.length>0;if(p||g&&E){var b=void 0;p&&E||p?b=f.properties:E&&(b=f.mappedProperties);for(var C=0;C<b.length;C++){for(var w=b[C],S=w.name,N=!1,R=d+1;R<r.length;R++){var D=r[R],O=e[R]===wo;if(O&&(N=D.properties[w.name]!=null,N))break}!c[S]&&!N&&(c[S]=!0,s.push(S))}}}return n[u]=s,s};zr.getContextMeta=function(t){for(var e=this,r="",n,u=t._private.styleCxtKey||"",l=0;l<e.length;l++){var s=e[l],c=s.selector&&s.selector.matches(t);c?r+=wo:r+=GN}return n=e.getPropertiesDiff(u,r),t._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};zr.getContextStyle=function(t){var e=t.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[e])return n[e];for(var u={_private:{key:e}},l=0;l<r.length;l++){var s=r[l],c=e[l]===wo;if(c)for(var d=0;d<s.properties.length;d++){var f=s.properties[d];u[f.name]=f}}return n[e]=u,u};zr.applyContextStyle=function(t,e,r){for(var n=this,u=t.diffPropNames,l={},s=n.types,c=0;c<u.length;c++){var d=u[c],f=e[d],v=r.pstyle(d);if(!f)if(v)v.bypass?f={name:d,deleteBypassed:!0}:f={name:d,delete:!0};else continue;if(v!==f){if(f.mapped===s.fn&&v!=null&&v.mapping!=null&&v.mapping.value===f.value){var g=v.mapping,p=g.fnValue=f.value(r);if(p===g.prevFnValue)continue}var E=l[d]={prev:v};n.applyParsedProperty(r,f),E.next=r.pstyle(d),E.next&&E.next.bypass&&(E.next=E.next.bypassed)}}return{diffProps:l}};zr.updateStyleHints=function(t){var e=t._private,r=this,n=r.propertyGroupNames,u=r.propertyGroupKeys,l=function(fe,Ee,De){return r.getPropertiesHash(fe,Ee,De)},s=e.styleKey;if(t.removed())return!1;var c=e.group==="nodes",d=t._private.style;n=Object.keys(d);for(var f=0;f<u.length;f++){var v=u[f];e.styleKeys[v]=[Nu,Pl]}for(var g=function(fe,Ee){return e.styleKeys[Ee][0]=No(fe,e.styleKeys[Ee][0])},p=function(fe,Ee){return e.styleKeys[Ee][1]=Ro(fe,e.styleKeys[Ee][1])},E=function(fe,Ee){g(fe,Ee),p(fe,Ee)},b=function(fe,Ee){for(var De=0;De<fe.length;De++){var Le=fe.charCodeAt(De);g(Le,Ee),p(Le,Ee)}},C=2e9,w=function(fe){return-128<fe&&fe<128&&Math.floor(fe)!==fe?C-(fe*1024|0):fe},S=0;S<n.length;S++){var N=n[S],R=d[N];if(R!=null){var D=this.properties[N],O=D.type,I=D.groupKey,M=void 0;D.hashOverride!=null?M=D.hashOverride(t,R):R.pfValue!=null&&(M=R.pfValue);var z=D.enums==null?R.value:null,P=M!=null,k=z!=null,U=P||k,L=R.units;if(O.number&&U&&!O.multiple){var G=P?M:z;E(w(G),I),!P&&L!=null&&b(L,I)}else b(R.strValue,I)}}for(var X=[Nu,Pl],Z=0;Z<u.length;Z++){var H=u[Z],j=e.styleKeys[H];X[0]=No(j[0],X[0]),X[1]=Ro(j[1],X[1])}e.styleKey=n2(X[0],X[1]);var W=e.styleKeys;e.labelDimsKey=Ii(W.labelDimensions);var ee=l(t,["label"],W.labelDimensions);if(e.labelKey=Ii(ee),e.labelStyleKey=Ii(Rf(W.commonLabel,ee)),!c){var te=l(t,["source-label"],W.labelDimensions);e.sourceLabelKey=Ii(te),e.sourceLabelStyleKey=Ii(Rf(W.commonLabel,te));var q=l(t,["target-label"],W.labelDimensions);e.targetLabelKey=Ii(q),e.targetLabelStyleKey=Ii(Rf(W.commonLabel,q))}if(c){var Q=e.styleKeys,J=Q.nodeBody,ie=Q.nodeBorder,oe=Q.nodeOutline,he=Q.backgroundImage,be=Q.compound,Re=Q.pie,ye=Q.stripe,ne=[J,ie,oe,he,be,Re,ye].filter(function(le){return le!=null}).reduce(Rf,[Nu,Pl]);e.nodeKey=Ii(ne),e.hasPie=Re!=null&&Re[0]!==Nu&&Re[1]!==Pl,e.hasStripe=ye!=null&&ye[0]!==Nu&&ye[1]!==Pl}return s!==e.styleKey};zr.clearStyleHints=function(t){var e=t._private;e.styleCxtKey="",e.styleKeys={},e.styleKey=null,e.labelKey=null,e.labelStyleKey=null,e.sourceLabelKey=null,e.sourceLabelStyleKey=null,e.targetLabelKey=null,e.targetLabelStyleKey=null,e.nodeKey=null,e.hasPie=null,e.hasStripe=null};zr.applyParsedProperty=function(t,e){var r=this,n=e,u=t._private.style,l,s=r.types,c=r.properties[n.name].type,d=n.bypass,f=u[n.name],v=f&&f.bypass,g=t._private,p="mapping",E=function(J){return J==null?null:J.pfValue!=null?J.pfValue:J.value},b=function(){var J=E(f),ie=E(n);r.checkTriggers(t,n.name,J,ie)};if(e.name==="curve-style"&&t.isEdge()&&(e.value!=="bezier"&&t.isLoop()||e.value==="haystack"&&(t.source().isParent()||t.target().isParent()))&&(n=e=this.parse(e.name,"bezier",d)),n.delete)return u[n.name]=void 0,b(),!0;if(n.deleteBypassed)return f?f.bypass?(f.bypassed=void 0,b(),!0):!1:(b(),!0);if(n.deleteBypass)return f?f.bypass?(u[n.name]=f.bypassed,b(),!0):!1:(b(),!0);var C=function(){Mt("Do not assign mappings to elements without corresponding data (i.e. ele `"+t.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case s.mapData:{for(var w=n.field.split("."),S=g.data,N=0;N<w.length&&S;N++){var R=w[N];S=S[R]}if(S==null)return C(),!1;var D;if(Me(S)){var O=n.fieldMax-n.fieldMin;O===0?D=0:D=(S-n.fieldMin)/O}else return Mt("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+S+"` for `"+t.id()+"` is non-numeric)"),!1;if(D<0?D=0:D>1&&(D=1),c.color){var I=n.valueMin[0],M=n.valueMax[0],z=n.valueMin[1],P=n.valueMax[1],k=n.valueMin[2],U=n.valueMax[2],L=n.valueMin[3]==null?1:n.valueMin[3],G=n.valueMax[3]==null?1:n.valueMax[3],X=[Math.round(I+(M-I)*D),Math.round(z+(P-z)*D),Math.round(k+(U-k)*D),Math.round(L+(G-L)*D)];l={bypass:n.bypass,name:n.name,value:X,strValue:"rgb("+X[0]+", "+X[1]+", "+X[2]+")"}}else if(c.number){var Z=n.valueMin+(n.valueMax-n.valueMin)*D;l=this.parse(n.name,Z,n.bypass,p)}else return!1;if(!l)return C(),!1;l.mapping=n,n=l;break}case s.data:{for(var H=n.field.split("."),j=g.data,W=0;W<H.length&&j;W++){var ee=H[W];j=j[ee]}if(j!=null&&(l=this.parse(n.name,j,n.bypass,p)),!l)return C(),!1;l.mapping=n,n=l;break}case s.fn:{var te=n.value,q=n.fnValue!=null?n.fnValue:te(t);if(n.prevFnValue=q,q==null)return Mt("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+t.id()+"` is null)"),!1;if(l=this.parse(n.name,q,n.bypass,p),!l)return Mt("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+t.id()+"` is invalid)"),!1;l.mapping=hn(n),n=l;break}case void 0:break;default:return!1}return d?(v?n.bypassed=f.bypassed:n.bypassed=f,u[n.name]=n):v?f.bypassed=n:u[n.name]=n,b(),!0};zr.cleanElements=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!e)n._private.style={};else for(var u=n._private.style,l=Object.keys(u),s=0;s<l.length;s++){var c=l[s],d=u[c];d!=null&&(d.bypass?d.bypassed=null:u[c]=null)}}};zr.update=function(){var t=this._private.cy,e=t.mutableElements();e.updateStyle()};zr.updateTransitions=function(t,e){var r=this,n=t._private,u=t.pstyle("transition-property").value,l=t.pstyle("transition-duration").pfValue,s=t.pstyle("transition-delay").pfValue;if(u.length>0&&l>0){for(var c={},d=!1,f=0;f<u.length;f++){var v=u[f],g=t.pstyle(v),p=e[v];if(p){var E=p.prev,b=E,C=p.next!=null?p.next:g,w=!1,S=void 0,N=1e-6;b&&(Me(b.pfValue)&&Me(C.pfValue)?(w=C.pfValue-b.pfValue,S=b.pfValue+N*w):Me(b.value)&&Me(C.value)?(w=C.value-b.value,S=b.value+N*w):Ht(b.value)&&Ht(C.value)&&(w=b.value[0]!==C.value[0]||b.value[1]!==C.value[1]||b.value[2]!==C.value[2],S=b.strValue),w&&(c[v]=C.strValue,this.applyBypass(t,v,S),d=!0))}}if(!d)return;n.transitioning=!0,new Wl(function(R){s>0?t.delayAnimation(s).play().promise().then(R):R()}).then(function(){return t.animation({style:c,duration:l,easing:t.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(t,u),t.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(t,u),t.emitAndNotify("style"),n.transitioning=!1)};zr.checkTrigger=function(t,e,r,n,u,l){var s=this.properties[e],c=u(s);t.removed()||c!=null&&c(r,n,t)&&l(s)};zr.checkZOrderTrigger=function(t,e,r,n){var u=this;this.checkTrigger(t,e,r,n,function(l){return l.triggersZOrder},function(){u._private.cy.notify("zorder",t)})};zr.checkBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(u){return u.triggersBounds},function(u){t.dirtyCompoundBoundsCache(),t.dirtyBoundingBoxCache()})};zr.checkConnectedEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(u){return u.triggersBoundsOfConnectedEdges},function(u){t.connectedEdges().forEach(function(l){l.dirtyBoundingBoxCache()})})};zr.checkParallelEdgesBoundsTrigger=function(t,e,r,n){this.checkTrigger(t,e,r,n,function(u){return u.triggersBoundsOfParallelEdges},function(u){t.parallelEdges().forEach(function(l){l.dirtyBoundingBoxCache()})})};zr.checkTriggers=function(t,e,r,n){t.dirtyStyleCache(),this.checkZOrderTrigger(t,e,r,n),this.checkBoundsTrigger(t,e,r,n),this.checkConnectedEdgesBoundsTrigger(t,e,r,n),this.checkParallelEdgesBoundsTrigger(t,e,r,n)};var Fo={};Fo.applyBypass=function(t,e,r,n){var u=this,l=[],s=!0;if(e==="*"||e==="**"){if(r!==void 0)for(var c=0;c<u.properties.length;c++){var d=u.properties[c],f=d.name,v=this.parse(f,r,!0);v&&l.push(v)}}else if(Xe(e)){var g=this.parse(e,r,!0);g&&l.push(g)}else if(Tt(e)){var p=e;n=r;for(var E=Object.keys(p),b=0;b<E.length;b++){var C=E[b],w=p[C];if(w===void 0&&(w=p[pd(C)]),w!==void 0){var S=this.parse(C,w,!0);S&&l.push(S)}}}else return!1;if(l.length===0)return!1;for(var N=!1,R=0;R<t.length;R++){for(var D=t[R],O={},I=void 0,M=0;M<l.length;M++){var z=l[M];if(n){var P=D.pstyle(z.name);I=O[z.name]={prev:P}}N=this.applyParsedProperty(D,hn(z))||N,n&&(I.next=D.pstyle(z.name))}N&&this.updateStyleHints(D),n&&this.updateTransitions(D,O,s)}return N};Fo.overrideBypass=function(t,e,r){e=Jp(e);for(var n=0;n<t.length;n++){var u=t[n],l=u._private.style[e],s=this.properties[e].type,c=s.color,d=s.mutiple,f=l?l.pfValue!=null?l.pfValue:l.value:null;!l||!l.bypass?this.applyBypass(u,e,r):(l.value=r,l.pfValue!=null&&(l.pfValue=r),c?l.strValue="rgb("+r.join(",")+")":d?l.strValue=r.join(" "):l.strValue=""+r,this.updateStyleHints(u)),this.checkTriggers(u,e,f,r)}};Fo.removeAllBypasses=function(t,e){return this.removeBypasses(t,this.propertyNames,e)};Fo.removeBypasses=function(t,e,r){for(var n=!0,u=0;u<t.length;u++){for(var l=t[u],s={},c=0;c<e.length;c++){var d=e[c],f=this.properties[d],v=l.pstyle(f.name);if(!(!v||!v.bypass)){var g="",p=this.parse(d,g,!0),E=s[f.name]={prev:v};this.applyParsedProperty(l,p),E.next=l.pstyle(f.name)}}this.updateStyleHints(l),r&&this.updateTransitions(l,s,n)}};var hm={};hm.getEmSizeInPixels=function(){var t=this.containerCss("font-size");return t!=null?parseFloat(t):1};hm.containerCss=function(t){var e=this._private.cy,r=e.container(),n=e.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(t)};var gn={};gn.getRenderedStyle=function(t,e){return e?this.getStylePropertyValue(t,e,!0):this.getRawStyle(t,!0)};gn.getRawStyle=function(t,e){var r=this;if(t=t[0],t){for(var n={},u=0;u<r.properties.length;u++){var l=r.properties[u],s=r.getStylePropertyValue(t,l.name,e);s!=null&&(n[l.name]=s,n[pd(l.name)]=s)}return n}};gn.getIndexedStyle=function(t,e,r,n){var u=t.pstyle(e)[r][n];return u??t.cy().style().getDefaultProperty(e)[r][0]};gn.getStylePropertyValue=function(t,e,r){var n=this;if(t=t[0],t){var u=n.properties[e];u.alias&&(u=u.pointsTo);var l=u.type,s=t.pstyle(u.name);if(s){var c=s.value,d=s.units,f=s.strValue;if(r&&l.number&&c!=null&&Me(c)){var v=t.cy().zoom(),g=function(w){return w*v},p=function(w,S){return g(w)+S},E=Ht(c),b=E?d.every(function(C){return C!=null}):d!=null;return b?E?c.map(function(C,w){return p(C,d[w])}).join(" "):p(c,d):E?c.map(function(C){return Xe(C)?C:""+g(C)}).join(" "):""+g(c)}else if(f!=null)return f}return null}};gn.getAnimationStartStyle=function(t,e){for(var r={},n=0;n<e.length;n++){var u=e[n],l=u.name,s=t.pstyle(l);s!==void 0&&(Tt(s)?s=this.parse(l,s.strValue):s=this.parse(l,s)),s&&(r[l]=s)}return r};gn.getPropsList=function(t){var e=this,r=[],n=t,u=e.properties;if(n)for(var l=Object.keys(n),s=0;s<l.length;s++){var c=l[s],d=n[c],f=u[c]||u[Jp(c)],v=this.parse(f.name,d);v&&r.push(v)}return r};gn.getNonDefaultPropertiesHash=function(t,e,r){var n=r.slice(),u,l,s,c,d,f;for(d=0;d<e.length;d++)if(u=e[d],l=t.pstyle(u,!1),l!=null)if(l.pfValue!=null)n[0]=No(c,n[0]),n[1]=Ro(c,n[1]);else for(s=l.strValue,f=0;f<s.length;f++)c=s.charCodeAt(f),n[0]=No(c,n[0]),n[1]=Ro(c,n[1]);return n};gn.getPropertiesHash=gn.getNonDefaultPropertiesHash;var Dd={};Dd.appendFromJson=function(t){for(var e=this,r=0;r<t.length;r++){var n=t[r],u=n.selector,l=n.style||n.css,s=Object.keys(l);e.selector(u);for(var c=0;c<s.length;c++){var d=s[c],f=l[d];e.css(d,f)}}return e};Dd.fromJson=function(t){var e=this;return e.resetToDefault(),e.appendFromJson(t),e};Dd.json=function(){for(var t=[],e=this.defaultLength;e<this.length;e++){for(var r=this[e],n=r.selector,u=r.properties,l={},s=0;s<u.length;s++){var c=u[s];l[c.name]=c.strValue}t.push({selector:n?n.toString():"core",style:l})}return t};var gm={};gm.appendFromString=function(t){var e=this,r=this,n=""+t,u,l,s;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function c(){n.length>u.length?n=n.substr(u.length):n=""}function d(){l.length>s.length?l=l.substr(s.length):l=""}for(;;){var f=n.match(/^\s*$/);if(f)break;var v=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!v){Mt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}u=v[0];var g=v[1];if(g!=="core"){var p=new ji(g);if(p.invalid){Mt("Skipping parsing of block: Invalid selector found in string stylesheet: "+g),c();continue}}var E=v[2],b=!1;l=E;for(var C=[];;){var w=l.match(/^\s*$/);if(w)break;var S=l.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!S){Mt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+E),b=!0;break}s=S[0];var N=S[1],R=S[2],D=e.properties[N];if(!D){Mt("Skipping property: Invalid property name in: "+s),d();continue}var O=r.parse(N,R);if(!O){Mt("Skipping property: Invalid property definition in: "+s),d();continue}C.push({name:N,val:R}),d()}if(b){c();break}r.selector(g);for(var I=0;I<C.length;I++){var M=C[I];r.css(M.name,M.val)}c()}return r};gm.fromString=function(t){var e=this;return e.resetToDefault(),e.appendFromString(t),e};var Er={};(function(){var t=Rr,e=_w,r=Uw,n=Pw,u=qw,l=function(le){return"^"+le+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},s=function(le){var fe=t+"|\\w+|"+e+"|"+r+"|"+n+"|"+u;return"^"+le+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+t+")\\s*\\,\\s*("+t+")\\s*,\\s*("+fe+")\\s*\\,\\s*("+fe+")\\)$"},c=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];Er.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:l("data")},layoutData:{mapping:!0,regex:l("layoutData")},scratch:{mapping:!0,regex:l("scratch")},mapData:{mapping:!0,regex:s("mapData")},mapLayoutData:{mapping:!0,regex:s("mapLayoutData")},mapScratch:{mapping:!0,regex:s("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:c,singleRegexMatchValue:!0},urls:{regexes:c,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(le,fe){switch(le.length){case 2:return fe[0]!=="deg"&&fe[0]!=="rad"&&fe[1]!=="deg"&&fe[1]!=="rad";case 1:return Xe(le[0])||fe[0]==="deg"||fe[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*,\\s*("+t+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(le){var fe=le.length;return fe===1||fe===2||fe===4}}};var d={zeroNonZero:function(le,fe){return(le==null||fe==null)&&le!==fe||le==0&&fe!=0?!0:le!=0&&fe==0},any:function(le,fe){return le!=fe},emptyNonEmpty:function(le,fe){var Ee=Hi(le),De=Hi(fe);return Ee&&!De||!Ee&&De}},f=Er.types,v=[{name:"label",type:f.text,triggersBounds:d.any,triggersZOrder:d.emptyNonEmpty},{name:"text-rotation",type:f.textRotation,triggersBounds:d.any},{name:"text-margin-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"text-margin-y",type:f.bidirectionalSize,triggersBounds:d.any}],g=[{name:"source-label",type:f.text,triggersBounds:d.any},{name:"source-text-rotation",type:f.textRotation,triggersBounds:d.any},{name:"source-text-margin-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"source-text-margin-y",type:f.bidirectionalSize,triggersBounds:d.any},{name:"source-text-offset",type:f.size,triggersBounds:d.any}],p=[{name:"target-label",type:f.text,triggersBounds:d.any},{name:"target-text-rotation",type:f.textRotation,triggersBounds:d.any},{name:"target-text-margin-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"target-text-margin-y",type:f.bidirectionalSize,triggersBounds:d.any},{name:"target-text-offset",type:f.size,triggersBounds:d.any}],E=[{name:"font-family",type:f.fontFamily,triggersBounds:d.any},{name:"font-style",type:f.fontStyle,triggersBounds:d.any},{name:"font-weight",type:f.fontWeight,triggersBounds:d.any},{name:"font-size",type:f.size,triggersBounds:d.any},{name:"text-transform",type:f.textTransform,triggersBounds:d.any},{name:"text-wrap",type:f.textWrap,triggersBounds:d.any},{name:"text-overflow-wrap",type:f.textOverflowWrap,triggersBounds:d.any},{name:"text-max-width",type:f.size,triggersBounds:d.any},{name:"text-outline-width",type:f.size,triggersBounds:d.any},{name:"line-height",type:f.positiveNumber,triggersBounds:d.any}],b=[{name:"text-valign",type:f.valign,triggersBounds:d.any},{name:"text-halign",type:f.halign,triggersBounds:d.any},{name:"color",type:f.color},{name:"text-outline-color",type:f.color},{name:"text-outline-opacity",type:f.zeroOneNumber},{name:"text-background-color",type:f.color},{name:"text-background-opacity",type:f.zeroOneNumber},{name:"text-background-padding",type:f.size,triggersBounds:d.any},{name:"text-border-opacity",type:f.zeroOneNumber},{name:"text-border-color",type:f.color},{name:"text-border-width",type:f.size,triggersBounds:d.any},{name:"text-border-style",type:f.borderStyle,triggersBounds:d.any},{name:"text-background-shape",type:f.textBackgroundShape,triggersBounds:d.any},{name:"text-justification",type:f.justification},{name:"box-select-labels",type:f.bool,triggersBounds:d.any}],C=[{name:"events",type:f.bool,triggersZOrder:d.any},{name:"text-events",type:f.bool,triggersZOrder:d.any},{name:"box-selection",type:f.boxSelection,triggersZOrder:d.any}],w=[{name:"display",type:f.display,triggersZOrder:d.any,triggersBounds:d.any,triggersBoundsOfConnectedEdges:d.any,triggersBoundsOfParallelEdges:function(le,fe,Ee){return le===fe?!1:Ee.pstyle("curve-style").value==="bezier"}},{name:"visibility",type:f.visibility,triggersZOrder:d.any},{name:"opacity",type:f.zeroOneNumber,triggersZOrder:d.zeroNonZero},{name:"text-opacity",type:f.zeroOneNumber},{name:"min-zoomed-font-size",type:f.size},{name:"z-compound-depth",type:f.zCompoundDepth,triggersZOrder:d.any},{name:"z-index-compare",type:f.zIndexCompare,triggersZOrder:d.any},{name:"z-index",type:f.number,triggersZOrder:d.any}],S=[{name:"overlay-padding",type:f.size,triggersBounds:d.any},{name:"overlay-color",type:f.color},{name:"overlay-opacity",type:f.zeroOneNumber,triggersBounds:d.zeroNonZero},{name:"overlay-shape",type:f.overlayShape,triggersBounds:d.any},{name:"overlay-corner-radius",type:f.cornerRadius}],N=[{name:"underlay-padding",type:f.size,triggersBounds:d.any},{name:"underlay-color",type:f.color},{name:"underlay-opacity",type:f.zeroOneNumber,triggersBounds:d.zeroNonZero},{name:"underlay-shape",type:f.overlayShape,triggersBounds:d.any},{name:"underlay-corner-radius",type:f.cornerRadius}],R=[{name:"transition-property",type:f.propList},{name:"transition-duration",type:f.time},{name:"transition-delay",type:f.time},{name:"transition-timing-function",type:f.easing}],D=function(le,fe){return fe.value==="label"?-le.poolIndex():fe.pfValue},O=[{name:"height",type:f.nodeSize,triggersBounds:d.any,hashOverride:D},{name:"width",type:f.nodeSize,triggersBounds:d.any,hashOverride:D},{name:"shape",type:f.nodeShape,triggersBounds:d.any},{name:"shape-polygon-points",type:f.polygonPointList,triggersBounds:d.any},{name:"corner-radius",type:f.cornerRadius},{name:"background-color",type:f.color},{name:"background-fill",type:f.fill},{name:"background-opacity",type:f.zeroOneNumber},{name:"background-blacken",type:f.nOneOneNumber},{name:"background-gradient-stop-colors",type:f.colors},{name:"background-gradient-stop-positions",type:f.percentages},{name:"background-gradient-direction",type:f.gradientDirection},{name:"padding",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"padding-relative-to",type:f.paddingRelativeTo,triggersBounds:d.any},{name:"bounds-expansion",type:f.boundsExpansion,triggersBounds:d.any}],I=[{name:"border-color",type:f.color},{name:"border-opacity",type:f.zeroOneNumber},{name:"border-width",type:f.size,triggersBounds:d.any},{name:"border-style",type:f.borderStyle},{name:"border-cap",type:f.lineCap},{name:"border-join",type:f.lineJoin},{name:"border-dash-pattern",type:f.numbers},{name:"border-dash-offset",type:f.number},{name:"border-position",type:f.linePosition}],M=[{name:"outline-color",type:f.color},{name:"outline-opacity",type:f.zeroOneNumber},{name:"outline-width",type:f.size,triggersBounds:d.any},{name:"outline-style",type:f.borderStyle},{name:"outline-offset",type:f.size,triggersBounds:d.any}],z=[{name:"background-image",type:f.urls},{name:"background-image-crossorigin",type:f.bgCrossOrigin},{name:"background-image-opacity",type:f.zeroOneNumbers},{name:"background-image-containment",type:f.bgContainment},{name:"background-image-smoothing",type:f.bools},{name:"background-position-x",type:f.bgPos},{name:"background-position-y",type:f.bgPos},{name:"background-width-relative-to",type:f.bgRelativeTo},{name:"background-height-relative-to",type:f.bgRelativeTo},{name:"background-repeat",type:f.bgRepeat},{name:"background-fit",type:f.bgFit},{name:"background-clip",type:f.bgClip},{name:"background-width",type:f.bgWH},{name:"background-height",type:f.bgWH},{name:"background-offset-x",type:f.bgPos},{name:"background-offset-y",type:f.bgPos}],P=[{name:"position",type:f.position,triggersBounds:d.any},{name:"compound-sizing-wrt-labels",type:f.compoundIncludeLabels,triggersBounds:d.any},{name:"min-width",type:f.size,triggersBounds:d.any},{name:"min-width-bias-left",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"min-width-bias-right",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"min-height",type:f.size,triggersBounds:d.any},{name:"min-height-bias-top",type:f.sizeMaybePercent,triggersBounds:d.any},{name:"min-height-bias-bottom",type:f.sizeMaybePercent,triggersBounds:d.any}],k=[{name:"line-style",type:f.lineStyle},{name:"line-color",type:f.color},{name:"line-fill",type:f.fill},{name:"line-cap",type:f.lineCap},{name:"line-opacity",type:f.zeroOneNumber},{name:"line-dash-pattern",type:f.numbers},{name:"line-dash-offset",type:f.number},{name:"line-outline-width",type:f.size},{name:"line-outline-color",type:f.color},{name:"line-gradient-stop-colors",type:f.colors},{name:"line-gradient-stop-positions",type:f.percentages},{name:"curve-style",type:f.curveStyle,triggersBounds:d.any,triggersBoundsOfParallelEdges:function(le,fe){return le===fe?!1:le==="bezier"||fe==="bezier"}},{name:"haystack-radius",type:f.zeroOneNumber,triggersBounds:d.any},{name:"source-endpoint",type:f.edgeEndpoint,triggersBounds:d.any},{name:"target-endpoint",type:f.edgeEndpoint,triggersBounds:d.any},{name:"control-point-step-size",type:f.size,triggersBounds:d.any},{name:"control-point-distances",type:f.bidirectionalSizes,triggersBounds:d.any},{name:"control-point-weights",type:f.numbers,triggersBounds:d.any},{name:"segment-distances",type:f.bidirectionalSizes,triggersBounds:d.any},{name:"segment-weights",type:f.numbers,triggersBounds:d.any},{name:"segment-radii",type:f.numbers,triggersBounds:d.any},{name:"radius-type",type:f.radiusType,triggersBounds:d.any},{name:"taxi-turn",type:f.bidirectionalSizeMaybePercent,triggersBounds:d.any},{name:"taxi-turn-min-distance",type:f.size,triggersBounds:d.any},{name:"taxi-direction",type:f.axisDirection,triggersBounds:d.any},{name:"taxi-radius",type:f.number,triggersBounds:d.any},{name:"edge-distances",type:f.edgeDistances,triggersBounds:d.any},{name:"arrow-scale",type:f.positiveNumber,triggersBounds:d.any},{name:"loop-direction",type:f.angle,triggersBounds:d.any},{name:"loop-sweep",type:f.angle,triggersBounds:d.any},{name:"source-distance-from-node",type:f.size,triggersBounds:d.any},{name:"target-distance-from-node",type:f.size,triggersBounds:d.any}],U=[{name:"ghost",type:f.bool,triggersBounds:d.any},{name:"ghost-offset-x",type:f.bidirectionalSize,triggersBounds:d.any},{name:"ghost-offset-y",type:f.bidirectionalSize,triggersBounds:d.any},{name:"ghost-opacity",type:f.zeroOneNumber}],L=[{name:"selection-box-color",type:f.color},{name:"selection-box-opacity",type:f.zeroOneNumber},{name:"selection-box-border-color",type:f.color},{name:"selection-box-border-width",type:f.size},{name:"active-bg-color",type:f.color},{name:"active-bg-opacity",type:f.zeroOneNumber},{name:"active-bg-size",type:f.size},{name:"outside-texture-bg-color",type:f.color},{name:"outside-texture-bg-opacity",type:f.zeroOneNumber}],G=[];Er.pieBackgroundN=16,G.push({name:"pie-size",type:f.sizeMaybePercent}),G.push({name:"pie-hole",type:f.sizeMaybePercent}),G.push({name:"pie-start-angle",type:f.angle});for(var X=1;X<=Er.pieBackgroundN;X++)G.push({name:"pie-"+X+"-background-color",type:f.color}),G.push({name:"pie-"+X+"-background-size",type:f.percent}),G.push({name:"pie-"+X+"-background-opacity",type:f.zeroOneNumber});var Z=[];Er.stripeBackgroundN=16,Z.push({name:"stripe-size",type:f.sizeMaybePercent}),Z.push({name:"stripe-direction",type:f.axisDirectionPrimary});for(var H=1;H<=Er.stripeBackgroundN;H++)Z.push({name:"stripe-"+H+"-background-color",type:f.color}),Z.push({name:"stripe-"+H+"-background-size",type:f.percent}),Z.push({name:"stripe-"+H+"-background-opacity",type:f.zeroOneNumber});var j=[],W=Er.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:f.arrowShape,triggersBounds:d.any},{name:"arrow-color",type:f.color},{name:"arrow-fill",type:f.arrowFill},{name:"arrow-width",type:f.arrowWidth}].forEach(function(ne){W.forEach(function(le){var fe=le+"-"+ne.name,Ee=ne.type,De=ne.triggersBounds;j.push({name:fe,type:Ee,triggersBounds:De})})},{});var ee=Er.properties=[].concat(C,R,w,S,N,U,b,E,v,g,p,O,I,M,z,G,Z,P,k,j,L),te=Er.propertyGroups={behavior:C,transition:R,visibility:w,overlay:S,underlay:N,ghost:U,commonLabel:b,labelDimensions:E,mainLabel:v,sourceLabel:g,targetLabel:p,nodeBody:O,nodeBorder:I,nodeOutline:M,backgroundImage:z,pie:G,stripe:Z,compound:P,edgeLine:k,edgeArrow:j,core:L},q=Er.propertyGroupNames={},Q=Er.propertyGroupKeys=Object.keys(te);Q.forEach(function(ne){q[ne]=te[ne].map(function(le){return le.name}),te[ne].forEach(function(le){return le.groupKey=ne})});var J=Er.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];Er.propertyNames=ee.map(function(ne){return ne.name});for(var ie=0;ie<ee.length;ie++){var oe=ee[ie];ee[oe.name]=oe}for(var he=0;he<J.length;he++){var be=J[he],Re=ee[be.pointsTo],ye={name:be.name,alias:!0,pointsTo:Re};ee.push(ye),ee[be.name]=ye}})();Er.getDefaultProperty=function(t){return this.getDefaultProperties()[t]};Er.getDefaultProperties=function(){var t=this._private;if(t.defaultProperties!=null)return t.defaultProperties;for(var e=$e({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(d,f){for(var v=1;v<=Er.pieBackgroundN;v++){var g=f.name.replace("{{i}}",v),p=f.value;d[g]=p}return d},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(d,f){for(var v=1;v<=Er.stripeBackgroundN;v++){var g=f.name.replace("{{i}}",v),p=f.value;d[g]=p}return d},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(d,f){return Er.arrowPrefixes.forEach(function(v){var g=v+"-"+f.name,p=f.value;d[g]=p}),d},{})),r={},n=0;n<this.properties.length;n++){var u=this.properties[n];if(!u.pointsTo){var l=u.name,s=e[l],c=this.parse(l,s);r[l]=c}}return t.defaultProperties=r,t.defaultProperties};Er.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Od={};Od.parse=function(t,e,r,n){var u=this;if(ar(e))return u.parseImplWarn(t,e,r,n);var l=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,s=r?"t":"f",c=""+e,d=fx(t,c,s,l),f=u.propCache=u.propCache||[],v;return(v=f[d])||(v=f[d]=u.parseImplWarn(t,e,r,n)),(r||n==="mapping")&&(v=hn(v),v&&(v.value=hn(v.value))),v};Od.parseImplWarn=function(t,e,r,n){var u=this.parseImpl(t,e,r,n);return!u&&e!=null&&Mt("The style property `".concat(t,": ").concat(e,"` is invalid")),u&&(u.name==="width"||u.name==="height")&&e==="label"&&Mt("The style value of `label` is deprecated for `"+u.name+"`"),u};Od.parseImpl=function(t,e,r,n){var u=this;t=Jp(t);var l=u.properties[t],s=e,c=u.types;if(!l||e===void 0)return null;l.alias&&(l=l.pointsTo,t=l.name);var d=Xe(e);d&&(e=e.trim());var f=l.type;if(!f)return null;if(r&&(e===""||e===null))return{name:t,value:e,bypass:!0,deleteBypass:!0};if(ar(e))return{name:t,value:e,strValue:"fn",mapped:c.fn,bypass:r};var v,g;if(!(!d||n||e.length<7||e[1]!=="a")){if(e.length>=7&&e[0]==="d"&&(v=new RegExp(c.data.regex).exec(e))){if(r)return!1;var p=c.data;return{name:t,value:v,strValue:""+e,mapped:p,field:v[1],bypass:r}}else if(e.length>=10&&e[0]==="m"&&(g=new RegExp(c.mapData.regex).exec(e))){if(r||f.multiple)return!1;var E=c.mapData;if(!(f.color||f.number))return!1;var b=this.parse(t,g[4]);if(!b||b.mapped)return!1;var C=this.parse(t,g[5]);if(!C||C.mapped)return!1;if(b.pfValue===C.pfValue||b.strValue===C.strValue)return Mt("`"+t+": "+e+"` is not a valid mapper because the output range is zero; converting to `"+t+": "+b.strValue+"`"),this.parse(t,b.strValue);if(f.color){var w=b.value,S=C.value,N=w[0]===S[0]&&w[1]===S[1]&&w[2]===S[2]&&(w[3]===S[3]||(w[3]==null||w[3]===1)&&(S[3]==null||S[3]===1));if(N)return!1}return{name:t,value:g,strValue:""+e,mapped:E,field:g[1],fieldMin:parseFloat(g[2]),fieldMax:parseFloat(g[3]),valueMin:b.value,valueMax:C.value,bypass:r}}}if(f.multiple&&n!=="multiple"){var R;if(d?R=e.split(/\s+/):Ht(e)?R=e:R=[e],f.evenMultiple&&R.length%2!==0)return null;for(var D=[],O=[],I=[],M="",z=!1,P=0;P<R.length;P++){var k=u.parse(t,R[P],r,"multiple");z=z||Xe(k.value),D.push(k.value),I.push(k.pfValue!=null?k.pfValue:k.value),O.push(k.units),M+=(P>0?" ":"")+k.strValue}return f.validate&&!f.validate(D,O)?null:f.singleEnum&&z?D.length===1&&Xe(D[0])?{name:t,value:D[0],strValue:D[0],bypass:r}:null:{name:t,value:D,pfValue:I,strValue:M,bypass:r,units:O}}var U=function(){for(var ye=0;ye<f.enums.length;ye++){var ne=f.enums[ye];if(ne===e)return{name:t,value:e,strValue:""+e,bypass:r}}return null};if(f.number){var L,G="px";if(f.units&&(L=f.units),f.implicitUnits&&(G=f.implicitUnits),!f.unitless)if(d){var X="px|em"+(f.allowPercent?"|\\%":"");L&&(X=L);var Z=e.match("^("+Rr+")("+X+")?$");Z&&(e=Z[1],L=Z[2]||G)}else(!L||f.implicitUnits)&&(L=G);if(e=parseFloat(e),isNaN(e)&&f.enums===void 0)return null;if(isNaN(e)&&f.enums!==void 0)return e=s,U();if(f.integer&&!Dw(e)||f.min!==void 0&&(e<f.min||f.strictMin&&e===f.min)||f.max!==void 0&&(e>f.max||f.strictMax&&e===f.max))return null;var H={name:t,value:e,strValue:""+e+(L||""),units:L,bypass:r};return f.unitless||L!=="px"&&L!=="em"?H.pfValue=e:H.pfValue=L==="px"||!L?e:this.getEmSizeInPixels()*e,(L==="ms"||L==="s")&&(H.pfValue=L==="ms"?e:1e3*e),(L==="deg"||L==="rad")&&(H.pfValue=L==="rad"?e:P2(e)),L==="%"&&(H.pfValue=e/100),H}else if(f.propList){var j=[],W=""+e;if(W!=="none"){for(var ee=W.split(/\s*,\s*|\s+/),te=0;te<ee.length;te++){var q=ee[te].trim();u.properties[q]?j.push(q):Mt("`"+q+"` is not a valid property name")}if(j.length===0)return null}return{name:t,value:j,strValue:j.length===0?"none":j.join(" "),bypass:r}}else if(f.color){var Q=nx(e);return Q?{name:t,value:Q,pfValue:Q,strValue:"rgb("+Q[0]+","+Q[1]+","+Q[2]+")",bypass:r}:null}else if(f.regex||f.regexes){if(f.enums){var J=U();if(J)return J}for(var ie=f.regexes?f.regexes:[f.regex],oe=0;oe<ie.length;oe++){var he=new RegExp(ie[oe]),be=he.exec(e);if(be)return{name:t,value:f.singleRegexMatchValue?be[1]:be,strValue:""+e,bypass:r}}return null}else return f.string?{name:t,value:""+e,strValue:""+e,bypass:r}:f.enums?U():null};var Lr=function(e){if(!(this instanceof Lr))return new Lr(e);if(!$p(e)){er("A style must have a core reference");return}this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()},Zr=Lr.prototype;Zr.instanceString=function(){return"style"};Zr.clear=function(){for(var t=this._private,e=t.cy,r=e.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,t.contextStyles={},t.propDiffs={},this.cleanElements(r,!0),r.forEach(function(u){var l=u[0]._private;l.styleDirty=!0,l.appliedInitStyle=!1}),this};Zr.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Zr.core=function(t){return this._private.coreStyle[t]||this.getDefaultProperty(t)};Zr.selector=function(t){var e=t==="core"?null:new ji(t),r=this.length++;return this[r]={selector:e,properties:[],mappedProperties:[],index:r},this};Zr.css=function(){var t=this,e=arguments;if(e.length===1)for(var r=e[0],n=0;n<t.properties.length;n++){var u=t.properties[n],l=r[u.name];l===void 0&&(l=r[pd(u.name)]),l!==void 0&&this.cssRule(u.name,l)}else e.length===2&&this.cssRule(e[0],e[1]);return this};Zr.style=Zr.css;Zr.cssRule=function(t,e){var r=this.parse(t,e);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r);var u=!this[n].selector;u&&(this._private.coreStyle[r.name]=r)}return this};Zr.append=function(t){return tx(t)?t.appendToStyle(this):Ht(t)?this.appendFromJson(t):Xe(t)&&this.appendFromString(t),this};Lr.fromJson=function(t,e){var r=new Lr(t);return r.fromJson(e),r};Lr.fromString=function(t,e){return new Lr(t).fromString(e)};[zr,Fo,hm,gn,Dd,gm,Er,Od].forEach(function(t){$e(Zr,t)});Lr.types=Zr.types;Lr.properties=Zr.properties;Lr.propertyGroups=Zr.propertyGroups;Lr.propertyGroupNames=Zr.propertyGroupNames;Lr.propertyGroupKeys=Zr.propertyGroupKeys;var VN={style:function(e){if(e){var r=this.setStyle(e);r.update()}return this._private.style},setStyle:function(e){var r=this._private;return tx(e)?r.style=e.generateStyle(this):Ht(e)?r.style=Lr.fromJson(this,e):Xe(e)?r.style=Lr.fromString(this,e):r.style=Lr(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},jN="single",Iu={autolock:function(e){if(e!==void 0)this._private.autolock=!!e;else return this._private.autolock;return this},autoungrabify:function(e){if(e!==void 0)this._private.autoungrabify=!!e;else return this._private.autoungrabify;return this},autounselectify:function(e){if(e!==void 0)this._private.autounselectify=!!e;else return this._private.autounselectify;return this},selectionType:function(e){var r=this._private;if(r.selectionType==null&&(r.selectionType=jN),e!==void 0)(e==="additive"||e==="single")&&(r.selectionType=e);else return r.selectionType;return this},panningEnabled:function(e){if(e!==void 0)this._private.panningEnabled=!!e;else return this._private.panningEnabled;return this},userPanningEnabled:function(e){if(e!==void 0)this._private.userPanningEnabled=!!e;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(e){if(e!==void 0)this._private.zoomingEnabled=!!e;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(e){if(e!==void 0)this._private.userZoomingEnabled=!!e;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(e){if(e!==void 0)this._private.boxSelectionEnabled=!!e;else return this._private.boxSelectionEnabled;return this},pan:function(){var e=arguments,r=this._private.pan,n,u,l,s,c;switch(e.length){case 0:return r;case 1:if(Xe(e[0]))return n=e[0],r[n];if(Tt(e[0])){if(!this._private.panningEnabled)return this;l=e[0],s=l.x,c=l.y,Me(s)&&(r.x=s),Me(c)&&(r.y=c),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=e[0],u=e[1],(n==="x"||n==="y")&&Me(u)&&(r[n]=u),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(e,r){var n=arguments,u=this._private.pan,l,s,c,d,f;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Tt(e)&&(c=n[0],d=c.x,f=c.y,Me(d)&&(u.x+=d),Me(f)&&(u.y+=f),this.emit("pan viewport"));break;case 2:l=e,s=r,(l==="x"||l==="y")&&Me(s)&&(u[l]+=s),this.emit("pan viewport");break}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,r){var n=this.getFitViewport(e,r);if(n){var u=this._private;u.zoom=n.zoom,u.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,r){if(Me(e)&&r===void 0&&(r=e,e=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(Xe(e)){var u=e;e=this.$(u)}else if(Bw(e)){var l=e;n={x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else Ra(e)||(e=this.mutableElements());if(!(Ra(e)&&e.empty())){n=n||e.boundingBox();var s=this.width(),c=this.height(),d;if(r=Me(r)?r:0,!isNaN(s)&&!isNaN(c)&&s>0&&c>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){d=Math.min((s-2*r)/n.w,(c-2*r)/n.h),d=d>this._private.maxZoom?this._private.maxZoom:d,d=d<this._private.minZoom?this._private.minZoom:d;var f={x:(s-d*(n.x1+n.x2))/2,y:(c-d*(n.y1+n.y2))/2};return{zoom:d,pan:f}}}}},zoomRange:function(e,r){var n=this._private;if(r==null){var u=e;e=u.min,r=u.max}return Me(e)&&Me(r)&&e<=r?(n.minZoom=e,n.maxZoom=r):Me(e)&&r===void 0&&e<=n.maxZoom?n.minZoom=e:Me(r)&&e===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(e){return e===void 0?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return e===void 0?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var r=this._private,n=r.pan,u=r.zoom,l,s,c=!1;if(r.zoomingEnabled||(c=!0),Me(e)?s=e:Tt(e)&&(s=e.level,e.position!=null?l=bd(e.position,u,n):e.renderedPosition!=null&&(l=e.renderedPosition),l!=null&&!r.panningEnabled&&(c=!0)),s=s>r.maxZoom?r.maxZoom:s,s=s<r.minZoom?r.minZoom:s,c||!Me(s)||s===u||l!=null&&(!Me(l.x)||!Me(l.y)))return null;if(l!=null){var d=n,f=u,v=s,g={x:-v/f*(l.x-d.x)+l.x,y:-v/f*(l.y-d.y)+l.y};return{zoomed:!0,panned:!0,zoom:v,pan:g}}else return{zoomed:!0,panned:!1,zoom:s,pan:n}},zoom:function(e){if(e===void 0)return this._private.zoom;var r=this.getZoomedViewport(e),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(e){var r=this._private,n=!0,u=!0,l=[],s=!1,c=!1;if(!e)return this;if(Me(e.zoom)||(n=!1),Tt(e.pan)||(u=!1),!n&&!u)return this;if(n){var d=e.zoom;d<r.minZoom||d>r.maxZoom||!r.zoomingEnabled?s=!0:(r.zoom=d,l.push("zoom"))}if(u&&(!s||!e.cancelOnFailedZoom)&&r.panningEnabled){var f=e.pan;Me(f.x)&&(r.pan.x=f.x,c=!1),Me(f.y)&&(r.pan.y=f.y,c=!1),c||l.push("pan")}return l.length>0&&(l.push("viewport"),this.emit(l.join(" ")),this.notify("viewport")),this},center:function(e){var r=this.getCenterPan(e);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,r){if(this._private.panningEnabled){if(Xe(e)){var n=e;e=this.mutableElements().filter(n)}else Ra(e)||(e=this.mutableElements());if(e.length!==0){var u=e.boundingBox(),l=this.width(),s=this.height();r=r===void 0?this._private.zoom:r;var c={x:(l-r*(u.x1+u.x2))/2,y:(s-r*(u.y1+u.y2))/2};return c}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,r=e.container,n=this;return e.sizeCache=e.sizeCache||(r?(function(){var u=n.window().getComputedStyle(r),l=function(c){return parseFloat(u.getPropertyValue(c))};return{width:r.clientWidth-l("padding-left")-l("padding-right"),height:r.clientHeight-l("padding-top")-l("padding-bottom")}})():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),u={x1:(n.x1-e.x)/r,x2:(n.x2-e.x)/r,y1:(n.y1-e.y)/r,y2:(n.y2-e.y)/r};return u.w=u.x2-u.x1,u.h=u.y2-u.y1,u},renderedExtent:function(){var e=this.width(),r=this.height();return{x1:0,y1:0,x2:e,y2:r,w:e,h:r}},multiClickDebounceTime:function(e){if(e)this._private.multiClickDebounceTime=e;else return this._private.multiClickDebounceTime;return this}};Iu.centre=Iu.center;Iu.autolockNodes=Iu.autolock;Iu.autoungrabifyNodes=Iu.autoungrabify;var Lo={data:Ot.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Ot.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Ot.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ot.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Lo.attr=Lo.data;Lo.removeAttr=Lo.removeData;var zo=function(e){var r=this;e=$e({},e);var n=e.container;n&&!ad(n)&&ad(n[0])&&(n=n[0]);var u=n?n._cyreg:null;u=u||{},u&&u.cy&&(u.cy.destroy(),u={});var l=u.readies=u.readies||[];n&&(n._cyreg=u),u.cy=r;var s=Nr!==void 0&&n!==void 0&&!e.headless,c=e;c.layout=$e({name:s?"grid":"null"},c.layout),c.renderer=$e({name:s?"canvas":"null"},c.renderer);var d=function(b,C,w){return C!==void 0?C:w!==void 0?w:b},f=this._private={container:n,ready:!1,options:c,elements:new Hr(this),listeners:[],aniEles:new Hr(this),data:c.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:d(!0,c.zoomingEnabled),userZoomingEnabled:d(!0,c.userZoomingEnabled),panningEnabled:d(!0,c.panningEnabled),userPanningEnabled:d(!0,c.userPanningEnabled),boxSelectionEnabled:d(!0,c.boxSelectionEnabled),autolock:d(!1,c.autolock,c.autolockNodes),autoungrabify:d(!1,c.autoungrabify,c.autoungrabifyNodes),autounselectify:d(!1,c.autounselectify),styleEnabled:c.styleEnabled===void 0?s:c.styleEnabled,zoom:Me(c.zoom)?c.zoom:1,pan:{x:Tt(c.pan)&&Me(c.pan.x)?c.pan.x:0,y:Tt(c.pan)&&Me(c.pan.y)?c.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:d(250,c.multiClickDebounceTime)};this.createEmitter(),this.selectionType(c.selectionType),this.zoomRange({min:c.minZoom,max:c.maxZoom});var v=function(b,C){var w=b.some(Iw);if(w)return Wl.all(b).then(C);C(b)};f.styleEnabled&&r.setStyle([]);var g=$e({},c,c.renderer);r.initRenderer(g);var p=function(b,C,w){r.notifications(!1);var S=r.mutableElements();S.length>0&&S.remove(),b!=null&&(Tt(b)||Ht(b))&&r.add(b),r.one("layoutready",function(R){r.notifications(!0),r.emit(R),r.one("load",C),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",w),r.emit("done")});var N=$e({},r._private.options.layout);N.eles=r.elements(),r.layout(N).run()};v([c.style,c.elements],function(E){var b=E[0],C=E[1];f.styleEnabled&&r.style().append(b),p(C,function(){r.startAnimationLoop(),f.ready=!0,ar(c.ready)&&r.on("ready",c.ready);for(var w=0;w<l.length;w++){var S=l[w];r.on("ready",S)}u&&(u.readies=[]),r.emit("ready")},c.done)})},cd=zo.prototype;$e(cd,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){var e=this._private.container;if(e==null)return Nr;var r=this._private.container.ownerDocument;return r===void 0||r==null?Nr:r.defaultView||Nr},mount:function(e){if(e!=null){var r=this,n=r._private,u=n.options;return!ad(e)&&ad(e[0])&&(e=e[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=e,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer($e({},u,u.renderer,{name:u.renderer.name==="null"?"canvas":u.renderer.name})),r.startAnimationLoop(),r.style(u.style),r.emit("mount"),r}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return hn(this._private.options)},json:function(e){var r=this,n=r._private,u=r.mutableElements(),l=function(D){return r.getElementById(D.id())};if(Tt(e)){if(r.startBatch(),e.elements){var s={},c=function(D,O){for(var I=[],M=[],z=0;z<D.length;z++){var P=D[z];if(!P.data.id){Mt("cy.json() cannot handle elements without an ID attribute");continue}var k=""+P.data.id,U=r.getElementById(k);s[k]=!0,U.length!==0?M.push({ele:U,json:P}):(O&&(P.group=O),I.push(P))}r.add(I);for(var L=0;L<M.length;L++){var G=M[L],X=G.ele,Z=G.json;X.json(Z)}};if(Ht(e.elements))c(e.elements);else for(var d=["nodes","edges"],f=0;f<d.length;f++){var v=d[f],g=e.elements[v];Ht(g)&&c(g,v)}var p=r.collection();u.filter(function(R){return!s[R.id()]}).forEach(function(R){R.isParent()?p.merge(R):R.remove()}),p.forEach(function(R){return R.children().move({parent:null})}),p.forEach(function(R){return l(R).remove()})}e.style&&r.style(e.style),e.zoom!=null&&e.zoom!==n.zoom&&r.zoom(e.zoom),e.pan&&(e.pan.x!==n.pan.x||e.pan.y!==n.pan.y)&&r.pan(e.pan),e.data&&r.data(e.data);for(var E=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],b=0;b<E.length;b++){var C=E[b];e[C]!=null&&r[C](e[C])}return r.endBatch(),this}else{var w=!!e,S={};w?S.elements=this.elements().map(function(R){return R.json()}):(S.elements={},u.forEach(function(R){var D=R.group();S.elements[D]||(S.elements[D]=[]),S.elements[D].push(R.json())})),this._private.styleEnabled&&(S.style=r.style().json()),S.data=hn(r.data());var N=n.options;return S.zoomingEnabled=n.zoomingEnabled,S.userZoomingEnabled=n.userZoomingEnabled,S.zoom=n.zoom,S.minZoom=n.minZoom,S.maxZoom=n.maxZoom,S.panningEnabled=n.panningEnabled,S.userPanningEnabled=n.userPanningEnabled,S.pan=hn(n.pan),S.boxSelectionEnabled=n.boxSelectionEnabled,S.renderer=hn(N.renderer),S.hideEdgesOnViewport=N.hideEdgesOnViewport,S.textureOnViewport=N.textureOnViewport,S.wheelSensitivity=N.wheelSensitivity,S.motionBlur=N.motionBlur,S.multiClickDebounceTime=N.multiClickDebounceTime,S}}});cd.$id=cd.getElementById;[IN,UN,tT,Up,Qf,qN,Pp,Wf,VN,Iu,Lo].forEach(function(t){$e(cd,t)});var FN={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}},YN={maximal:!1,acyclic:!1},Il=function(e){return e.scratch("breadthfirst")},bE=function(e,r){return e.scratch("breadthfirst",r)};function rT(t){this.options=$e({},FN,YN,t)}rT.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=r.nodes().filter(function(Ke){return Ke.isChildless()}),u=r,l=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,c=!!t.boundingBox,d=aa(c?t.boundingBox:structuredClone(e.extent())),f;if(Ra(t.roots))f=t.roots;else if(Ht(t.roots)){for(var v=[],g=0;g<t.roots.length;g++){var p=t.roots[g],E=e.getElementById(p);v.push(E)}f=e.collection(v)}else if(Xe(t.roots))f=e.$(t.roots);else if(l)f=n.roots();else{var b=r.components();f=e.collection();for(var C=function(){var Oe=b[w],Ge=Oe.maxDegree(!1),Fe=Oe.filter(function(tt){return tt.degree(!1)===Ge});f=f.add(Fe)},w=0;w<b.length;w++)C()}var S=[],N={},R=function(Oe,Ge){S[Ge]==null&&(S[Ge]=[]);var Fe=S[Ge].length;S[Ge].push(Oe),bE(Oe,{index:Fe,depth:Ge})},D=function(Oe,Ge){var Fe=Il(Oe),tt=Fe.depth,Ie=Fe.index;S[tt][Ie]=null,Oe.isChildless()&&R(Oe,Ge)};u.bfs({roots:f,directed:t.directed,visit:function(Oe,Ge,Fe,tt,Ie){var at=Oe[0],ct=at.id();at.isChildless()&&R(at,Ie),N[ct]=!0}});for(var O=[],I=0;I<n.length;I++){var M=n[I];N[M.id()]||O.push(M)}var z=function(Oe){for(var Ge=S[Oe],Fe=0;Fe<Ge.length;Fe++){var tt=Ge[Fe];if(tt==null){Ge.splice(Fe,1),Fe--;continue}bE(tt,{depth:Oe,index:Fe})}},P=function(Oe,Ge){for(var Fe=Il(Oe),tt=Oe.incomers().filter(function(We){return We.isNode()&&r.has(We)}),Ie=-1,at=Oe.id(),ct=0;ct<tt.length;ct++){var yt=tt[ct],dt=Il(yt);Ie=Math.max(Ie,dt.depth)}if(Fe.depth<=Ie){if(!t.acyclic&&Ge[at])return null;var bt=Ie+1;return D(Oe,bt),Ge[at]=bt,!0}return!1};if(l&&s){var k=[],U={},L=function(Oe){return k.push(Oe)},G=function(){return k.shift()};for(n.forEach(function(Ke){return k.push(Ke)});k.length>0;){var X=G(),Z=P(X,U);if(Z)X.outgoers().filter(function(Ke){return Ke.isNode()&&r.has(Ke)}).forEach(L);else if(Z===null){Mt("Detected double maximal shift for node `"+X.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var H=0;if(t.avoidOverlap)for(var j=0;j<n.length;j++){var W=n[j],ee=W.layoutDimensions(t),te=ee.w,q=ee.h;H=Math.max(H,te,q)}var Q={},J=function(Oe){if(Q[Oe.id()])return Q[Oe.id()];for(var Ge=Il(Oe).depth,Fe=Oe.neighborhood(),tt=0,Ie=0,at=0;at<Fe.length;at++){var ct=Fe[at];if(!(ct.isEdge()||ct.isParent()||!n.has(ct))){var yt=Il(ct);if(yt!=null){var dt=yt.index,bt=yt.depth;if(!(dt==null||bt==null)){var We=S[bt].length;bt<Ge&&(tt+=dt/We,Ie++)}}}}return Ie=Math.max(1,Ie),tt=tt/Ie,Ie===0&&(tt=0),Q[Oe.id()]=tt,tt},ie=function(Oe,Ge){var Fe=J(Oe),tt=J(Ge),Ie=Fe-tt;return Ie===0?ax(Oe.id(),Ge.id()):Ie};t.depthSort!==void 0&&(ie=t.depthSort);for(var oe=S.length,he=0;he<oe;he++)S[he].sort(ie),z(he);for(var be=[],Re=0;Re<O.length;Re++)be.push(O[Re]);var ye=function(){for(var Oe=0;Oe<oe;Oe++)z(Oe)};be.length&&(S.unshift(be),oe=S.length,ye());for(var ne=0,le=0;le<oe;le++)ne=Math.max(S[le].length,ne);var fe={x:d.x1+d.w/2,y:d.y1+d.h/2},Ee=n.reduce(function(Ke,Oe){return(function(Ge){return{w:Ke.w===-1?Ge.w:(Ke.w+Ge.w)/2,h:Ke.h===-1?Ge.h:(Ke.h+Ge.h)/2}})(Oe.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}))},{w:-1,h:-1}),De=Math.max(oe===1?0:c?(d.h-t.padding*2-Ee.h)/(oe-1):(d.h-t.padding*2-Ee.h)/(oe+1),H),Le=S.reduce(function(Ke,Oe){return Math.max(Ke,Oe.length)},0),ut=function(Oe){var Ge=Il(Oe),Fe=Ge.depth,tt=Ge.index;if(t.circle){var Ie=Math.min(d.w/2/oe,d.h/2/oe);Ie=Math.max(Ie,H);var at=Ie*Fe+Ie-(oe>0&&S[0].length<=3?Ie/2:0),ct=2*Math.PI/S[Fe].length*tt;return Fe===0&&S[0].length===1&&(at=1),{x:fe.x+at*Math.cos(ct),y:fe.y+at*Math.sin(ct)}}else{var yt=S[Fe].length,dt=Math.max(yt===1?0:c?(d.w-t.padding*2-Ee.w)/((t.grid?Le:yt)-1):(d.w-t.padding*2-Ee.w)/((t.grid?Le:yt)+1),H),bt={x:fe.x+(tt+1-(yt+1)/2)*dt,y:fe.y+(Fe+1-(oe+1)/2)*De};return bt}},Qe={downward:0,leftward:90,upward:180,rightward:-90};Object.keys(Qe).indexOf(t.direction)===-1&&er("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys(Qe).join(", ")));var qe=function(Oe){return s2(ut(Oe),d,Qe[t.direction])};return r.nodes().layoutPositions(this,t,qe),this};var KN={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function aT(t){this.options=$e({},KN,t)}aT.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,u=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,l=n.nodes().not(":parent");e.sort&&(l=l.sort(e.sort));for(var s=aa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),c={x:s.x1+s.w/2,y:s.y1+s.h/2},d=e.sweep===void 0?2*Math.PI-2*Math.PI/l.length:e.sweep,f=d/Math.max(1,l.length-1),v,g=0,p=0;p<l.length;p++){var E=l[p],b=E.layoutDimensions(e),C=b.w,w=b.h;g=Math.max(g,C,w)}if(Me(e.radius)?v=e.radius:l.length<=1?v=0:v=Math.min(s.h,s.w)/2-g,l.length>1&&e.avoidOverlap){g*=1.75;var S=Math.cos(f)-Math.cos(0),N=Math.sin(f)-Math.sin(0),R=Math.sqrt(g*g/(S*S+N*N));v=Math.max(R,v)}var D=function(I,M){var z=e.startAngle+M*f*(u?1:-1),P=v*Math.cos(z),k=v*Math.sin(z),U={x:c.x+P,y:c.y+k};return U};return n.nodes().layoutPositions(this,e,D),this};var XN={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function nT(t){this.options=$e({},XN,t)}nT.prototype.run=function(){for(var t=this.options,e=t,r=e.counterclockwise!==void 0?!e.counterclockwise:e.clockwise,n=t.cy,u=e.eles,l=u.nodes().not(":parent"),s=aa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),c={x:s.x1+s.w/2,y:s.y1+s.h/2},d=[],f=0,v=0;v<l.length;v++){var g=l[v],p=void 0;p=e.concentric(g),d.push({value:p,node:g}),g._private.scratch.concentric=p}l.updateStyle();for(var E=0;E<l.length;E++){var b=l[E],C=b.layoutDimensions(e);f=Math.max(f,C.w,C.h)}d.sort(function(De,Le){return Le.value-De.value});for(var w=e.levelWidth(l),S=[[]],N=S[0],R=0;R<d.length;R++){var D=d[R];if(N.length>0){var O=Math.abs(N[0].value-D.value);O>=w&&(N=[],S.push(N))}N.push(D)}var I=f+e.minNodeSpacing;if(!e.avoidOverlap){var M=S.length>0&&S[0].length>1,z=Math.min(s.w,s.h)/2-I,P=z/(S.length+M?1:0);I=Math.min(I,P)}for(var k=0,U=0;U<S.length;U++){var L=S[U],G=e.sweep===void 0?2*Math.PI-2*Math.PI/L.length:e.sweep,X=L.dTheta=G/Math.max(1,L.length-1);if(L.length>1&&e.avoidOverlap){var Z=Math.cos(X)-Math.cos(0),H=Math.sin(X)-Math.sin(0),j=Math.sqrt(I*I/(Z*Z+H*H));k=Math.max(j,k)}L.r=k,k+=I}if(e.equidistant){for(var W=0,ee=0,te=0;te<S.length;te++){var q=S[te],Q=q.r-ee;W=Math.max(W,Q)}ee=0;for(var J=0;J<S.length;J++){var ie=S[J];J===0&&(ee=ie.r),ie.r=ee,ee+=W}}for(var oe={},he=0;he<S.length;he++)for(var be=S[he],Re=be.dTheta,ye=be.r,ne=0;ne<be.length;ne++){var le=be[ne],fe=e.startAngle+(r?1:-1)*Re*ne,Ee={x:c.x+ye*Math.cos(fe),y:c.y+ye*Math.sin(fe)};oe[le.node.id()]=Ee}return u.nodes().layoutPositions(this,e,function(De){var Le=De.id();return oe[Le]}),this};var mp,ZN={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Md(t){this.options=$e({},ZN,t),this.options.layout=this;var e=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(u){var l=u.source().data("id"),s=u.target().data("id"),c=e.some(function(f){return f.data("id")===l}),d=e.some(function(f){return f.data("id")===s});return!c||!d});this.options.eles=this.options.eles.not(n)}Md.prototype.run=function(){var t=this.options,e=t.cy,r=this;r.stopped=!1,(t.animate===!0||t.animate===!1)&&r.emit({type:"layoutstart",layout:r}),t.debug===!0?mp=!0:mp=!1;var n=QN(e,r,t);mp&&$N(n),t.randomize&&JN(n);var u=Jn(),l=function(){eR(n,e,t),t.fit===!0&&e.fit(t.padding)},s=function(p){return!(r.stopped||p>=t.numIter||(tR(n,t),n.temperature=n.temperature*t.coolingFactor,n.temperature<t.minTemp))},c=function(){if(t.animate===!0||t.animate===!1)l(),r.one("layoutstop",t.stop),r.emit({type:"layoutstop",layout:r});else{var p=t.eles.nodes(),E=uT(n,t,p);p.layoutPositions(r,t,E)}},d=0,f=!0;if(t.animate===!0){var v=function(){for(var p=0;f&&p<t.refresh;)f=s(d),d++,p++;if(!f)xE(n,t),c();else{var E=Jn();E-u>=t.animationThreshold&&l(),nd(v)}};v()}else{for(;f;)f=s(d),d++;xE(n,t),c()}return this};Md.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Md.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var QN=function(e,r,n){for(var u=n.eles.edges(),l=n.eles.nodes(),s=aa(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),c={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:l.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:u.size(),temperature:n.initialTemp,clientWidth:s.w,clientHeight:s.h,boundingBox:s},d=n.eles.components(),f={},v=0;v<d.length;v++)for(var g=d[v],p=0;p<g.length;p++){var E=g[p];f[E.id()]=v}for(var v=0;v<c.nodeSize;v++){var b=l[v],C=b.layoutDimensions(n),w={};w.isLocked=b.locked(),w.id=b.data("id"),w.parentId=b.data("parent"),w.cmptId=f[b.id()],w.children=[],w.positionX=b.position("x"),w.positionY=b.position("y"),w.offsetX=0,w.offsetY=0,w.height=C.w,w.width=C.h,w.maxX=w.positionX+w.width/2,w.minX=w.positionX-w.width/2,w.maxY=w.positionY+w.height/2,w.minY=w.positionY-w.height/2,w.padLeft=parseFloat(b.style("padding")),w.padRight=parseFloat(b.style("padding")),w.padTop=parseFloat(b.style("padding")),w.padBottom=parseFloat(b.style("padding")),w.nodeRepulsion=ar(n.nodeRepulsion)?n.nodeRepulsion(b):n.nodeRepulsion,c.layoutNodes.push(w),c.idToIndex[w.id]=v}for(var S=[],N=0,R=-1,D=[],v=0;v<c.nodeSize;v++){var b=c.layoutNodes[v],O=b.parentId;O!=null?c.layoutNodes[c.idToIndex[O]].children.push(b.id):(S[++R]=b.id,D.push(b.id))}for(c.graphSet.push(D);N<=R;){var I=S[N++],M=c.idToIndex[I],E=c.layoutNodes[M],z=E.children;if(z.length>0){c.graphSet.push(z);for(var v=0;v<z.length;v++)S[++R]=z[v]}}for(var v=0;v<c.graphSet.length;v++)for(var P=c.graphSet[v],p=0;p<P.length;p++){var k=c.idToIndex[P[p]];c.indexToGraph[k]=v}for(var v=0;v<c.edgeSize;v++){var U=u[v],L={};L.id=U.data("id"),L.sourceId=U.data("source"),L.targetId=U.data("target");var G=ar(n.idealEdgeLength)?n.idealEdgeLength(U):n.idealEdgeLength,X=ar(n.edgeElasticity)?n.edgeElasticity(U):n.edgeElasticity,Z=c.idToIndex[L.sourceId],H=c.idToIndex[L.targetId],j=c.indexToGraph[Z],W=c.indexToGraph[H];if(j!=W){for(var ee=WN(L.sourceId,L.targetId,c),te=c.graphSet[ee],q=0,w=c.layoutNodes[Z];te.indexOf(w.id)===-1;)w=c.layoutNodes[c.idToIndex[w.parentId]],q++;for(w=c.layoutNodes[H];te.indexOf(w.id)===-1;)w=c.layoutNodes[c.idToIndex[w.parentId]],q++;G*=q*n.nestingFactor}L.idealLength=G,L.elasticity=X,c.layoutEdges.push(L)}return c},WN=function(e,r,n){var u=iT(e,r,0,n);return 2>u.count?0:u.graph},iT=function(e,r,n,u){var l=u.graphSet[n];if(-1<l.indexOf(e)&&-1<l.indexOf(r))return{count:2,graph:n};for(var s=0,c=0;c<l.length;c++){var d=l[c],f=u.idToIndex[d],v=u.layoutNodes[f].children;if(v.length!==0){var g=u.indexToGraph[u.idToIndex[v[0]]],p=iT(e,r,g,u);if(p.count!==0)if(p.count===1){if(s++,s===2)break}else return p}}return{count:s,graph:n}},$N,JN=function(e,r){for(var n=e.clientWidth,u=e.clientHeight,l=0;l<e.nodeSize;l++){var s=e.layoutNodes[l];s.children.length===0&&!s.isLocked&&(s.positionX=Math.random()*n,s.positionY=Math.random()*u)}},uT=function(e,r,n){var u=e.boundingBox,l={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(s){var c=e.layoutNodes[e.idToIndex[s.data("id")]];l.x1=Math.min(l.x1,c.positionX),l.x2=Math.max(l.x2,c.positionX),l.y1=Math.min(l.y1,c.positionY),l.y2=Math.max(l.y2,c.positionY)}),l.w=l.x2-l.x1,l.h=l.y2-l.y1),function(s,c){var d=e.layoutNodes[e.idToIndex[s.data("id")]];if(r.boundingBox){var f=l.w===0?.5:(d.positionX-l.x1)/l.w,v=l.h===0?.5:(d.positionY-l.y1)/l.h;return{x:u.x1+f*u.w,y:u.y1+v*u.h}}else return{x:d.positionX,y:d.positionY}}},eR=function(e,r,n){var u=n.layout,l=n.eles.nodes(),s=uT(e,n,l);l.positions(s),e.ready!==!0&&(e.ready=!0,u.one("layoutready",n.ready),u.emit({type:"layoutready",layout:this}))},tR=function(e,r,n){rR(e,r),iR(e),uR(e,r),lR(e),sR(e)},rR=function(e,r){for(var n=0;n<e.graphSet.length;n++)for(var u=e.graphSet[n],l=u.length,s=0;s<l;s++)for(var c=e.layoutNodes[e.idToIndex[u[s]]],d=s+1;d<l;d++){var f=e.layoutNodes[e.idToIndex[u[d]]];aR(c,f,e,r)}},EE=function(e){return-1+2*e*Math.random()},aR=function(e,r,n,u){var l=e.cmptId,s=r.cmptId;if(!(l!==s&&!n.isCompound)){var c=r.positionX-e.positionX,d=r.positionY-e.positionY,f=1;c===0&&d===0&&(c=EE(f),d=EE(f));var v=nR(e,r,c,d);if(v>0)var g=u.nodeOverlap*v,p=Math.sqrt(c*c+d*d),E=g*c/p,b=g*d/p;else var C=fd(e,c,d),w=fd(r,-1*c,-1*d),S=w.x-C.x,N=w.y-C.y,R=S*S+N*N,p=Math.sqrt(R),g=(e.nodeRepulsion+r.nodeRepulsion)/R,E=g*S/p,b=g*N/p;e.isLocked||(e.offsetX-=E,e.offsetY-=b),r.isLocked||(r.offsetX+=E,r.offsetY+=b)}},nR=function(e,r,n,u){if(n>0)var l=e.maxX-r.minX;else var l=r.maxX-e.minX;if(u>0)var s=e.maxY-r.minY;else var s=r.maxY-e.minY;return l>=0&&s>=0?Math.sqrt(l*l+s*s):0},fd=function(e,r,n){var u=e.positionX,l=e.positionY,s=e.height||1,c=e.width||1,d=n/r,f=s/c,v={};return r===0&&0<n||r===0&&0>n?(v.x=u,v.y=l+s/2,v):0<r&&-1*f<=d&&d<=f?(v.x=u+c/2,v.y=l+c*n/2/r,v):0>r&&-1*f<=d&&d<=f?(v.x=u-c/2,v.y=l-c*n/2/r,v):0<n&&(d<=-1*f||d>=f)?(v.x=u+s*r/2/n,v.y=l+s/2,v):(0>n&&(d<=-1*f||d>=f)&&(v.x=u-s*r/2/n,v.y=l-s/2),v)},iR=function(e,r){for(var n=0;n<e.edgeSize;n++){var u=e.layoutEdges[n],l=e.idToIndex[u.sourceId],s=e.layoutNodes[l],c=e.idToIndex[u.targetId],d=e.layoutNodes[c],f=d.positionX-s.positionX,v=d.positionY-s.positionY;if(!(f===0&&v===0)){var g=fd(s,f,v),p=fd(d,-1*f,-1*v),E=p.x-g.x,b=p.y-g.y,C=Math.sqrt(E*E+b*b),w=Math.pow(u.idealLength-C,2)/u.elasticity;if(C!==0)var S=w*E/C,N=w*b/C;else var S=0,N=0;s.isLocked||(s.offsetX+=S,s.offsetY+=N),d.isLocked||(d.offsetX-=S,d.offsetY-=N)}}},uR=function(e,r){if(r.gravity!==0)for(var n=1,u=0;u<e.graphSet.length;u++){var l=e.graphSet[u],s=l.length;if(u===0)var c=e.clientHeight/2,d=e.clientWidth/2;else var f=e.layoutNodes[e.idToIndex[l[0]]],v=e.layoutNodes[e.idToIndex[f.parentId]],c=v.positionX,d=v.positionY;for(var g=0;g<s;g++){var p=e.layoutNodes[e.idToIndex[l[g]]];if(!p.isLocked){var E=c-p.positionX,b=d-p.positionY,C=Math.sqrt(E*E+b*b);if(C>n){var w=r.gravity*E/C,S=r.gravity*b/C;p.offsetX+=w,p.offsetY+=S}}}}},lR=function(e,r){var n=[],u=0,l=-1;for(n.push.apply(n,e.graphSet[0]),l+=e.graphSet[0].length;u<=l;){var s=n[u++],c=e.idToIndex[s],d=e.layoutNodes[c],f=d.children;if(0<f.length&&!d.isLocked){for(var v=d.offsetX,g=d.offsetY,p=0;p<f.length;p++){var E=e.layoutNodes[e.idToIndex[f[p]]];E.offsetX+=v,E.offsetY+=g,n[++l]=f[p]}d.offsetX=0,d.offsetY=0}}},sR=function(e,r){for(var n=0;n<e.nodeSize;n++){var u=e.layoutNodes[n];0<u.children.length&&(u.maxX=void 0,u.minX=void 0,u.maxY=void 0,u.minY=void 0)}for(var n=0;n<e.nodeSize;n++){var u=e.layoutNodes[n];if(!(0<u.children.length||u.isLocked)){var l=oR(u.offsetX,u.offsetY,e.temperature);u.positionX+=l.x,u.positionY+=l.y,u.offsetX=0,u.offsetY=0,u.minX=u.positionX-u.width,u.maxX=u.positionX+u.width,u.minY=u.positionY-u.height,u.maxY=u.positionY+u.height,lT(u,e)}}for(var n=0;n<e.nodeSize;n++){var u=e.layoutNodes[n];0<u.children.length&&!u.isLocked&&(u.positionX=(u.maxX+u.minX)/2,u.positionY=(u.maxY+u.minY)/2,u.width=u.maxX-u.minX,u.height=u.maxY-u.minY)}},oR=function(e,r,n){var u=Math.sqrt(e*e+r*r);if(u>n)var l={x:n*e/u,y:n*r/u};else var l={x:e,y:r};return l},lT=function(e,r){var n=e.parentId;if(n!=null){var u=r.layoutNodes[r.idToIndex[n]],l=!1;if((u.maxX==null||e.maxX+u.padRight>u.maxX)&&(u.maxX=e.maxX+u.padRight,l=!0),(u.minX==null||e.minX-u.padLeft<u.minX)&&(u.minX=e.minX-u.padLeft,l=!0),(u.maxY==null||e.maxY+u.padBottom>u.maxY)&&(u.maxY=e.maxY+u.padBottom,l=!0),(u.minY==null||e.minY-u.padTop<u.minY)&&(u.minY=e.minY-u.padTop,l=!0),l)return lT(u,r)}},xE=function(e,r){for(var n=e.layoutNodes,u=[],l=0;l<n.length;l++){var s=n[l],c=s.cmptId,d=u[c]=u[c]||[];d.push(s)}for(var f=0,l=0;l<u.length;l++){var v=u[l];if(v){v.x1=1/0,v.x2=-1/0,v.y1=1/0,v.y2=-1/0;for(var g=0;g<v.length;g++){var p=v[g];v.x1=Math.min(v.x1,p.positionX-p.width/2),v.x2=Math.max(v.x2,p.positionX+p.width/2),v.y1=Math.min(v.y1,p.positionY-p.height/2),v.y2=Math.max(v.y2,p.positionY+p.height/2)}v.w=v.x2-v.x1,v.h=v.y2-v.y1,f+=v.w*v.h}}u.sort(function(N,R){return R.w*R.h-N.w*N.h});for(var E=0,b=0,C=0,w=0,S=Math.sqrt(f)*e.clientWidth/e.clientHeight,l=0;l<u.length;l++){var v=u[l];if(v){for(var g=0;g<v.length;g++){var p=v[g];p.isLocked||(p.positionX+=E-v.x1,p.positionY+=b-v.y1)}E+=v.w+r.componentSpacing,C+=v.w+r.componentSpacing,w=Math.max(w,v.h),C>S&&(b+=w+r.componentSpacing,E=0,C=0,w=0)}}},cR={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function sT(t){this.options=$e({},cR,t)}sT.prototype.run=function(){var t=this.options,e=t,r=t.cy,n=e.eles,u=n.nodes().not(":parent");e.sort&&(u=u.sort(e.sort));var l=aa(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(l.h===0||l.w===0)n.nodes().layoutPositions(this,e,function(J){return{x:l.x1,y:l.y1}});else{var s=u.size(),c=Math.sqrt(s*l.h/l.w),d=Math.round(c),f=Math.round(l.w/l.h*c),v=function(ie){if(ie==null)return Math.min(d,f);var oe=Math.min(d,f);oe==d?d=ie:f=ie},g=function(ie){if(ie==null)return Math.max(d,f);var oe=Math.max(d,f);oe==d?d=ie:f=ie},p=e.rows,E=e.cols!=null?e.cols:e.columns;if(p!=null&&E!=null)d=p,f=E;else if(p!=null&&E==null)d=p,f=Math.ceil(s/d);else if(p==null&&E!=null)f=E,d=Math.ceil(s/f);else if(f*d>s){var b=v(),C=g();(b-1)*C>=s?v(b-1):(C-1)*b>=s&&g(C-1)}else for(;f*d<s;){var w=v(),S=g();(S+1)*w>=s?g(S+1):v(w+1)}var N=l.w/f,R=l.h/d;if(e.condense&&(N=0,R=0),e.avoidOverlap)for(var D=0;D<u.length;D++){var O=u[D],I=O._private.position;(I.x==null||I.y==null)&&(I.x=0,I.y=0);var M=O.layoutDimensions(e),z=e.avoidOverlapPadding,P=M.w+z,k=M.h+z;N=Math.max(N,P),R=Math.max(R,k)}for(var U={},L=function(ie,oe){return!!U["c-"+ie+"-"+oe]},G=function(ie,oe){U["c-"+ie+"-"+oe]=!0},X=0,Z=0,H=function(){Z++,Z>=f&&(Z=0,X++)},j={},W=0;W<u.length;W++){var ee=u[W],te=e.position(ee);if(te&&(te.row!==void 0||te.col!==void 0)){var q={row:te.row,col:te.col};if(q.col===void 0)for(q.col=0;L(q.row,q.col);)q.col++;else if(q.row===void 0)for(q.row=0;L(q.row,q.col);)q.row++;j[ee.id()]=q,G(q.row,q.col)}}var Q=function(ie,oe){var he,be;if(ie.locked()||ie.isParent())return!1;var Re=j[ie.id()];if(Re)he=Re.col*N+N/2+l.x1,be=Re.row*R+R/2+l.y1;else{for(;L(X,Z);)H();he=Z*N+N/2+l.x1,be=X*R+R/2+l.y1,G(X,Z),H()}return{x:he,y:be}};u.layoutPositions(this,e,Q)}return this};var fR={ready:function(){},stop:function(){}};function pm(t){this.options=$e({},fR,t)}pm.prototype.run=function(){var t=this.options,e=t.eles,r=this;return t.cy,r.emit("layoutstart"),e.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",t.ready),r.emit("layoutready"),r.one("layoutstop",t.stop),r.emit("layoutstop"),this};pm.prototype.stop=function(){return this};var dR={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function oT(t){this.options=$e({},dR,t)}oT.prototype.run=function(){var t=this.options,e=t.eles,r=e.nodes(),n=ar(t.positions);function u(l){if(t.positions==null)return L2(l.position());if(n)return t.positions(l);var s=t.positions[l._private.data.id];return s??null}return r.layoutPositions(this,t,function(l,s){var c=u(l);return l.locked()||c==null?!1:c}),this};var vR={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,r){return!0},ready:void 0,stop:void 0,transform:function(e,r){return r}};function cT(t){this.options=$e({},vR,t)}cT.prototype.run=function(){var t=this.options,e=t.cy,r=t.eles,n=aa(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),u=function(s,c){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,t,u),this};var hR=[{name:"breadthfirst",impl:rT},{name:"circle",impl:aT},{name:"concentric",impl:nT},{name:"cose",impl:Md},{name:"grid",impl:sT},{name:"null",impl:pm},{name:"preset",impl:oT},{name:"random",impl:cT}];function fT(t){this.options=t,this.notifications=0}var TE=function(){},SE=function(){throw new Error("A headless instance can not render images")};fT.prototype={recalculateRenderedStyle:TE,notify:function(){this.notifications++},init:TE,isHeadless:function(){return!0},png:SE,jpg:SE};var mm={};mm.arrowShapeWidth=.3;mm.registerArrowShapes=function(){var t=this.arrowShapes={},e=this,r=function(f,v,g,p,E,b,C){var w=E.x-g/2-C,S=E.x+g/2+C,N=E.y-g/2-C,R=E.y+g/2+C,D=w<=f&&f<=S&&N<=v&&v<=R;return D},n=function(f,v,g,p,E){var b=f*Math.cos(p)-v*Math.sin(p),C=f*Math.sin(p)+v*Math.cos(p),w=b*g,S=C*g,N=w+E.x,R=S+E.y;return{x:N,y:R}},u=function(f,v,g,p){for(var E=[],b=0;b<f.length;b+=2){var C=f[b],w=f[b+1];E.push(n(C,w,v,g,p))}return E},l=function(f){for(var v=[],g=0;g<f.length;g++){var p=f[g];v.push(p.x,p.y)}return v},s=function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").pfValue*2},c=function(f,v){Xe(v)&&(v=t[v]),t[f]=$e({name:f,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(p,E,b,C,w,S){var N=l(u(this.points,b+2*S,C,w)),R=ya(p,E,N);return R},roughCollide:r,draw:function(p,E,b,C){var w=u(this.points,E,b,C);e.arrowShapeImpl("polygon")(p,w)},spacing:function(p){return 0},gap:s},v)};c("none",{collide:id,roughCollide:id,draw:rm,spacing:kb,gap:kb}),c("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),c("arrow","triangle"),c("triangle-backcurve",{points:t.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(f,v,g,p,E){var b=u(this.points,v,g,p),C=this.controlPoint,w=n(C[0],C[1],v,g,p);e.arrowShapeImpl(this.name)(f,b,w)},gap:function(f){return s(f)*.8}}),c("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(f,v,g,p,E,b,C){var w=l(u(this.points,g+2*C,p,E)),S=l(u(this.pointsTee,g+2*C,p,E)),N=ya(f,v,w)||ya(f,v,S);return N},draw:function(f,v,g,p,E){var b=u(this.points,v,g,p),C=u(this.pointsTee,v,g,p);e.arrowShapeImpl(this.name)(f,b,C)}}),c("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(f,v,g,p,E,b,C){var w=E,S=Math.pow(w.x-f,2)+Math.pow(w.y-v,2)<=Math.pow((g+2*C)*this.radius,2),N=l(u(this.points,g+2*C,p,E));return ya(f,v,N)||S},draw:function(f,v,g,p,E){var b=u(this.pointsTr,v,g,p);e.arrowShapeImpl(this.name)(f,b,p.x,p.y,this.radius*v)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),c("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(f,v){var g=this.baseCrossLinePts.slice(),p=v/f,E=3,b=5;return g[E]=g[E]-p,g[b]=g[b]-p,g},collide:function(f,v,g,p,E,b,C){var w=l(u(this.points,g+2*C,p,E)),S=l(u(this.crossLinePts(g,b),g+2*C,p,E)),N=ya(f,v,w)||ya(f,v,S);return N},draw:function(f,v,g,p,E){var b=u(this.points,v,g,p),C=u(this.crossLinePts(v,E),v,g,p);e.arrowShapeImpl(this.name)(f,b,C)}}),c("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(f){return s(f)*.525}}),c("circle",{radius:.15,collide:function(f,v,g,p,E,b,C){var w=E,S=Math.pow(w.x-f,2)+Math.pow(w.y-v,2)<=Math.pow((g+2*C)*this.radius,2);return S},draw:function(f,v,g,p,E){e.arrowShapeImpl(this.name)(f,p.x,p.y,this.radius*v)},spacing:function(f){return e.getArrowWidth(f.pstyle("width").pfValue,f.pstyle("arrow-scale").value)*this.radius}}),c("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(f){return 1},gap:function(f){return 1}}),c("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),c("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(f){return f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}}),c("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(f){return .95*f.pstyle("width").pfValue*f.pstyle("arrow-scale").value}})};var _u={};_u.projectIntoViewport=function(t,e){var r=this.cy,n=this.findContainerClientCoords(),u=n[0],l=n[1],s=n[4],c=r.pan(),d=r.zoom(),f=((t-u)/s-c.x)/d,v=((e-l)/s-c.y)/d;return[f,v]};_u.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var t=this.container,e=t.getBoundingClientRect(),r=this.cy.window().getComputedStyle(t),n=function(S){return parseFloat(r.getPropertyValue(S))},u={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},l={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},s=t.clientWidth,c=t.clientHeight,d=u.left+u.right,f=u.top+u.bottom,v=l.left+l.right,g=e.width/(s+v),p=s-d,E=c-f,b=e.left+u.left+l.left,C=e.top+u.top+l.top;return this.containerBB=[b,C,p,E,g]};_u.invalidateContainerClientCoordsCache=function(){this.containerBB=null};_u.findNearestElement=function(t,e,r,n){return this.findNearestElements(t,e,r,n)[0]};_u.findNearestElements=function(t,e,r,n){var u=this,l=this,s=l.getCachedZSortedEles(),c=[],d=l.cy.zoom(),f=l.cy.hasCompoundNodes(),v=(n?24:8)/d,g=(n?8:2)/d,p=(n?8:2)/d,E=1/0,b,C;r&&(s=s.interactive);function w(M,z){if(M.isNode()){if(C)return;C=M,c.push(M)}if(M.isEdge()&&(z==null||z<E))if(b){if(b.pstyle("z-compound-depth").value===M.pstyle("z-compound-depth").value&&b.pstyle("z-compound-depth").value===M.pstyle("z-compound-depth").value){for(var P=0;P<c.length;P++)if(c[P].isEdge()){c[P]=M,b=M,E=z??E;break}}}else c.push(M),b=M,E=z??E}function S(M){var z=M.outerWidth()+2*g,P=M.outerHeight()+2*g,k=z/2,U=P/2,L=M.position(),G=M.pstyle("corner-radius").value==="auto"?"auto":M.pstyle("corner-radius").pfValue,X=M._private.rscratch;if(L.x-k<=t&&t<=L.x+k&&L.y-U<=e&&e<=L.y+U){var Z=l.nodeShapes[u.getNodeShape(M)];if(Z.checkPoint(t,e,0,z,P,L.x,L.y,G,X))return w(M,0),!0}}function N(M){var z=M._private,P=z.rscratch,k=M.pstyle("width").pfValue,U=M.pstyle("arrow-scale").value,L=k/2+v,G=L*L,X=L*2,W=z.source,ee=z.target,Z;if(P.edgeType==="segments"||P.edgeType==="straight"||P.edgeType==="haystack"){for(var H=P.allpts,j=0;j+3<H.length;j+=2)if(X2(t,e,H[j],H[j+1],H[j+2],H[j+3],X)&&G>(Z=J2(t,e,H[j],H[j+1],H[j+2],H[j+3])))return w(M,Z),!0}else if(P.edgeType==="bezier"||P.edgeType==="multibezier"||P.edgeType==="self"||P.edgeType==="compound"){for(var H=P.allpts,j=0;j+5<P.allpts.length;j+=4)if(Z2(t,e,H[j],H[j+1],H[j+2],H[j+3],H[j+4],H[j+5],X)&&G>(Z=$2(t,e,H[j],H[j+1],H[j+2],H[j+3],H[j+4],H[j+5])))return w(M,Z),!0}for(var W=W||z.source,ee=ee||z.target,te=u.getArrowWidth(k,U),q=[{name:"source",x:P.arrowStartX,y:P.arrowStartY,angle:P.srcArrowAngle},{name:"target",x:P.arrowEndX,y:P.arrowEndY,angle:P.tgtArrowAngle},{name:"mid-source",x:P.midX,y:P.midY,angle:P.midsrcArrowAngle},{name:"mid-target",x:P.midX,y:P.midY,angle:P.midtgtArrowAngle}],j=0;j<q.length;j++){var Q=q[j],J=l.arrowShapes[M.pstyle(Q.name+"-arrow-shape").value],ie=M.pstyle("width").pfValue;if(J.roughCollide(t,e,te,Q.angle,{x:Q.x,y:Q.y},ie,v)&&J.collide(t,e,te,Q.angle,{x:Q.x,y:Q.y},ie,v))return w(M),!0}f&&c.length>0&&(S(W),S(ee))}function R(M,z,P){return ma(M,z,P)}function D(M,z){var P=M._private,k=p,U;z?U=z+"-":U="",M.boundingBox();var L=P.labelBounds[z||"main"],G=M.pstyle(U+"label").value,X=M.pstyle("text-events").strValue==="yes";if(!(!X||!G)){var Z=R(P.rscratch,"labelX",z),H=R(P.rscratch,"labelY",z),j=R(P.rscratch,"labelAngle",z),W=M.pstyle(U+"text-margin-x").pfValue,ee=M.pstyle(U+"text-margin-y").pfValue,te=L.x1-k-W,q=L.x2+k-W,Q=L.y1-k-ee,J=L.y2+k-ee;if(j){var ie=Math.cos(j),oe=Math.sin(j),he=function(Ee,De){return Ee=Ee-Z,De=De-H,{x:Ee*ie-De*oe+Z,y:Ee*oe+De*ie+H}},be=he(te,Q),Re=he(te,J),ye=he(q,Q),ne=he(q,J),le=[be.x+W,be.y+ee,ye.x+W,ye.y+ee,ne.x+W,ne.y+ee,Re.x+W,Re.y+ee];if(ya(t,e,le))return w(M),!0}else if(ki(L,t,e))return w(M),!0}}for(var O=s.length-1;O>=0;O--){var I=s[O];I.isNode()?S(I)||D(I):N(I)||D(I)||D(I,"source")||D(I,"target")}return c};_u.getAllInBox=function(t,e,r,n){var u=this.getCachedZSortedEles().interactive,l=this.cy.zoom(),s=2/l,c=[],d=Math.min(t,r),f=Math.max(t,r),v=Math.min(e,n),g=Math.max(e,n);t=d,r=f,e=v,n=g;var p=aa({x1:t,y1:e,x2:r,y2:n}),E=[{x:p.x1,y:p.y1},{x:p.x2,y:p.y1},{x:p.x2,y:p.y2},{x:p.x1,y:p.y2}],b=[[E[0],E[1]],[E[1],E[2]],[E[2],E[3]],[E[3],E[0]]];function C(Ee,De,Le){return ma(Ee,De,Le)}function w(Ee,De){var Le=Ee._private,ut=s,Qe="";Ee.boundingBox();var qe=Le.labelBounds.main;if(!qe)return null;var Ke=C(Le.rscratch,"labelX",De),Oe=C(Le.rscratch,"labelY",De),Ge=C(Le.rscratch,"labelAngle",De),Fe=Ee.pstyle(Qe+"text-margin-x").pfValue,tt=Ee.pstyle(Qe+"text-margin-y").pfValue,Ie=qe.x1-ut-Fe,at=qe.x2+ut-Fe,ct=qe.y1-ut-tt,yt=qe.y2+ut-tt;if(Ge){var dt=Math.cos(Ge),bt=Math.sin(Ge),We=function(Te,F){return Te=Te-Ke,F=F-Oe,{x:Te*dt-F*bt+Ke,y:Te*bt+F*dt+Oe}};return[We(Ie,ct),We(at,ct),We(at,yt),We(Ie,yt)]}else return[{x:Ie,y:ct},{x:at,y:ct},{x:at,y:yt},{x:Ie,y:yt}]}function S(Ee,De,Le,ut){function Qe(qe,Ke,Oe){return(Oe.y-qe.y)*(Ke.x-qe.x)>(Ke.y-qe.y)*(Oe.x-qe.x)}return Qe(Ee,Le,ut)!==Qe(De,Le,ut)&&Qe(Ee,De,Le)!==Qe(Ee,De,ut)}for(var N=0;N<u.length;N++){var R=u[N];if(R.isNode()){var D=R,O=D.pstyle("text-events").strValue==="yes",I=D.pstyle("box-selection").strValue,M=D.pstyle("box-select-labels").strValue==="yes";if(I==="none")continue;var z=(I==="overlap"||M)&&O,P=D.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:z});if(I==="contain"){var k=!1;if(M&&O){var U=w(D);U&&gg(U,E)&&(c.push(D),k=!0)}!k&&yx(p,P)&&c.push(D)}else if(I==="overlap"&&um(p,P)){var L=D.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1}),G=[{x:L.x1,y:L.y1},{x:L.x2,y:L.y1},{x:L.x2,y:L.y2},{x:L.x1,y:L.y2}];if(gg(G,E))c.push(D);else{var X=w(D);X&&gg(X,E)&&c.push(D)}}}else{var Z=R,H=Z._private,j=H.rscratch,W=Z.pstyle("box-selection").strValue;if(W==="none")continue;if(W==="contain"){if(j.startX!=null&&j.startY!=null&&!ki(p,j.startX,j.startY)||j.endX!=null&&j.endY!=null&&!ki(p,j.endX,j.endY))continue;if(j.edgeType==="bezier"||j.edgeType==="multibezier"||j.edgeType==="self"||j.edgeType==="compound"||j.edgeType==="segments"||j.edgeType==="haystack"){for(var ee=H.rstyle.bezierPts||H.rstyle.linePts||H.rstyle.haystackPts,te=!0,q=0;q<ee.length;q++)if(!Gb(p,ee[q])){te=!1;break}te&&c.push(Z)}else j.edgeType==="straight"&&c.push(Z)}else if(W==="overlap"){var Q=!1;if(j.startX!=null&&j.startY!=null&&j.endX!=null&&j.endY!=null&&(ki(p,j.startX,j.startY)||ki(p,j.endX,j.endY)))c.push(Z),Q=!0;else if(!Q&&j.edgeType==="haystack"){for(var J=H.rstyle.haystackPts,ie=0;ie<J.length;ie++)if(Gb(p,J[ie])){c.push(Z),Q=!0;break}}if(!Q){var oe=H.rstyle.bezierPts||H.rstyle.linePts||H.rstyle.haystackPts;if((!oe||oe.length<2)&&j.edgeType==="straight"&&j.startX!=null&&j.startY!=null&&j.endX!=null&&j.endY!=null&&(oe=[{x:j.startX,y:j.startY},{x:j.endX,y:j.endY}]),!oe||oe.length<2)continue;for(var he=0;he<oe.length-1;he++){for(var be=oe[he],Re=oe[he+1],ye=0;ye<b.length;ye++){var ne=xr(b[ye],2),le=ne[0],fe=ne[1];if(S(be,Re,le,fe)){c.push(Z),Q=!0;break}}if(Q)break}}}}}return c};var dd={};dd.calculateArrowAngles=function(t){var e=t._private.rscratch,r=e.edgeType==="haystack",n=e.edgeType==="bezier",u=e.edgeType==="multibezier",l=e.edgeType==="segments",s=e.edgeType==="compound",c=e.edgeType==="self",d,f,v,g,p,E,S,N;if(r?(v=e.haystackPts[0],g=e.haystackPts[1],p=e.haystackPts[2],E=e.haystackPts[3]):(v=e.arrowStartX,g=e.arrowStartY,p=e.arrowEndX,E=e.arrowEndY),S=e.midX,N=e.midY,l)d=v-e.segpts[0],f=g-e.segpts[1];else if(u||s||c||n){var b=e.allpts,C=Ir(b[0],b[2],b[4],.1),w=Ir(b[1],b[3],b[5],.1);d=v-C,f=g-w}else d=v-S,f=g-N;e.srcArrowAngle=Df(d,f);var S=e.midX,N=e.midY;if(r&&(S=(v+p)/2,N=(g+E)/2),d=p-v,f=E-g,l){var b=e.allpts;if(b.length/2%2===0){var R=b.length/2,D=R-2;d=b[R]-b[D],f=b[R+1]-b[D+1]}else if(e.isRound)d=e.midVector[1],f=-e.midVector[0];else{var R=b.length/2-1,D=R-2;d=b[R]-b[D],f=b[R+1]-b[D+1]}}else if(u||s||c){var b=e.allpts,O=e.ctrlpts,I,M,z,P;if(O.length/2%2===0){var k=b.length/2-1,U=k+2,L=U+2;I=Ir(b[k],b[U],b[L],0),M=Ir(b[k+1],b[U+1],b[L+1],0),z=Ir(b[k],b[U],b[L],1e-4),P=Ir(b[k+1],b[U+1],b[L+1],1e-4)}else{var U=b.length/2-1,k=U-2,L=U+2;I=Ir(b[k],b[U],b[L],.4999),M=Ir(b[k+1],b[U+1],b[L+1],.4999),z=Ir(b[k],b[U],b[L],.5),P=Ir(b[k+1],b[U+1],b[L+1],.5)}d=z-I,f=P-M}if(e.midtgtArrowAngle=Df(d,f),e.midDispX=d,e.midDispY=f,d*=-1,f*=-1,l){var b=e.allpts;if(b.length/2%2!==0){if(!e.isRound){var R=b.length/2-1,G=R+2;d=-(b[G]-b[R]),f=-(b[G+1]-b[R+1])}}}if(e.midsrcArrowAngle=Df(d,f),l)d=p-e.segpts[e.segpts.length-2],f=E-e.segpts[e.segpts.length-1];else if(u||s||c||n){var b=e.allpts,X=b.length,C=Ir(b[X-6],b[X-4],b[X-2],.9),w=Ir(b[X-5],b[X-3],b[X-1],.9);d=p-C,f=E-w}else d=p-S,f=E-N;e.tgtArrowAngle=Df(d,f)};dd.getArrowWidth=dd.getArrowHeight=function(t,e){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[t+", "+e];return n||(n=Math.max(Math.pow(t*13.37,.9),29)*e,r[t+", "+e]=n,n)};var qp,Hp,vn={},ka={},wE,AE,Ru,$f,Qn,Su,Cu,fn,Ll,kf,dT,vT,Gp,Vp,CE,NE=function(e,r,n){n.x=r.x-e.x,n.y=r.y-e.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},gR=function(e,r){r.x=e.x*-1,r.y=e.y*-1,r.nx=e.nx*-1,r.ny=e.ny*-1,r.ang=e.ang>0?-(Math.PI-e.ang):Math.PI+e.ang},pR=function(e,r,n,u,l){if(e!==CE?NE(r,e,vn):gR(ka,vn),NE(r,n,ka),wE=vn.nx*ka.ny-vn.ny*ka.nx,AE=vn.nx*ka.nx-vn.ny*-ka.ny,Qn=Math.asin(Math.max(-1,Math.min(1,wE))),Math.abs(Qn)<1e-6){qp=r.x,Hp=r.y,Cu=Ll=0;return}Ru=1,$f=!1,AE<0?Qn<0?Qn=Math.PI+Qn:(Qn=Math.PI-Qn,Ru=-1,$f=!0):Qn>0&&(Ru=-1,$f=!0),r.radius!==void 0?Ll=r.radius:Ll=u,Su=Qn/2,kf=Math.min(vn.len/2,ka.len/2),l?(fn=Math.abs(Math.cos(Su)*Ll/Math.sin(Su)),fn>kf?(fn=kf,Cu=Math.abs(fn*Math.sin(Su)/Math.cos(Su))):Cu=Ll):(fn=Math.min(kf,Ll),Cu=Math.abs(fn*Math.sin(Su)/Math.cos(Su))),Gp=r.x+ka.nx*fn,Vp=r.y+ka.ny*fn,qp=Gp-ka.ny*Cu*Ru,Hp=Vp+ka.nx*Cu*Ru,dT=r.x+vn.nx*fn,vT=r.y+vn.ny*fn,CE=r};function hT(t,e){e.radius===0?t.lineTo(e.cx,e.cy):t.arc(e.cx,e.cy,e.radius,e.startAngle,e.endAngle,e.counterClockwise)}function ym(t,e,r,n){var u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||e.radius===0?{cx:e.x,cy:e.y,radius:0,startX:e.x,startY:e.y,stopX:e.x,stopY:e.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(pR(t,e,r,n,u),{cx:qp,cy:Hp,radius:Cu,startX:dT,startY:vT,stopX:Gp,stopY:Vp,startAngle:vn.ang+Math.PI/2*Ru,endAngle:ka.ang-Math.PI/2*Ru,counterClockwise:$f})}var _o=.01,mR=Math.sqrt(2*_o),Qr={};Qr.findMidptPtsEtc=function(t,e){var r=e.posPts,n=e.intersectionPts,u=e.vectorNormInverse,l,s=t.pstyle("source-endpoint"),c=t.pstyle("target-endpoint"),d=s.units!=null&&c.units!=null,f=function(O,I,M,z){var P=z-I,k=M-O,U=Math.sqrt(k*k+P*P);return{x:-P/U,y:k/U}},v=t.pstyle("edge-distances").value;switch(v){case"node-position":l=r;break;case"intersection":l=n;break;case"endpoints":{if(d){var g=this.manualEndptToPx(t.source()[0],s),p=xr(g,2),E=p[0],b=p[1],C=this.manualEndptToPx(t.target()[0],c),w=xr(C,2),S=w[0],N=w[1],R={x1:E,y1:b,x2:S,y2:N};u=f(E,b,S,N),l=R}else Mt("Edge ".concat(t.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),l=n;break}}return{midptPts:l,vectorNormInverse:u}};Qr.findHaystackPoints=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=r._private,u=n.rscratch;if(!u.haystack){var l=Math.random()*2*Math.PI;u.source={x:Math.cos(l),y:Math.sin(l)},l=Math.random()*2*Math.PI,u.target={x:Math.cos(l),y:Math.sin(l)}}var s=n.source,c=n.target,d=s.position(),f=c.position(),v=s.width(),g=c.width(),p=s.height(),E=c.height(),b=r.pstyle("haystack-radius").value,C=b/2;u.haystackPts=u.allpts=[u.source.x*v*C+d.x,u.source.y*p*C+d.y,u.target.x*g*C+f.x,u.target.y*E*C+f.y],u.midX=(u.allpts[0]+u.allpts[2])/2,u.midY=(u.allpts[1]+u.allpts[3])/2,u.edgeType="haystack",u.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Qr.findSegmentsPoints=function(t,e){var r=t._private.rscratch,n=t.pstyle("segment-weights"),u=t.pstyle("segment-distances"),l=t.pstyle("segment-radii"),s=t.pstyle("radius-type"),c=Math.min(n.pfValue.length,u.pfValue.length),d=l.pfValue[l.pfValue.length-1],f=s.pfValue[s.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var v=0;v<c;v++){var g=n.pfValue[v],p=u.pfValue[v],E=1-g,b=g,C=this.findMidptPtsEtc(t,e),w=C.midptPts,S=C.vectorNormInverse,N={x:w.x1*E+w.x2*b,y:w.y1*E+w.y2*b};r.segpts.push(N.x+S.x*p,N.y+S.y*p),r.radii.push(l.pfValue[v]!==void 0?l.pfValue[v]:d),r.isArcRadius.push((s.pfValue[v]!==void 0?s.pfValue[v]:f)==="arc-radius")}};Qr.findLoopPoints=function(t,e,r,n){var u=t._private.rscratch,l=e.dirCounts,s=e.srcPos,c=t.pstyle("control-point-distances"),d=c?c.pfValue[0]:void 0,f=t.pstyle("loop-direction").pfValue,v=t.pstyle("loop-sweep").pfValue,g=t.pstyle("control-point-step-size").pfValue;u.edgeType="self";var p=r,E=g;n&&(p=0,E=d);var b=f-Math.PI/2,C=b-v/2,w=b+v/2,S=f+"_"+v;p=l[S]===void 0?l[S]=0:++l[S],u.ctrlpts=[s.x+Math.cos(C)*1.4*E*(p/3+1),s.y+Math.sin(C)*1.4*E*(p/3+1),s.x+Math.cos(w)*1.4*E*(p/3+1),s.y+Math.sin(w)*1.4*E*(p/3+1)]};Qr.findCompoundLoopPoints=function(t,e,r,n){var u=t._private.rscratch;u.edgeType="compound";var l=e.srcPos,s=e.tgtPos,c=e.srcW,d=e.srcH,f=e.tgtW,v=e.tgtH,g=t.pstyle("control-point-step-size").pfValue,p=t.pstyle("control-point-distances"),E=p?p.pfValue[0]:void 0,b=r,C=g;n&&(b=0,C=E);var w=50,S={x:l.x-c/2,y:l.y-d/2},N={x:s.x-f/2,y:s.y-v/2},R={x:Math.min(S.x,N.x),y:Math.min(S.y,N.y)},D=.5,O=Math.max(D,Math.log(c*_o)),I=Math.max(D,Math.log(f*_o));u.ctrlpts=[R.x,R.y-(1+Math.pow(w,1.12)/100)*C*(b/3+1)*O,R.x-(1+Math.pow(w,1.12)/100)*C*(b/3+1)*I,R.y]};Qr.findStraightEdgePoints=function(t){t._private.rscratch.edgeType="straight"};Qr.findBezierPoints=function(t,e,r,n,u){var l=t._private.rscratch,s=t.pstyle("control-point-step-size").pfValue,c=t.pstyle("control-point-distances"),d=t.pstyle("control-point-weights"),f=c&&d?Math.min(c.value.length,d.value.length):1,v=c?c.pfValue[0]:void 0,g=d.value[0],p=n;l.edgeType=p?"multibezier":"bezier",l.ctrlpts=[];for(var E=0;E<f;E++){var b=(.5-e.eles.length/2+r)*s*(u?-1:1),C=void 0,w=im(b);p&&(v=c?c.pfValue[E]:s,g=d.value[E]),n?C=v:C=v!==void 0?w*v:void 0;var S=C!==void 0?C:b,N=1-g,R=g,D=this.findMidptPtsEtc(t,e),O=D.midptPts,I=D.vectorNormInverse,M={x:O.x1*N+O.x2*R,y:O.y1*N+O.y2*R};l.ctrlpts.push(M.x+I.x*S,M.y+I.y*S)}};Qr.findTaxiPoints=function(t,e){var r=t._private.rscratch;r.edgeType="segments";var n="vertical",u="horizontal",l="leftward",s="rightward",c="downward",d="upward",f="auto",v=e.posPts,g=e.srcW,p=e.srcH,E=e.tgtW,b=e.tgtH,C=t.pstyle("edge-distances").value,w=C!=="node-position",S=t.pstyle("taxi-direction").value,N=S,R=t.pstyle("taxi-turn"),D=R.units==="%",O=R.pfValue,I=O<0,M=t.pstyle("taxi-turn-min-distance").pfValue,z=w?(g+E)/2:0,P=w?(p+b)/2:0,k=v.x2-v.x1,U=v.y2-v.y1,L=function(F,se){return F>0?Math.max(F-se,0):Math.min(F+se,0)},G=L(k,z),X=L(U,P),Z=!1;N===f?S=Math.abs(G)>Math.abs(X)?u:n:N===d||N===c?(S=n,Z=!0):(N===l||N===s)&&(S=u,Z=!0);var H=S===n,j=H?X:G,W=H?U:k,ee=im(W),te=!1;!(Z&&(D||I))&&(N===c&&W<0||N===d&&W>0||N===l&&W>0||N===s&&W<0)&&(ee*=-1,j=ee*Math.abs(j),te=!0);var q;if(D){var Q=O<0?1+O:O;q=Q*j}else{var J=O<0?j:0;q=J+O*ee}var ie=function(F){return Math.abs(F)<M||Math.abs(F)>=Math.abs(j)},oe=ie(q),he=ie(Math.abs(j)-Math.abs(q)),be=oe||he;if(be&&!te)if(H){var Re=Math.abs(W)<=p/2,ye=Math.abs(k)<=E/2;if(Re){var ne=(v.x1+v.x2)/2,le=v.y1,fe=v.y2;r.segpts=[ne,le,ne,fe]}else if(ye){var Ee=(v.y1+v.y2)/2,De=v.x1,Le=v.x2;r.segpts=[De,Ee,Le,Ee]}else r.segpts=[v.x1,v.y2]}else{var ut=Math.abs(W)<=g/2,Qe=Math.abs(U)<=b/2;if(ut){var qe=(v.y1+v.y2)/2,Ke=v.x1,Oe=v.x2;r.segpts=[Ke,qe,Oe,qe]}else if(Qe){var Ge=(v.x1+v.x2)/2,Fe=v.y1,tt=v.y2;r.segpts=[Ge,Fe,Ge,tt]}else r.segpts=[v.x2,v.y1]}else if(H){var Ie=v.y1+q+(w?p/2*ee:0),at=v.x1,ct=v.x2;r.segpts=[at,Ie,ct,Ie]}else{var yt=v.x1+q+(w?g/2*ee:0),dt=v.y1,bt=v.y2;r.segpts=[yt,dt,yt,bt]}if(r.isRound){var We=t.pstyle("taxi-radius").value,_e=t.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(We),r.isArcRadius=new Array(r.segpts.length/2).fill(_e)}};Qr.tryToCorrectInvalidPoints=function(t,e){var r=t._private.rscratch;if(r.edgeType==="bezier"){var n=e.srcPos,u=e.tgtPos,l=e.srcW,s=e.srcH,c=e.tgtW,d=e.tgtH,f=e.srcShape,v=e.tgtShape,g=e.srcCornerRadius,p=e.tgtCornerRadius,E=e.srcRs,b=e.tgtRs,C=!Me(r.startX)||!Me(r.startY),w=!Me(r.arrowStartX)||!Me(r.arrowStartY),S=!Me(r.endX)||!Me(r.endY),N=!Me(r.arrowEndX)||!Me(r.arrowEndY),R=3,D=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth,O=R*D,I=Mu({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),M=I<O,z=Mu({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),P=z<O,k=!1;if(C||w||M){k=!0;var U={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},L=Math.sqrt(U.x*U.x+U.y*U.y),G={x:U.x/L,y:U.y/L},X=Math.max(l,s),Z={x:r.ctrlpts[0]+G.x*2*X,y:r.ctrlpts[1]+G.y*2*X},H=f.intersectLine(n.x,n.y,l,s,Z.x,Z.y,0,g,E);M?(r.ctrlpts[0]=r.ctrlpts[0]+G.x*(O-I),r.ctrlpts[1]=r.ctrlpts[1]+G.y*(O-I)):(r.ctrlpts[0]=H[0]+G.x*O,r.ctrlpts[1]=H[1]+G.y*O)}if(S||N||P){k=!0;var j={x:r.ctrlpts[0]-u.x,y:r.ctrlpts[1]-u.y},W=Math.sqrt(j.x*j.x+j.y*j.y),ee={x:j.x/W,y:j.y/W},te=Math.max(l,s),q={x:r.ctrlpts[0]+ee.x*2*te,y:r.ctrlpts[1]+ee.y*2*te},Q=v.intersectLine(u.x,u.y,c,d,q.x,q.y,0,p,b);P?(r.ctrlpts[0]=r.ctrlpts[0]+ee.x*(O-z),r.ctrlpts[1]=r.ctrlpts[1]+ee.y*(O-z)):(r.ctrlpts[0]=Q[0]+ee.x*O,r.ctrlpts[1]=Q[1]+ee.y*O)}k&&this.findEndpoints(t)}};Qr.storeAllpts=function(t){var e=t._private.rscratch;if(e.edgeType==="multibezier"||e.edgeType==="bezier"||e.edgeType==="self"||e.edgeType==="compound"){e.allpts=[],e.allpts.push(e.startX,e.startY);for(var r=0;r+1<e.ctrlpts.length;r+=2)e.allpts.push(e.ctrlpts[r],e.ctrlpts[r+1]),r+3<e.ctrlpts.length&&e.allpts.push((e.ctrlpts[r]+e.ctrlpts[r+2])/2,(e.ctrlpts[r+1]+e.ctrlpts[r+3])/2);e.allpts.push(e.endX,e.endY);var n,u;e.ctrlpts.length/2%2===0?(n=e.allpts.length/2-1,e.midX=e.allpts[n],e.midY=e.allpts[n+1]):(n=e.allpts.length/2-3,u=.5,e.midX=Ir(e.allpts[n],e.allpts[n+2],e.allpts[n+4],u),e.midY=Ir(e.allpts[n+1],e.allpts[n+3],e.allpts[n+5],u))}else if(e.edgeType==="straight")e.allpts=[e.startX,e.startY,e.endX,e.endY],e.midX=(e.startX+e.endX+e.arrowStartX+e.arrowEndX)/4,e.midY=(e.startY+e.endY+e.arrowStartY+e.arrowEndY)/4;else if(e.edgeType==="segments"){if(e.allpts=[],e.allpts.push(e.startX,e.startY),e.allpts.push.apply(e.allpts,e.segpts),e.allpts.push(e.endX,e.endY),e.isRound){e.roundCorners=[];for(var l=2;l+3<e.allpts.length;l+=2){var s=e.radii[l/2-1],c=e.isArcRadius[l/2-1];e.roundCorners.push(ym({x:e.allpts[l-2],y:e.allpts[l-1]},{x:e.allpts[l],y:e.allpts[l+1],radius:s},{x:e.allpts[l+2],y:e.allpts[l+3]},s,c))}}if(e.segpts.length%4===0){var d=e.segpts.length/2,f=d-2;e.midX=(e.segpts[f]+e.segpts[d])/2,e.midY=(e.segpts[f+1]+e.segpts[d+1])/2}else{var v=e.segpts.length/2-1;if(!e.isRound)e.midX=e.segpts[v],e.midY=e.segpts[v+1];else{var g={x:e.segpts[v],y:e.segpts[v+1]},p=e.roundCorners[v/2];if(p.radius===0){var E={x:e.segpts[v+2],y:e.segpts[v+3]};e.midX=g.x,e.midY=g.y,e.midVector=[g.y-E.y,E.x-g.x]}else{var b=[g.x-p.cx,g.y-p.cy],C=p.radius/Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2));b=b.map(function(w){return w*C}),e.midX=p.cx+b[0],e.midY=p.cy+b[1],e.midVector=b}}}}};Qr.checkForInvalidEdgeWarning=function(t){var e=t[0]._private.rscratch;e.nodesOverlap||Me(e.startX)&&Me(e.startY)&&Me(e.endX)&&Me(e.endY)?e.loggedErr=!1:e.loggedErr||(e.loggedErr=!0,Mt("Edge `"+t.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Qr.findEdgeControlPoints=function(t){var e=this;if(!(!t||t.length===0)){for(var r=this,n=r.cy,u=n.hasCompoundNodes(),l=new $n,s=function(P,k){return[].concat(rd(P),[k?1:0]).join("-")},c=[],d=[],f=0;f<t.length;f++){var v=t[f],g=v._private,p=v.pstyle("curve-style").value;if(!(v.removed()||!v.takesUpSpace())){if(p==="haystack"){d.push(v);continue}var E=p==="unbundled-bezier"||_i(p,"segments")||p==="straight"||p==="straight-triangle"||_i(p,"taxi"),b=p==="unbundled-bezier"||p==="bezier",C=g.source,w=g.target,S=C.poolIndex(),N=w.poolIndex(),R=[S,N].sort(),D=s(R,E),O=l.get(D);O==null&&(O={eles:[]},c.push({pairId:R,edgeIsUnbundled:E}),l.set(D,O)),O.eles.push(v),E&&(O.hasUnbundled=!0),b&&(O.hasBezier=!0)}}for(var I=function(){var P=c[M],k=P.pairId,U=P.edgeIsUnbundled,L=s(k,U),G=l.get(L),X;if(!G.hasUnbundled){var Z=G.eles[0].parallelEdges().filter(function(_e){return _e.isBundledBezier()});am(G.eles),Z.forEach(function(_e){return G.eles.push(_e)}),G.eles.sort(function(_e,Te){return _e.poolIndex()-Te.poolIndex()})}var H=G.eles[0],j=H.source(),W=H.target();if(j.poolIndex()>W.poolIndex()){var ee=j;j=W,W=ee}var te=G.srcPos=j.position(),q=G.tgtPos=W.position(),Q=G.srcW=j.outerWidth(),J=G.srcH=j.outerHeight(),ie=G.tgtW=W.outerWidth(),oe=G.tgtH=W.outerHeight(),he=G.srcShape=r.nodeShapes[e.getNodeShape(j)],be=G.tgtShape=r.nodeShapes[e.getNodeShape(W)],Re=G.srcCornerRadius=j.pstyle("corner-radius").value==="auto"?"auto":j.pstyle("corner-radius").pfValue,ye=G.tgtCornerRadius=W.pstyle("corner-radius").value==="auto"?"auto":W.pstyle("corner-radius").pfValue,ne=G.tgtRs=W._private.rscratch,le=G.srcRs=j._private.rscratch;G.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var fe=0;fe<G.eles.length;fe++){var Ee=G.eles[fe],De=Ee[0]._private.rscratch,Le=Ee.pstyle("curve-style").value,ut=Le==="unbundled-bezier"||_i(Le,"segments")||_i(Le,"taxi"),Qe=!j.same(Ee.source());if(!G.calculatedIntersection&&j!==W&&(G.hasBezier||G.hasUnbundled)){G.calculatedIntersection=!0;var qe=he.intersectLine(te.x,te.y,Q,J,q.x,q.y,0,Re,le),Ke=G.srcIntn=qe,Oe=be.intersectLine(q.x,q.y,ie,oe,te.x,te.y,0,ye,ne),Ge=G.tgtIntn=Oe,Fe=G.intersectionPts={x1:qe[0],x2:Oe[0],y1:qe[1],y2:Oe[1]},tt=G.posPts={x1:te.x,x2:q.x,y1:te.y,y2:q.y},Ie=Oe[1]-qe[1],at=Oe[0]-qe[0],ct=Math.sqrt(at*at+Ie*Ie);Me(ct)&&ct>=mR||(ct=Math.sqrt(Math.max(at*at,_o)+Math.max(Ie*Ie,_o)));var yt=G.vector={x:at,y:Ie},dt=G.vectorNorm={x:yt.x/ct,y:yt.y/ct},bt={x:-dt.y,y:dt.x};G.nodesOverlap=!Me(ct)||be.checkPoint(qe[0],qe[1],0,ie,oe,q.x,q.y,ye,ne)||he.checkPoint(Oe[0],Oe[1],0,Q,J,te.x,te.y,Re,le),G.vectorNormInverse=bt,X={nodesOverlap:G.nodesOverlap,dirCounts:G.dirCounts,calculatedIntersection:!0,hasBezier:G.hasBezier,hasUnbundled:G.hasUnbundled,eles:G.eles,srcPos:q,srcRs:ne,tgtPos:te,tgtRs:le,srcW:ie,srcH:oe,tgtW:Q,tgtH:J,srcIntn:Ge,tgtIntn:Ke,srcShape:be,tgtShape:he,posPts:{x1:tt.x2,y1:tt.y2,x2:tt.x1,y2:tt.y1},intersectionPts:{x1:Fe.x2,y1:Fe.y2,x2:Fe.x1,y2:Fe.y1},vector:{x:-yt.x,y:-yt.y},vectorNorm:{x:-dt.x,y:-dt.y},vectorNormInverse:{x:-bt.x,y:-bt.y}}}var We=Qe?X:G;De.nodesOverlap=We.nodesOverlap,De.srcIntn=We.srcIntn,De.tgtIntn=We.tgtIntn,De.isRound=Le.startsWith("round"),u&&(j.isParent()||j.isChild()||W.isParent()||W.isChild())&&(j.parents().anySame(W)||W.parents().anySame(j)||j.same(W)&&j.isParent())?e.findCompoundLoopPoints(Ee,We,fe,ut):j===W?e.findLoopPoints(Ee,We,fe,ut):Le.endsWith("segments")?e.findSegmentsPoints(Ee,We):Le.endsWith("taxi")?e.findTaxiPoints(Ee,We):Le==="straight"||!ut&&G.eles.length%2===1&&fe===Math.floor(G.eles.length/2)?e.findStraightEdgePoints(Ee):e.findBezierPoints(Ee,We,fe,ut,Qe),e.findEndpoints(Ee),e.tryToCorrectInvalidPoints(Ee,We),e.checkForInvalidEdgeWarning(Ee),e.storeAllpts(Ee),e.storeEdgeProjections(Ee),e.calculateArrowAngles(Ee),e.recalculateEdgeLabelProjections(Ee),e.calculateLabelAngles(Ee)}},M=0;M<c.length;M++)I();this.findHaystackPoints(d)}};function gT(t){var e=[];if(t!=null){for(var r=0;r<t.length;r+=2){var n=t[r],u=t[r+1];e.push({x:n,y:u})}return e}}Qr.getSegmentPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="segments")return gT(e.segpts)};Qr.getControlPoints=function(t){var e=t[0]._private.rscratch;this.recalculateRenderedStyle(t);var r=e.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return gT(e.ctrlpts)};Qr.getEdgeMidpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),{x:e.midX,y:e.midY}};var Yo={};Yo.manualEndptToPx=function(t,e){var r=this,n=t.position(),u=t.outerWidth(),l=t.outerHeight(),s=t._private.rscratch;if(e.value.length===2){var c=[e.pfValue[0],e.pfValue[1]];return e.units[0]==="%"&&(c[0]=c[0]*u),e.units[1]==="%"&&(c[1]=c[1]*l),c[0]+=n.x,c[1]+=n.y,c}else{var d=e.pfValue[0];d=-Math.PI/2+d;var f=2*Math.max(u,l),v=[n.x+Math.cos(d)*f,n.y+Math.sin(d)*f];return r.nodeShapes[this.getNodeShape(t)].intersectLine(n.x,n.y,u,l,v[0],v[1],0,t.pstyle("corner-radius").value==="auto"?"auto":t.pstyle("corner-radius").pfValue,s)}};Yo.findEndpoints=function(t){var e,r,n,u,l=this,s,c=t.source()[0],d=t.target()[0],f=c.position(),v=d.position(),g=t.pstyle("target-arrow-shape").value,p=t.pstyle("source-arrow-shape").value,E=t.pstyle("target-distance-from-node").pfValue,b=t.pstyle("source-distance-from-node").pfValue,C=c._private.rscratch,w=d._private.rscratch,S=t.pstyle("curve-style").value,N=t._private.rscratch,R=N.edgeType,D=_i(S,"taxi"),O=R==="self"||R==="compound",I=R==="bezier"||R==="multibezier"||O,M=R!=="bezier",z=R==="straight"||R==="segments",P=R==="segments",k=I||M||z,U=O||D,L=t.pstyle("source-endpoint"),G=U?"outside-to-node":L.value,X=c.pstyle("corner-radius").value==="auto"?"auto":c.pstyle("corner-radius").pfValue,Z=t.pstyle("target-endpoint"),H=U?"outside-to-node":Z.value,j=d.pstyle("corner-radius").value==="auto"?"auto":d.pstyle("corner-radius").pfValue;N.srcManEndpt=L,N.tgtManEndpt=Z;var W,ee,te,q,Q=(e=(Z==null||(r=Z.pfValue)===null||r===void 0?void 0:r.length)===2?Z.pfValue:null)!==null&&e!==void 0?e:[0,0],J=(n=(L==null||(u=L.pfValue)===null||u===void 0?void 0:u.length)===2?L.pfValue:null)!==null&&n!==void 0?n:[0,0];if(I){var ie=[N.ctrlpts[0],N.ctrlpts[1]],oe=M?[N.ctrlpts[N.ctrlpts.length-2],N.ctrlpts[N.ctrlpts.length-1]]:ie;W=oe,ee=ie}else if(z){var he=P?N.segpts.slice(0,2):[v.x+Q[0],v.y+Q[1]],be=P?N.segpts.slice(N.segpts.length-2):[f.x+J[0],f.y+J[1]];W=be,ee=he}if(H==="inside-to-node")s=[v.x,v.y];else if(Z.units)s=this.manualEndptToPx(d,Z);else if(H==="outside-to-line")s=N.tgtIntn;else if(H==="outside-to-node"||H==="outside-to-node-or-label"?te=W:(H==="outside-to-line"||H==="outside-to-line-or-label")&&(te=[f.x,f.y]),s=l.nodeShapes[this.getNodeShape(d)].intersectLine(v.x,v.y,d.outerWidth(),d.outerHeight(),te[0],te[1],0,j,w),H==="outside-to-node-or-label"||H==="outside-to-line-or-label"){var Re=d._private.rscratch,ye=Re.labelWidth,ne=Re.labelHeight,le=Re.labelX,fe=Re.labelY,Ee=ye/2,De=ne/2,Le=d.pstyle("text-valign").value;Le==="top"?fe-=De:Le==="bottom"&&(fe+=De);var ut=d.pstyle("text-halign").value;ut==="left"?le-=Ee:ut==="right"&&(le+=Ee);var Qe=Mo(te[0],te[1],[le-Ee,fe-De,le+Ee,fe-De,le+Ee,fe+De,le-Ee,fe+De],v.x,v.y);if(Qe.length>0){var qe=f,Ke=Au(qe,ql(s)),Oe=Au(qe,ql(Qe)),Ge=Ke;if(Oe<Ke&&(s=Qe,Ge=Oe),Qe.length>2){var Fe=Au(qe,{x:Qe[2],y:Qe[3]});Fe<Ge&&(s=[Qe[2],Qe[3]])}}}var tt=Of(s,W,l.arrowShapes[g].spacing(t)+E),Ie=Of(s,W,l.arrowShapes[g].gap(t)+E);if(N.endX=Ie[0],N.endY=Ie[1],N.arrowEndX=tt[0],N.arrowEndY=tt[1],G==="inside-to-node")s=[f.x,f.y];else if(L.units)s=this.manualEndptToPx(c,L);else if(G==="outside-to-line")s=N.srcIntn;else if(G==="outside-to-node"||G==="outside-to-node-or-label"?q=ee:(G==="outside-to-line"||G==="outside-to-line-or-label")&&(q=[v.x,v.y]),s=l.nodeShapes[this.getNodeShape(c)].intersectLine(f.x,f.y,c.outerWidth(),c.outerHeight(),q[0],q[1],0,X,C),G==="outside-to-node-or-label"||G==="outside-to-line-or-label"){var at=c._private.rscratch,ct=at.labelWidth,yt=at.labelHeight,dt=at.labelX,bt=at.labelY,We=ct/2,_e=yt/2,Te=c.pstyle("text-valign").value;Te==="top"?bt-=_e:Te==="bottom"&&(bt+=_e);var F=c.pstyle("text-halign").value;F==="left"?dt-=We:F==="right"&&(dt+=We);var se=Mo(q[0],q[1],[dt-We,bt-_e,dt+We,bt-_e,dt+We,bt+_e,dt-We,bt+_e],f.x,f.y);if(se.length>0){var pe=v,ge=Au(pe,ql(s)),Se=Au(pe,ql(se)),ze=ge;if(Se<ge&&(s=[se[0],se[1]],ze=Se),se.length>2){var Ne=Au(pe,{x:se[2],y:se[3]});Ne<ze&&(s=[se[2],se[3]])}}}var Ue=Of(s,ee,l.arrowShapes[p].spacing(t)+b),Be=Of(s,ee,l.arrowShapes[p].gap(t)+b);N.startX=Be[0],N.startY=Be[1],N.arrowStartX=Ue[0],N.arrowStartY=Ue[1],k&&(!Me(N.startX)||!Me(N.startY)||!Me(N.endX)||!Me(N.endY)?N.badLine=!0:N.badLine=!1)};Yo.getSourceEndpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),e.edgeType==="haystack"?{x:e.haystackPts[0],y:e.haystackPts[1]}:{x:e.arrowStartX,y:e.arrowStartY}};Yo.getTargetEndpoint=function(t){var e=t[0]._private.rscratch;return this.recalculateRenderedStyle(t),e.edgeType==="haystack"?{x:e.haystackPts[2],y:e.haystackPts[3]}:{x:e.arrowEndX,y:e.arrowEndY}};var bm={};function yR(t,e,r){for(var n=function(f,v,g,p){return Ir(f,v,g,p)},u=e._private,l=u.rstyle.bezierPts,s=0;s<t.bezierProjPcts.length;s++){var c=t.bezierProjPcts[s];l.push({x:n(r[0],r[2],r[4],c),y:n(r[1],r[3],r[5],c)})}}bm.storeEdgeProjections=function(t){var e=t._private,r=e.rscratch,n=r.edgeType;if(e.rstyle.bezierPts=null,e.rstyle.linePts=null,e.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){e.rstyle.bezierPts=[];for(var u=0;u+5<r.allpts.length;u+=4)yR(this,t,r.allpts.slice(u,u+6))}else if(n==="segments")for(var l=e.rstyle.linePts=[],u=0;u+1<r.allpts.length;u+=2)l.push({x:r.allpts[u],y:r.allpts[u+1]});else if(n==="haystack"){var s=r.haystackPts;e.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}e.rstyle.arrowWidth=this.getArrowWidth(t.pstyle("width").pfValue,t.pstyle("arrow-scale").value)*this.arrowShapeWidth};bm.recalculateEdgeProjections=function(t){this.findEdgeControlPoints(t)};var pn={};pn.recalculateNodeLabelProjection=function(t){var e=t.pstyle("label").strValue;if(!Hi(e)){var r,n,u=t._private,l=t.width(),s=t.height(),c=t.padding(),d=t.position(),f=t.pstyle("text-halign").strValue,v=t.pstyle("text-valign").strValue,g=u.rscratch,p=u.rstyle;switch(f){case"left":r=d.x-l/2-c;break;case"right":r=d.x+l/2+c;break;default:r=d.x}switch(v){case"top":n=d.y-s/2-c;break;case"bottom":n=d.y+s/2+c;break;default:n=d.y}g.labelX=r,g.labelY=n,p.labelX=r,p.labelY=n,this.calculateLabelAngles(t),this.applyLabelDimensions(t)}};var pT=function(e,r){var n=Math.atan(r/e);return e===0&&n<0&&(n=n*-1),n},mT=function(e,r){var n=r.x-e.x,u=r.y-e.y;return pT(n,u)},bR=function(e,r,n,u){var l=Oo(0,u-.001,1),s=Oo(0,u+.001,1),c=Vl(e,r,n,l),d=Vl(e,r,n,s);return mT(c,d)};pn.recalculateEdgeLabelProjections=function(t){var e,r=t._private,n=r.rscratch,u=this,l={mid:t.pstyle("label").strValue,source:t.pstyle("source-label").strValue,target:t.pstyle("target-label").strValue};if(l.mid||l.source||l.target){e={x:n.midX,y:n.midY};var s=function(g,p,E){Wn(r.rscratch,g,p,E),Wn(r.rstyle,g,p,E)};s("labelX",null,e.x),s("labelY",null,e.y);var c=pT(n.midDispX,n.midDispY);s("labelAutoAngle",null,c);var d=function(){if(d.cache)return d.cache;for(var g=[],p=0;p+5<n.allpts.length;p+=4){var E={x:n.allpts[p],y:n.allpts[p+1]},b={x:n.allpts[p+2],y:n.allpts[p+3]},C={x:n.allpts[p+4],y:n.allpts[p+5]};g.push({p0:E,p1:b,p2:C,startDist:0,length:0,segments:[]})}var w=r.rstyle.bezierPts,S=u.bezierProjPcts.length;function N(M,z,P,k,U){var L=Mu(z,P),G=M.segments[M.segments.length-1],X={p0:z,p1:P,t0:k,t1:U,startDist:G?G.startDist+G.length:0,length:L};M.segments.push(X),M.length+=L}for(var R=0;R<g.length;R++){var D=g[R],O=g[R-1];O&&(D.startDist=O.startDist+O.length),N(D,D.p0,w[R*S],0,u.bezierProjPcts[0]);for(var I=0;I<S-1;I++)N(D,w[R*S+I],w[R*S+I+1],u.bezierProjPcts[I],u.bezierProjPcts[I+1]);N(D,w[R*S+S-1],D.p2,u.bezierProjPcts[S-1],1)}return d.cache=g},f=function(g){var p,E=g==="source";if(l[g]){var b=t.pstyle(g+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var C=d(),w,S=0,N=0,R=0;R<C.length;R++){for(var D=C[E?R:C.length-1-R],O=0;O<D.segments.length;O++){var I=D.segments[E?O:D.segments.length-1-O],M=R===C.length-1&&O===D.segments.length-1;if(S=N,N+=I.length,N>=b||M){w={cp:D,segment:I};break}}if(w)break}var z=w.cp,P=w.segment,k=(b-S)/P.length,U=P.t1-P.t0,L=E?P.t0+U*k:P.t1-U*k;L=Oo(0,L,1),e=Vl(z.p0,z.p1,z.p2,L),p=bR(z.p0,z.p1,z.p2,L);break}case"straight":case"segments":case"haystack":{for(var G=0,X,Z,H,j,W=n.allpts.length,ee=0;ee+3<W&&(E?(H={x:n.allpts[ee],y:n.allpts[ee+1]},j={x:n.allpts[ee+2],y:n.allpts[ee+3]}):(H={x:n.allpts[W-2-ee],y:n.allpts[W-1-ee]},j={x:n.allpts[W-4-ee],y:n.allpts[W-3-ee]}),X=Mu(H,j),Z=G,G+=X,!(G>=b));ee+=2);var te=b-Z,q=te/X;q=Oo(0,q,1),e=H2(H,j,q),p=mT(H,j);break}}s("labelX",g,e.x),s("labelY",g,e.y),s("labelAutoAngle",g,p)}};f("source"),f("target"),this.applyLabelDimensions(t)}};pn.applyLabelDimensions=function(t){this.applyPrefixedLabelDimensions(t),t.isEdge()&&(this.applyPrefixedLabelDimensions(t,"source"),this.applyPrefixedLabelDimensions(t,"target"))};pn.applyPrefixedLabelDimensions=function(t,e){var r=t._private,n=this.getLabelText(t,e),u=Ou(n,t._private.labelDimsKey);if(ma(r.rscratch,"prefixedLabelDimsKey",e)!==u){Wn(r.rscratch,"prefixedLabelDimsKey",e,u);var l=this.calculateLabelDimensions(t,n),s=t.pstyle("line-height").pfValue,c=t.pstyle("text-wrap").strValue,d=ma(r.rscratch,"labelWrapCachedLines",e)||[],f=c!=="wrap"?1:Math.max(d.length,1),v=l.height/f,g=v*s,p=l.width,E=l.height+(f-1)*(s-1)*v;Wn(r.rstyle,"labelWidth",e,p),Wn(r.rscratch,"labelWidth",e,p),Wn(r.rstyle,"labelHeight",e,E),Wn(r.rscratch,"labelHeight",e,E),Wn(r.rscratch,"labelLineHeight",e,g)}};pn.getLabelText=function(t,e){var r=t._private,n=e?e+"-":"",u=t.pstyle(n+"label").strValue,l=t.pstyle("text-transform").value,s=function(J,ie){return ie?(Wn(r.rscratch,J,e,ie),ie):ma(r.rscratch,J,e)};if(!u)return"";l=="none"||(l=="uppercase"?u=u.toUpperCase():l=="lowercase"&&(u=u.toLowerCase()));var c=t.pstyle("text-wrap").value;if(c==="wrap"){var d=s("labelKey");if(d!=null&&s("labelWrapKey")===d)return s("labelWrapCachedText");for(var f="",v=u.split(`
`),g=t.pstyle("text-max-width").pfValue,p=t.pstyle("text-overflow-wrap").value,E=p==="anywhere",b=[],C=/[\s\u200b]+|$/g,w=0;w<v.length;w++){var S=v[w],N=this.calculateLabelDimensions(t,S),R=N.width;if(E){var D=S.split("").join(f);S=D}if(R>g){var O=S.matchAll(C),I="",M=0,z=ba(O),P;try{for(z.s();!(P=z.n()).done;){var k=P.value,U=k[0],L=S.substring(M,k.index);M=k.index+U.length;var G=I.length===0?L:I+L+U,X=this.calculateLabelDimensions(t,G),Z=X.width;Z<=g?I+=L+U:(I&&b.push(I),I=L+U)}}catch(Q){z.e(Q)}finally{z.f()}I.match(/^[\s\u200b]+$/)||b.push(I)}else b.push(S)}s("labelWrapCachedLines",b),u=s("labelWrapCachedText",b.join(`
`)),s("labelWrapKey",d)}else if(c==="ellipsis"){var H=t.pstyle("text-max-width").pfValue,j="",W="",ee=!1;if(this.calculateLabelDimensions(t,u).width<H)return u;for(var te=0;te<u.length;te++){var q=this.calculateLabelDimensions(t,j+u[te]+W).width;if(q>H)break;j+=u[te],te===u.length-1&&(ee=!0)}return ee||(j+=W),j}return u};pn.getLabelJustification=function(t){var e=t.pstyle("text-justification").strValue,r=t.pstyle("text-halign").strValue;if(e==="auto")if(t.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return e};pn.calculateLabelDimensions=function(t,e){var r=this,n=r.cy.window(),u=n.document,l=0,s=t.pstyle("font-style").strValue,c=t.pstyle("font-size").pfValue,d=t.pstyle("font-family").strValue,f=t.pstyle("font-weight").strValue,v=this.labelCalcCanvas,g=this.labelCalcCanvasContext;if(!v){v=this.labelCalcCanvas=u.createElement("canvas"),g=this.labelCalcCanvasContext=v.getContext("2d");var p=v.style;p.position="absolute",p.left="-9999px",p.top="-9999px",p.zIndex="-1",p.visibility="hidden",p.pointerEvents="none"}g.font="".concat(s," ").concat(f," ").concat(c,"px ").concat(d);for(var E=0,b=0,C=e.split(`
`),w=0;w<C.length;w++){var S=C[w],N=g.measureText(S),R=Math.ceil(N.width),D=c;E=Math.max(R,E),b+=D}return E+=l,b+=l,{width:E,height:b}};pn.calculateLabelAngle=function(t,e){var r=t._private,n=r.rscratch,u=t.isEdge(),l=e?e+"-":"",s=t.pstyle(l+"text-rotation"),c=s.strValue;return c==="none"?0:u&&c==="autorotate"?n.labelAutoAngle:c==="autorotate"?0:s.pfValue};pn.calculateLabelAngles=function(t){var e=this,r=t.isEdge(),n=t._private,u=n.rscratch;u.labelAngle=e.calculateLabelAngle(t),r&&(u.sourceLabelAngle=e.calculateLabelAngle(t,"source"),u.targetLabelAngle=e.calculateLabelAngle(t,"target"))};var yT={},RE=28,DE=!1;yT.getNodeShape=function(t){var e=this,r=t.pstyle("shape").value;if(r==="cutrectangle"&&(t.width()<RE||t.height()<RE))return DE||(Mt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),DE=!0),"rectangle";if(t.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=t.pstyle("shape-polygon-points").value;return e.nodeShapes.makePolygon(n).name}return r};var Bd={};Bd.registerCalculationListeners=function(){var t=this.cy,e=t.collection(),r=this,n=function(s){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.merge(s),c)for(var d=0;d<s.length;d++){var f=s[d],v=f._private,g=v.rstyle;g.clean=!1,g.cleanConnected=!1}};r.binder(t).on("bounds.* dirty.*",function(s){var c=s.target;n(c)}).on("style.* background.*",function(s){var c=s.target;n(c,!1)});var u=function(s){if(s){var c=r.onUpdateEleCalcsFns;e.cleanStyle();for(var d=0;d<e.length;d++){var f=e[d],v=f._private.rstyle;f.isNode()&&!v.cleanConnected&&(n(f.connectedEdges()),v.cleanConnected=!0)}if(c)for(var g=0;g<c.length;g++){var p=c[g];p(s,e)}r.recalculateRenderedStyle(e),e=t.collection()}};r.flushRenderedStyleQueue=function(){u(!0)},r.beforeRender(u,r.beforeRenderPriorities.eleCalcs)};Bd.onUpdateEleCalcs=function(t){var e=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];e.push(t)};Bd.recalculateRenderedStyle=function(t,e){var r=function(D){return D._private.rstyle.cleanConnected};if(t.length!==0){var n=[],u=[];if(!this.destroyed){e===void 0&&(e=!0);for(var l=0;l<t.length;l++){var s=t[l],c=s._private,d=c.rstyle;s.isEdge()&&(!r(s.source())||!r(s.target()))&&(d.clean=!1),s.isEdge()&&s.isBundledBezier()&&s.parallelEdges().some(function(R){return!R._private.rstyle.clean&&R.isBundledBezier()})&&(d.clean=!1),!(e&&d.clean||s.removed())&&s.pstyle("display").value!=="none"&&(c.group==="nodes"?u.push(s):n.push(s),d.clean=!0)}for(var f=0;f<u.length;f++){var v=u[f],g=v._private,p=g.rstyle,E=v.position();this.recalculateNodeLabelProjection(v),p.nodeX=E.x,p.nodeY=E.y,p.nodeW=v.pstyle("width").pfValue,p.nodeH=v.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var b=0;b<n.length;b++){var C=n[b],w=C._private,S=w.rstyle,N=w.rscratch;S.srcX=N.arrowStartX,S.srcY=N.arrowStartY,S.tgtX=N.arrowEndX,S.tgtY=N.arrowEndY,S.midX=N.midX,S.midY=N.midY,S.labelAngle=N.labelAngle,S.sourceLabelAngle=N.sourceLabelAngle,S.targetLabelAngle=N.targetLabelAngle}}}};var Id={};Id.updateCachedGrabbedEles=function(){var t=this.cachedZSortedEles;if(t){t.drag=[],t.nondrag=[];for(var e=[],r=0;r<t.length;r++){var n=t[r],u=n._private.rscratch;n.grabbed()&&!n.isParent()?e.push(n):u.inDragLayer?t.drag.push(n):t.nondrag.push(n)}for(var r=0;r<e.length;r++){var n=e[r];t.drag.push(n)}}};Id.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};Id.getCachedZSortedEles=function(t){if(t||!this.cachedZSortedEles){var e=this.cy.mutableElements().toArray();e.sort(Jx),e.interactive=e.filter(function(r){return r.interactive()}),this.cachedZSortedEles=e,this.updateCachedGrabbedEles()}else e=this.cachedZSortedEles;return e};var bT={};[_u,dd,Qr,Yo,bm,pn,yT,Bd,Id].forEach(function(t){$e(bT,t)});var ET={};ET.getCachedImage=function(t,e,r){var n=this,u=n.imageCache=n.imageCache||{},l=u[t];if(l)return l.image.complete||l.image.addEventListener("load",r),l.image;l=u[t]=u[t]||{};var s=l.image=new Image;s.addEventListener("load",r),s.addEventListener("error",function(){s.error=!0});var c="data:",d=t.substring(0,c.length).toLowerCase()===c;return d||(e=e==="null"?null:e,s.crossOrigin=e),s.src=t,s};var es={};es.registerBinding=function(t,e,r,n){var u=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(t)){for(var l=[],s=0;s<t.length;s++){var c=t[s];if(c!==void 0){var d=this.binder(c);l.push(d.on.apply(d,u))}}return l}var d=this.binder(t);return d.on.apply(d,u)};es.binder=function(t){var e=this,r=e.cy.window(),n=t===r||t===r.document||t===r.document.body||Mw(t);if(e.supportsPassiveEvents==null){var u=!1;try{var l=Object.defineProperty({},"passive",{get:function(){return u=!0,!0}});r.addEventListener("test",null,l)}catch{}e.supportsPassiveEvents=u}var s=function(d,f,v){var g=Array.prototype.slice.call(arguments);return n&&e.supportsPassiveEvents&&(g[2]={capture:v??!1,passive:!1,once:!1}),e.bindings.push({target:t,args:g}),(t.addEventListener||t.on).apply(t,g),this};return{on:s,addEventListener:s,addListener:s,bind:s}};es.nodeIsDraggable=function(t){return t&&t.isNode()&&!t.locked()&&t.grabbable()};es.nodeIsGrabbable=function(t){return this.nodeIsDraggable(t)&&t.interactive()};es.load=function(){var t=this,e=t.cy.window(),r=function(F){return F.selected()},n=function(F){var se=F.getRootNode();if(se&&se.nodeType===11&&se.host!==void 0)return se},u=function(F,se,pe,ge){F==null&&(F=t.cy);for(var Se=0;Se<se.length;Se++){var ze=se[Se];F.emit({originalEvent:pe,type:ze,position:ge})}},l=function(F){return F.shiftKey||F.metaKey||F.ctrlKey},s=function(F,se){var pe=!0;if(t.cy.hasCompoundNodes()&&F&&F.pannable())for(var ge=0;se&&ge<se.length;ge++){var F=se[ge];if(F.isNode()&&F.isParent()&&!F.pannable()){pe=!1;break}}else pe=!0;return pe},c=function(F){F[0]._private.grabbed=!0},d=function(F){F[0]._private.grabbed=!1},f=function(F){F[0]._private.rscratch.inDragLayer=!0},v=function(F){F[0]._private.rscratch.inDragLayer=!1},g=function(F){F[0]._private.rscratch.isGrabTarget=!0},p=function(F){F[0]._private.rscratch.isGrabTarget=!1},E=function(F,se){var pe=se.addToList,ge=pe.has(F);!ge&&F.grabbable()&&!F.locked()&&(pe.merge(F),c(F))},b=function(F,se){if(F.cy().hasCompoundNodes()&&!(se.inDragLayer==null&&se.addToList==null)){var pe=F.descendants();se.inDragLayer&&(pe.forEach(f),pe.connectedEdges().forEach(f)),se.addToList&&E(pe,se)}},C=function(F,se){se=se||{};var pe=F.cy().hasCompoundNodes();se.inDragLayer&&(F.forEach(f),F.neighborhood().stdFilter(function(ge){return!pe||ge.isEdge()}).forEach(f)),se.addToList&&F.forEach(function(ge){E(ge,se)}),b(F,se),N(F,{inDragLayer:se.inDragLayer}),t.updateCachedGrabbedEles()},w=C,S=function(F){F&&(t.getCachedZSortedEles().forEach(function(se){d(se),v(se),p(se)}),t.updateCachedGrabbedEles())},N=function(F,se){if(!(se.inDragLayer==null&&se.addToList==null)&&F.cy().hasCompoundNodes()){var pe=F.ancestors().orphans();if(!pe.same(F)){var ge=pe.descendants().spawnSelf().merge(pe).unmerge(F).unmerge(F.descendants()),Se=ge.connectedEdges();se.inDragLayer&&(Se.forEach(f),ge.forEach(f)),se.addToList&&ge.forEach(function(ze){E(ze,se)})}}},R=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},D=typeof MutationObserver<"u",O=typeof ResizeObserver<"u";D?(t.removeObserver=new MutationObserver(function(Te){for(var F=0;F<Te.length;F++){var se=Te[F],pe=se.removedNodes;if(pe)for(var ge=0;ge<pe.length;ge++){var Se=pe[ge];if(Se===t.container){t.destroy();break}}}}),t.container.parentNode&&t.removeObserver.observe(t.container.parentNode,{childList:!0})):t.registerBinding(t.container,"DOMNodeRemoved",function(Te){t.destroy()});var I=Go(function(){t.cy.resize()},100);D&&(t.styleObserver=new MutationObserver(I),t.styleObserver.observe(t.container,{attributes:!0})),t.registerBinding(e,"resize",I),O&&(t.resizeObserver=new ResizeObserver(I),t.resizeObserver.observe(t.container));var M=function(F,se){for(;F!=null;)se(F),F=F.parentNode},z=function(){t.invalidateContainerClientCoordsCache()};M(t.container,function(Te){t.registerBinding(Te,"transitionend",z),t.registerBinding(Te,"animationend",z),t.registerBinding(Te,"scroll",z)}),t.registerBinding(t.container,"contextmenu",function(Te){Te.preventDefault()});var P=function(){return t.selection[4]!==0},k=function(F){for(var se=t.findContainerClientCoords(),pe=se[0],ge=se[1],Se=se[2],ze=se[3],Ne=F.touches?F.touches:[F],Ue=!1,Be=0;Be<Ne.length;Be++){var Ye=Ne[Be];if(pe<=Ye.clientX&&Ye.clientX<=pe+Se&&ge<=Ye.clientY&&Ye.clientY<=ge+ze){Ue=!0;break}}if(!Ue)return!1;for(var Je=t.container,rt=F.target,ke=rt.parentNode,st=!1;ke;){if(ke===Je){st=!0;break}ke=ke.parentNode}return!!st};t.registerBinding(t.container,"mousedown",function(F){if(k(F)&&!(t.hoverData.which===1&&F.which!==1)){F.preventDefault(),R(),t.hoverData.capture=!0,t.hoverData.which=F.which;var se=t.cy,pe=[F.clientX,F.clientY],ge=t.projectIntoViewport(pe[0],pe[1]),Se=t.selection,ze=t.findNearestElements(ge[0],ge[1],!0,!1),Ne=ze[0],Ue=t.dragData.possibleDragElements;t.hoverData.mdownPos=ge,t.hoverData.mdownGPos=pe;var Be=function(nt){return{originalEvent:F,type:nt,position:{x:ge[0],y:ge[1]}}},Ye=function(){t.hoverData.tapholdCancelled=!1,clearTimeout(t.hoverData.tapholdTimeout),t.hoverData.tapholdTimeout=setTimeout(function(){if(!t.hoverData.tapholdCancelled){var nt=t.hoverData.down;nt?nt.emit(Be("taphold")):se.emit(Be("taphold"))}},t.tapholdDuration)};if(F.which==3){t.hoverData.cxtStarted=!0;var Je={originalEvent:F,type:"cxttapstart",position:{x:ge[0],y:ge[1]}};Ne?(Ne.activate(),Ne.emit(Je),t.hoverData.down=Ne):se.emit(Je),t.hoverData.downTime=new Date().getTime(),t.hoverData.cxtDragged=!1}else if(F.which==1){Ne&&Ne.activate();{if(Ne!=null&&t.nodeIsGrabbable(Ne)){var rt=function(nt){nt.emit(Be("grab"))};if(g(Ne),!Ne.selected())Ue=t.dragData.possibleDragElements=se.collection(),w(Ne,{addToList:Ue}),Ne.emit(Be("grabon")).emit(Be("grab"));else{Ue=t.dragData.possibleDragElements=se.collection();var ke=se.$(function(st){return st.isNode()&&st.selected()&&t.nodeIsGrabbable(st)});C(ke,{addToList:Ue}),Ne.emit(Be("grabon")),ke.forEach(rt)}t.redrawHint("eles",!0),t.redrawHint("drag",!0)}t.hoverData.down=Ne,t.hoverData.downs=ze,t.hoverData.downTime=new Date().getTime()}u(Ne,["mousedown","tapstart","vmousedown"],F,{x:ge[0],y:ge[1]}),Ne==null?(Se[4]=1,t.data.bgActivePosistion={x:ge[0],y:ge[1]},t.redrawHint("select",!0),t.redraw()):Ne.pannable()&&(Se[4]=1),Ye()}Se[0]=Se[2]=ge[0],Se[1]=Se[3]=ge[1]}},!1);var U=n(t.container);t.registerBinding([e,U],"mousemove",function(F){var se=t.hoverData.capture;if(!(!se&&!k(F))){var pe=!1,ge=t.cy,Se=ge.zoom(),ze=[F.clientX,F.clientY],Ne=t.projectIntoViewport(ze[0],ze[1]),Ue=t.hoverData.mdownPos,Be=t.hoverData.mdownGPos,Ye=t.selection,Je=null;!t.hoverData.draggingEles&&!t.hoverData.dragging&&!t.hoverData.selecting&&(Je=t.findNearestElement(Ne[0],Ne[1],!0,!1));var rt=t.hoverData.last,ke=t.hoverData.down,st=[Ne[0]-Ye[2],Ne[1]-Ye[3]],nt=t.dragData.possibleDragElements,Kt;if(Be){var St=ze[0]-Be[0],Tr=St*St,Gt=ze[1]-Be[1],Vt=Gt*Gt,Ut=Tr+Vt;t.hoverData.isOverThresholdDrag=Kt=Ut>=t.desktopTapThreshold2}var tr=l(F);Kt&&(t.hoverData.tapholdCancelled=!0);var ia=function(){var vr=t.hoverData.dragDelta=t.hoverData.dragDelta||[];vr.length===0?(vr.push(st[0]),vr.push(st[1])):(vr[0]+=st[0],vr[1]+=st[1])};pe=!0,u(Je,["mousemove","vmousemove","tapdrag"],F,{x:Ne[0],y:Ne[1]});var jt=function(vr){return{originalEvent:F,type:vr,position:{x:Ne[0],y:Ne[1]}}},ua=function(){t.data.bgActivePosistion=void 0,t.hoverData.selecting||ge.emit(jt("boxstart")),Ye[4]=1,t.hoverData.selecting=!0,t.redrawHint("select",!0),t.redraw()};if(t.hoverData.which===3){if(Kt){var dr=jt("cxtdrag");ke?ke.emit(dr):ge.emit(dr),t.hoverData.cxtDragged=!0,(!t.hoverData.cxtOver||Je!==t.hoverData.cxtOver)&&(t.hoverData.cxtOver&&t.hoverData.cxtOver.emit(jt("cxtdragout")),t.hoverData.cxtOver=Je,Je&&Je.emit(jt("cxtdragover")))}}else if(t.hoverData.dragging){if(pe=!0,ge.panningEnabled()&&ge.userPanningEnabled()){var Dt;if(t.hoverData.justStartedPan){var wt=t.hoverData.mdownPos;Dt={x:(Ne[0]-wt[0])*Se,y:(Ne[1]-wt[1])*Se},t.hoverData.justStartedPan=!1}else Dt={x:st[0]*Se,y:st[1]*Se};ge.panBy(Dt),ge.emit(jt("dragpan")),t.hoverData.dragged=!0}Ne=t.projectIntoViewport(F.clientX,F.clientY)}else if(Ye[4]==1&&(ke==null||ke.pannable())){if(Kt){if(!t.hoverData.dragging&&ge.boxSelectionEnabled()&&(tr||!ge.panningEnabled()||!ge.userPanningEnabled()))ua();else if(!t.hoverData.selecting&&ge.panningEnabled()&&ge.userPanningEnabled()){var Sr=s(ke,t.hoverData.downs);Sr&&(t.hoverData.dragging=!0,t.hoverData.justStartedPan=!0,Ye[4]=0,t.data.bgActivePosistion=ql(Ue),t.redrawHint("select",!0),t.redraw())}ke&&ke.pannable()&&ke.active()&&ke.unactivate()}}else{if(ke&&ke.pannable()&&ke.active()&&ke.unactivate(),(!ke||!ke.grabbed())&&Je!=rt&&(rt&&u(rt,["mouseout","tapdragout"],F,{x:Ne[0],y:Ne[1]}),Je&&u(Je,["mouseover","tapdragover"],F,{x:Ne[0],y:Ne[1]}),t.hoverData.last=Je),ke)if(Kt){if(ge.boxSelectionEnabled()&&tr)ke&&ke.grabbed()&&(S(nt),ke.emit(jt("freeon")),nt.emit(jt("free")),t.dragData.didDrag&&(ke.emit(jt("dragfreeon")),nt.emit(jt("dragfree")))),ua();else if(ke&&ke.grabbed()&&t.nodeIsDraggable(ke)){var sr=!t.dragData.didDrag;sr&&t.redrawHint("eles",!0),t.dragData.didDrag=!0,t.hoverData.draggingEles||C(nt,{inDragLayer:!0});var Wt={x:0,y:0};if(Me(st[0])&&Me(st[1])&&(Wt.x+=st[0],Wt.y+=st[1],sr)){var or=t.hoverData.dragDelta;or&&Me(or[0])&&Me(or[1])&&(Wt.x+=or[0],Wt.y+=or[1])}t.hoverData.draggingEles=!0,nt.silentShift(Wt).emit(jt("position")).emit(jt("drag")),t.redrawHint("drag",!0),t.redraw()}}else ia();pe=!0}if(Ye[2]=Ne[0],Ye[3]=Ne[1],pe)return F.stopPropagation&&F.stopPropagation(),F.preventDefault&&F.preventDefault(),!1}},!1);var L,G,X;t.registerBinding(e,"mouseup",function(F){if(!(t.hoverData.which===1&&F.which!==1&&t.hoverData.capture)){var se=t.hoverData.capture;if(se){t.hoverData.capture=!1;var pe=t.cy,ge=t.projectIntoViewport(F.clientX,F.clientY),Se=t.selection,ze=t.findNearestElement(ge[0],ge[1],!0,!1),Ne=t.dragData.possibleDragElements,Ue=t.hoverData.down,Be=l(F);t.data.bgActivePosistion&&(t.redrawHint("select",!0),t.redraw()),t.hoverData.tapholdCancelled=!0,t.data.bgActivePosistion=void 0,Ue&&Ue.unactivate();var Ye=function(St){return{originalEvent:F,type:St,position:{x:ge[0],y:ge[1]}}};if(t.hoverData.which===3){var Je=Ye("cxttapend");if(Ue?Ue.emit(Je):pe.emit(Je),!t.hoverData.cxtDragged){var rt=Ye("cxttap");Ue?Ue.emit(rt):pe.emit(rt)}t.hoverData.cxtDragged=!1,t.hoverData.which=null}else if(t.hoverData.which===1){if(u(ze,["mouseup","tapend","vmouseup"],F,{x:ge[0],y:ge[1]}),!t.dragData.didDrag&&!t.hoverData.dragged&&!t.hoverData.selecting&&!t.hoverData.isOverThresholdDrag&&(u(Ue,["click","tap","vclick"],F,{x:ge[0],y:ge[1]}),G=!1,F.timeStamp-X<=pe.multiClickDebounceTime()?(L&&clearTimeout(L),G=!0,X=null,u(Ue,["dblclick","dbltap","vdblclick"],F,{x:ge[0],y:ge[1]})):(L=setTimeout(function(){G||u(Ue,["oneclick","onetap","voneclick"],F,{x:ge[0],y:ge[1]})},pe.multiClickDebounceTime()),X=F.timeStamp)),Ue==null&&!t.dragData.didDrag&&!t.hoverData.selecting&&!t.hoverData.dragged&&!l(F)&&(pe.$(r).unselect(["tapunselect"]),Ne.length>0&&t.redrawHint("eles",!0),t.dragData.possibleDragElements=Ne=pe.collection()),ze==Ue&&!t.dragData.didDrag&&!t.hoverData.selecting&&ze!=null&&ze._private.selectable&&(t.hoverData.dragging||(pe.selectionType()==="additive"||Be?ze.selected()?ze.unselect(["tapunselect"]):ze.select(["tapselect"]):Be||(pe.$(r).unmerge(ze).unselect(["tapunselect"]),ze.select(["tapselect"]))),t.redrawHint("eles",!0)),t.hoverData.selecting){var ke=pe.collection(t.getAllInBox(Se[0],Se[1],Se[2],Se[3]));t.redrawHint("select",!0),ke.length>0&&t.redrawHint("eles",!0),pe.emit(Ye("boxend"));var st=function(St){return St.selectable()&&!St.selected()};pe.selectionType()==="additive"||Be||pe.$(r).unmerge(ke).unselect(),ke.emit(Ye("box")).stdFilter(st).select().emit(Ye("boxselect")),t.redraw()}if(t.hoverData.dragging&&(t.hoverData.dragging=!1,t.redrawHint("select",!0),t.redrawHint("eles",!0),t.redraw()),!Se[4]){t.redrawHint("drag",!0),t.redrawHint("eles",!0);var nt=Ue&&Ue.grabbed();S(Ne),nt&&(Ue.emit(Ye("freeon")),Ne.emit(Ye("free")),t.dragData.didDrag&&(Ue.emit(Ye("dragfreeon")),Ne.emit(Ye("dragfree"))))}}Se[4]=0,t.hoverData.down=null,t.hoverData.cxtStarted=!1,t.hoverData.draggingEles=!1,t.hoverData.selecting=!1,t.hoverData.isOverThresholdDrag=!1,t.dragData.didDrag=!1,t.hoverData.dragged=!1,t.hoverData.dragDelta=[],t.hoverData.mdownPos=null,t.hoverData.mdownGPos=null,t.hoverData.which=null}}},!1);var Z=[],H=4,j,W=1e5,ee=function(F,se){for(var pe=0;pe<F.length;pe++)if(F[pe]%se!==0)return!1;return!0},te=function(F){for(var se=Math.abs(F[0]),pe=1;pe<F.length;pe++)if(Math.abs(F[pe])!==se)return!1;return!0},q=function(F){var se=!1,pe=F.deltaY;if(pe==null&&(F.wheelDeltaY!=null?pe=F.wheelDeltaY/4:F.wheelDelta!=null&&(pe=F.wheelDelta/4)),pe!==0){if(j==null)if(Z.length>=H){var ge=Z;if(j=ee(ge,5),!j){var Se=Math.abs(ge[0]);j=te(ge)&&Se>5}if(j)for(var ze=0;ze<ge.length;ze++)W=Math.min(Math.abs(ge[ze]),W)}else Z.push(pe),se=!0;else j&&(W=Math.min(Math.abs(pe),W));if(!t.scrollingPage){var Ne=t.cy,Ue=Ne.zoom(),Be=Ne.pan(),Ye=t.projectIntoViewport(F.clientX,F.clientY),Je=[Ye[0]*Ue+Be.x,Ye[1]*Ue+Be.y];if(t.hoverData.draggingEles||t.hoverData.dragging||t.hoverData.cxtStarted||P()){F.preventDefault();return}if(Ne.panningEnabled()&&Ne.userPanningEnabled()&&Ne.zoomingEnabled()&&Ne.userZoomingEnabled()){F.preventDefault(),t.data.wheelZooming=!0,clearTimeout(t.data.wheelTimeout),t.data.wheelTimeout=setTimeout(function(){t.data.wheelZooming=!1,t.redrawHint("eles",!0),t.redraw()},150);var rt;se&&Math.abs(pe)>5&&(pe=im(pe)*5),rt=pe/-250,j&&(rt/=W,rt*=3),rt=rt*t.wheelSensitivity;var ke=F.deltaMode===1;ke&&(rt*=33);var st=Ne.zoom()*Math.pow(10,rt);F.type==="gesturechange"&&(st=t.gestureStartZoom*F.scale),Ne.zoom({level:st,renderedPosition:{x:Je[0],y:Je[1]}}),Ne.emit({type:F.type==="gesturechange"?"pinchzoom":"scrollzoom",originalEvent:F,position:{x:Ye[0],y:Ye[1]}})}}}};t.registerBinding(t.container,"wheel",q,!0),t.registerBinding(e,"scroll",function(F){t.scrollingPage=!0,clearTimeout(t.scrollingPageTimeout),t.scrollingPageTimeout=setTimeout(function(){t.scrollingPage=!1},250)},!0),t.registerBinding(t.container,"gesturestart",function(F){t.gestureStartZoom=t.cy.zoom(),t.hasTouchStarted||F.preventDefault()},!0),t.registerBinding(t.container,"gesturechange",function(Te){t.hasTouchStarted||q(Te)},!0),t.registerBinding(t.container,"mouseout",function(F){var se=t.projectIntoViewport(F.clientX,F.clientY);t.cy.emit({originalEvent:F,type:"mouseout",position:{x:se[0],y:se[1]}})},!1),t.registerBinding(t.container,"mouseover",function(F){var se=t.projectIntoViewport(F.clientX,F.clientY);t.cy.emit({originalEvent:F,type:"mouseover",position:{x:se[0],y:se[1]}})},!1);var Q,J,ie,oe,he,be,Re,ye,ne,le,fe,Ee,De,Le=function(F,se,pe,ge){return Math.sqrt((pe-F)*(pe-F)+(ge-se)*(ge-se))},ut=function(F,se,pe,ge){return(pe-F)*(pe-F)+(ge-se)*(ge-se)},Qe;t.registerBinding(t.container,"touchstart",Qe=function(F){if(t.hasTouchStarted=!0,!!k(F)){R(),t.touchData.capture=!0,t.data.bgActivePosistion=void 0;var se=t.cy,pe=t.touchData.now,ge=t.touchData.earlier;if(F.touches[0]){var Se=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);pe[0]=Se[0],pe[1]=Se[1]}if(F.touches[1]){var Se=t.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY);pe[2]=Se[0],pe[3]=Se[1]}if(F.touches[2]){var Se=t.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY);pe[4]=Se[0],pe[5]=Se[1]}var ze=function(tr){return{originalEvent:F,type:tr,position:{x:pe[0],y:pe[1]}}};if(F.touches[1]){t.touchData.singleTouchMoved=!0,S(t.dragData.touchDragEles);var Ne=t.findContainerClientCoords();ne=Ne[0],le=Ne[1],fe=Ne[2],Ee=Ne[3],Q=F.touches[0].clientX-ne,J=F.touches[0].clientY-le,ie=F.touches[1].clientX-ne,oe=F.touches[1].clientY-le,De=0<=Q&&Q<=fe&&0<=ie&&ie<=fe&&0<=J&&J<=Ee&&0<=oe&&oe<=Ee;var Ue=se.pan(),Be=se.zoom();he=Le(Q,J,ie,oe),be=ut(Q,J,ie,oe),Re=[(Q+ie)/2,(J+oe)/2],ye=[(Re[0]-Ue.x)/Be,(Re[1]-Ue.y)/Be];var Ye=200,Je=Ye*Ye;if(be<Je&&!F.touches[2]){var rt=t.findNearestElement(pe[0],pe[1],!0,!0),ke=t.findNearestElement(pe[2],pe[3],!0,!0);rt&&rt.isNode()?(rt.activate().emit(ze("cxttapstart")),t.touchData.start=rt):ke&&ke.isNode()?(ke.activate().emit(ze("cxttapstart")),t.touchData.start=ke):se.emit(ze("cxttapstart")),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!0,t.touchData.cxtDragged=!1,t.data.bgActivePosistion=void 0,t.redraw();return}}if(F.touches[2])se.boxSelectionEnabled()&&F.preventDefault();else if(!F.touches[1]){if(F.touches[0]){var st=t.findNearestElements(pe[0],pe[1],!0,!0),nt=st[0];if(nt!=null&&(nt.activate(),t.touchData.start=nt,t.touchData.starts=st,t.nodeIsGrabbable(nt))){var Kt=t.dragData.touchDragEles=se.collection(),St=null;t.redrawHint("eles",!0),t.redrawHint("drag",!0),nt.selected()?(St=se.$(function(Ut){return Ut.selected()&&t.nodeIsGrabbable(Ut)}),C(St,{addToList:Kt})):w(nt,{addToList:Kt}),g(nt),nt.emit(ze("grabon")),St?St.forEach(function(Ut){Ut.emit(ze("grab"))}):nt.emit(ze("grab"))}u(nt,["touchstart","tapstart","vmousedown"],F,{x:pe[0],y:pe[1]}),nt==null&&(t.data.bgActivePosistion={x:Se[0],y:Se[1]},t.redrawHint("select",!0),t.redraw()),t.touchData.singleTouchMoved=!1,t.touchData.singleTouchStartTime=+new Date,clearTimeout(t.touchData.tapholdTimeout),t.touchData.tapholdTimeout=setTimeout(function(){t.touchData.singleTouchMoved===!1&&!t.pinching&&!t.touchData.selecting&&u(t.touchData.start,["taphold"],F,{x:pe[0],y:pe[1]})},t.tapholdDuration)}}if(F.touches.length>=1){for(var Tr=t.touchData.startPosition=[null,null,null,null,null,null],Gt=0;Gt<pe.length;Gt++)Tr[Gt]=ge[Gt]=pe[Gt];var Vt=F.touches[0];t.touchData.startGPosition=[Vt.clientX,Vt.clientY]}}},!1);var qe;t.registerBinding(e,"touchmove",qe=function(F){var se=t.touchData.capture;if(!(!se&&!k(F))){var pe=t.selection,ge=t.cy,Se=t.touchData.now,ze=t.touchData.earlier,Ne=ge.zoom();if(F.touches[0]){var Ue=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);Se[0]=Ue[0],Se[1]=Ue[1]}if(F.touches[1]){var Ue=t.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY);Se[2]=Ue[0],Se[3]=Ue[1]}if(F.touches[2]){var Ue=t.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY);Se[4]=Ue[0],Se[5]=Ue[1]}var Be=function(qu){return{originalEvent:F,type:qu,position:{x:Se[0],y:Se[1]}}},Ye=t.touchData.startGPosition,Je;if(se&&F.touches[0]&&Ye){for(var rt=[],ke=0;ke<Se.length;ke++)rt[ke]=Se[ke]-ze[ke];var st=F.touches[0].clientX-Ye[0],nt=st*st,Kt=F.touches[0].clientY-Ye[1],St=Kt*Kt,Tr=nt+St;Je=Tr>=t.touchTapThreshold2}if(se&&t.touchData.cxt){F.preventDefault();var Gt=F.touches[0].clientX-ne,Vt=F.touches[0].clientY-le,Ut=F.touches[1].clientX-ne,tr=F.touches[1].clientY-le,ia=ut(Gt,Vt,Ut,tr),jt=ia/be,ua=150,dr=ua*ua,Dt=1.5,wt=Dt*Dt;if(jt>=wt||ia>=dr){t.touchData.cxt=!1,t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Sr=Be("cxttapend");t.touchData.start?(t.touchData.start.unactivate().emit(Sr),t.touchData.start=null):ge.emit(Sr)}}if(se&&t.touchData.cxt){var Sr=Be("cxtdrag");t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.touchData.start?t.touchData.start.emit(Sr):ge.emit(Sr),t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxtDragged=!0;var sr=t.findNearestElement(Se[0],Se[1],!0,!0);(!t.touchData.cxtOver||sr!==t.touchData.cxtOver)&&(t.touchData.cxtOver&&t.touchData.cxtOver.emit(Be("cxtdragout")),t.touchData.cxtOver=sr,sr&&sr.emit(Be("cxtdragover")))}else if(se&&F.touches[2]&&ge.boxSelectionEnabled())F.preventDefault(),t.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,t.touchData.selecting||ge.emit(Be("boxstart")),t.touchData.selecting=!0,t.touchData.didSelect=!0,pe[4]=1,!pe||pe.length===0||pe[0]===void 0?(pe[0]=(Se[0]+Se[2]+Se[4])/3,pe[1]=(Se[1]+Se[3]+Se[5])/3,pe[2]=(Se[0]+Se[2]+Se[4])/3+1,pe[3]=(Se[1]+Se[3]+Se[5])/3+1):(pe[2]=(Se[0]+Se[2]+Se[4])/3,pe[3]=(Se[1]+Se[3]+Se[5])/3),t.redrawHint("select",!0),t.redraw();else if(se&&F.touches[1]&&!t.touchData.didSelect&&ge.zoomingEnabled()&&ge.panningEnabled()&&ge.userZoomingEnabled()&&ge.userPanningEnabled()){F.preventDefault(),t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var Wt=t.dragData.touchDragEles;if(Wt){t.redrawHint("drag",!0);for(var or=0;or<Wt.length;or++){var qa=Wt[or]._private;qa.grabbed=!1,qa.rscratch.inDragLayer=!1}}var vr=t.touchData.start,Gt=F.touches[0].clientX-ne,Vt=F.touches[0].clientY-le,Ut=F.touches[1].clientX-ne,tr=F.touches[1].clientY-le,yn=Le(Gt,Vt,Ut,tr),en=yn/he;if(De){var Ha=Gt-Q,Ea=Vt-J,xa=Ut-ie,rr=tr-oe,Uu=(Ha+xa)/2,$i=(Ea+rr)/2,hr=ge.zoom(),Wr=hr*en,bn=ge.pan(),En=ye[0]*hr+bn.x,wr=ye[1]*hr+bn.y,Pu={x:-Wr/hr*(En-bn.x-Uu)+En,y:-Wr/hr*(wr-bn.y-$i)+wr};if(vr&&vr.active()){var Wt=t.dragData.touchDragEles;S(Wt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),vr.unactivate().emit(Be("freeon")),Wt.emit(Be("free")),t.dragData.didDrag&&(vr.emit(Be("dragfreeon")),Wt.emit(Be("dragfree")))}ge.viewport({zoom:Wr,pan:Pu,cancelOnFailedZoom:!0}),ge.emit(Be("pinchzoom")),he=yn,Q=Gt,J=Vt,ie=Ut,oe=tr,t.pinching=!0}if(F.touches[0]){var Ue=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);Se[0]=Ue[0],Se[1]=Ue[1]}if(F.touches[1]){var Ue=t.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY);Se[2]=Ue[0],Se[3]=Ue[1]}if(F.touches[2]){var Ue=t.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY);Se[4]=Ue[0],Se[5]=Ue[1]}}else if(F.touches[0]&&!t.touchData.didSelect){var $t=t.touchData.start,Da=t.touchData.last,sr;if(!t.hoverData.draggingEles&&!t.swipePanning&&(sr=t.findNearestElement(Se[0],Se[1],!0,!0)),se&&$t!=null&&F.preventDefault(),se&&$t!=null&&t.nodeIsDraggable($t))if(Je){var Wt=t.dragData.touchDragEles,Mr=!t.dragData.didDrag;Mr&&C(Wt,{inDragLayer:!0}),t.dragData.didDrag=!0;var gr={x:0,y:0};if(Me(rt[0])&&Me(rt[1])&&(gr.x+=rt[0],gr.y+=rt[1],Mr)){t.redrawHint("eles",!0);var _r=t.touchData.dragDelta;_r&&Me(_r[0])&&Me(_r[1])&&(gr.x+=_r[0],gr.y+=_r[1])}t.hoverData.draggingEles=!0,Wt.silentShift(gr).emit(Be("position")).emit(Be("drag")),t.redrawHint("drag",!0),t.touchData.startPosition[0]==ze[0]&&t.touchData.startPosition[1]==ze[1]&&t.redrawHint("eles",!0),t.redraw()}else{var _r=t.touchData.dragDelta=t.touchData.dragDelta||[];_r.length===0?(_r.push(rt[0]),_r.push(rt[1])):(_r[0]+=rt[0],_r[1]+=rt[1])}if(u($t||sr,["touchmove","tapdrag","vmousemove"],F,{x:Se[0],y:Se[1]}),(!$t||!$t.grabbed())&&sr!=Da&&(Da&&Da.emit(Be("tapdragout")),sr&&sr.emit(Be("tapdragover"))),t.touchData.last=sr,se)for(var or=0;or<Se.length;or++)Se[or]&&t.touchData.startPosition[or]&&Je&&(t.touchData.singleTouchMoved=!0);if(se&&($t==null||$t.pannable())&&ge.panningEnabled()&&ge.userPanningEnabled()){var Ji=s($t,t.touchData.starts);Ji&&(F.preventDefault(),t.data.bgActivePosistion||(t.data.bgActivePosistion=ql(t.touchData.startPosition)),t.swipePanning?(ge.panBy({x:rt[0]*Ne,y:rt[1]*Ne}),ge.emit(Be("dragpan"))):Je&&(t.swipePanning=!0,ge.panBy({x:st*Ne,y:Kt*Ne}),ge.emit(Be("dragpan")),$t&&($t.unactivate(),t.redrawHint("select",!0),t.touchData.start=null)));var Ue=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);Se[0]=Ue[0],Se[1]=Ue[1]}}for(var ke=0;ke<Se.length;ke++)ze[ke]=Se[ke];se&&F.touches.length>0&&!t.hoverData.draggingEles&&!t.swipePanning&&t.data.bgActivePosistion!=null&&(t.data.bgActivePosistion=void 0,t.redrawHint("select",!0),t.redraw())}},!1);var Ke;t.registerBinding(e,"touchcancel",Ke=function(F){var se=t.touchData.start;t.touchData.capture=!1,se&&se.unactivate()});var Oe,Ge,Fe,tt;if(t.registerBinding(e,"touchend",Oe=function(F){var se=t.touchData.start,pe=t.touchData.capture;if(pe)F.touches.length===0&&(t.touchData.capture=!1),F.preventDefault();else return;var ge=t.selection;t.swipePanning=!1,t.hoverData.draggingEles=!1;var Se=t.cy,ze=Se.zoom(),Ne=t.touchData.now,Ue=t.touchData.earlier;if(F.touches[0]){var Be=t.projectIntoViewport(F.touches[0].clientX,F.touches[0].clientY);Ne[0]=Be[0],Ne[1]=Be[1]}if(F.touches[1]){var Be=t.projectIntoViewport(F.touches[1].clientX,F.touches[1].clientY);Ne[2]=Be[0],Ne[3]=Be[1]}if(F.touches[2]){var Be=t.projectIntoViewport(F.touches[2].clientX,F.touches[2].clientY);Ne[4]=Be[0],Ne[5]=Be[1]}var Ye=function(dr){return{originalEvent:F,type:dr,position:{x:Ne[0],y:Ne[1]}}};se&&se.unactivate();var Je;if(t.touchData.cxt){if(Je=Ye("cxttapend"),se?se.emit(Je):Se.emit(Je),!t.touchData.cxtDragged){var rt=Ye("cxttap");se?se.emit(rt):Se.emit(rt)}t.touchData.start&&(t.touchData.start._private.grabbed=!1),t.touchData.cxt=!1,t.touchData.start=null,t.redraw();return}if(!F.touches[2]&&Se.boxSelectionEnabled()&&t.touchData.selecting){t.touchData.selecting=!1;var ke=Se.collection(t.getAllInBox(ge[0],ge[1],ge[2],ge[3]));ge[0]=void 0,ge[1]=void 0,ge[2]=void 0,ge[3]=void 0,ge[4]=0,t.redrawHint("select",!0),Se.emit(Ye("boxend"));var st=function(dr){return dr.selectable()&&!dr.selected()};ke.emit(Ye("box")).stdFilter(st).select().emit(Ye("boxselect")),ke.nonempty()&&t.redrawHint("eles",!0),t.redraw()}if(se?.unactivate(),F.touches[2])t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);else if(!F.touches[1]){if(!F.touches[0]){if(!F.touches[0]){t.data.bgActivePosistion=void 0,t.redrawHint("select",!0);var nt=t.dragData.touchDragEles;if(se!=null){var Kt=se._private.grabbed;S(nt),t.redrawHint("drag",!0),t.redrawHint("eles",!0),Kt&&(se.emit(Ye("freeon")),nt.emit(Ye("free")),t.dragData.didDrag&&(se.emit(Ye("dragfreeon")),nt.emit(Ye("dragfree")))),u(se,["touchend","tapend","vmouseup","tapdragout"],F,{x:Ne[0],y:Ne[1]}),se.unactivate(),t.touchData.start=null}else{var St=t.findNearestElement(Ne[0],Ne[1],!0,!0);u(St,["touchend","tapend","vmouseup","tapdragout"],F,{x:Ne[0],y:Ne[1]})}var Tr=t.touchData.startPosition[0]-Ne[0],Gt=Tr*Tr,Vt=t.touchData.startPosition[1]-Ne[1],Ut=Vt*Vt,tr=Gt+Ut,ia=tr*ze*ze;t.touchData.singleTouchMoved||(se||Se.$(":selected").unselect(["tapunselect"]),u(se,["tap","vclick"],F,{x:Ne[0],y:Ne[1]}),Ge=!1,F.timeStamp-tt<=Se.multiClickDebounceTime()?(Fe&&clearTimeout(Fe),Ge=!0,tt=null,u(se,["dbltap","vdblclick"],F,{x:Ne[0],y:Ne[1]})):(Fe=setTimeout(function(){Ge||u(se,["onetap","voneclick"],F,{x:Ne[0],y:Ne[1]})},Se.multiClickDebounceTime()),tt=F.timeStamp)),se!=null&&!t.dragData.didDrag&&se._private.selectable&&ia<t.touchTapThreshold2&&!t.pinching&&(Se.selectionType()==="single"?(Se.$(r).unmerge(se).unselect(["tapunselect"]),se.select(["tapselect"])):se.selected()?se.unselect(["tapunselect"]):se.select(["tapselect"]),t.redrawHint("eles",!0)),t.touchData.singleTouchMoved=!0}}}for(var jt=0;jt<Ne.length;jt++)Ue[jt]=Ne[jt];t.dragData.didDrag=!1,F.touches.length===0&&(t.touchData.dragDelta=[],t.touchData.startPosition=[null,null,null,null,null,null],t.touchData.startGPosition=null,t.touchData.didSelect=!1),F.touches.length<2&&(F.touches.length===1&&(t.touchData.startGPosition=[F.touches[0].clientX,F.touches[0].clientY]),t.pinching=!1,t.redrawHint("eles",!0),t.redraw())},!1),typeof TouchEvent>"u"){var Ie=[],at=function(F){return{clientX:F.clientX,clientY:F.clientY,force:1,identifier:F.pointerId,pageX:F.pageX,pageY:F.pageY,radiusX:F.width/2,radiusY:F.height/2,screenX:F.screenX,screenY:F.screenY,target:F.target}},ct=function(F){return{event:F,touch:at(F)}},yt=function(F){Ie.push(ct(F))},dt=function(F){for(var se=0;se<Ie.length;se++){var pe=Ie[se];if(pe.event.pointerId===F.pointerId){Ie.splice(se,1);return}}},bt=function(F){var se=Ie.filter(function(pe){return pe.event.pointerId===F.pointerId})[0];se.event=F,se.touch=at(F)},We=function(F){F.touches=Ie.map(function(se){return se.touch})},_e=function(F){return F.pointerType==="mouse"||F.pointerType===4};t.registerBinding(t.container,"pointerdown",function(Te){_e(Te)||(Te.preventDefault(),yt(Te),We(Te),Qe(Te))}),t.registerBinding(t.container,"pointerup",function(Te){_e(Te)||(dt(Te),We(Te),Oe(Te))}),t.registerBinding(t.container,"pointercancel",function(Te){_e(Te)||(dt(Te),We(Te),Ke(Te))}),t.registerBinding(t.container,"pointermove",function(Te){_e(Te)||(Te.preventDefault(),bt(Te),We(Te),qe(Te))})}};var ti={};ti.generatePolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,draw:function(n,u,l,s,c,d){this.renderer.nodeShapeImpl("polygon",n,u,l,s,c,this.points)},intersectLine:function(n,u,l,s,c,d,f,v){return Mo(c,d,this.points,n,u,l/2,s/2,f)},checkPoint:function(n,u,l,s,c,d,f,v){return ei(n,u,this.points,d,f,s,c,[0,-1],l)},hasMiterBounds:t!=="rectangle",miterBounds:function(n,u,l,s,c,d){return K2(this.points,n,u,l,s,c)}}};ti.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,r,n,u,l,s){this.renderer.nodeShapeImpl(this.name,e,r,n,u,l)},intersectLine:function(e,r,n,u,l,s,c,d){return tA(l,s,e,r,n/2+c,u/2+c)},checkPoint:function(e,r,n,u,l,s,c,d){return Du(e,r,u,l,s,c,n)}}};ti.generateRoundPolygon=function(t,e){return this.nodeShapes[t]={renderer:this,name:t,points:e,getOrCreateCorners:function(n,u,l,s,c,d,f){if(d[f]!==void 0&&d[f+"-cx"]===n&&d[f+"-cy"]===u)return d[f];d[f]=new Array(e.length/2),d[f+"-cx"]=n,d[f+"-cy"]=u;var v=l/2,g=s/2;c=c==="auto"?xx(l,s):c;for(var p=new Array(e.length/2),E=0;E<e.length/2;E++)p[E]={x:n+v*e[E*2],y:u+g*e[E*2+1]};var b,C,w,S,N=p.length;for(C=p[N-1],b=0;b<N;b++)w=p[b%N],S=p[(b+1)%N],d[f][b]=ym(C,w,S,c),C=w,w=S;return d[f]},draw:function(n,u,l,s,c,d,f){this.renderer.nodeShapeImpl("round-polygon",n,u,l,s,c,this.points,this.getOrCreateCorners(u,l,s,c,d,f,"drawCorners"))},intersectLine:function(n,u,l,s,c,d,f,v,g){return aA(c,d,this.points,n,u,l,s,f,this.getOrCreateCorners(n,u,l,s,v,g,"corners"))},checkPoint:function(n,u,l,s,c,d,f,v,g){return eA(n,u,this.points,d,f,s,c,this.getOrCreateCorners(d,f,s,c,v,g,"corners"))}}};ti.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:ra(4,0),draw:function(e,r,n,u,l,s){this.renderer.nodeShapeImpl(this.name,e,r,n,u,l,this.points,s)},intersectLine:function(e,r,n,u,l,s,c,d){return bx(l,s,e,r,n,u,c,d)},checkPoint:function(e,r,n,u,l,s,c,d){var f=u/2,v=l/2;d=d==="auto"?Vi(u,l):d,d=Math.min(f,v,d);var g=d*2;return!!(ei(e,r,this.points,s,c,u,l-g,[0,-1],n)||ei(e,r,this.points,s,c,u-g,l,[0,-1],n)||Du(e,r,g,g,s-f+d,c-v+d,n)||Du(e,r,g,g,s+f-d,c-v+d,n)||Du(e,r,g,g,s+f-d,c+v-d,n)||Du(e,r,g,g,s-f+d,c+v-d,n))}}};ti.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:lm(),points:ra(4,0),draw:function(e,r,n,u,l,s){this.renderer.nodeShapeImpl(this.name,e,r,n,u,l,null,s)},generateCutTrianglePts:function(e,r,n,u,l){var s=l==="auto"?this.cornerLength:l,c=r/2,d=e/2,f=n-d,v=n+d,g=u-c,p=u+c;return{topLeft:[f,g+s,f+s,g,f+s,g+s],topRight:[v-s,g,v,g+s,v-s,g+s],bottomRight:[v,p-s,v-s,p,v-s,p-s],bottomLeft:[f+s,p,f,p-s,f+s,p-s]}},intersectLine:function(e,r,n,u,l,s,c,d){var f=this.generateCutTrianglePts(n+2*c,u+2*c,e,r,d),v=[].concat.apply([],[f.topLeft.splice(0,4),f.topRight.splice(0,4),f.bottomRight.splice(0,4),f.bottomLeft.splice(0,4)]);return Mo(l,s,v,e,r)},checkPoint:function(e,r,n,u,l,s,c,d){var f=d==="auto"?this.cornerLength:d;if(ei(e,r,this.points,s,c,u,l-2*f,[0,-1],n)||ei(e,r,this.points,s,c,u-2*f,l,[0,-1],n))return!0;var v=this.generateCutTrianglePts(u,l,s,c);return ya(e,r,v.topLeft)||ya(e,r,v.topRight)||ya(e,r,v.bottomRight)||ya(e,r,v.bottomLeft)}}};ti.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:ra(4,0),draw:function(e,r,n,u,l,s){this.renderer.nodeShapeImpl(this.name,e,r,n,u,l)},intersectLine:function(e,r,n,u,l,s,c,d){var f=.15,v=.5,g=.85,p=this.generateBarrelBezierPts(n+2*c,u+2*c,e,r),E=function(w){var S=Vl({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},f),N=Vl({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},v),R=Vl({x:w[0],y:w[1]},{x:w[2],y:w[3]},{x:w[4],y:w[5]},g);return[w[0],w[1],S.x,S.y,N.x,N.y,R.x,R.y,w[4],w[5]]},b=[].concat(E(p.topLeft),E(p.topRight),E(p.bottomRight),E(p.bottomLeft));return Mo(l,s,b,e,r)},generateBarrelBezierPts:function(e,r,n,u){var l=r/2,s=e/2,c=n-s,d=n+s,f=u-l,v=u+l,g=Mp(e,r),p=g.heightOffset,E=g.widthOffset,b=g.ctrlPtOffsetPct*e,C={topLeft:[c,f+p,c+b,f,c+E,f],topRight:[d-E,f,d-b,f,d,f+p],bottomRight:[d,v-p,d-b,v,d-E,v],bottomLeft:[c+E,v,c+b,v,c,v-p]};return C.topLeft.isTop=!0,C.topRight.isTop=!0,C.bottomLeft.isBottom=!0,C.bottomRight.isBottom=!0,C},checkPoint:function(e,r,n,u,l,s,c,d){var f=Mp(u,l),v=f.heightOffset,g=f.widthOffset;if(ei(e,r,this.points,s,c,u,l-2*v,[0,-1],n)||ei(e,r,this.points,s,c,u-2*g,l,[0,-1],n))return!0;for(var p=this.generateBarrelBezierPts(u,l,s,c),E=function(z,P,k){var U=k[4],L=k[2],G=k[0],X=k[5],Z=k[1],H=Math.min(U,G),j=Math.max(U,G),W=Math.min(X,Z),ee=Math.max(X,Z);if(H<=z&&z<=j&&W<=P&&P<=ee){var te=nA(U,L,G),q=Q2(te[0],te[1],te[2],z),Q=q.filter(function(J){return 0<=J&&J<=1});if(Q.length>0)return Q[0]}return null},b=Object.keys(p),C=0;C<b.length;C++){var w=b[C],S=p[w],N=E(e,r,S);if(N!=null){var R=S[5],D=S[3],O=S[1],I=Ir(R,D,O,N);if(S.isTop&&I<=r||S.isBottom&&r<=I)return!0}}return!1}}};ti.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:ra(4,0),draw:function(e,r,n,u,l,s){this.renderer.nodeShapeImpl(this.name,e,r,n,u,l,this.points,s)},intersectLine:function(e,r,n,u,l,s,c,d){var f=e-(n/2+c),v=r-(u/2+c),g=v,p=e+(n/2+c),E=Ui(l,s,e,r,f,v,p,g,!1);return E.length>0?E:bx(l,s,e,r,n,u,c,d)},checkPoint:function(e,r,n,u,l,s,c,d){d=d==="auto"?Vi(u,l):d;var f=2*d;if(ei(e,r,this.points,s,c,u,l-f,[0,-1],n)||ei(e,r,this.points,s,c,u-f,l,[0,-1],n))return!0;var v=u/2+2*n,g=l/2+2*n,p=[s-v,c-g,s-v,c,s+v,c,s+v,c-g];return!!(ya(e,r,p)||Du(e,r,f,f,s+u/2-d,c+l/2-d,n)||Du(e,r,f,f,s-u/2+d,c+l/2-d,n))}}};ti.registerNodeShapes=function(){var t=this.nodeShapes={},e=this;this.generateEllipse(),this.generatePolygon("triangle",ra(3,0)),this.generateRoundPolygon("round-triangle",ra(3,0)),this.generatePolygon("rectangle",ra(4,0)),t.square=t.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",ra(5,0)),this.generateRoundPolygon("round-pentagon",ra(5,0)),this.generatePolygon("hexagon",ra(6,0)),this.generateRoundPolygon("round-hexagon",ra(6,0)),this.generatePolygon("heptagon",ra(7,0)),this.generateRoundPolygon("round-heptagon",ra(7,0)),this.generatePolygon("octagon",ra(8,0)),this.generateRoundPolygon("round-octagon",ra(8,0));var n=new Array(20);{var u=Op(5,0),l=Op(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var c=0;c<l.length/2;c++)l[c*2]*=s,l[c*2+1]*=s;for(var c=0;c<20/4;c++)n[c*4]=u[c*2],n[c*4+1]=u[c*2+1],n[c*4+2]=l[c*2],n[c*4+3]=l[c*2+1]}n=Ex(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var d=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",d),this.generateRoundPolygon("round-tag",d)}t.makePolygon=function(f){var v=f.join("$"),g="polygon-"+v,p;return(p=this[g])?p:e.generatePolygon(g,f)}};var Ko={};Ko.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Ko.redraw=function(t){t=t||gx();var e=this;e.averageRedrawTime===void 0&&(e.averageRedrawTime=0),e.lastRedrawTime===void 0&&(e.lastRedrawTime=0),e.lastDrawTime===void 0&&(e.lastDrawTime=0),e.requestedFrame=!0,e.renderOptions=t};Ko.beforeRender=function(t,e){if(!this.destroyed){e==null&&er("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:t,priority:e}),r.sort(function(n,u){return u.priority-n.priority})}};var OE=function(e,r,n){for(var u=e.beforeRenderCallbacks,l=0;l<u.length;l++)u[l].fn(r,n)};Ko.startRenderLoop=function(){var t=this,e=t.cy;if(!t.renderLoopStarted){t.renderLoopStarted=!0;var r=function(u){if(!t.destroyed){if(!e.batching())if(t.requestedFrame&&!t.skipFrame){OE(t,!0,u);var l=Jn();t.render(t.renderOptions);var s=t.lastDrawTime=Jn();t.averageRedrawTime===void 0&&(t.averageRedrawTime=s-l),t.redrawCount===void 0&&(t.redrawCount=0),t.redrawCount++,t.redrawTotalTime===void 0&&(t.redrawTotalTime=0);var c=s-l;t.redrawTotalTime+=c,t.lastRedrawTime=c,t.averageRedrawTime=t.averageRedrawTime/2+c/2,t.requestedFrame=!1}else OE(t,!1,u);t.skipFrame=!1,nd(r)}};nd(r)}};var ER=function(e){this.init(e)},xT=ER,ts=xT.prototype;ts.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];ts.init=function(t){var e=this;e.options=t,e.cy=t.cy;var r=e.container=t.cy.container(),n=e.cy.window();if(n){var u=n.document,l=u.head,s="__________cytoscape_stylesheet",c="__________cytoscape_container",d=u.getElementById(s)!=null;if(r.className.indexOf(c)<0&&(r.className=(r.className||"")+" "+c),!d){var f=u.createElement("style");f.id=s,f.textContent="."+c+" { position: relative; }",l.insertBefore(f,l.children[0])}var v=n.getComputedStyle(r),g=v.getPropertyValue("position");g==="static"&&Mt("A Cytoscape container has style position:static and so can not use UI extensions properly")}e.selection=[void 0,void 0,void 0,void 0,0],e.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],e.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},e.dragData={possibleDragElements:[]},e.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},e.redraws=0,e.showFps=t.showFps,e.debug=t.debug,e.webgl=t.webgl,e.hideEdgesOnViewport=t.hideEdgesOnViewport,e.textureOnViewport=t.textureOnViewport,e.wheelSensitivity=t.wheelSensitivity,e.motionBlurEnabled=t.motionBlur,e.forcedPixelRatio=Me(t.pixelRatio)?t.pixelRatio:null,e.motionBlur=t.motionBlur,e.motionBlurOpacity=t.motionBlurOpacity,e.motionBlurTransparency=1-e.motionBlurOpacity,e.motionBlurPxRatio=1,e.mbPxRBlurry=1,e.minMbLowQualFrames=4,e.fullQualityMb=!1,e.clearedForMotionBlur=[],e.desktopTapThreshold=t.desktopTapThreshold,e.desktopTapThreshold2=t.desktopTapThreshold*t.desktopTapThreshold,e.touchTapThreshold=t.touchTapThreshold,e.touchTapThreshold2=t.touchTapThreshold*t.touchTapThreshold,e.tapholdDuration=500,e.bindings=[],e.beforeRenderCallbacks=[],e.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},e.registerNodeShapes(),e.registerArrowShapes(),e.registerCalculationListeners()};ts.notify=function(t,e){var r=this,n=r.cy;if(!this.destroyed){if(t==="init"){r.load();return}if(t==="destroy"){r.destroy();return}(t==="add"||t==="remove"||t==="move"&&n.hasCompoundNodes()||t==="load"||t==="zorder"||t==="mount")&&r.invalidateCachedZSortedEles(),t==="viewport"&&r.redrawHint("select",!0),t==="gc"&&r.redrawHint("gc",!0),(t==="load"||t==="resize"||t==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};ts.destroy=function(){var t=this;t.destroyed=!0,t.cy.stopAnimationLoop();for(var e=0;e<t.bindings.length;e++){var r=t.bindings[e],n=r,u=n.target;(u.off||u.removeEventListener).apply(u,n.args)}if(t.bindings=[],t.beforeRenderCallbacks=[],t.onUpdateEleCalcsFns=[],t.removeObserver&&t.removeObserver.disconnect(),t.styleObserver&&t.styleObserver.disconnect(),t.resizeObserver&&t.resizeObserver.disconnect(),t.labelCalcDiv)try{document.body.removeChild(t.labelCalcDiv)}catch{}};ts.isHeadless=function(){return!1};[mm,bT,ET,es,ti,Ko].forEach(function(t){$e(ts,t)});var yp=1e3/60,TT={setupDequeueing:function(e){return function(){var n=this,u=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var l=Go(function(){u.redrawHint("eles",!0),u.redrawHint("drag",!0),u.redraw()},e.deqRedrawThreshold),s=function(f,v){var g=Jn(),p=u.averageRedrawTime,E=u.lastRedrawTime,b=[],C=u.cy.extent(),w=u.getPixelRatio();for(f||u.flushRenderedStyleQueue();;){var S=Jn(),N=S-g,R=S-v;if(E<yp){var D=yp-(f?p:0);if(R>=e.deqFastCost*D)break}else if(f){if(N>=e.deqCost*E||N>=e.deqAvgCost*p)break}else if(R>=e.deqNoDrawCost*yp)break;var O=e.deq(n,w,C);if(O.length>0)for(var I=0;I<O.length;I++)b.push(O[I]);else break}b.length>0&&(e.onDeqd(n,b),!f&&e.shouldRedraw(n,b,w,C)&&l())},c=e.priority||rm;u.beforeRender(s,c(n))}}}},xR=(function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:id;Ki(this,t),this.idsByKey=new $n,this.keyForId=new $n,this.cachesByLvl=new $n,this.lvls=[],this.getKey=e,this.doesEleInvalidateKey=r}return Xi(t,[{key:"getIdsFor",value:function(r){r==null&&er("Can not get id list for null key");var n=this.idsByKey,u=this.idsByKey.get(r);return u||(u=new Ql,n.set(r,u)),u}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),u=this.keyForId.get(n),l=this.getKey(r);this.deleteIdForKey(u,n),this.addIdForKey(l,n),this.keyForId.set(n,l)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),u=this.keyForId.get(n);this.deleteIdForKey(u,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),u=this.keyForId.get(n),l=this.getKey(r);return u!==l}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,u=this.lvls,l=n.get(r);return l||(l=new $n,n.set(r,l),u.push(r)),l}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var u=this.getKey(r),l=this.getCache(u,n);return l!=null&&this.updateKeyMappingFor(r),l}},{key:"getForCachedKey",value:function(r,n){var u=this.keyForId.get(r.id()),l=this.getCache(u,n);return l}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var u=this.getKey(r);return this.hasCache(u,n)}},{key:"setCache",value:function(r,n,u){u.key=r,this.getCachesAt(n).set(r,u)}},{key:"set",value:function(r,n,u){var l=this.getKey(r);this.setCache(l,n,u),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var u=this.getKey(r);this.deleteCache(u,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(u){return n.deleteCache(r,u)})}},{key:"invalidate",value:function(r){var n=r.id(),u=this.keyForId.get(n);this.deleteKeyMappingFor(r);var l=this.doesEleInvalidateKey(r);return l&&this.invalidateKey(u),l||this.getNumberOfIdsForKey(u)===0}}])})(),ME=25,Uf=50,Jf=-4,jp=3,ST=7.99,TR=8,SR=1024,wR=1024,AR=1024,CR=.2,NR=.8,RR=10,DR=.15,OR=.1,MR=.9,BR=.9,IR=100,LR=1,Gl={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},zR=Gr({getKey:null,doesEleInvalidateKey:id,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:dx,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),So=function(e,r){var n=this;n.renderer=e,n.onDequeues=[];var u=zR(r);$e(n,u),n.lookup=new xR(u.getKey,u.doesEleInvalidateKey),n.setupDequeueing()},Or=So.prototype;Or.reasons=Gl;Or.getTextureQueue=function(t){var e=this;return e.eleImgCaches=e.eleImgCaches||{},e.eleImgCaches[t]=e.eleImgCaches[t]||[]};Or.getRetiredTextureQueue=function(t){var e=this,r=e.eleImgCaches.retired=e.eleImgCaches.retired||{},n=r[t]=r[t]||[];return n};Or.getElementQueue=function(){var t=this,e=t.eleCacheQueue=t.eleCacheQueue||new Vo(function(r,n){return n.reqs-r.reqs});return e};Or.getElementKeyToQueue=function(){var t=this,e=t.eleKeyToCacheQueue=t.eleKeyToCacheQueue||{};return e};Or.getElement=function(t,e,r,n,u){var l=this,s=this.renderer,c=s.cy.zoom(),d=this.lookup;if(!e||e.w===0||e.h===0||isNaN(e.w)||isNaN(e.h)||!t.visible()||t.removed()||!l.allowEdgeTxrCaching&&t.isEdge()||!l.allowParentTxrCaching&&t.isParent())return null;if(n==null&&(n=Math.ceil(nm(c*r))),n<Jf)n=Jf;else if(c>=ST||n>jp)return null;var f=Math.pow(2,n),v=e.h*f,g=e.w*f,p=s.eleTextBiggerThanMin(t,f);if(!this.isVisible(t,p))return null;var E=d.get(t,n);if(E&&E.invalidated&&(E.invalidated=!1,E.texture.invalidatedWidth-=E.width),E)return E;var b;if(v<=ME?b=ME:v<=Uf?b=Uf:b=Math.ceil(v/Uf)*Uf,v>AR||g>wR)return null;var C=l.getTextureQueue(b),w=C[C.length-2],S=function(){return l.recycleTexture(b,g)||l.addTexture(b,g)};w||(w=C[C.length-1]),w||(w=S()),w.width-w.usedWidth<g&&(w=S());for(var N=function(H){return H&&H.scaledLabelShown===p},R=u&&u===Gl.dequeue,D=u&&u===Gl.highQuality,O=u&&u===Gl.downscale,I,M=n+1;M<=jp;M++){var z=d.get(t,M);if(z){I=z;break}}var P=I&&I.level===n+1?I:null,k=function(){w.context.drawImage(P.texture.canvas,P.x,0,P.width,P.height,w.usedWidth,0,g,v)};if(w.context.setTransform(1,0,0,1,0,0),w.context.clearRect(w.usedWidth,0,g,b),N(P))k();else if(N(I))if(D){for(var U=I.level;U>n;U--)P=l.getElement(t,e,r,U,Gl.downscale);k()}else return l.queueElement(t,I.level-1),I;else{var L;if(!R&&!D&&!O)for(var G=n-1;G>=Jf;G--){var X=d.get(t,G);if(X){L=X;break}}if(N(L))return l.queueElement(t,n),L;w.context.translate(w.usedWidth,0),w.context.scale(f,f),this.drawElement(w.context,t,e,p,!1),w.context.scale(1/f,1/f),w.context.translate(-w.usedWidth,0)}return E={x:w.usedWidth,texture:w,level:n,scale:f,width:g,height:v,scaledLabelShown:p},w.usedWidth+=Math.ceil(g+TR),w.eleCaches.push(E),d.set(t,n,E),l.checkTextureFullness(w),E};Or.invalidateElements=function(t){for(var e=0;e<t.length;e++)this.invalidateElement(t[e])};Or.invalidateElement=function(t){var e=this,r=e.lookup,n=[],u=r.isInvalid(t);if(u){for(var l=Jf;l<=jp;l++){var s=r.getForCachedKey(t,l);s&&n.push(s)}var c=r.invalidate(t);if(c)for(var d=0;d<n.length;d++){var f=n[d],v=f.texture;v.invalidatedWidth+=f.width,f.invalidated=!0,e.checkTextureUtility(v)}e.removeFromQueue(t)}};Or.checkTextureUtility=function(t){t.invalidatedWidth>=CR*t.width&&this.retireTexture(t)};Or.checkTextureFullness=function(t){var e=this,r=e.getTextureQueue(t.height);t.usedWidth/t.width>NR&&t.fullnessChecks>=RR?Gi(r,t):t.fullnessChecks++};Or.retireTexture=function(t){var e=this,r=t.height,n=e.getTextureQueue(r),u=this.lookup;Gi(n,t),t.retired=!0;for(var l=t.eleCaches,s=0;s<l.length;s++){var c=l[s];u.deleteCache(c.key,c.level)}am(l);var d=e.getRetiredTextureQueue(r);d.push(t)};Or.addTexture=function(t,e){var r=this,n=r.getTextureQueue(t),u={};return n.push(u),u.eleCaches=[],u.height=t,u.width=Math.max(SR,e),u.usedWidth=0,u.invalidatedWidth=0,u.fullnessChecks=0,u.canvas=r.renderer.makeOffscreenCanvas(u.width,u.height),u.context=u.canvas.getContext("2d"),u};Or.recycleTexture=function(t,e){for(var r=this,n=r.getTextureQueue(t),u=r.getRetiredTextureQueue(t),l=0;l<u.length;l++){var s=u[l];if(s.width>=e)return s.retired=!1,s.usedWidth=0,s.invalidatedWidth=0,s.fullnessChecks=0,am(s.eleCaches),s.context.setTransform(1,0,0,1,0,0),s.context.clearRect(0,0,s.width,s.height),Gi(u,s),n.push(s),s}};Or.queueElement=function(t,e){var r=this,n=r.getElementQueue(),u=r.getElementKeyToQueue(),l=this.getKey(t),s=u[l];if(s)s.level=Math.max(s.level,e),s.eles.merge(t),s.reqs++,n.updateItem(s);else{var c={eles:t.spawn().merge(t),level:e,reqs:1,key:l};n.push(c),u[l]=c}};Or.dequeue=function(t){for(var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),u=[],l=e.lookup,s=0;s<LR&&r.size()>0;s++){var c=r.pop(),d=c.key,f=c.eles[0],v=l.hasCache(f,c.level);if(n[d]=null,v)continue;u.push(c);var g=e.getBoundingBox(f);e.getElement(f,g,t,c.level,Gl.dequeue)}return u};Or.removeFromQueue=function(t){var e=this,r=e.getElementQueue(),n=e.getElementKeyToQueue(),u=this.getKey(t),l=n[u];l!=null&&(l.eles.length===1?(l.reqs=tm,r.updateItem(l),r.pop(),n[u]=null):l.eles.unmerge(t))};Or.onDequeue=function(t){this.onDequeues.push(t)};Or.offDequeue=function(t){Gi(this.onDequeues,t)};Or.setupDequeueing=TT.setupDequeueing({deqRedrawThreshold:IR,deqCost:DR,deqAvgCost:OR,deqNoDrawCost:MR,deqFastCost:BR,deq:function(e,r,n){return e.dequeue(r,n)},onDeqd:function(e,r){for(var n=0;n<e.onDequeues.length;n++){var u=e.onDequeues[n];u(r)}},shouldRedraw:function(e,r,n,u){for(var l=0;l<r.length;l++)for(var s=r[l].eles,c=0;c<s.length;c++){var d=s[c].boundingBox();if(um(d,u))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var _R=1,Ao=-4,vd=2,kR=3.99,UR=50,PR=50,qR=.15,HR=.1,GR=.9,VR=.9,jR=1,BE=250,FR=4e3*4e3,IE=32767,YR=!0,wT=function(e){var r=this,n=r.renderer=e,u=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=Jn()-2*BE,r.skipping=!1,r.eleTxrDeqs=u.collection(),r.scheduleElementRefinement=Go(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},PR),n.beforeRender(function(s,c){c-r.lastInvalidationTime<=BE?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var l=function(c,d){return d.reqs-c.reqs};r.layersQueue=new Vo(l),r.setupDequeueing()},Vr=wT.prototype,LE=0,KR=Math.pow(2,53)-1;Vr.makeLayer=function(t,e){var r=Math.pow(2,e),n=Math.ceil(t.w*r),u=Math.ceil(t.h*r),l=this.renderer.makeOffscreenCanvas(n,u),s={id:LE=++LE%KR,bb:t,level:e,width:n,height:u,canvas:l,context:l.getContext("2d"),eles:[],elesQueue:[],reqs:0},c=s.context,d=-s.bb.x1,f=-s.bb.y1;return c.scale(r,r),c.translate(d,f),s};Vr.getLayers=function(t,e,r){var n=this,u=n.renderer,l=u.cy,s=l.zoom(),c=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(nm(s*e)),r<Ao)r=Ao;else if(s>=kR||r>vd)return null}n.validateLayersElesOrdering(r,t);var d=n.layersByLevel,f=Math.pow(2,r),v=d[r]=d[r]||[],g,p=n.levelIsComplete(r,t),E,b=function(){var k=function(Z){if(n.validateLayersElesOrdering(Z,t),n.levelIsComplete(Z,t))return E=d[Z],!0},U=function(Z){if(!E)for(var H=r+Z;Ao<=H&&H<=vd&&!k(H);H+=Z);};U(1),U(-1);for(var L=v.length-1;L>=0;L--){var G=v[L];G.invalid&&Gi(v,G)}};if(!p)b();else return v;var C=function(){if(!g){g=aa();for(var k=0;k<t.length;k++)j2(g,t[k].boundingBox())}return g},w=function(k){k=k||{};var U=k.after;C();var L=Math.ceil(g.w*f),G=Math.ceil(g.h*f);if(L>IE||G>IE)return null;var X=L*G;if(X>FR)return null;var Z=n.makeLayer(g,r);if(U!=null){var H=v.indexOf(U)+1;v.splice(H,0,Z)}else(k.insert===void 0||k.insert)&&v.unshift(Z);return Z};if(n.skipping&&!c)return null;for(var S=null,N=t.length/_R,R=!c,D=0;D<t.length;D++){var O=t[D],I=O._private.rscratch,M=I.imgLayerCaches=I.imgLayerCaches||{},z=M[r];if(z){S=z;continue}if((!S||S.eles.length>=N||!yx(S.bb,O.boundingBox()))&&(S=w({insert:!0,after:S}),!S))return null;E||R?n.queueLayer(S,O):n.drawEleInLayer(S,O,r,e),S.eles.push(O),M[r]=S}return E||(R?null:v)};Vr.getEleLevelForLayerLevel=function(t,e){return t};Vr.drawEleInLayer=function(t,e,r,n){var u=this,l=this.renderer,s=t.context,c=e.boundingBox();c.w===0||c.h===0||!e.visible()||(r=u.getEleLevelForLayerLevel(r,n),l.setImgSmoothing(s,!1),l.drawCachedElement(s,e,null,null,r,YR),l.setImgSmoothing(s,!0))};Vr.levelIsComplete=function(t,e){var r=this,n=r.layersByLevel[t];if(!n||n.length===0)return!1;for(var u=0,l=0;l<n.length;l++){var s=n[l];if(s.reqs>0||s.invalid)return!1;u+=s.eles.length}return u===e.length};Vr.validateLayersElesOrdering=function(t,e){var r=this.layersByLevel[t];if(r)for(var n=0;n<r.length;n++){for(var u=r[n],l=-1,s=0;s<e.length;s++)if(u.eles[0]===e[s]){l=s;break}if(l<0){this.invalidateLayer(u);continue}for(var c=l,s=0;s<u.eles.length;s++)if(u.eles[s]!==e[c+s]){this.invalidateLayer(u);break}}};Vr.updateElementsInLayers=function(t,e){for(var r=this,n=Uo(t[0]),u=0;u<t.length;u++)for(var l=n?null:t[u],s=n?t[u]:t[u].ele,c=s._private.rscratch,d=c.imgLayerCaches=c.imgLayerCaches||{},f=Ao;f<=vd;f++){var v=d[f];v&&(l&&r.getEleLevelForLayerLevel(v.level)!==l.level||e(v,s,l))}};Vr.haveLayers=function(){for(var t=this,e=!1,r=Ao;r<=vd;r++){var n=t.layersByLevel[r];if(n&&n.length>0){e=!0;break}}return e};Vr.invalidateElements=function(t){var e=this;t.length!==0&&(e.lastInvalidationTime=Jn(),!(t.length===0||!e.haveLayers())&&e.updateElementsInLayers(t,function(n,u,l){e.invalidateLayer(n)}))};Vr.invalidateLayer=function(t){if(this.lastInvalidationTime=Jn(),!t.invalid){var e=t.level,r=t.eles,n=this.layersByLevel[e];Gi(n,t),t.elesQueue=[],t.invalid=!0,t.replacement&&(t.replacement.invalid=!0);for(var u=0;u<r.length;u++){var l=r[u]._private.rscratch.imgLayerCaches;l&&(l[e]=null)}}};Vr.refineElementTextures=function(t){var e=this;e.updateElementsInLayers(t,function(n,u,l){var s=n.replacement;if(s||(s=n.replacement=e.makeLayer(n.bb,n.level),s.replaces=n,s.eles=n.eles),!s.reqs)for(var c=0;c<s.eles.length;c++)e.queueLayer(s,s.eles[c])})};Vr.enqueueElementRefinement=function(t){this.eleTxrDeqs.merge(t),this.scheduleElementRefinement()};Vr.queueLayer=function(t,e){var r=this,n=r.layersQueue,u=t.elesQueue,l=u.hasId=u.hasId||{};if(!t.replacement){if(e){if(l[e.id()])return;u.push(e),l[e.id()]=!0}t.reqs?(t.reqs++,n.updateItem(t)):(t.reqs=1,n.push(t))}};Vr.dequeue=function(t){for(var e=this,r=e.layersQueue,n=[],u=0;u<jR&&r.size()!==0;){var l=r.peek();if(l.replacement){r.pop();continue}if(l.replaces&&l!==l.replaces.replacement){r.pop();continue}if(l.invalid){r.pop();continue}var s=l.elesQueue.shift();s&&(e.drawEleInLayer(l,s,l.level,t),u++),n.length===0&&n.push(!0),l.elesQueue.length===0&&(r.pop(),l.reqs=0,l.replaces&&e.applyLayerReplacement(l),e.requestRedraw())}return n};Vr.applyLayerReplacement=function(t){var e=this,r=e.layersByLevel[t.level],n=t.replaces,u=r.indexOf(n);if(!(u<0||n.invalid)){r[u]=t;for(var l=0;l<t.eles.length;l++){var s=t.eles[l]._private,c=s.imgLayerCaches=s.imgLayerCaches||{};c&&(c[t.level]=t)}e.requestRedraw()}};Vr.requestRedraw=Go(function(){var t=this.renderer;t.redrawHint("eles",!0),t.redrawHint("drag",!0),t.redraw()},100);Vr.setupDequeueing=TT.setupDequeueing({deqRedrawThreshold:UR,deqCost:qR,deqAvgCost:HR,deqNoDrawCost:GR,deqFastCost:VR,deq:function(e,r){return e.dequeue(r)},onDeqd:rm,shouldRedraw:dx,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var AT={},zE;function XR(t,e){for(var r=0;r<e.length;r++){var n=e[r];t.lineTo(n.x,n.y)}}function ZR(t,e,r){for(var n,u=0;u<e.length;u++){var l=e[u];u===0&&(n=l),t.lineTo(l.x,l.y)}t.quadraticCurveTo(r.x,r.y,n.x,n.y)}function _E(t,e,r){t.beginPath&&t.beginPath();for(var n=e,u=0;u<n.length;u++){var l=n[u];t.lineTo(l.x,l.y)}var s=r,c=r[0];t.moveTo(c.x,c.y);for(var u=1;u<s.length;u++){var l=s[u];t.lineTo(l.x,l.y)}t.closePath&&t.closePath()}function QR(t,e,r,n,u){t.beginPath&&t.beginPath(),t.arc(r,n,u,0,Math.PI*2,!1);var l=e,s=l[0];t.moveTo(s.x,s.y);for(var c=0;c<l.length;c++){var d=l[c];t.lineTo(d.x,d.y)}t.closePath&&t.closePath()}function WR(t,e,r,n){t.arc(e,r,n,0,Math.PI*2,!1)}AT.arrowShapeImpl=function(t){return(zE||(zE={polygon:XR,"triangle-backcurve":ZR,"triangle-tee":_E,"circle-triangle":QR,"triangle-cross":_E,circle:WR}))[t]};var mn={};mn.drawElement=function(t,e,r,n,u,l){var s=this;e.isNode()?s.drawNode(t,e,r,n,u,l):s.drawEdge(t,e,r,n,u,l)};mn.drawElementOverlay=function(t,e){var r=this;e.isNode()?r.drawNodeOverlay(t,e):r.drawEdgeOverlay(t,e)};mn.drawElementUnderlay=function(t,e){var r=this;e.isNode()?r.drawNodeUnderlay(t,e):r.drawEdgeUnderlay(t,e)};mn.drawCachedElementPortion=function(t,e,r,n,u,l,s,c){var d=this,f=r.getBoundingBox(e);if(!(f.w===0||f.h===0)){var v=r.getElement(e,f,n,u,l);if(v!=null){var g=c(d,e);if(g===0)return;var p=s(d,e),E=f.x1,b=f.y1,C=f.w,w=f.h,S,N,R,D,O;if(p!==0){var I=r.getRotationPoint(e);R=I.x,D=I.y,t.translate(R,D),t.rotate(p),O=d.getImgSmoothing(t),O||d.setImgSmoothing(t,!0);var M=r.getRotationOffset(e);S=M.x,N=M.y}else S=E,N=b;var z;g!==1&&(z=t.globalAlpha,t.globalAlpha=z*g),t.drawImage(v.texture.canvas,v.x,0,v.width,v.height,S,N,C,w),g!==1&&(t.globalAlpha=z),p!==0&&(t.rotate(-p),t.translate(-R,-D),O||d.setImgSmoothing(t,!1))}else r.drawElement(t,e)}};var $R=function(){return 0},JR=function(e,r){return e.getTextAngle(r,null)},eD=function(e,r){return e.getTextAngle(r,"source")},tD=function(e,r){return e.getTextAngle(r,"target")},rD=function(e,r){return r.effectiveOpacity()},bp=function(e,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};mn.drawCachedElement=function(t,e,r,n,u,l){var s=this,c=s.data,d=c.eleTxrCache,f=c.lblTxrCache,v=c.slbTxrCache,g=c.tlbTxrCache,p=e.boundingBox(),E=l===!0?d.reasons.highQuality:null;if(!(p.w===0||p.h===0||!e.visible())&&(!n||um(p,n))){var b=e.isEdge(),C=e.element()._private.rscratch.badLine;s.drawElementUnderlay(t,e),s.drawCachedElementPortion(t,e,d,r,u,E,$R,rD),(!b||!C)&&s.drawCachedElementPortion(t,e,f,r,u,E,JR,bp),b&&!C&&(s.drawCachedElementPortion(t,e,v,r,u,E,eD,bp),s.drawCachedElementPortion(t,e,g,r,u,E,tD,bp)),s.drawElementOverlay(t,e)}};mn.drawElements=function(t,e){for(var r=this,n=0;n<e.length;n++){var u=e[n];r.drawElement(t,u)}};mn.drawCachedElements=function(t,e,r,n){for(var u=this,l=0;l<e.length;l++){var s=e[l];u.drawCachedElement(t,s,r,n)}};mn.drawCachedNodes=function(t,e,r,n){for(var u=this,l=0;l<e.length;l++){var s=e[l];s.isNode()&&u.drawCachedElement(t,s,r,n)}};mn.drawLayeredElements=function(t,e,r,n){var u=this,l=u.data.lyrTxrCache.getLayers(e,r);if(l)for(var s=0;s<l.length;s++){var c=l[s],d=c.bb;d.w===0||d.h===0||t.drawImage(c.canvas,d.x1,d.y1,d.w,d.h)}else u.drawCachedElements(t,e,r,n)};var ri={};ri.drawEdge=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,c=e._private.rscratch;if(!(l&&!e.visible())&&!(c.badLine||c.allpts==null||isNaN(c.allpts[0]))){var d;r&&(d=r,t.translate(-d.x1,-d.y1));var f=l?e.pstyle("opacity").value:1,v=l?e.pstyle("line-opacity").value:1,g=e.pstyle("curve-style").value,p=e.pstyle("line-style").value,E=e.pstyle("width").pfValue,b=e.pstyle("line-cap").value,C=e.pstyle("line-outline-width").value,w=e.pstyle("line-outline-color").value,S=f*v,N=f*v,R=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S;g==="straight-triangle"?(s.eleStrokeStyle(t,e,Z),s.drawEdgeTrianglePath(e,t,c.allpts)):(t.lineWidth=E,t.lineCap=b,s.eleStrokeStyle(t,e,Z),s.drawEdgePath(e,t,c.allpts,p),t.lineCap="butt")},D=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:S;if(t.lineWidth=E+C,t.lineCap=b,C>0)s.colorStrokeStyle(t,w[0],w[1],w[2],Z);else{t.lineCap="butt";return}g==="straight-triangle"?s.drawEdgeTrianglePath(e,t,c.allpts):(s.drawEdgePath(e,t,c.allpts,p),t.lineCap="butt")},O=function(){u&&s.drawEdgeOverlay(t,e)},I=function(){u&&s.drawEdgeUnderlay(t,e)},M=function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N;s.drawArrowheads(t,e,Z)},z=function(){s.drawElementText(t,e,null,n)};t.lineJoin="round";var P=e.pstyle("ghost").value==="yes";if(P){var k=e.pstyle("ghost-offset-x").pfValue,U=e.pstyle("ghost-offset-y").pfValue,L=e.pstyle("ghost-opacity").value,G=S*L;t.translate(k,U),R(G),M(G),t.translate(-k,-U)}else D();I(),R(),M(),O(),z(),r&&t.translate(d.x1,d.y1)}};var CT=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n){if(n.visible()){var u=n.pstyle("".concat(e,"-opacity")).value;if(u!==0){var l=this,s=l.usePaths(),c=n._private.rscratch,d=n.pstyle("".concat(e,"-padding")).pfValue,f=2*d,v=n.pstyle("".concat(e,"-color")).value;r.lineWidth=f,c.edgeType==="self"&&!s?r.lineCap="butt":r.lineCap="round",l.colorStrokeStyle(r,v[0],v[1],v[2],u),l.drawEdgePath(n,r,c.allpts,"solid")}}}};ri.drawEdgeOverlay=CT("overlay");ri.drawEdgeUnderlay=CT("underlay");ri.drawEdgePath=function(t,e,r,n){var u=t._private.rscratch,l=e,s,c=!1,d=this.usePaths(),f=t.pstyle("line-dash-pattern").pfValue,v=t.pstyle("line-dash-offset").pfValue;if(d){var g=r.join("$"),p=u.pathCacheKey&&u.pathCacheKey===g;p?(s=e=u.pathCache,c=!0):(s=e=new Path2D,u.pathCacheKey=g,u.pathCache=s)}if(l.setLineDash)switch(n){case"dotted":l.setLineDash([1,1]);break;case"dashed":l.setLineDash(f),l.lineDashOffset=v;break;case"solid":l.setLineDash([]);break}if(!c&&!u.badLine)switch(e.beginPath&&e.beginPath(),e.moveTo(r[0],r[1]),u.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var E=2;E+3<r.length;E+=4)e.quadraticCurveTo(r[E],r[E+1],r[E+2],r[E+3]);break;case"straight":case"haystack":for(var b=2;b+1<r.length;b+=2)e.lineTo(r[b],r[b+1]);break;case"segments":if(u.isRound){var C=ba(u.roundCorners),w;try{for(C.s();!(w=C.n()).done;){var S=w.value;hT(e,S)}}catch(R){C.e(R)}finally{C.f()}e.lineTo(r[r.length-2],r[r.length-1])}else for(var N=2;N+1<r.length;N+=2)e.lineTo(r[N],r[N+1]);break}e=l,d?e.stroke(s):e.stroke(),e.setLineDash&&e.setLineDash([])};ri.drawEdgeTrianglePath=function(t,e,r){e.fillStyle=e.strokeStyle;for(var n=t.pstyle("width").pfValue,u=0;u+1<r.length;u+=2){var l=[r[u+2]-r[u],r[u+3]-r[u+1]],s=Math.sqrt(l[0]*l[0]+l[1]*l[1]),c=[l[1]/s,-l[0]/s],d=[c[0]*n/2,c[1]*n/2];e.beginPath(),e.moveTo(r[u]-d[0],r[u+1]-d[1]),e.lineTo(r[u]+d[0],r[u+1]+d[1]),e.lineTo(r[u+2],r[u+3]),e.closePath(),e.fill()}};ri.drawArrowheads=function(t,e,r){var n=e._private.rscratch,u=n.edgeType==="haystack";u||this.drawArrowhead(t,e,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(t,e,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(t,e,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),u||this.drawArrowhead(t,e,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};ri.drawArrowhead=function(t,e,r,n,u,l,s){if(!(isNaN(n)||n==null||isNaN(u)||u==null||isNaN(l)||l==null)){var c=this,d=e.pstyle(r+"-arrow-shape").value;if(d!=="none"){var f=e.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",v=e.pstyle(r+"-arrow-fill").value,g=e.pstyle("width").pfValue,p=e.pstyle(r+"-arrow-width"),E=p.value==="match-line"?g:p.pfValue;p.units==="%"&&(E*=g);var b=e.pstyle("opacity").value;s===void 0&&(s=b);var C=t.globalCompositeOperation;(s!==1||v==="hollow")&&(t.globalCompositeOperation="destination-out",c.colorFillStyle(t,255,255,255,1),c.colorStrokeStyle(t,255,255,255,1),c.drawArrowShape(e,t,f,g,d,E,n,u,l),t.globalCompositeOperation=C);var w=e.pstyle(r+"-arrow-color").value;c.colorFillStyle(t,w[0],w[1],w[2],s),c.colorStrokeStyle(t,w[0],w[1],w[2],s),c.drawArrowShape(e,t,v,g,d,E,n,u,l)}}};ri.drawArrowShape=function(t,e,r,n,u,l,s,c,d){var f=this,v=this.usePaths()&&u!=="triangle-cross",g=!1,p,E=e,b={x:s,y:c},C=t.pstyle("arrow-scale").value,w=this.getArrowWidth(n,C),S=f.arrowShapes[u];if(v){var N=f.arrowPathCache=f.arrowPathCache||[],R=Ou(u),D=N[R];D!=null?(p=e=D,g=!0):(p=e=new Path2D,N[R]=p)}g||(e.beginPath&&e.beginPath(),v?S.draw(e,1,0,{x:0,y:0},1):S.draw(e,w,d,b,n),e.closePath&&e.closePath()),e=E,v&&(e.translate(s,c),e.rotate(d),e.scale(w,w)),(r==="filled"||r==="both")&&(v?e.fill(p):e.fill()),(r==="hollow"||r==="both")&&(e.lineWidth=l/(v?w:1),e.lineJoin="miter",v?e.stroke(p):e.stroke()),v&&(e.scale(1/w,1/w),e.rotate(-d),e.translate(-s,-c))};var Em={};Em.safeDrawImage=function(t,e,r,n,u,l,s,c,d,f){if(!(u<=0||l<=0||d<=0||f<=0))try{t.drawImage(e,r,n,u,l,s,c,d,f)}catch(v){Mt(v)}};Em.drawInscribedImage=function(t,e,r,n,u){var l=this,s=r.position(),c=s.x,d=s.y,f=r.cy().style(),v=f.getIndexedStyle.bind(f),g=v(r,"background-fit","value",n),p=v(r,"background-repeat","value",n),E=r.width(),b=r.height(),C=r.padding()*2,w=E+(v(r,"background-width-relative-to","value",n)==="inner"?0:C),S=b+(v(r,"background-height-relative-to","value",n)==="inner"?0:C),N=r._private.rscratch,R=v(r,"background-clip","value",n),D=R==="node",O=v(r,"background-image-opacity","value",n)*u,I=v(r,"background-image-smoothing","value",n),M=r.pstyle("corner-radius").value;M!=="auto"&&(M=r.pstyle("corner-radius").pfValue);var z=e.width||e.cachedW,P=e.height||e.cachedH;(z==null||P==null)&&(document.body.appendChild(e),z=e.cachedW=e.width||e.offsetWidth,P=e.cachedH=e.height||e.offsetHeight,document.body.removeChild(e));var k=z,U=P;if(v(r,"background-width","value",n)!=="auto"&&(v(r,"background-width","units",n)==="%"?k=v(r,"background-width","pfValue",n)*w:k=v(r,"background-width","pfValue",n)),v(r,"background-height","value",n)!=="auto"&&(v(r,"background-height","units",n)==="%"?U=v(r,"background-height","pfValue",n)*S:U=v(r,"background-height","pfValue",n)),!(k===0||U===0)){if(g==="contain"){var L=Math.min(w/k,S/U);k*=L,U*=L}else if(g==="cover"){var L=Math.max(w/k,S/U);k*=L,U*=L}var G=c-w/2,X=v(r,"background-position-x","units",n),Z=v(r,"background-position-x","pfValue",n);X==="%"?G+=(w-k)*Z:G+=Z;var H=v(r,"background-offset-x","units",n),j=v(r,"background-offset-x","pfValue",n);H==="%"?G+=(w-k)*j:G+=j;var W=d-S/2,ee=v(r,"background-position-y","units",n),te=v(r,"background-position-y","pfValue",n);ee==="%"?W+=(S-U)*te:W+=te;var q=v(r,"background-offset-y","units",n),Q=v(r,"background-offset-y","pfValue",n);q==="%"?W+=(S-U)*Q:W+=Q,N.pathCache&&(G-=c,W-=d,c=0,d=0);var J=t.globalAlpha;t.globalAlpha=O;var ie=l.getImgSmoothing(t),oe=!1;if(I==="no"&&ie?(l.setImgSmoothing(t,!1),oe=!0):I==="yes"&&!ie&&(l.setImgSmoothing(t,!0),oe=!0),p==="no-repeat")D&&(t.save(),N.pathCache?t.clip(N.pathCache):(l.nodeShapes[l.getNodeShape(r)].draw(t,c,d,w,S,M,N),t.clip())),l.safeDrawImage(t,e,0,0,z,P,G,W,k,U),D&&t.restore();else{var he=t.createPattern(e,p);t.fillStyle=he,l.nodeShapes[l.getNodeShape(r)].draw(t,c,d,w,S,M,N),t.translate(G,W),t.fill(),t.translate(-G,-W)}t.globalAlpha=J,oe&&l.setImgSmoothing(t,ie)}};var ku={};ku.eleTextBiggerThanMin=function(t,e){if(!e){var r=t.cy().zoom(),n=this.getPixelRatio(),u=Math.ceil(nm(r*n));e=Math.pow(2,u)}var l=t.pstyle("font-size").pfValue*e,s=t.pstyle("min-zoomed-font-size").pfValue;return!(l<s)};ku.drawElementText=function(t,e,r,n,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this;if(n==null){if(l&&!s.eleTextBiggerThanMin(e))return}else if(n===!1)return;if(e.isNode()){var c=e.pstyle("label");if(!c||!c.value)return;var d=s.getLabelJustification(e);t.textAlign=d,t.textBaseline="bottom"}else{var f=e.element()._private.rscratch.badLine,v=e.pstyle("label"),g=e.pstyle("source-label"),p=e.pstyle("target-label");if(f||(!v||!v.value)&&(!g||!g.value)&&(!p||!p.value))return;t.textAlign="center",t.textBaseline="bottom"}var E=!r,b;r&&(b=r,t.translate(-b.x1,-b.y1)),u==null?(s.drawText(t,e,null,E,l),e.isEdge()&&(s.drawText(t,e,"source",E,l),s.drawText(t,e,"target",E,l))):s.drawText(t,e,u,E,l),r&&t.translate(b.x1,b.y1)};ku.getFontCache=function(t){var e;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(e=this.fontCaches[r],e.context===t)return e;return e={context:t},this.fontCaches.push(e),e};ku.setupTextStyle=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=e.pstyle("font-style").strValue,u=e.pstyle("font-size").pfValue+"px",l=e.pstyle("font-family").strValue,s=e.pstyle("font-weight").strValue,c=r?e.effectiveOpacity()*e.pstyle("text-opacity").value:1,d=e.pstyle("text-outline-opacity").value*c,f=e.pstyle("color").value,v=e.pstyle("text-outline-color").value;t.font=n+" "+s+" "+u+" "+l,t.lineJoin="round",this.colorFillStyle(t,f[0],f[1],f[2],c),this.colorStrokeStyle(t,v[0],v[1],v[2],d)};function aD(t,e,r,n,u){var l=Math.min(n,u),s=l/2,c=e+n/2,d=r+u/2;t.beginPath(),t.arc(c,d,s,0,Math.PI*2),t.closePath()}function kE(t,e,r,n,u){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,s=Math.min(l,n/2,u/2);t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.quadraticCurveTo(e+n,r,e+n,r+s),t.lineTo(e+n,r+u-s),t.quadraticCurveTo(e+n,r+u,e+n-s,r+u),t.lineTo(e+s,r+u),t.quadraticCurveTo(e,r+u,e,r+u-s),t.lineTo(e,r+s),t.quadraticCurveTo(e,r,e+s,r),t.closePath()}ku.getTextAngle=function(t,e){var r,n=t._private,u=n.rscratch,l=e?e+"-":"",s=t.pstyle(l+"text-rotation");if(s.strValue==="autorotate"){var c=ma(u,"labelAngle",e);r=t.isEdge()?c:0}else s.strValue==="none"?r=0:r=s.pfValue;return r};ku.drawText=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=e._private,s=l.rscratch,c=u?e.effectiveOpacity():1;if(!(u&&(c===0||e.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var d=ma(s,"labelX",r),f=ma(s,"labelY",r),v,g,p=this.getLabelText(e,r);if(p!=null&&p!==""&&!isNaN(d)&&!isNaN(f)){this.setupTextStyle(t,e,u);var E=r?r+"-":"",b=ma(s,"labelWidth",r),C=ma(s,"labelHeight",r),w=e.pstyle(E+"text-margin-x").pfValue,S=e.pstyle(E+"text-margin-y").pfValue,N=e.isEdge(),R=e.pstyle("text-halign").value,D=e.pstyle("text-valign").value;N&&(R="center",D="center"),d+=w,f+=S;var O;switch(n?O=this.getTextAngle(e,r):O=0,O!==0&&(v=d,g=f,t.translate(v,g),t.rotate(O),d=0,f=0),D){case"top":break;case"center":f+=C/2;break;case"bottom":f+=C;break}var I=e.pstyle("text-background-opacity").value,M=e.pstyle("text-border-opacity").value,z=e.pstyle("text-border-width").pfValue,P=e.pstyle("text-background-padding").pfValue,k=e.pstyle("text-background-shape").strValue,U=k==="round-rectangle"||k==="roundrectangle",L=k==="circle",G=2;if(I>0||z>0&&M>0){var X=t.fillStyle,Z=t.strokeStyle,H=t.lineWidth,j=e.pstyle("text-background-color").value,W=e.pstyle("text-border-color").value,ee=e.pstyle("text-border-style").value,te=I>0,q=z>0&&M>0,Q=d-P;switch(R){case"left":Q-=b;break;case"center":Q-=b/2;break}var J=f-C-P,ie=b+2*P,oe=C+2*P;if(te&&(t.fillStyle="rgba(".concat(j[0],",").concat(j[1],",").concat(j[2],",").concat(I*c,")")),q&&(t.strokeStyle="rgba(".concat(W[0],",").concat(W[1],",").concat(W[2],",").concat(M*c,")"),t.lineWidth=z,t.setLineDash))switch(ee){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"double":t.lineWidth=z/4,t.setLineDash([]);break;default:t.setLineDash([]);break}if(U?(t.beginPath(),kE(t,Q,J,ie,oe,G)):L?(t.beginPath(),aD(t,Q,J,ie,oe)):(t.beginPath(),t.rect(Q,J,ie,oe)),te&&t.fill(),q&&t.stroke(),q&&ee==="double"){var he=z/2;t.beginPath(),U?kE(t,Q+he,J+he,ie-2*he,oe-2*he,G):t.rect(Q+he,J+he,ie-2*he,oe-2*he),t.stroke()}t.fillStyle=X,t.strokeStyle=Z,t.lineWidth=H,t.setLineDash&&t.setLineDash([])}var be=2*e.pstyle("text-outline-width").pfValue;if(be>0&&(t.lineWidth=be),e.pstyle("text-wrap").value==="wrap"){var Re=ma(s,"labelWrapCachedLines",r),ye=ma(s,"labelLineHeight",r),ne=b/2,le=this.getLabelJustification(e);switch(le==="auto"||(R==="left"?le==="left"?d+=-b:le==="center"&&(d+=-ne):R==="center"?le==="left"?d+=-ne:le==="right"&&(d+=ne):R==="right"&&(le==="center"?d+=ne:le==="right"&&(d+=b))),D){case"top":f-=(Re.length-1)*ye;break;case"center":case"bottom":f-=(Re.length-1)*ye;break}for(var fe=0;fe<Re.length;fe++)be>0&&t.strokeText(Re[fe],d,f),t.fillText(Re[fe],d,f),f+=ye}else be>0&&t.strokeText(p,d,f),t.fillText(p,d,f);O!==0&&(t.rotate(-O),t.translate(-v,-g))}}};var Qi={};Qi.drawNode=function(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=this,c,d,f=e._private,v=f.rscratch,g=e.position();if(!(!Me(g.x)||!Me(g.y))&&!(l&&!e.visible())){var p=l?e.effectiveOpacity():1,E=s.usePaths(),b,C=!1,w=e.padding();c=e.width()+2*w,d=e.height()+2*w;var S;r&&(S=r,t.translate(-S.x1,-S.y1));for(var N=e.pstyle("background-image"),R=N.value,D=new Array(R.length),O=new Array(R.length),I=0,M=0;M<R.length;M++){var z=R[M],P=D[M]=z!=null&&z!=="none";if(P){var k=e.cy().style().getIndexedStyle(e,"background-image-crossorigin","value",M);I++,O[M]=s.getCachedImage(z,k,function(){f.backgroundTimestamp=Date.now(),e.emitAndNotify("background")})}}var U=e.pstyle("background-blacken").value,L=e.pstyle("border-width").pfValue,G=e.pstyle("background-opacity").value*p,X=e.pstyle("border-color").value,Z=e.pstyle("border-style").value,H=e.pstyle("border-join").value,j=e.pstyle("border-cap").value,W=e.pstyle("border-position").value,ee=e.pstyle("border-dash-pattern").pfValue,te=e.pstyle("border-dash-offset").pfValue,q=e.pstyle("border-opacity").value*p,Q=e.pstyle("outline-width").pfValue,J=e.pstyle("outline-color").value,ie=e.pstyle("outline-style").value,oe=e.pstyle("outline-opacity").value*p,he=e.pstyle("outline-offset").value,be=e.pstyle("corner-radius").value;be!=="auto"&&(be=e.pstyle("corner-radius").pfValue);var Re=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G;s.eleFillStyle(t,e,_e)},ye=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q;s.colorStrokeStyle(t,X[0],X[1],X[2],_e)},ne=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:oe;s.colorStrokeStyle(t,J[0],J[1],J[2],_e)},le=function(_e,Te,F,se){var pe=s.nodePathCache=s.nodePathCache||[],ge=fx(F==="polygon"?F+","+se.join(","):F,""+Te,""+_e,""+be),Se=pe[ge],ze,Ne=!1;return Se!=null?(ze=Se,Ne=!0,v.pathCache=ze):(ze=new Path2D,pe[ge]=v.pathCache=ze),{path:ze,cacheHit:Ne}},fe=e.pstyle("shape").strValue,Ee=e.pstyle("shape-polygon-points").pfValue;if(E){t.translate(g.x,g.y);var De=le(c,d,fe,Ee);b=De.path,C=De.cacheHit}var Le=function(){if(!C){var _e=g;E&&(_e={x:0,y:0}),s.nodeShapes[s.getNodeShape(e)].draw(b||t,_e.x,_e.y,c,d,be,v)}E?t.fill(b):t.fill()},ut=function(){for(var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,F=f.backgrounding,se=0,pe=0;pe<O.length;pe++){var ge=e.cy().style().getIndexedStyle(e,"background-image-containment","value",pe);if(Te&&ge==="over"||!Te&&ge==="inside"){se++;continue}D[pe]&&O[pe].complete&&!O[pe].error&&(se++,s.drawInscribedImage(t,O[pe],e,pe,_e))}f.backgrounding=se!==I,F!==f.backgrounding&&e.updateStyle(!1)},Qe=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;s.hasPie(e)&&(s.drawPie(t,e,Te),_e&&(E||s.nodeShapes[s.getNodeShape(e)].draw(t,g.x,g.y,c,d,be,v)))},qe=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p;s.hasStripe(e)&&(t.save(),E?t.clip(v.pathCache):(s.nodeShapes[s.getNodeShape(e)].draw(t,g.x,g.y,c,d,be,v),t.clip()),s.drawStripe(t,e,Te),t.restore(),_e&&(E||s.nodeShapes[s.getNodeShape(e)].draw(t,g.x,g.y,c,d,be,v)))},Ke=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p,Te=(U>0?U:-U)*_e,F=U>0?0:255;U!==0&&(s.colorFillStyle(t,F,F,F,Te),E?t.fill(b):t.fill())},Oe=function(){if(L>0){if(t.lineWidth=L,t.lineCap=j,t.lineJoin=H,t.setLineDash)switch(Z){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash(ee),t.lineDashOffset=te;break;case"solid":case"double":t.setLineDash([]);break}if(W!=="center"){if(t.save(),t.lineWidth*=2,W==="inside")E?t.clip(b):t.clip();else{var _e=new Path2D;_e.rect(-c/2-L,-d/2-L,c+2*L,d+2*L),_e.addPath(b),t.clip(_e,"evenodd")}E?t.stroke(b):t.stroke(),t.restore()}else E?t.stroke(b):t.stroke();if(Z==="double"){t.lineWidth=L/3;var Te=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",E?t.stroke(b):t.stroke(),t.globalCompositeOperation=Te}t.setLineDash&&t.setLineDash([])}},Ge=function(){if(Q>0){if(t.lineWidth=Q,t.lineCap="butt",t.setLineDash)switch(ie){case"dotted":t.setLineDash([1,1]);break;case"dashed":t.setLineDash([4,2]);break;case"solid":case"double":t.setLineDash([]);break}var _e=g;E&&(_e={x:0,y:0});var Te=s.getNodeShape(e),F=L;W==="inside"&&(F=0),W==="outside"&&(F*=2);var se=(c+F+(Q+he))/c,pe=(d+F+(Q+he))/d,ge=c*se,Se=d*pe,ze=s.nodeShapes[Te].points,Ne;if(E){var Ue=le(ge,Se,Te,ze);Ne=Ue.path}if(Te==="ellipse")s.drawEllipsePath(Ne||t,_e.x,_e.y,ge,Se);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Te)){var Be=0,Ye=0,Je=0;Te==="round-diamond"?Be=(F+he+Q)*1.4:Te==="round-heptagon"?(Be=(F+he+Q)*1.075,Je=-(F/2+he+Q)/35):Te==="round-hexagon"?Be=(F+he+Q)*1.12:Te==="round-pentagon"?(Be=(F+he+Q)*1.13,Je=-(F/2+he+Q)/15):Te==="round-tag"?(Be=(F+he+Q)*1.12,Ye=(F/2+Q+he)*.07):Te==="round-triangle"&&(Be=(F+he+Q)*(Math.PI/2),Je=-(F+he/2+Q)/Math.PI),Be!==0&&(se=(c+Be)/c,ge=c*se,["round-hexagon","round-tag"].includes(Te)||(pe=(d+Be)/d,Se=d*pe)),be=be==="auto"?xx(ge,Se):be;for(var rt=ge/2,ke=Se/2,st=be+(F+Q+he)/2,nt=new Array(ze.length/2),Kt=new Array(ze.length/2),St=0;St<ze.length/2;St++)nt[St]={x:_e.x+Ye+rt*ze[St*2],y:_e.y+Je+ke*ze[St*2+1]};var Tr,Gt,Vt,Ut,tr=nt.length;for(Gt=nt[tr-1],Tr=0;Tr<tr;Tr++)Vt=nt[Tr%tr],Ut=nt[(Tr+1)%tr],Kt[Tr]=ym(Gt,Vt,Ut,st),Gt=Vt,Vt=Ut;s.drawRoundPolygonPath(Ne||t,_e.x+Ye,_e.y+Je,c*se,d*pe,ze,Kt)}else if(["roundrectangle","round-rectangle"].includes(Te))be=be==="auto"?Vi(ge,Se):be,s.drawRoundRectanglePath(Ne||t,_e.x,_e.y,ge,Se,be+(F+Q+he)/2);else if(["cutrectangle","cut-rectangle"].includes(Te))be=be==="auto"?lm():be,s.drawCutRectanglePath(Ne||t,_e.x,_e.y,ge,Se,null,be+(F+Q+he)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Te))be=be==="auto"?Vi(ge,Se):be,s.drawBottomRoundRectanglePath(Ne||t,_e.x,_e.y,ge,Se,be+(F+Q+he)/2);else if(Te==="barrel")s.drawBarrelPath(Ne||t,_e.x,_e.y,ge,Se);else if(Te.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Te)){var ia=(F+Q+he)/c;ze=ud(ld(ze,ia)),s.drawPolygonPath(Ne||t,_e.x,_e.y,c,d,ze)}else{var jt=(F+Q+he)/c;ze=ud(ld(ze,-jt)),s.drawPolygonPath(Ne||t,_e.x,_e.y,c,d,ze)}if(E?t.stroke(Ne):t.stroke(),ie==="double"){t.lineWidth=F/3;var ua=t.globalCompositeOperation;t.globalCompositeOperation="destination-out",E?t.stroke(Ne):t.stroke(),t.globalCompositeOperation=ua}t.setLineDash&&t.setLineDash([])}},Fe=function(){u&&s.drawNodeOverlay(t,e,g,c,d)},tt=function(){u&&s.drawNodeUnderlay(t,e,g,c,d)},Ie=function(){s.drawElementText(t,e,null,n)},at=e.pstyle("ghost").value==="yes";if(at){var ct=e.pstyle("ghost-offset-x").pfValue,yt=e.pstyle("ghost-offset-y").pfValue,dt=e.pstyle("ghost-opacity").value,bt=dt*p;t.translate(ct,yt),ne(),Ge(),Re(dt*G),Le(),ut(bt,!0),ye(dt*q),Oe(),Qe(U!==0||L!==0),qe(U!==0||L!==0),ut(bt,!1),Ke(bt),t.translate(-ct,-yt)}E&&t.translate(-g.x,-g.y),tt(),E&&t.translate(g.x,g.y),ne(),Ge(),Re(),Le(),ut(p,!0),ye(),Oe(),Qe(U!==0||L!==0),qe(U!==0||L!==0),ut(p,!1),Ke(),E&&t.translate(-g.x,-g.y),Ie(),Fe(),r&&t.translate(S.x1,S.y1)}};var NT=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(r,n,u,l,s){var c=this;if(n.visible()){var d=n.pstyle("".concat(e,"-padding")).pfValue,f=n.pstyle("".concat(e,"-opacity")).value,v=n.pstyle("".concat(e,"-color")).value,g=n.pstyle("".concat(e,"-shape")).value,p=n.pstyle("".concat(e,"-corner-radius")).value;if(f>0){if(u=u||n.position(),l==null||s==null){var E=n.padding();l=n.width()+2*E,s=n.height()+2*E}c.colorFillStyle(r,v[0],v[1],v[2],f),c.nodeShapes[g].draw(r,u.x,u.y,l+d*2,s+d*2,p),r.fill()}}}};Qi.drawNodeOverlay=NT("overlay");Qi.drawNodeUnderlay=NT("underlay");Qi.hasPie=function(t){return t=t[0],t._private.hasPie};Qi.hasStripe=function(t){return t=t[0],t._private.hasStripe};Qi.drawPie=function(t,e,r,n){e=e[0],n=n||e.position();var u=e.cy().style(),l=e.pstyle("pie-size"),s=e.pstyle("pie-hole"),c=e.pstyle("pie-start-angle").pfValue,d=n.x,f=n.y,v=e.width(),g=e.height(),p=Math.min(v,g)/2,E,b=0,C=this.usePaths();if(C&&(d=0,f=0),l.units==="%"?p=p*l.pfValue:l.pfValue!==void 0&&(p=l.pfValue/2),s.units==="%"?E=p*s.pfValue:s.pfValue!==void 0&&(E=s.pfValue/2),!(E>=p))for(var w=1;w<=u.pieBackgroundN;w++){var S=e.pstyle("pie-"+w+"-background-size").value,N=e.pstyle("pie-"+w+"-background-color").value,R=e.pstyle("pie-"+w+"-background-opacity").value*r,D=S/100;D+b>1&&(D=1-b);var O=1.5*Math.PI+2*Math.PI*b;O+=c;var I=2*Math.PI*D,M=O+I;S===0||b>=1||b+D>1||(E===0?(t.beginPath(),t.moveTo(d,f),t.arc(d,f,p,O,M),t.closePath()):(t.beginPath(),t.arc(d,f,p,O,M),t.arc(d,f,E,M,O,!0),t.closePath()),this.colorFillStyle(t,N[0],N[1],N[2],R),t.fill(),b+=D)}};Qi.drawStripe=function(t,e,r,n){e=e[0],n=n||e.position();var u=e.cy().style(),l=n.x,s=n.y,c=e.width(),d=e.height(),f=0,v=this.usePaths();t.save();var g=e.pstyle("stripe-direction").value,p=e.pstyle("stripe-size");switch(g){case"vertical":break;case"righward":t.rotate(-Math.PI/2);break}var E=c,b=d;p.units==="%"?(E=E*p.pfValue,b=b*p.pfValue):p.pfValue!==void 0&&(E=p.pfValue,b=p.pfValue),v&&(l=0,s=0),s-=E/2,l-=b/2;for(var C=1;C<=u.stripeBackgroundN;C++){var w=e.pstyle("stripe-"+C+"-background-size").value,S=e.pstyle("stripe-"+C+"-background-color").value,N=e.pstyle("stripe-"+C+"-background-opacity").value*r,R=w/100;R+f>1&&(R=1-f),!(w===0||f>=1||f+R>1)&&(t.beginPath(),t.rect(l,s+b*f,E,b*R),t.closePath(),this.colorFillStyle(t,S[0],S[1],S[2],N),t.fill(),f+=R)}t.restore()};var na={},nD=100;na.getPixelRatio=function(){var t=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var e=this.cy.window(),r=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return(e.devicePixelRatio||1)/r};na.paintCache=function(t){for(var e=this.paintCaches=this.paintCaches||[],r=!0,n,u=0;u<e.length;u++)if(n=e[u],n.context===t){r=!1;break}return r&&(n={context:t},e.push(n)),n};na.createGradientStyleFor=function(t,e,r,n,u){var l,s=this.usePaths(),c=r.pstyle(e+"-gradient-stop-colors").value,d=r.pstyle(e+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var f=r.sourceEndpoint(),v=r.targetEndpoint(),g=r.midpoint(),p=Mu(f,g),E=Mu(v,g);l=t.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(p,E))}else{var b=s?{x:0,y:0}:r.position(),C=r.paddedWidth(),w=r.paddedHeight();l=t.createRadialGradient(b.x,b.y,0,b.x,b.y,Math.max(C,w))}else if(r.isEdge()){var S=r.sourceEndpoint(),N=r.targetEndpoint();l=t.createLinearGradient(S.x,S.y,N.x,N.y)}else{var R=s?{x:0,y:0}:r.position(),D=r.paddedWidth(),O=r.paddedHeight(),I=D/2,M=O/2,z=r.pstyle("background-gradient-direction").value;switch(z){case"to-bottom":l=t.createLinearGradient(R.x,R.y-M,R.x,R.y+M);break;case"to-top":l=t.createLinearGradient(R.x,R.y+M,R.x,R.y-M);break;case"to-left":l=t.createLinearGradient(R.x+I,R.y,R.x-I,R.y);break;case"to-right":l=t.createLinearGradient(R.x-I,R.y,R.x+I,R.y);break;case"to-bottom-right":case"to-right-bottom":l=t.createLinearGradient(R.x-I,R.y-M,R.x+I,R.y+M);break;case"to-top-right":case"to-right-top":l=t.createLinearGradient(R.x-I,R.y+M,R.x+I,R.y-M);break;case"to-bottom-left":case"to-left-bottom":l=t.createLinearGradient(R.x+I,R.y-M,R.x-I,R.y+M);break;case"to-top-left":case"to-left-top":l=t.createLinearGradient(R.x+I,R.y+M,R.x-I,R.y-M);break}}if(!l)return null;for(var P=d.length===c.length,k=c.length,U=0;U<k;U++)l.addColorStop(P?d[U]:U/(k-1),"rgba("+c[U][0]+","+c[U][1]+","+c[U][2]+","+u+")");return l};na.gradientFillStyle=function(t,e,r,n){var u=this.createGradientStyleFor(t,"background",e,r,n);if(!u)return null;t.fillStyle=u};na.colorFillStyle=function(t,e,r,n,u){t.fillStyle="rgba("+e+","+r+","+n+","+u+")"};na.eleFillStyle=function(t,e,r){var n=e.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(t,e,n,r);else{var u=e.pstyle("background-color").value;this.colorFillStyle(t,u[0],u[1],u[2],r)}};na.gradientStrokeStyle=function(t,e,r,n){var u=this.createGradientStyleFor(t,"line",e,r,n);if(!u)return null;t.strokeStyle=u};na.colorStrokeStyle=function(t,e,r,n,u){t.strokeStyle="rgba("+e+","+r+","+n+","+u+")"};na.eleStrokeStyle=function(t,e,r){var n=e.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(t,e,n,r);else{var u=e.pstyle("line-color").value;this.colorStrokeStyle(t,u[0],u[1],u[2],r)}};na.matchCanvasSize=function(t){var e=this,r=e.data,n=e.findContainerClientCoords(),u=n[2],l=n[3],s=e.getPixelRatio(),c=e.motionBlurPxRatio;(t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE]||t===e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG])&&(s=c);var d=u*s,f=l*s,v;if(!(d===e.canvasWidth&&f===e.canvasHeight)){e.fontCaches=null;var g=r.canvasContainer;g.style.width=u+"px",g.style.height=l+"px";for(var p=0;p<e.CANVAS_LAYERS;p++)v=r.canvases[p],v.width=d,v.height=f,v.style.width=u+"px",v.style.height=l+"px";for(var p=0;p<e.BUFFER_COUNT;p++)v=r.bufferCanvases[p],v.width=d,v.height=f,v.style.width=u+"px",v.style.height=l+"px";e.textureMult=1,s<=1&&(v=r.bufferCanvases[e.TEXTURE_BUFFER],e.textureMult=2,v.width=d*e.textureMult,v.height=f*e.textureMult),e.canvasWidth=d,e.canvasHeight=f,e.pixelRatio=s}};na.renderTo=function(t,e,r,n){this.render({forcedContext:t,forcedZoom:e,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};na.clearCanvas=function(){var t=this,e=t.data;function r(n){n.clearRect(0,0,t.canvasWidth,t.canvasHeight)}r(e.contexts[t.NODE]),r(e.contexts[t.DRAG])};na.render=function(t){var e=this;t=t||gx();var r=e.cy,n=t.forcedContext,u=t.drawAllLayers,l=t.drawOnlyNodeLayer,s=t.forcedZoom,c=t.forcedPan,d=t.forcedPxRatio===void 0?this.getPixelRatio():t.forcedPxRatio,f=e.data,v=f.canvasNeedsRedraw,g=e.textureOnViewport&&!n&&(e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming),p=t.motionBlur!==void 0?t.motionBlur:e.motionBlur,E=e.motionBlurPxRatio,b=r.hasCompoundNodes(),C=e.hoverData.draggingEles,w=!!(e.hoverData.selecting||e.touchData.selecting);p=p&&!n&&e.motionBlurEnabled&&!w;var S=p;n||(e.prevPxRatio!==d&&(e.invalidateContainerClientCoordsCache(),e.matchCanvasSize(e.container),e.redrawHint("eles",!0),e.redrawHint("drag",!0)),e.prevPxRatio=d),!n&&e.motionBlurTimeout&&clearTimeout(e.motionBlurTimeout),p&&(e.mbFrames==null&&(e.mbFrames=0),e.mbFrames++,e.mbFrames<3&&(S=!1),e.mbFrames>e.minMbLowQualFrames&&(e.motionBlurPxRatio=e.mbPxRBlurry)),e.clearingMotionBlur&&(e.motionBlurPxRatio=1),e.textureDrawLastFrame&&!g&&(v[e.NODE]=!0,v[e.SELECT_BOX]=!0);var N=r.style(),R=r.zoom(),D=s!==void 0?s:R,O=r.pan(),I={x:O.x,y:O.y},M={zoom:R,pan:{x:O.x,y:O.y}},z=e.prevViewport,P=z===void 0||M.zoom!==z.zoom||M.pan.x!==z.pan.x||M.pan.y!==z.pan.y;!P&&!(C&&!b)&&(e.motionBlurPxRatio=1),c&&(I=c),D*=d,I.x*=d,I.y*=d;var k=e.getCachedZSortedEles();function U(ye,ne,le,fe,Ee){var De=ye.globalCompositeOperation;ye.globalCompositeOperation="destination-out",e.colorFillStyle(ye,255,255,255,e.motionBlurTransparency),ye.fillRect(ne,le,fe,Ee),ye.globalCompositeOperation=De}function L(ye,ne){var le,fe,Ee,De;!e.clearingMotionBlur&&(ye===f.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]||ye===f.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG])?(le={x:O.x*E,y:O.y*E},fe=R*E,Ee=e.canvasWidth*E,De=e.canvasHeight*E):(le=I,fe=D,Ee=e.canvasWidth,De=e.canvasHeight),ye.setTransform(1,0,0,1,0,0),ne==="motionBlur"?U(ye,0,0,Ee,De):!n&&(ne===void 0||ne)&&ye.clearRect(0,0,Ee,De),u||(ye.translate(le.x,le.y),ye.scale(fe,fe)),c&&ye.translate(c.x,c.y),s&&ye.scale(s,s)}if(g||(e.textureDrawLastFrame=!1),g){if(e.textureDrawLastFrame=!0,!e.textureCache){e.textureCache={},e.textureCache.bb=r.mutableElements().boundingBox(),e.textureCache.texture=e.data.bufferCanvases[e.TEXTURE_BUFFER];var G=e.data.bufferContexts[e.TEXTURE_BUFFER];G.setTransform(1,0,0,1,0,0),G.clearRect(0,0,e.canvasWidth*e.textureMult,e.canvasHeight*e.textureMult),e.render({forcedContext:G,drawOnlyNodeLayer:!0,forcedPxRatio:d*e.textureMult});var M=e.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:e.canvasWidth,height:e.canvasHeight};M.mpan={x:(0-M.pan.x)/M.zoom,y:(0-M.pan.y)/M.zoom}}v[e.DRAG]=!1,v[e.NODE]=!1;var X=f.contexts[e.NODE],Z=e.textureCache.texture,M=e.textureCache.viewport;X.setTransform(1,0,0,1,0,0),p?U(X,0,0,M.width,M.height):X.clearRect(0,0,M.width,M.height);var H=N.core("outside-texture-bg-color").value,j=N.core("outside-texture-bg-opacity").value;e.colorFillStyle(X,H[0],H[1],H[2],j),X.fillRect(0,0,M.width,M.height);var R=r.zoom();L(X,!1),X.clearRect(M.mpan.x,M.mpan.y,M.width/M.zoom/d,M.height/M.zoom/d),X.drawImage(Z,M.mpan.x,M.mpan.y,M.width/M.zoom/d,M.height/M.zoom/d)}else e.textureOnViewport&&!n&&(e.textureCache=null);var W=r.extent(),ee=e.pinching||e.hoverData.dragging||e.swipePanning||e.data.wheelZooming||e.hoverData.draggingEles||e.cy.animated(),te=e.hideEdgesOnViewport&&ee,q=[];if(q[e.NODE]=!v[e.NODE]&&p&&!e.clearedForMotionBlur[e.NODE]||e.clearingMotionBlur,q[e.NODE]&&(e.clearedForMotionBlur[e.NODE]=!0),q[e.DRAG]=!v[e.DRAG]&&p&&!e.clearedForMotionBlur[e.DRAG]||e.clearingMotionBlur,q[e.DRAG]&&(e.clearedForMotionBlur[e.DRAG]=!0),v[e.NODE]||u||l||q[e.NODE]){var Q=p&&!q[e.NODE]&&E!==1,X=n||(Q?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_NODE]:f.contexts[e.NODE]),J=p&&!Q?"motionBlur":void 0;L(X,J),te?e.drawCachedNodes(X,k.nondrag,d,W):e.drawLayeredElements(X,k.nondrag,d,W),e.debug&&e.drawDebugPoints(X,k.nondrag),!u&&!p&&(v[e.NODE]=!1)}if(!l&&(v[e.DRAG]||u||q[e.DRAG])){var Q=p&&!q[e.DRAG]&&E!==1,X=n||(Q?e.data.bufferContexts[e.MOTIONBLUR_BUFFER_DRAG]:f.contexts[e.DRAG]);L(X,p&&!Q?"motionBlur":void 0),te?e.drawCachedNodes(X,k.drag,d,W):e.drawCachedElements(X,k.drag,d,W),e.debug&&e.drawDebugPoints(X,k.drag),!u&&!p&&(v[e.DRAG]=!1)}if(this.drawSelectionRectangle(t,L),p&&E!==1){var ie=f.contexts[e.NODE],oe=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_NODE],he=f.contexts[e.DRAG],be=e.data.bufferCanvases[e.MOTIONBLUR_BUFFER_DRAG],Re=function(ne,le,fe){ne.setTransform(1,0,0,1,0,0),fe||!S?ne.clearRect(0,0,e.canvasWidth,e.canvasHeight):U(ne,0,0,e.canvasWidth,e.canvasHeight);var Ee=E;ne.drawImage(le,0,0,e.canvasWidth*Ee,e.canvasHeight*Ee,0,0,e.canvasWidth,e.canvasHeight)};(v[e.NODE]||q[e.NODE])&&(Re(ie,oe,q[e.NODE]),v[e.NODE]=!1),(v[e.DRAG]||q[e.DRAG])&&(Re(he,be,q[e.DRAG]),v[e.DRAG]=!1)}e.prevViewport=M,e.clearingMotionBlur&&(e.clearingMotionBlur=!1,e.motionBlurCleared=!0,e.motionBlur=!0),p&&(e.motionBlurTimeout=setTimeout(function(){e.motionBlurTimeout=null,e.clearedForMotionBlur[e.NODE]=!1,e.clearedForMotionBlur[e.DRAG]=!1,e.motionBlur=!1,e.clearingMotionBlur=!g,e.mbFrames=0,v[e.NODE]=!0,v[e.DRAG]=!0,e.redraw()},nD)),n||r.emit("render")};var po;na.drawSelectionRectangle=function(t,e){var r=this,n=r.cy,u=r.data,l=n.style(),s=t.drawOnlyNodeLayer,c=t.drawAllLayers,d=u.canvasNeedsRedraw,f=t.forcedContext;if(r.showFps||!s&&d[r.SELECT_BOX]&&!c){var v=f||u.contexts[r.SELECT_BOX];if(e(v),r.selection[4]==1&&(r.hoverData.selecting||r.touchData.selecting)){var g=r.cy.zoom(),p=l.core("selection-box-border-width").value/g;v.lineWidth=p,v.fillStyle="rgba("+l.core("selection-box-color").value[0]+","+l.core("selection-box-color").value[1]+","+l.core("selection-box-color").value[2]+","+l.core("selection-box-opacity").value+")",v.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),p>0&&(v.strokeStyle="rgba("+l.core("selection-box-border-color").value[0]+","+l.core("selection-box-border-color").value[1]+","+l.core("selection-box-border-color").value[2]+","+l.core("selection-box-opacity").value+")",v.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(u.bgActivePosistion&&!r.hoverData.selecting){var g=r.cy.zoom(),E=u.bgActivePosistion;v.fillStyle="rgba("+l.core("active-bg-color").value[0]+","+l.core("active-bg-color").value[1]+","+l.core("active-bg-color").value[2]+","+l.core("active-bg-opacity").value+")",v.beginPath(),v.arc(E.x,E.y,l.core("active-bg-size").pfValue/g,0,2*Math.PI),v.fill()}var b=r.lastRedrawTime;if(r.showFps&&b){b=Math.round(b);var C=Math.round(1e3/b),w="1 frame = "+b+" ms = "+C+" fps";if(v.setTransform(1,0,0,1,0,0),v.fillStyle="rgba(255, 0, 0, 0.75)",v.strokeStyle="rgba(255, 0, 0, 0.75)",v.font="30px Arial",!po){var S=v.measureText(w);po=S.actualBoundingBoxAscent}v.fillText(w,0,po);var N=60;v.strokeRect(0,po+10,250,20),v.fillRect(0,po+10,250*Math.min(C/N,1),20)}c||(d[r.SELECT_BOX]=!1)}};function UE(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error(t.getShaderInfoLog(n));return n}function iD(t,e,r){var n=UE(t,t.VERTEX_SHADER,e),u=UE(t,t.FRAGMENT_SHADER,r),l=t.createProgram();if(t.attachShader(l,n),t.attachShader(l,u),t.linkProgram(l),!t.getProgramParameter(l,t.LINK_STATUS))throw new Error("Could not initialize shaders");return l}function uD(t,e,r){r===void 0&&(r=e);var n=t.makeOffscreenCanvas(e,r),u=n.context=n.getContext("2d");return n.clear=function(){return u.clearRect(0,0,n.width,n.height)},n.clear(),n}function xm(t){var e=t.pixelRatio,r=t.cy.zoom(),n=t.cy.pan();return{zoom:r*e,pan:{x:n.x*e,y:n.y*e}}}function lD(t){var e=t.pixelRatio,r=t.cy.zoom();return r*e}function sD(t,e,r,n,u){var l=n*r+e.x,s=u*r+e.y;return s=Math.round(t.canvasHeight-s),[l,s]}function oD(t){return t.pstyle("background-fill").value!=="solid"||t.pstyle("background-image").strValue!=="none"?!1:t.pstyle("border-width").value===0||t.pstyle("border-opacity").value===0?!0:t.pstyle("border-style").value==="solid"}function cD(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function wu(t,e,r){var n=t[0]/255,u=t[1]/255,l=t[2]/255,s=e,c=r||new Array(4);return c[0]=n*s,c[1]=u*s,c[2]=l*s,c[3]=s,c}function zl(t,e){var r=e||new Array(4);return r[0]=(t>>0&255)/255,r[1]=(t>>8&255)/255,r[2]=(t>>16&255)/255,r[3]=(t>>24&255)/255,r}function fD(t){return t[0]+(t[1]<<8)+(t[2]<<16)+(t[3]<<24)}function dD(t,e){var r=t.createTexture();return r.buffer=function(n){t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_NEAREST),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,n),t.generateMipmap(t.TEXTURE_2D),t.bindTexture(t.TEXTURE_2D,null)},r.deleteTexture=function(){t.deleteTexture(r)},r}function RT(t,e){switch(e){case"float":return[1,t.FLOAT,4];case"vec2":return[2,t.FLOAT,4];case"vec3":return[3,t.FLOAT,4];case"vec4":return[4,t.FLOAT,4];case"int":return[1,t.INT,4];case"ivec2":return[2,t.INT,4]}}function DT(t,e,r){switch(e){case t.FLOAT:return new Float32Array(r);case t.INT:return new Int32Array(r)}}function vD(t,e,r,n,u,l){switch(e){case t.FLOAT:return new Float32Array(r.buffer,l*n,u);case t.INT:return new Int32Array(r.buffer,l*n,u)}}function hD(t,e,r,n){var u=RT(t,e),l=xr(u,2),s=l[0],c=l[1],d=DT(t,c,n),f=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,f),t.bufferData(t.ARRAY_BUFFER,d,t.STATIC_DRAW),c===t.FLOAT?t.vertexAttribPointer(r,s,c,!1,0,0):c===t.INT&&t.vertexAttribIPointer(r,s,c,0,0),t.enableVertexAttribArray(r),t.bindBuffer(t.ARRAY_BUFFER,null),f}function dn(t,e,r,n){var u=RT(t,r),l=xr(u,3),s=l[0],c=l[1],d=l[2],f=DT(t,c,e*s),v=s*d,g=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,g),t.bufferData(t.ARRAY_BUFFER,e*v,t.DYNAMIC_DRAW),t.enableVertexAttribArray(n),c===t.FLOAT?t.vertexAttribPointer(n,s,c,!1,v,0):c===t.INT&&t.vertexAttribIPointer(n,s,c,v,0),t.vertexAttribDivisor(n,1),t.bindBuffer(t.ARRAY_BUFFER,null);for(var p=new Array(e),E=0;E<e;E++)p[E]=vD(t,c,f,v,s,E);return g.dataArray=f,g.stride=v,g.size=s,g.getView=function(b){return p[b]},g.setPoint=function(b,C,w){var S=p[b];S[0]=C,S[1]=w},g.bufferSubData=function(b){t.bindBuffer(t.ARRAY_BUFFER,g),b?t.bufferSubData(t.ARRAY_BUFFER,0,f,0,b*s):t.bufferSubData(t.ARRAY_BUFFER,0,f)},g}function gD(t,e,r){for(var n=9,u=new Float32Array(e*n),l=new Array(e),s=0;s<e;s++){var c=s*n*4;l[s]=new Float32Array(u.buffer,c,n)}var d=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferData(t.ARRAY_BUFFER,u.byteLength,t.DYNAMIC_DRAW);for(var f=0;f<3;f++){var v=r+f;t.enableVertexAttribArray(v),t.vertexAttribPointer(v,3,t.FLOAT,!1,36,f*12),t.vertexAttribDivisor(v,1)}return t.bindBuffer(t.ARRAY_BUFFER,null),d.getMatrixView=function(g){return l[g]},d.setData=function(g,p){l[p].set(g,0)},d.bufferSubData=function(){t.bindBuffer(t.ARRAY_BUFFER,d),t.bufferSubData(t.ARRAY_BUFFER,0,u)},d}function pD(t){var e=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,e);var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.bindFramebuffer(t.FRAMEBUFFER,null),e.setFramebufferAttachmentSizes=function(n,u){t.bindTexture(t.TEXTURE_2D,r),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,n,u,0,t.RGBA,t.UNSIGNED_BYTE,null)},e}var PE=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});function Ep(){var t=new PE(9);return PE!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function qE(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function mD(t,e,r){var n=e[0],u=e[1],l=e[2],s=e[3],c=e[4],d=e[5],f=e[6],v=e[7],g=e[8],p=r[0],E=r[1],b=r[2],C=r[3],w=r[4],S=r[5],N=r[6],R=r[7],D=r[8];return t[0]=p*n+E*s+b*f,t[1]=p*u+E*c+b*v,t[2]=p*l+E*d+b*g,t[3]=C*n+w*s+S*f,t[4]=C*u+w*c+S*v,t[5]=C*l+w*d+S*g,t[6]=N*n+R*s+D*f,t[7]=N*u+R*c+D*v,t[8]=N*l+R*d+D*g,t}function ed(t,e,r){var n=e[0],u=e[1],l=e[2],s=e[3],c=e[4],d=e[5],f=e[6],v=e[7],g=e[8],p=r[0],E=r[1];return t[0]=n,t[1]=u,t[2]=l,t[3]=s,t[4]=c,t[5]=d,t[6]=p*n+E*s+f,t[7]=p*u+E*c+v,t[8]=p*l+E*d+g,t}function HE(t,e,r){var n=e[0],u=e[1],l=e[2],s=e[3],c=e[4],d=e[5],f=e[6],v=e[7],g=e[8],p=Math.sin(r),E=Math.cos(r);return t[0]=E*n+p*s,t[1]=E*u+p*c,t[2]=E*l+p*d,t[3]=E*s-p*n,t[4]=E*c-p*u,t[5]=E*d-p*l,t[6]=f,t[7]=v,t[8]=g,t}function Fp(t,e,r){var n=r[0],u=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=u*e[3],t[4]=u*e[4],t[5]=u*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function yD(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}var bD=(function(){function t(e,r,n,u){Ki(this,t),this.debugID=Math.floor(Math.random()*1e4),this.r=e,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=u(e,r,r),this.scratch=u(e,r,this.texHeight,"scratch")}return Xi(t,[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(r){var n=r.w,u=r.h,l=this.texHeight,s=this.texSize,c=l/u,d=n*c,f=u*c;return d>s&&(c=s/n,d=n*c,f=u*c),{scale:c,texW:d,texH:f}}},{key:"draw",value:function(r,n,u){var l=this;if(this.locked)throw new Error("can't draw, atlas is locked");var s=this.texSize,c=this.texRows,d=this.texHeight,f=this.getScale(n),v=f.scale,g=f.texW,p=f.texH,E=function(R,D){if(u&&D){var O=D.context,I=R.x,M=R.row,z=I,P=d*M;O.save(),O.translate(z,P),O.scale(v,v),u(O,n),O.restore()}},b=[null,null],C=function(){E(l.freePointer,l.canvas),b[0]={x:l.freePointer.x,y:l.freePointer.row*d,w:g,h:p},b[1]={x:l.freePointer.x+g,y:l.freePointer.row*d,w:0,h:p},l.freePointer.x+=g,l.freePointer.x==s&&(l.freePointer.x=0,l.freePointer.row++)},w=function(){var R=l.scratch,D=l.canvas;R.clear(),E({x:0,row:0},R);var O=s-l.freePointer.x,I=g-O,M=d;{var z=l.freePointer.x,P=l.freePointer.row*d,k=O;D.context.drawImage(R,0,0,k,M,z,P,k,M),b[0]={x:z,y:P,w:k,h:p}}{var U=O,L=(l.freePointer.row+1)*d,G=I;D&&D.context.drawImage(R,U,0,G,M,0,L,G,M),b[1]={x:0,y:L,w:G,h:p}}l.freePointer.x=I,l.freePointer.row++},S=function(){l.freePointer.x=0,l.freePointer.row++};if(this.freePointer.x+g<=s)C();else{if(this.freePointer.row>=c-1)return!1;this.freePointer.x===s?(S(),C()):this.enableWrapping?w():(S(),C())}return this.keyToLocation.set(r,b),this.needsBuffer=!0,b}},{key:"getOffsets",value:function(r){return this.keyToLocation.get(r)}},{key:"isEmpty",value:function(){return this.freePointer.x===0&&this.freePointer.row===0}},{key:"canFit",value:function(r){if(this.locked)return!1;var n=this.texSize,u=this.texRows,l=this.getScale(r),s=l.texW;return this.freePointer.x+s>n?this.freePointer.row<u-1:!0}},{key:"bufferIfNeeded",value:function(r){this.texture||(this.texture=dD(r,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])})(),ED=(function(){function t(e,r,n,u){Ki(this,t),this.r=e,this.texSize=r,this.texRows=n,this.createTextureCanvas=u,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set}return Xi(t,[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var r=this.r,n=this.texSize,u=this.texRows,l=this.createTextureCanvas;return new bD(r,n,u,l)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var r=this.r,n=this.texSize,u=this.texRows,l=this.createTextureCanvas,s=Math.floor(n/u);this.scratch=l(r,n,s,"scratch")}return this.scratch}},{key:"draw",value:function(r,n,u){var l=this.styleKeyToAtlas.get(r);return l||(l=this.atlases[this.atlases.length-1],(!l||!l.canFit(n))&&(l&&l.lock(),l=this._createAtlas(),this.atlases.push(l)),l.draw(r,n,u),this.styleKeyToAtlas.set(r,l)),l}},{key:"getAtlas",value:function(r){return this.styleKeyToAtlas.get(r)}},{key:"hasAtlas",value:function(r){return this.styleKeyToAtlas.has(r)}},{key:"markKeyForGC",value:function(r){this.markedKeys.add(r)}},{key:"gc",value:function(){var r=this,n=this.markedKeys;if(n.size===0){console.log("nothing to garbage collect");return}var u=[],l=new Map,s=null,c=ba(this.atlases),d;try{var f=function(){var g=d.value,p=g.getKeys(),E=xD(n,p);if(E.size===0)return u.push(g),p.forEach(function(O){return l.set(O,g)}),1;s||(s=r._createAtlas(),u.push(s));var b=ba(p),C;try{for(b.s();!(C=b.n()).done;){var w=C.value;if(!E.has(w)){var S=g.getOffsets(w),N=xr(S,2),R=N[0],D=N[1];s.canFit({w:R.w+D.w,h:R.h})||(s.lock(),s=r._createAtlas(),u.push(s)),g.canvas&&(r._copyTextureToNewAtlas(w,g,s),l.set(w,s))}}}catch(O){b.e(O)}finally{b.f()}g.dispose()};for(c.s();!(d=c.n()).done;)f()}catch(v){c.e(v)}finally{c.f()}this.atlases=u,this.styleKeyToAtlas=l,this.markedKeys=new Set}},{key:"_copyTextureToNewAtlas",value:function(r,n,u){var l=n.getOffsets(r),s=xr(l,2),c=s[0],d=s[1];if(d.w===0)u.draw(r,c,function(p){p.drawImage(n.canvas,c.x,c.y,c.w,c.h,0,0,c.w,c.h)});else{var f=this._getScratchCanvas();f.clear(),f.context.drawImage(n.canvas,c.x,c.y,c.w,c.h,0,0,c.w,c.h),f.context.drawImage(n.canvas,d.x,d.y,d.w,d.h,c.w,0,d.w,d.h);var v=c.w+d.w,g=c.h;u.draw(r,{w:v,h:g},function(p){p.drawImage(f,0,0,v,g,0,0,v,g)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])})();function xD(t,e){return t.intersection?t.intersection(e):new Set(rd(t).filter(function(r){return e.has(r)}))}var TD=(function(){function t(e,r){Ki(this,t),this.r=e,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map}return Xi(t,[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(r,n){var u=this.globalOptions,l=u.webglTexSize,s=u.createTextureCanvas,c=n.texRows,d=this._cacheScratchCanvas(s),f=new ED(this.r,l,c,d);this.collections.set(r,f)}},{key:"addRenderType",value:function(r,n){var u=n.collection;if(!this.collections.has(u))throw new Error("invalid atlas collection name '".concat(u,"'"));var l=this.collections.get(u),s=$e({type:r,atlasCollection:l},n);this.renderTypes.set(r,s)}},{key:"getRenderTypeOpts",value:function(r){return this.renderTypes.get(r)}},{key:"getAtlasCollection",value:function(r){return this.collections.get(r)}},{key:"_cacheScratchCanvas",value:function(r){var n=-1,u=-1,l=null;return function(s,c,d,f){return f?((!l||c!=n||d!=u)&&(n=c,u=d,l=r(s,c,d)),l):r(s,c,d)}}},{key:"_key",value:function(r,n){return"".concat(r,"-").concat(n)}},{key:"invalidate",value:function(r){var n=this,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=u.forceRedraw,s=l===void 0?!1:l,c=u.filterEle,d=c===void 0?function(){return!0}:c,f=u.filterType,v=f===void 0?function(){return!0}:f,g=!1,p=!1,E=ba(r),b;try{for(E.s();!(b=E.n()).done;){var C=b.value;if(d(C)){var w=ba(this.renderTypes.values()),S;try{var N=function(){var D=S.value,O=D.type;if(v(O)){var I=n.collections.get(D.collection),M=D.getKey(C),z=Array.isArray(M)?M:[M];if(s)z.forEach(function(L){return I.markKeyForGC(L)}),p=!0;else{var P=D.getID?D.getID(C):C.id(),k=n._key(O,P),U=n.typeAndIdToKey.get(k);U!==void 0&&!cD(z,U)&&(g=!0,n.typeAndIdToKey.delete(k),U.forEach(function(L){return I.markKeyForGC(L)}))}}};for(w.s();!(S=w.n()).done;)N()}catch(R){w.e(R)}finally{w.f()}}}}catch(R){E.e(R)}finally{E.f()}return p&&(this.gc(),g=!1),g}},{key:"gc",value:function(){var r=ba(this.collections.values()),n;try{for(r.s();!(n=r.n()).done;){var u=n.value;u.gc()}}catch(l){r.e(l)}finally{r.f()}}},{key:"getOrCreateAtlas",value:function(r,n,u,l){var s=this.renderTypes.get(n),c=this.collections.get(s.collection),d=!1,f=c.draw(l,u,function(p){s.drawClipped?(p.save(),p.beginPath(),p.rect(0,0,u.w,u.h),p.clip(),s.drawElement(p,r,u,!0,!0),p.restore()):s.drawElement(p,r,u,!0,!0),d=!0});if(d){var v=s.getID?s.getID(r):r.id(),g=this._key(n,v);this.typeAndIdToKey.has(g)?this.typeAndIdToKey.get(g).push(l):this.typeAndIdToKey.set(g,[l])}return f}},{key:"getAtlasInfo",value:function(r,n){var u=this,l=this.renderTypes.get(n),s=l.getKey(r),c=Array.isArray(s)?s:[s];return c.map(function(d){var f=l.getBoundingBox(r,d),v=u.getOrCreateAtlas(r,n,f,d),g=v.getOffsets(d),p=xr(g,2),E=p[0],b=p[1];return{atlas:v,tex:E,tex1:E,tex2:b,bb:f}})}},{key:"getDebugInfo",value:function(){var r=[],n=ba(this.collections),u;try{for(n.s();!(u=n.n()).done;){var l=xr(u.value,2),s=l[0],c=l[1],d=c.getCounts(),f=d.keyCount,v=d.atlasCount;r.push({type:s,keyCount:f,atlasCount:v})}}catch(g){n.e(g)}finally{n.f()}return r}}])})(),SD=(function(){function t(e){Ki(this,t),this.globalOptions=e,this.atlasSize=e.webglTexSize,this.maxAtlasesPerBatch=e.webglTexPerBatch,this.batchAtlases=[]}return Xi(t,[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(r,n){return n})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(r){return this.batchAtlases.length===this.maxAtlasesPerBatch?this.batchAtlases.includes(r):!0}},{key:"getAtlasIndexForBatch",value:function(r){var n=this.batchAtlases.indexOf(r);if(n<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(r),n=this.batchAtlases.length-1}return n}}])})(),wD=`
  float circleSD(vec2 p, float r) {
    return distance(vec2(0), p) - r; // signed distance
  }
`,AD=`
  float rectangleSD(vec2 p, vec2 b) {
    vec2 d = abs(p)-b;
    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);
  }
`,CD=`
  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {
    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;
    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;
    vec2 q = abs(p) - b + cr.x;
    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;
  }
`,ND=`
  float ellipseSD(vec2 p, vec2 ab) {
    p = abs( p ); // symmetry

    // find root with Newton solver
    vec2 q = ab*(p-ab);
    float w = (q.x<q.y)? 1.570796327 : 0.0;
    for( int i=0; i<5; i++ ) {
      vec2 cs = vec2(cos(w),sin(w));
      vec2 u = ab*vec2( cs.x,cs.y);
      vec2 v = ab*vec2(-cs.y,cs.x);
      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));
    }
    
    // compute final point and distance
    float d = length(p-ab*vec2(cos(w),sin(w)));
    
    // return signed distance
    return (dot(p/ab,p/ab)>1.0) ? d : -d;
  }
`,Co={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},hd={IGNORE:1,USE_BB:2},xp=0,GE=1,VE=2,Tp=3,_l=4,Pf=5,mo=6,yo=7,RD=(function(){function t(e,r,n){Ki(this,t),this.r=e,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=uD,this.atlasManager=new TD(e,n),this.batchManager=new SD(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(Co.SCREEN),this.pickingProgram=this._createShaderProgram(Co.PICKING),this.vao=this._createVAO()}return Xi(t,[{key:"addAtlasCollection",value:function(r,n){this.atlasManager.addAtlasCollection(r,n)}},{key:"addTextureAtlasRenderType",value:function(r,n){this.atlasManager.addRenderType(r,n)}},{key:"addSimpleShapeRenderType",value:function(r,n){this.simpleShapeOptions.set(r,n)}},{key:"invalidate",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=n.type,l=this.atlasManager;return u?l.invalidate(r,{filterType:function(c){return c===u},forceRedraw:!0}):l.invalidate(r)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(r){var n=this.gl,u=`#version 300 es
      precision highp float;

      uniform mat3 uPanZoomMatrix;
      uniform int  uAtlasSize;
      
      // instanced
      in vec2 aPosition; // a vertex from the unit square
      
      in mat3 aTransform; // used to transform verticies, eg into a bounding box
      in int aVertType; // the type of thing we are rendering

      // the z-index that is output when using picking mode
      in vec4 aIndex;
      
      // For textures
      in int aAtlasId; // which shader unit/atlas to use
      in vec4 aTex; // x/y/w/h of texture in atlas

      // for edges
      in vec4 aPointAPointB;
      in vec4 aPointCPointD;
      in vec2 aLineWidth; // also used for node border width

      // simple shapes
      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]
      in vec4 aColor; // also used for edges
      in vec4 aBorderColor; // aLineWidth is used for border width

      // output values passed to the fragment shader
      out vec2 vTexCoord;
      out vec4 vColor;
      out vec2 vPosition;
      // flat values are not interpolated
      flat out int vAtlasId; 
      flat out int vVertType;
      flat out vec2 vTopRight;
      flat out vec2 vBotLeft;
      flat out vec4 vCornerRadius;
      flat out vec4 vBorderColor;
      flat out vec2 vBorderWidth;
      flat out vec4 vIndex;
      
      void main(void) {
        int vid = gl_VertexID;
        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below

        if(aVertType == `.concat(xp,`) {
          float texX = aTex.x; // texture coordinates
          float texY = aTex.y;
          float texW = aTex.z;
          float texH = aTex.w;

          if(vid == 1 || vid == 2 || vid == 4) {
            texX += texW;
          }
          if(vid == 2 || vid == 4 || vid == 5) {
            texY += texH;
          }

          float d = float(uAtlasSize);
          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(_l," || aVertType == ").concat(yo,` 
             || aVertType == `).concat(Pf," || aVertType == ").concat(mo,`) { // simple shapes

          // the bounding box is needed by the fragment shader
          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat
          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat
          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated

          // calculations are done in the fragment shader, just pass these along
          vColor = aColor;
          vCornerRadius = aCornerRadius;
          vBorderColor = aBorderColor;
          vBorderWidth = aLineWidth;

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
        }
        else if(aVertType == `).concat(GE,`) {
          vec2 source = aPointAPointB.xy;
          vec2 target = aPointAPointB.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          // stretch the unit square into a long skinny rectangle
          vec2 xBasis = target - source;
          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));
          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;

          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);
          vColor = aColor;
        } 
        else if(aVertType == `).concat(VE,`) {
          vec2 pointA = aPointAPointB.xy;
          vec2 pointB = aPointAPointB.zw;
          vec2 pointC = aPointCPointD.xy;
          vec2 pointD = aPointCPointD.zw;

          // adjust the geometry so that the line is centered on the edge
          position.y = position.y - 0.5;

          vec2 p0, p1, p2, pos;
          if(position.x == 0.0) { // The left side of the unit square
            p0 = pointA;
            p1 = pointB;
            p2 = pointC;
            pos = position;
          } else { // The right side of the unit square, use same approach but flip the geometry upside down
            p0 = pointD;
            p1 = pointC;
            p2 = pointB;
            pos = vec2(0.0, -position.y);
          }

          vec2 p01 = p1 - p0;
          vec2 p12 = p2 - p1;
          vec2 p21 = p1 - p2;

          // Find the normal vector.
          vec2 tangent = normalize(normalize(p12) + normalize(p01));
          vec2 normal = vec2(-tangent.y, tangent.x);

          // Find the vector perpendicular to p0 -> p1.
          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));

          // Determine the bend direction.
          float sigma = sign(dot(p01 + p21, normal));
          float width = aLineWidth[0];

          if(sign(pos.y) == -sigma) {
            // This is an intersecting vertex. Adjust the position so that there's no overlap.
            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          } else {
            // This is a non-intersecting vertex. Treat it like a mitre join.
            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);
            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);
          }

          vColor = aColor;
        } 
        else if(aVertType == `).concat(Tp,` && vid < 3) {
          // massage the first triangle into an edge arrow
          if(vid == 0)
            position = vec2(-0.15, -0.3);
          if(vid == 1)
            position = vec2(  0.0,  0.0);
          if(vid == 2)
            position = vec2( 0.15, -0.3);

          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);
          vColor = aColor;
        }
        else {
          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space
        }

        vAtlasId = aAtlasId;
        vVertType = aVertType;
        vIndex = aIndex;
      }
    `),l=this.batchManager.getIndexArray(),s=`#version 300 es
      precision highp float;

      // declare texture unit for each texture atlas in the batch
      `.concat(l.map(function(f){return"uniform sampler2D uTexture".concat(f,";")}).join(`
	`),`

      uniform vec4 uBGColor;
      uniform float uZoom;

      in vec2 vTexCoord;
      in vec4 vColor;
      in vec2 vPosition; // model coordinates

      flat in int vAtlasId;
      flat in vec4 vIndex;
      flat in int vVertType;
      flat in vec2 vTopRight;
      flat in vec2 vBotLeft;
      flat in vec4 vCornerRadius;
      flat in vec4 vBorderColor;
      flat in vec2 vBorderWidth;

      out vec4 outColor;

      `).concat(wD,`
      `).concat(AD,`
      `).concat(CD,`
      `).concat(ND,`

      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha
        return vec4( 
          top.rgb + (bot.rgb * (1.0 - top.a)),
          top.a   + (bot.a   * (1.0 - top.a)) 
        );
      }

      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance
        // scale to the zoom level so that borders don't look blurry when zoomed in
        // note 1.5 is an aribitrary value chosen because it looks good
        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); 
      }

      void main(void) {
        if(vVertType == `).concat(xp,`) {
          // look up the texel from the texture unit
          `).concat(l.map(function(f){return"if(vAtlasId == ".concat(f,") outColor = texture(uTexture").concat(f,", vTexCoord);")}).join(`
	else `),`
        } 
        else if(vVertType == `).concat(Tp,`) {
          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';
          outColor = blend(vColor, uBGColor);
          outColor.a = 1.0; // make opaque, masks out line under arrow
        }
        else if(vVertType == `).concat(_l,` && vBorderWidth == vec2(0.0)) { // simple rectangle with no border
          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done
        }
        else if(vVertType == `).concat(_l," || vVertType == ").concat(yo,` 
          || vVertType == `).concat(Pf," || vVertType == ").concat(mo,`) { // use SDF

          float outerBorder = vBorderWidth[0];
          float innerBorder = vBorderWidth[1];
          float borderPadding = outerBorder * 2.0;
          float w = vTopRight.x - vBotLeft.x - borderPadding;
          float h = vTopRight.y - vBotLeft.y - borderPadding;
          vec2 b = vec2(w/2.0, h/2.0); // half width, half height
          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center

          float d; // signed distance
          if(vVertType == `).concat(_l,`) {
            d = rectangleSD(p, b);
          } else if(vVertType == `).concat(yo,` && w == h) {
            d = circleSD(p, b.x); // faster than ellipse
          } else if(vVertType == `).concat(yo,`) {
            d = ellipseSD(p, b);
          } else {
            d = roundRectangleSD(p, b, vCornerRadius.wzyx);
          }

          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling
          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box
          if(d > 0.0) {
            if(d > outerBorder) {
              discard;
            } else {
              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);
            }
          } else {
            if(d > innerBorder) {
              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;
              vec4 innerBorderColor = blend(vBorderColor, vColor);
              outColor = distInterp(innerBorderColor, outerColor, d);
            } 
            else {
              vec4 outerColor;
              if(innerBorder == 0.0 && outerBorder == 0.0) {
                outerColor = vec4(0);
              } else if(innerBorder == 0.0) {
                outerColor = vBorderColor;
              } else {
                outerColor = blend(vBorderColor, vColor);
              }
              outColor = distInterp(vColor, outerColor, d - innerBorder);
            }
          }
        }
        else {
          outColor = vColor;
        }

        `).concat(r.picking?`if(outColor.a == 0.0) discard;
             else outColor = vIndex;`:"",`
      }
    `),c=iD(n,u,s);c.aPosition=n.getAttribLocation(c,"aPosition"),c.aIndex=n.getAttribLocation(c,"aIndex"),c.aVertType=n.getAttribLocation(c,"aVertType"),c.aTransform=n.getAttribLocation(c,"aTransform"),c.aAtlasId=n.getAttribLocation(c,"aAtlasId"),c.aTex=n.getAttribLocation(c,"aTex"),c.aPointAPointB=n.getAttribLocation(c,"aPointAPointB"),c.aPointCPointD=n.getAttribLocation(c,"aPointCPointD"),c.aLineWidth=n.getAttribLocation(c,"aLineWidth"),c.aColor=n.getAttribLocation(c,"aColor"),c.aCornerRadius=n.getAttribLocation(c,"aCornerRadius"),c.aBorderColor=n.getAttribLocation(c,"aBorderColor"),c.uPanZoomMatrix=n.getUniformLocation(c,"uPanZoomMatrix"),c.uAtlasSize=n.getUniformLocation(c,"uAtlasSize"),c.uBGColor=n.getUniformLocation(c,"uBGColor"),c.uZoom=n.getUniformLocation(c,"uZoom"),c.uTextures=[];for(var d=0;d<this.batchManager.getMaxAtlasesPerBatch();d++)c.uTextures.push(n.getUniformLocation(c,"uTexture".concat(d)));return c}},{key:"_createVAO",value:function(){var r=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=r.length/2;var n=this.maxInstances,u=this.gl,l=this.program,s=u.createVertexArray();return u.bindVertexArray(s),hD(u,"vec2",l.aPosition,r),this.transformBuffer=gD(u,n,l.aTransform),this.indexBuffer=dn(u,n,"vec4",l.aIndex),this.vertTypeBuffer=dn(u,n,"int",l.aVertType),this.atlasIdBuffer=dn(u,n,"int",l.aAtlasId),this.texBuffer=dn(u,n,"vec4",l.aTex),this.pointAPointBBuffer=dn(u,n,"vec4",l.aPointAPointB),this.pointCPointDBuffer=dn(u,n,"vec4",l.aPointCPointD),this.lineWidthBuffer=dn(u,n,"vec2",l.aLineWidth),this.colorBuffer=dn(u,n,"vec4",l.aColor),this.cornerRadiusBuffer=dn(u,n,"vec4",l.aCornerRadius),this.borderColorBuffer=dn(u,n,"vec4",l.aBorderColor),u.bindVertexArray(null),s}},{key:"buffers",get:function(){var r=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(n){return _i(n,"Buffer")}).map(function(n){return r[n]})),this._buffers}},{key:"startFrame",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Co.SCREEN;this.panZoomMatrix=r,this.renderTarget=n,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(r,n){return r.visible()?n&&n.isVisible?n.isVisible(r):!0:!1}},{key:"drawTexture",value:function(r,n,u){var l=this.atlasManager,s=this.batchManager,c=l.getRenderTypeOpts(u);if(this._isVisible(r,c)&&!(r.isEdge()&&!this._isValidEdge(r))){if(this.renderTarget.picking&&c.getTexPickingMode){var d=c.getTexPickingMode(r);if(d===hd.IGNORE)return;if(d==hd.USE_BB){this.drawPickingRectangle(r,n,u);return}}var f=l.getAtlasInfo(r,u),v=ba(f),g;try{for(v.s();!(g=v.n()).done;){var p=g.value,E=p.atlas,b=p.tex1,C=p.tex2;s.canAddToCurrentBatch(E)||this.endBatch();for(var w=s.getAtlasIndexForBatch(E),S=0,N=[[b,!0],[C,!1]];S<N.length;S++){var R=xr(N[S],2),D=R[0],O=R[1];if(D.w!=0){var I=this.instanceCount;this.vertTypeBuffer.getView(I)[0]=xp;var M=this.indexBuffer.getView(I);zl(n,M);var z=this.atlasIdBuffer.getView(I);z[0]=w;var P=this.texBuffer.getView(I);P[0]=D.x,P[1]=D.y,P[2]=D.w,P[3]=D.h;var k=this.transformBuffer.getMatrixView(I);this.setTransformMatrix(r,k,c,p,O),this.instanceCount++,O||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(U){v.e(U)}finally{v.f()}}}},{key:"setTransformMatrix",value:function(r,n,u,l){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,c=0;if(u.shapeProps&&u.shapeProps.padding&&(c=r.pstyle(u.shapeProps.padding).pfValue),l){var d=l.bb,f=l.tex1,v=l.tex2,g=f.w/(f.w+v.w);s||(g=1-g);var p=this._getAdjustedBB(d,c,s,g);this._applyTransformMatrix(n,p,u,r)}else{var E=u.getBoundingBox(r),b=this._getAdjustedBB(E,c,!0,1);this._applyTransformMatrix(n,b,u,r)}}},{key:"_applyTransformMatrix",value:function(r,n,u,l){var s,c;qE(r);var d=u.getRotation?u.getRotation(l):0;if(d!==0){var f=u.getRotationPoint(l),v=f.x,g=f.y;ed(r,r,[v,g]),HE(r,r,d);var p=u.getRotationOffset(l);s=p.x+(n.xOffset||0),c=p.y+(n.yOffset||0)}else s=n.x1,c=n.y1;ed(r,r,[s,c]),Fp(r,r,[n.w,n.h])}},{key:"_getAdjustedBB",value:function(r,n,u,l){var s=r.x1,c=r.y1,d=r.w,f=r.h,v=r.yOffset;n&&(s-=n,c-=n,d+=2*n,f+=2*n);var g=0,p=d*l;return u&&l<1?d=p:!u&&l<1&&(g=d-p,s+=g,d=p),{x1:s,y1:c,w:d,h:f,xOffset:g,yOffset:v}}},{key:"drawPickingRectangle",value:function(r,n,u){var l=this.atlasManager.getRenderTypeOpts(u),s=this.instanceCount;this.vertTypeBuffer.getView(s)[0]=_l;var c=this.indexBuffer.getView(s);zl(n,c);var d=this.colorBuffer.getView(s);wu([0,0,0],1,d);var f=this.transformBuffer.getMatrixView(s);this.setTransformMatrix(r,f,l),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(r,n,u){var l=this.simpleShapeOptions.get(u);if(this._isVisible(r,l)){var s=l.shapeProps,c=this._getVertTypeForShape(r,s.shape);if(c===void 0||l.isSimple&&!l.isSimple(r)){this.drawTexture(r,n,u);return}var d=this.instanceCount;if(this.vertTypeBuffer.getView(d)[0]=c,c===Pf||c===mo){var f=l.getBoundingBox(r),v=this._getCornerRadius(r,s.radius,f),g=this.cornerRadiusBuffer.getView(d);g[0]=v,g[1]=v,g[2]=v,g[3]=v,c===mo&&(g[0]=0,g[2]=0)}var p=this.indexBuffer.getView(d);zl(n,p);var E=r.pstyle(s.color).value,b=r.pstyle(s.opacity).value,C=this.colorBuffer.getView(d);wu(E,b,C);var w=this.lineWidthBuffer.getView(d);if(w[0]=0,w[1]=0,s.border){var S=r.pstyle("border-width").value;if(S>0){var N=r.pstyle("border-color").value,R=r.pstyle("border-opacity").value,D=this.borderColorBuffer.getView(d);wu(N,R,D);var O=r.pstyle("border-position").value;if(O==="inside")w[0]=0,w[1]=-S;else if(O==="outside")w[0]=S,w[1]=0;else{var I=S/2;w[0]=I,w[1]=-I}}}var M=this.transformBuffer.getMatrixView(d);this.setTransformMatrix(r,M,l),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}},{key:"_getVertTypeForShape",value:function(r,n){var u=r.pstyle(n).value;switch(u){case"rectangle":return _l;case"ellipse":return yo;case"roundrectangle":case"round-rectangle":return Pf;case"bottom-round-rectangle":return mo;default:return}}},{key:"_getCornerRadius",value:function(r,n,u){var l=u.w,s=u.h;if(r.pstyle(n).value==="auto")return Vi(l,s);var c=r.pstyle(n).pfValue,d=l/2,f=s/2;return Math.min(c,f,d)}},{key:"drawEdgeArrow",value:function(r,n,u){if(r.visible()){var l=r._private.rscratch,s,c,d;if(u==="source"?(s=l.arrowStartX,c=l.arrowStartY,d=l.srcArrowAngle):(s=l.arrowEndX,c=l.arrowEndY,d=l.tgtArrowAngle),!(isNaN(s)||s==null||isNaN(c)||c==null||isNaN(d)||d==null)){var f=r.pstyle(u+"-arrow-shape").value;if(f!=="none"){var v=r.pstyle(u+"-arrow-color").value,g=r.pstyle("opacity").value,p=r.pstyle("line-opacity").value,E=g*p,b=r.pstyle("width").pfValue,C=r.pstyle("arrow-scale").value,w=this.r.getArrowWidth(b,C),S=this.instanceCount,N=this.transformBuffer.getMatrixView(S);qE(N),ed(N,N,[s,c]),Fp(N,N,[w,w]),HE(N,N,d),this.vertTypeBuffer.getView(S)[0]=Tp;var R=this.indexBuffer.getView(S);zl(n,R);var D=this.colorBuffer.getView(S);wu(v,E,D),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"drawEdgeLine",value:function(r,n){if(r.visible()){var u=this._getEdgePoints(r);if(u){var l=r.pstyle("opacity").value,s=r.pstyle("line-opacity").value,c=r.pstyle("width").pfValue,d=r.pstyle("line-color").value,f=l*s;if(u.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),u.length==4){var v=this.instanceCount;this.vertTypeBuffer.getView(v)[0]=GE;var g=this.indexBuffer.getView(v);zl(n,g);var p=this.colorBuffer.getView(v);wu(d,f,p);var E=this.lineWidthBuffer.getView(v);E[0]=c;var b=this.pointAPointBBuffer.getView(v);b[0]=u[0],b[1]=u[1],b[2]=u[2],b[3]=u[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var C=0;C<u.length-2;C+=2){var w=this.instanceCount;this.vertTypeBuffer.getView(w)[0]=VE;var S=this.indexBuffer.getView(w);zl(n,S);var N=this.colorBuffer.getView(w);wu(d,f,N);var R=this.lineWidthBuffer.getView(w);R[0]=c;var D=u[C-2],O=u[C-1],I=u[C],M=u[C+1],z=u[C+2],P=u[C+3],k=u[C+4],U=u[C+5];C==0&&(D=2*I-z+.001,O=2*M-P+.001),C==u.length-4&&(k=2*z-I+.001,U=2*P-M+.001);var L=this.pointAPointBBuffer.getView(w);L[0]=D,L[1]=O,L[2]=I,L[3]=M;var G=this.pointCPointDBuffer.getView(w);G[0]=z,G[1]=P,G[2]=k,G[3]=U,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_isValidEdge",value:function(r){var n=r._private.rscratch;return!(n.badLine||n.allpts==null||isNaN(n.allpts[0]))}},{key:"_getEdgePoints",value:function(r){var n=r._private.rscratch;if(this._isValidEdge(r)){var u=n.allpts;if(u.length==4)return u;var l=this._getNumSegments(r);return this._getCurveSegmentPoints(u,l)}}},{key:"_getNumSegments",value:function(r){var n=15;return Math.min(Math.max(n,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(r,n){if(r.length==4)return r;for(var u=Array((n+1)*2),l=0;l<=n;l++)if(l==0)u[0]=r[0],u[1]=r[1];else if(l==n)u[l*2]=r[r.length-2],u[l*2+1]=r[r.length-1];else{var s=l/n;this._setCurvePoint(r,s,u,l*2)}return u}},{key:"_setCurvePoint",value:function(r,n,u,l){if(r.length<=2)u[l]=r[0],u[l+1]=r[1];else{for(var s=Array(r.length-2),c=0;c<s.length;c+=2){var d=(1-n)*r[c]+n*r[c+2],f=(1-n)*r[c+1]+n*r[c+3];s[c]=d,s[c+1]=f}return this._setCurvePoint(s,n,u,l)}}},{key:"endBatch",value:function(){var r=this.gl,n=this.vao,u=this.vertexCount,l=this.instanceCount;if(l!==0){var s=this.renderTarget.picking?this.pickingProgram:this.program;r.useProgram(s),r.bindVertexArray(n);var c=ba(this.buffers),d;try{for(c.s();!(d=c.n()).done;){var f=d.value;f.bufferSubData(l)}}catch(b){c.e(b)}finally{c.f()}for(var v=this.batchManager.getAtlases(),g=0;g<v.length;g++)v[g].bufferIfNeeded(r);for(var p=0;p<v.length;p++)r.activeTexture(r.TEXTURE0+p),r.bindTexture(r.TEXTURE_2D,v[p].texture),r.uniform1i(s.uTextures[p],p);r.uniform1f(s.uZoom,lD(this.r)),r.uniformMatrix3fv(s.uPanZoomMatrix,!1,this.panZoomMatrix),r.uniform1i(s.uAtlasSize,this.batchManager.getAtlasSize());var E=wu(this.bgColor,1);r.uniform4fv(s.uBGColor,E),r.drawArraysInstanced(r.TRIANGLES,0,u,l),r.bindVertexArray(null),r.bindTexture(r.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:l,atlasCount:v.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var r=this.atlasManager.getDebugInfo(),n=r.reduce(function(s,c){return s+c.atlasCount},0),u=this.batchDebugInfo,l=u.reduce(function(s,c){return s+c.count},0);return{atlasInfo:r,totalAtlases:n,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:u.length,batchInfo:u,totalInstances:l}}}])})(),OT={};OT.initWebgl=function(t,e){var r=this,n=r.data.contexts[r.WEBGL];t.bgColor=DD(r),t.webglTexSize=Math.min(t.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),t.webglTexRows=Math.min(t.webglTexRows,54),t.webglTexRowsNodes=Math.min(t.webglTexRowsNodes,54),t.webglBatchSize=Math.min(t.webglBatchSize,16384),t.webglTexPerBatch=Math.min(t.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=t.webglDebug,r.webglDebugShowAtlases=t.webglDebugShowAtlases,r.pickingFrameBuffer=pD(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new RD(r,n,t);var u=function(g){return function(p){return r.getTextAngle(p,g)}},l=function(g){return function(p){var E=p.pstyle(g);return E&&E.value}},s=function(g){return function(p){return p.pstyle("".concat(g,"-opacity")).value>0}},c=function(g){var p=g.pstyle("text-events").strValue==="yes";return p?hd.USE_BB:hd.IGNORE},d=function(g){var p=g.position(),E=p.x,b=p.y,C=g.outerWidth(),w=g.outerHeight();return{w:C,h:w,x1:E-C/2,y1:b-w/2}};r.drawing.addAtlasCollection("node",{texRows:t.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:t.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:e.getStyleKey,getBoundingBox:e.getElementBox,drawElement:e.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:d,isSimple:oD,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:d,isVisible:s("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:d,isVisible:s("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:c,getKey:Sp(e.getLabelKey,null),getBoundingBox:wp(e.getLabelBox,null),drawClipped:!0,drawElement:e.drawLabel,getRotation:u(null),getRotationPoint:e.getLabelRotationPoint,getRotationOffset:e.getLabelRotationOffset,isVisible:l("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:c,getKey:Sp(e.getSourceLabelKey,"source"),getBoundingBox:wp(e.getSourceLabelBox,"source"),drawClipped:!0,drawElement:e.drawSourceLabel,getRotation:u("source"),getRotationPoint:e.getSourceLabelRotationPoint,getRotationOffset:e.getSourceLabelRotationOffset,isVisible:l("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:c,getKey:Sp(e.getTargetLabelKey,"target"),getBoundingBox:wp(e.getTargetLabelBox,"target"),drawClipped:!0,drawElement:e.drawTargetLabel,getRotation:u("target"),getRotationPoint:e.getTargetLabelRotationPoint,getRotationOffset:e.getTargetLabelRotationOffset,isVisible:l("target-label")});var f=Go(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(v,g){var p=!1;g&&g.length>0&&(p|=r.drawing.invalidate(g)),p&&f()}),OD(r)};function DD(t){var e=t.cy.container(),r=e&&e.style&&e.style.backgroundColor||"white";return nx(r)}function MT(t,e){var r=t._private.rscratch;return ma(r,"labelWrapCachedLines",e)||[]}var Sp=function(e,r){return function(n){var u=e(n),l=MT(n,r);return l.length>1?l.map(function(s,c){return"".concat(u,"_").concat(c)}):u}},wp=function(e,r){return function(n,u){var l=e(n);if(typeof u=="string"){var s=u.indexOf("_");if(s>0){var c=Number(u.substring(s+1)),d=MT(n,r),f=l.h/d.length,v=f*c,g=l.y1+v;return{x1:l.x1,w:l.w,y1:g,h:f,yOffset:v}}}return l}};function OD(t){{var e=t.render;t.render=function(l){l=l||{};var s=t.cy;t.webgl&&(s.zoom()>ST?(MD(t),e.call(t,l)):(BD(t),IT(t,l,Co.SCREEN)))}}{var r=t.matchCanvasSize;t.matchCanvasSize=function(l){r.call(t,l),t.pickingFrameBuffer.setFramebufferAttachmentSizes(t.canvasWidth,t.canvasHeight),t.pickingFrameBuffer.needsDraw=!0}}t.findNearestElements=function(l,s,c,d){return UD(t,l,s)};{var n=t.invalidateCachedZSortedEles;t.invalidateCachedZSortedEles=function(){n.call(t),t.pickingFrameBuffer.needsDraw=!0}}{var u=t.notify;t.notify=function(l,s){u.call(t,l,s),l==="viewport"||l==="bounds"?t.pickingFrameBuffer.needsDraw=!0:l==="background"&&t.drawing.invalidate(s,{type:"node-body"})}}}function MD(t){var e=t.data.contexts[t.WEBGL];e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT)}function BD(t){var e=function(n){n.save(),n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,t.canvasWidth,t.canvasHeight),n.restore()};e(t.data.contexts[t.NODE]),e(t.data.contexts[t.DRAG])}function ID(t){var e=t.canvasWidth,r=t.canvasHeight,n=xm(t),u=n.pan,l=n.zoom,s=Ep();ed(s,s,[u.x,u.y]),Fp(s,s,[l,l]);var c=Ep();yD(c,e,r);var d=Ep();return mD(d,c,s),d}function BT(t,e){var r=t.canvasWidth,n=t.canvasHeight,u=xm(t),l=u.pan,s=u.zoom;e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,r,n),e.translate(l.x,l.y),e.scale(s,s)}function LD(t,e){t.drawSelectionRectangle(e,function(r){return BT(t,r)})}function zD(t){var e=t.data.contexts[t.NODE];e.save(),BT(t,e),e.strokeStyle="rgba(0, 0, 0, 0.3)",e.beginPath(),e.moveTo(-1e3,0),e.lineTo(1e3,0),e.stroke(),e.beginPath(),e.moveTo(0,-1e3),e.lineTo(0,1e3),e.stroke(),e.restore()}function _D(t){var e=function(u,l,s){for(var c=u.atlasManager.getAtlasCollection(l),d=t.data.contexts[t.NODE],f=c.atlases,v=0;v<f.length;v++){var g=f[v],p=g.canvas;if(p){var E=p.width,b=p.height,C=E*v,w=p.height*s,S=.4;d.save(),d.scale(S,S),d.drawImage(p,C,w),d.strokeStyle="black",d.rect(C,w,E,b),d.stroke(),d.restore()}}},r=0;e(t.drawing,"node",r++),e(t.drawing,"label",r++)}function kD(t,e,r,n,u){var l,s,c,d,f=xm(t),v=f.pan,g=f.zoom;{var p=sD(t,v,g,e,r),E=xr(p,2),b=E[0],C=E[1],w=6;l=b-w/2,s=C-w/2,c=w,d=w}if(c===0||d===0)return[];var S=t.data.contexts[t.WEBGL];S.bindFramebuffer(S.FRAMEBUFFER,t.pickingFrameBuffer),t.pickingFrameBuffer.needsDraw&&(S.viewport(0,0,S.canvas.width,S.canvas.height),IT(t,null,Co.PICKING),t.pickingFrameBuffer.needsDraw=!1);var N=c*d,R=new Uint8Array(N*4);S.readPixels(l,s,c,d,S.RGBA,S.UNSIGNED_BYTE,R),S.bindFramebuffer(S.FRAMEBUFFER,null);for(var D=new Set,O=0;O<N;O++){var I=R.slice(O*4,O*4+4),M=fD(I)-1;M>=0&&D.add(M)}return D}function UD(t,e,r){var n=kD(t,e,r),u=t.getCachedZSortedEles(),l,s,c=ba(n),d;try{for(c.s();!(d=c.n()).done;){var f=d.value,v=u[f];if(!l&&v.isNode()&&(l=v),!s&&v.isEdge()&&(s=v),l&&s)break}}catch(g){c.e(g)}finally{c.f()}return[l,s].filter(Boolean)}function Ap(t,e,r){var n=t.drawing;e+=1,r.isNode()?(n.drawNode(r,e,"node-underlay"),n.drawNode(r,e,"node-body"),n.drawTexture(r,e,"label"),n.drawNode(r,e,"node-overlay")):(n.drawEdgeLine(r,e),n.drawEdgeArrow(r,e,"source"),n.drawEdgeArrow(r,e,"target"),n.drawTexture(r,e,"label"),n.drawTexture(r,e,"edge-source-label"),n.drawTexture(r,e,"edge-target-label"))}function IT(t,e,r){var n;t.webglDebug&&(n=performance.now());var u=t.drawing,l=0;if(r.screen&&t.data.canvasNeedsRedraw[t.SELECT_BOX]&&LD(t,e),t.data.canvasNeedsRedraw[t.NODE]||r.picking){var s=t.data.contexts[t.WEBGL];r.screen?(s.clearColor(0,0,0,0),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA)):s.disable(s.BLEND),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT),s.viewport(0,0,s.canvas.width,s.canvas.height);var c=ID(t),d=t.getCachedZSortedEles();if(l=d.length,u.startFrame(c,r),r.screen){for(var f=0;f<d.nondrag.length;f++)Ap(t,f,d.nondrag[f]);for(var v=0;v<d.drag.length;v++)Ap(t,v,d.drag[v])}else if(r.picking)for(var g=0;g<d.length;g++)Ap(t,g,d[g]);u.endFrame(),r.screen&&t.webglDebugShowAtlases&&(zD(t),_D(t)),t.data.canvasNeedsRedraw[t.NODE]=!1,t.data.canvasNeedsRedraw[t.DRAG]=!1}if(t.webglDebug){var p=performance.now(),E=!1,b=Math.ceil(p-n),C=u.getDebugInfo(),w=["".concat(l," elements"),"".concat(C.totalInstances," instances"),"".concat(C.batchCount," batches"),"".concat(C.totalAtlases," atlases"),"".concat(C.wrappedCount," wrapped textures"),"".concat(C.simpleCount," simple shapes")].join(", ");if(E)console.log("WebGL (".concat(r.name,") - time ").concat(b,"ms, ").concat(w));else{console.log("WebGL (".concat(r.name,") - frame time ").concat(b,"ms")),console.log("Totals:"),console.log("  ".concat(w)),console.log("Texture Atlases Used:");var S=C.atlasInfo,N=ba(S),R;try{for(N.s();!(R=N.n()).done;){var D=R.value;console.log("  ".concat(D.type,": ").concat(D.keyCount," keys, ").concat(D.atlasCount," atlases"))}}catch(O){N.e(O)}finally{N.f()}console.log("")}}t.data.gc&&(console.log("Garbage Collect!"),t.data.gc=!1,u.gc())}var Wi={};Wi.drawPolygonPath=function(t,e,r,n,u,l){var s=n/2,c=u/2;t.beginPath&&t.beginPath(),t.moveTo(e+s*l[0],r+c*l[1]);for(var d=1;d<l.length/2;d++)t.lineTo(e+s*l[d*2],r+c*l[d*2+1]);t.closePath()};Wi.drawRoundPolygonPath=function(t,e,r,n,u,l,s){s.forEach(function(c){return hT(t,c)}),t.closePath()};Wi.drawRoundRectanglePath=function(t,e,r,n,u,l){var s=n/2,c=u/2,d=l==="auto"?Vi(n,u):Math.min(l,c,s);t.beginPath&&t.beginPath(),t.moveTo(e,r-c),t.arcTo(e+s,r-c,e+s,r,d),t.arcTo(e+s,r+c,e,r+c,d),t.arcTo(e-s,r+c,e-s,r,d),t.arcTo(e-s,r-c,e,r-c,d),t.lineTo(e,r-c),t.closePath()};Wi.drawBottomRoundRectanglePath=function(t,e,r,n,u,l){var s=n/2,c=u/2,d=l==="auto"?Vi(n,u):l;t.beginPath&&t.beginPath(),t.moveTo(e,r-c),t.lineTo(e+s,r-c),t.lineTo(e+s,r),t.arcTo(e+s,r+c,e,r+c,d),t.arcTo(e-s,r+c,e-s,r,d),t.lineTo(e-s,r-c),t.lineTo(e,r-c),t.closePath()};Wi.drawCutRectanglePath=function(t,e,r,n,u,l,s){var c=n/2,d=u/2,f=s==="auto"?lm():s;t.beginPath&&t.beginPath(),t.moveTo(e-c+f,r-d),t.lineTo(e+c-f,r-d),t.lineTo(e+c,r-d+f),t.lineTo(e+c,r+d-f),t.lineTo(e+c-f,r+d),t.lineTo(e-c+f,r+d),t.lineTo(e-c,r+d-f),t.lineTo(e-c,r-d+f),t.closePath()};Wi.drawBarrelPath=function(t,e,r,n,u){var l=n/2,s=u/2,c=e-l,d=e+l,f=r-s,v=r+s,g=Mp(n,u),p=g.widthOffset,E=g.heightOffset,b=g.ctrlPtOffsetPct*p;t.beginPath&&t.beginPath(),t.moveTo(c,f+E),t.lineTo(c,v-E),t.quadraticCurveTo(c+b,v,c+p,v),t.lineTo(d-p,v),t.quadraticCurveTo(d-b,v,d,v-E),t.lineTo(d,f+E),t.quadraticCurveTo(d-b,f,d-p,f),t.lineTo(c+p,f),t.quadraticCurveTo(c+b,f,c,f+E),t.closePath()};var jE=Math.sin(0),FE=Math.cos(0),Yp={},Kp={},LT=Math.PI/40;for(var kl=0*Math.PI;kl<2*Math.PI;kl+=LT)Yp[kl]=Math.sin(kl),Kp[kl]=Math.cos(kl);Wi.drawEllipsePath=function(t,e,r,n,u){if(t.beginPath&&t.beginPath(),t.ellipse)t.ellipse(e,r,n/2,u/2,0,0,2*Math.PI);else for(var l,s,c=n/2,d=u/2,f=0*Math.PI;f<2*Math.PI;f+=LT)l=e-c*Yp[f]*jE+c*Kp[f]*FE,s=r+d*Kp[f]*jE+d*Yp[f]*FE,f===0?t.moveTo(l,s):t.lineTo(l,s);t.closePath()};var Xo={};Xo.createBuffer=function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,[r,r.getContext("2d")]};Xo.bufferCanvasImage=function(t){var e=this.cy,r=e.mutableElements(),n=r.boundingBox(),u=this.findContainerClientCoords(),l=t.full?Math.ceil(n.w):u[2],s=t.full?Math.ceil(n.h):u[3],c=Me(t.maxWidth)||Me(t.maxHeight),d=this.getPixelRatio(),f=1;if(t.scale!==void 0)l*=t.scale,s*=t.scale,f=t.scale;else if(c){var v=1/0,g=1/0;Me(t.maxWidth)&&(v=f*t.maxWidth/l),Me(t.maxHeight)&&(g=f*t.maxHeight/s),f=Math.min(v,g),l*=f,s*=f}c||(l*=d,s*=d,f*=d);var p=document.createElement("canvas");p.width=l,p.height=s,p.style.width=l+"px",p.style.height=s+"px";var E=p.getContext("2d");if(l>0&&s>0){E.clearRect(0,0,l,s),E.globalCompositeOperation="source-over";var b=this.getCachedZSortedEles();if(t.full)E.translate(-n.x1*f,-n.y1*f),E.scale(f,f),this.drawElements(E,b),E.scale(1/f,1/f),E.translate(n.x1*f,n.y1*f);else{var C=e.pan(),w={x:C.x*f,y:C.y*f};f*=e.zoom(),E.translate(w.x,w.y),E.scale(f,f),this.drawElements(E,b),E.scale(1/f,1/f),E.translate(-w.x,-w.y)}t.bg&&(E.globalCompositeOperation="destination-over",E.fillStyle=t.bg,E.rect(0,0,l,s),E.fill())}return p};function PD(t,e){for(var r=atob(t),n=new ArrayBuffer(r.length),u=new Uint8Array(n),l=0;l<r.length;l++)u[l]=r.charCodeAt(l);return new Blob([n],{type:e})}function YE(t){var e=t.indexOf(",");return t.substr(e+1)}function zT(t,e,r){var n=function(){return e.toDataURL(r,t.quality)};switch(t.output){case"blob-promise":return new Wl(function(u,l){try{e.toBlob(function(s){s!=null?u(s):l(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,t.quality)}catch(s){l(s)}});case"blob":return PD(YE(n()),r);case"base64":return YE(n());default:return n()}}Xo.png=function(t){return zT(t,this.bufferCanvasImage(t),"image/png")};Xo.jpg=function(t){return zT(t,this.bufferCanvasImage(t),"image/jpeg")};var _T={};_T.nodeShapeImpl=function(t,e,r,n,u,l,s,c){switch(t){case"ellipse":return this.drawEllipsePath(e,r,n,u,l);case"polygon":return this.drawPolygonPath(e,r,n,u,l,s);case"round-polygon":return this.drawRoundPolygonPath(e,r,n,u,l,s,c);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(e,r,n,u,l,c);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(e,r,n,u,l,s,c);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(e,r,n,u,l,c);case"barrel":return this.drawBarrelPath(e,r,n,u,l)}};var qD=kT,ft=kT.prototype;ft.CANVAS_LAYERS=3;ft.SELECT_BOX=0;ft.DRAG=1;ft.NODE=2;ft.WEBGL=3;ft.CANVAS_TYPES=["2d","2d","2d","webgl2"];ft.BUFFER_COUNT=3;ft.TEXTURE_BUFFER=0;ft.MOTIONBLUR_BUFFER_NODE=1;ft.MOTIONBLUR_BUFFER_DRAG=2;function kT(t){var e=this,r=e.cy.window(),n=r.document;t.webgl&&(ft.CANVAS_LAYERS=e.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),e.data={canvases:new Array(ft.CANVAS_LAYERS),contexts:new Array(ft.CANVAS_LAYERS),canvasNeedsRedraw:new Array(ft.CANVAS_LAYERS),bufferCanvases:new Array(ft.BUFFER_COUNT),bufferContexts:new Array(ft.CANVAS_LAYERS)};var u="-webkit-tap-highlight-color",l="rgba(0,0,0,0)";e.data.canvasContainer=n.createElement("div");var s=e.data.canvasContainer.style;e.data.canvasContainer.style[u]=l,s.position="relative",s.zIndex="0",s.overflow="hidden";var c=t.cy.container();c.appendChild(e.data.canvasContainer),c.style[u]=l;var d={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};Lw()&&(d["-ms-touch-action"]="none",d["touch-action"]="none");for(var f=0;f<ft.CANVAS_LAYERS;f++){var v=e.data.canvases[f]=n.createElement("canvas"),g=ft.CANVAS_TYPES[f];e.data.contexts[f]=v.getContext(g),e.data.contexts[f]||er("Could not create canvas of type "+g),Object.keys(d).forEach(function(ye){v.style[ye]=d[ye]}),v.style.position="absolute",v.setAttribute("data-id","layer"+f),v.style.zIndex=String(ft.CANVAS_LAYERS-f),e.data.canvasContainer.appendChild(v),e.data.canvasNeedsRedraw[f]=!1}e.data.topCanvas=e.data.canvases[0],e.data.canvases[ft.NODE].setAttribute("data-id","layer"+ft.NODE+"-node"),e.data.canvases[ft.SELECT_BOX].setAttribute("data-id","layer"+ft.SELECT_BOX+"-selectbox"),e.data.canvases[ft.DRAG].setAttribute("data-id","layer"+ft.DRAG+"-drag"),e.data.canvases[ft.WEBGL]&&e.data.canvases[ft.WEBGL].setAttribute("data-id","layer"+ft.WEBGL+"-webgl");for(var f=0;f<ft.BUFFER_COUNT;f++)e.data.bufferCanvases[f]=n.createElement("canvas"),e.data.bufferContexts[f]=e.data.bufferCanvases[f].getContext("2d"),e.data.bufferCanvases[f].style.position="absolute",e.data.bufferCanvases[f].setAttribute("data-id","buffer"+f),e.data.bufferCanvases[f].style.zIndex=String(-f-1),e.data.bufferCanvases[f].style.visibility="hidden";e.pathsEnabled=!0;var p=aa(),E=function(ne){return{x:(ne.x1+ne.x2)/2,y:(ne.y1+ne.y2)/2}},b=function(ne){return{x:-ne.w/2,y:-ne.h/2}},C=function(ne){var le=ne[0]._private,fe=le.oldBackgroundTimestamp===le.backgroundTimestamp;return!fe},w=function(ne){return ne[0]._private.nodeKey},S=function(ne){return ne[0]._private.labelStyleKey},N=function(ne){return ne[0]._private.sourceLabelStyleKey},R=function(ne){return ne[0]._private.targetLabelStyleKey},D=function(ne,le,fe,Ee,De){return e.drawElement(ne,le,fe,!1,!1,De)},O=function(ne,le,fe,Ee,De){return e.drawElementText(ne,le,fe,Ee,"main",De)},I=function(ne,le,fe,Ee,De){return e.drawElementText(ne,le,fe,Ee,"source",De)},M=function(ne,le,fe,Ee,De){return e.drawElementText(ne,le,fe,Ee,"target",De)},z=function(ne){return ne.boundingBox(),ne[0]._private.bodyBounds},P=function(ne){return ne.boundingBox(),ne[0]._private.labelBounds.main||p},k=function(ne){return ne.boundingBox(),ne[0]._private.labelBounds.source||p},U=function(ne){return ne.boundingBox(),ne[0]._private.labelBounds.target||p},L=function(ne,le){return le},G=function(ne){return E(z(ne))},X=function(ne,le,fe){var Ee=ne?ne+"-":"";return{x:le.x+fe.pstyle(Ee+"text-margin-x").pfValue,y:le.y+fe.pstyle(Ee+"text-margin-y").pfValue}},Z=function(ne,le,fe){var Ee=ne[0]._private.rscratch;return{x:Ee[le],y:Ee[fe]}},H=function(ne){return X("",Z(ne,"labelX","labelY"),ne)},j=function(ne){return X("source",Z(ne,"sourceLabelX","sourceLabelY"),ne)},W=function(ne){return X("target",Z(ne,"targetLabelX","targetLabelY"),ne)},ee=function(ne){return b(z(ne))},te=function(ne){return b(k(ne))},q=function(ne){return b(U(ne))},Q=function(ne){var le=P(ne),fe=b(P(ne));if(ne.isNode()){switch(ne.pstyle("text-halign").value){case"left":fe.x=-le.w-(le.leftPad||0);break;case"right":fe.x=-(le.rightPad||0);break}switch(ne.pstyle("text-valign").value){case"top":fe.y=-le.h-(le.topPad||0);break;case"bottom":fe.y=-(le.botPad||0);break}}return fe},J=e.data.eleTxrCache=new So(e,{getKey:w,doesEleInvalidateKey:C,drawElement:D,getBoundingBox:z,getRotationPoint:G,getRotationOffset:ee,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),ie=e.data.lblTxrCache=new So(e,{getKey:S,drawElement:O,getBoundingBox:P,getRotationPoint:H,getRotationOffset:Q,isVisible:L}),oe=e.data.slbTxrCache=new So(e,{getKey:N,drawElement:I,getBoundingBox:k,getRotationPoint:j,getRotationOffset:te,isVisible:L}),he=e.data.tlbTxrCache=new So(e,{getKey:R,drawElement:M,getBoundingBox:U,getRotationPoint:W,getRotationOffset:q,isVisible:L}),be=e.data.lyrTxrCache=new wT(e);e.onUpdateEleCalcs(function(ne,le){J.invalidateElements(le),ie.invalidateElements(le),oe.invalidateElements(le),he.invalidateElements(le),be.invalidateElements(le);for(var fe=0;fe<le.length;fe++){var Ee=le[fe]._private;Ee.oldBackgroundTimestamp=Ee.backgroundTimestamp}});var Re=function(ne){for(var le=0;le<ne.length;le++)be.enqueueElementRefinement(ne[le].ele)};J.onDequeue(Re),ie.onDequeue(Re),oe.onDequeue(Re),he.onDequeue(Re),t.webgl&&e.initWebgl(t,{getStyleKey:w,getLabelKey:S,getSourceLabelKey:N,getTargetLabelKey:R,drawElement:D,drawLabel:O,drawSourceLabel:I,drawTargetLabel:M,getElementBox:z,getLabelBox:P,getSourceLabelBox:k,getTargetLabelBox:U,getElementRotationPoint:G,getElementRotationOffset:ee,getLabelRotationPoint:H,getSourceLabelRotationPoint:j,getTargetLabelRotationPoint:W,getLabelRotationOffset:Q,getSourceLabelRotationOffset:te,getTargetLabelRotationOffset:q})}ft.redrawHint=function(t,e){var r=this;switch(t){case"eles":r.data.canvasNeedsRedraw[ft.NODE]=e;break;case"drag":r.data.canvasNeedsRedraw[ft.DRAG]=e;break;case"select":r.data.canvasNeedsRedraw[ft.SELECT_BOX]=e;break;case"gc":r.data.gc=!0;break}};var HD=typeof Path2D<"u";ft.path2dEnabled=function(t){if(t===void 0)return this.pathsEnabled;this.pathsEnabled=!!t};ft.usePaths=function(){return HD&&this.pathsEnabled};ft.setImgSmoothing=function(t,e){t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled=e:(t.webkitImageSmoothingEnabled=e,t.mozImageSmoothingEnabled=e,t.msImageSmoothingEnabled=e)};ft.getImgSmoothing=function(t){return t.imageSmoothingEnabled!=null?t.imageSmoothingEnabled:t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled};ft.makeOffscreenCanvas=function(t,e){var r;if((typeof OffscreenCanvas>"u"?"undefined":Dr(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(t,e);else{var n=this.cy.window(),u=n.document;r=u.createElement("canvas"),r.width=t,r.height=e}return r};[AT,mn,ri,Em,ku,Qi,na,OT,Wi,Xo,_T].forEach(function(t){$e(ft,t)});var GD=[{name:"null",impl:fT},{name:"base",impl:xT},{name:"canvas",impl:qD}],VD=[{type:"layout",extensions:hR},{type:"renderer",extensions:GD}],UT={},PT={};function qT(t,e,r){var n=r,u=function(z){Mt("Can not register `"+e+"` for `"+t+"` since `"+z+"` already exists in the prototype and can not be overridden")};if(t==="core"){if(zo.prototype[e])return u(e);zo.prototype[e]=r}else if(t==="collection"){if(Hr.prototype[e])return u(e);Hr.prototype[e]=r}else if(t==="layout"){for(var l=function(z){this.options=z,r.call(this,z),Tt(this._private)||(this._private={}),this._private.cy=z.cy,this._private.listeners=[],this.createEmitter()},s=l.prototype=Object.create(r.prototype),c=[],d=0;d<c.length;d++){var f=c[d];s[f]=s[f]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var v=r.prototype.stop;s.stop=function(){var M=this.options;if(M&&M.animate){var z=this.animations;if(z)for(var P=0;P<z.length;P++)z[P].stop()}return v?v.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var g=function(z){return z._private.cy},p={addEventFields:function(z,P){P.layout=z,P.cy=g(z),P.target=z},bubble:function(){return!0},parent:function(z){return g(z)}};$e(s,{createEmitter:function(){return this._private.emitter=new Cd(p,this),this},emitter:function(){return this._private.emitter},on:function(z,P){return this.emitter().on(z,P),this},one:function(z,P){return this.emitter().one(z,P),this},once:function(z,P){return this.emitter().one(z,P),this},removeListener:function(z,P){return this.emitter().removeListener(z,P),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(z,P){return this.emitter().emit(z,P),this}}),Ot.eventAliasesOn(s),n=l}else if(t==="renderer"&&e!=="null"&&e!=="base"){var E=HT("renderer","base"),b=E.prototype,C=r,w=r.prototype,S=function(){E.apply(this,arguments),C.apply(this,arguments)},N=S.prototype;for(var R in b){var D=b[R],O=w[R]!=null;if(O)return u(R);N[R]=D}for(var I in w)N[I]=w[I];b.clientFunctions.forEach(function(M){N[M]=N[M]||function(){er("Renderer does not implement `renderer."+M+"()` on its prototype")}}),n=S}else if(t==="__proto__"||t==="constructor"||t==="prototype")return er(t+" is an illegal type to be registered, possibly lead to prototype pollutions");return ix({map:UT,keys:[t,e],value:n})}function HT(t,e){return ux({map:UT,keys:[t,e]})}function jD(t,e,r,n,u){return ix({map:PT,keys:[t,e,r,n],value:u})}function FD(t,e,r,n){return ux({map:PT,keys:[t,e,r,n]})}var Xp=function(){if(arguments.length===2)return HT.apply(null,arguments);if(arguments.length===3)return qT.apply(null,arguments);if(arguments.length===4)return FD.apply(null,arguments);if(arguments.length===5)return jD.apply(null,arguments);er("Invalid extension access syntax")};zo.prototype.extension=Xp;VD.forEach(function(t){t.extensions.forEach(function(e){qT(t.type,e.name,e.impl)})});var gd=function(){if(!(this instanceof gd))return new gd;this.length=0},Lu=gd.prototype;Lu.instanceString=function(){return"stylesheet"};Lu.selector=function(t){var e=this.length++;return this[e]={selector:t,properties:[]},this};Lu.css=function(t,e){var r=this.length-1;if(Xe(t))this[r].properties.push({name:t,value:e});else if(Tt(t))for(var n=t,u=Object.keys(n),l=0;l<u.length;l++){var s=u[l],c=n[s];if(c!=null){var d=Lr.properties[s]||Lr.properties[pd(s)];if(d!=null){var f=d.name,v=c;this[r].properties.push({name:f,value:v})}}}return this};Lu.style=Lu.css;Lu.generateStyle=function(t){var e=new Lr(t);return this.appendToStyle(e)};Lu.appendToStyle=function(t){for(var e=0;e<this.length;e++){var r=this[e],n=r.selector,u=r.properties;t.selector(n);for(var l=0;l<u.length;l++){var s=u[l];t.css(s.name,s.value)}}return t};var YD="3.33.1",zu=function(e){if(e===void 0&&(e={}),Tt(e))return new zo(e);if(Xe(e))return Xp.apply(Xp,arguments)};zu.use=function(t){var e=Array.prototype.slice.call(arguments,1);return e.unshift(zu),t.apply(null,e),this};zu.warnings=function(t){return vx(t)};zu.version=YD;zu.stylesheet=zu.Stylesheet=gd;const{string:qf,array:KE,object:Hf,number:bo,bool:Na,oneOfType:Ul,any:Gf,func:Eo}=pw,KD={id:qf,className:qf,style:Ul([qf,Hf]),elements:Ul([KE,Gf]),stylesheet:Ul([KE,Gf]),layout:Ul([Hf,Gf]),pan:Ul([Hf,Gf]),zoom:bo,panningEnabled:Na,userPanningEnabled:Na,minZoom:bo,maxZoom:bo,zoomingEnabled:Na,userZoomingEnabled:Na,boxSelectionEnabled:Na,autoungrabify:Na,autolock:Na,autounselectify:Na,get:Eo,toJson:Eo,diff:Eo,forEach:Eo,cy:Eo,headless:Na,styleEnabled:Na,hideEdgesOnViewport:Na,textureOnViewport:Na,motionBlur:Na,motionBlurOpacity:bo,wheelSensitivity:bo,pixelRatio:Ul([qf,Hf])},GT=(t,e)=>{if(((l,s)=>l==null||s==null)(t,e)&&(t!=null||e!=null))return!0;if(t===e)return!1;if(typeof t!="object"||typeof e!="object")return t!==e;const r=Object.keys(t),n=Object.keys(e),u=l=>t[l]!==e[l];return r.length!==n.length||!(!r.some(u)&&!n.some(u))},Qa=(t,e)=>t!=null?t[e]:null,XD={diff:GT,get:Qa,toJson:t=>t,forEach:(t,e)=>t.forEach(e),elements:[{data:{id:"a",label:"Example node A"}},{data:{id:"b",label:"Example node B"}},{data:{id:"e",source:"a",target:"b"}}],stylesheet:[{selector:"node",style:{label:"data(label)"}}],zoom:1,pan:{x:0,y:0}},Vf=(t,e,r,n)=>r(Qa(t,n),Qa(e,n)),ZD=(t,e,r,n,u,l,s)=>{t.batch(()=>{(n===GT||Vf(e,r,n,"elements"))&&JD(t,Qa(e,"elements"),Qa(r,"elements"),u,l,s,n),Vf(e,r,n,"stylesheet")&&$D(t,Qa(e,"stylesheet"),Qa(r,"stylesheet"),u),["zoom","minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","pan","panningEnabled","userPanningEnabled","boxSelectionEnabled","autoungrabify","autolock","autounselectify"].forEach(c=>{Vf(e,r,n,c)&&QD(t,c,Qa(e,c),Qa(r,c),u)})}),Vf(e,r,n,"layout")&&WD(t,Qa(e,"layout"),Qa(r,"layout"),u)},QD=(t,e,r,n,u)=>{t[e](u(n))},WD=(t,e,r,n)=>{const u=n(r);u!=null&&t.layout(u).run()},$D=(t,e,r,n)=>{const u=t.style();u?.fromJson(n(r)).update()},JD=(t,e,r,n,u,l,s)=>{const c=[],d=t.collection(),f=[],v={},g={},p=E=>u(u(E,"data"),"id");l(r,E=>{const b=p(E);g[b]=E}),e!=null&&l(e,E=>{const b=p(E);v[b]=E,(C=>g[C]!=null)(b)||d.merge(t.getElementById(b))}),l(r,E=>{const b=p(E),C=(w=>v[w])(b);(w=>v[w]!=null)(b)?f.push({ele1:C,ele2:E}):c.push(n(E))}),d.length>0&&t.remove(d),c.length>0&&t.add(c),f.forEach(({ele1:E,ele2:b})=>eO(t,E,b,n,u,s))},eO=(t,e,r,n,u,l)=>{const s=u(u(r,"data"),"id"),c=t.getElementById(s),d={};["data","position","selected","selectable","locked","grabbable","classes"].forEach(v=>{const g=u(r,v);l(g,u(e,v))&&(d[v]=n(g))});const f=u(r,"scratch");l(f,u(e,"scratch"))&&c.scratch(n(f)),Object.keys(d).length>0&&c.json(d)};class tO extends Gh.Component{static get propTypes(){return KD}static get defaultProps(){return XD}static normalizeElements(e){if(e.length!=null)return e;{let{nodes:r,edges:n}=e;return r==null&&(r=[]),n==null&&(n=[]),r.concat(n)}}constructor(e){super(e),this.displayName="CytoscapeComponent",this.containerRef=Gh.createRef()}componentDidMount(){const e=this.containerRef.current,{global:r,headless:n,styleEnabled:u,hideEdgesOnViewport:l,textureOnViewport:s,motionBlur:c,motionBlurOpacity:d,wheelSensitivity:f,pixelRatio:v}=this.props,g=this._cy=new zu({container:e,headless:n,styleEnabled:u,hideEdgesOnViewport:l,textureOnViewport:s,motionBlur:c,motionBlurOpacity:d,wheelSensitivity:f,pixelRatio:v});r&&(window[r]=g),this.updateCytoscape(null,this.props)}updateCytoscape(e,r){const n=this._cy,{diff:u,toJson:l,get:s,forEach:c}=r;ZD(n,e,r,u,l,s,c),r.cy!=null&&r.cy(n)}componentDidUpdate(e){this.updateCytoscape(e,this.props)}componentWillUnmount(){this._cy.destroy()}render(){const{id:e,className:r,style:n}=this.props;return Gh.createElement("div",{ref:this.containerRef,id:e,className:r,style:n})}}const Cp={BUDGET:{id:"BUDGET",states:["LOW","MEDIUM","HIGH"],parents:[],cpt:{LOW:.4,MEDIUM:.4,HIGH:.2}},EXPERIENCE:{id:"EXPERIENCE",states:["BEGINNER","INTERMEDIATE","ADVANCED"],parents:[],cpt:{BEGINNER:.5,INTERMEDIATE:.35,ADVANCED:.15}},TERRAIN:{id:"TERRAIN",states:["ROAD","MIXED","OFFROAD"],parents:[],cpt:{ROAD:.4,MIXED:.4,OFFROAD:.2}},USE_CASE:{id:"USE_CASE",states:["COMMUTE","FITNESS","RECREATION","SPORT"],parents:[],cpt:{COMMUTE:.35,FITNESS:.3,RECREATION:.25,SPORT:.1}},PHYSICAL_CONDITION:{id:"PHYSICAL_CONDITION",states:["LIMITED","AVERAGE","FIT"],parents:[],cpt:{LIMITED:.25,AVERAGE:.5,FIT:.25}},BIKE_TYPE:{id:"BIKE_TYPE",states:["ROAD","HYBRID","MOUNTAIN","EBIKE","GRAVEL"],parents:["TERRAIN","USE_CASE","PHYSICAL_CONDITION"],cpt:[{when:{TERRAIN:"ROAD",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.15,HYBRID:.35,MOUNTAIN:.02,EBIKE:.45,GRAVEL:.03}},{when:{TERRAIN:"ROAD",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.25,HYBRID:.45,MOUNTAIN:.02,EBIKE:.2,GRAVEL:.08}},{when:{TERRAIN:"ROAD",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.4,HYBRID:.35,MOUNTAIN:.02,EBIKE:.08,GRAVEL:.15}},{when:{TERRAIN:"ROAD",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.2,HYBRID:.3,MOUNTAIN:.02,EBIKE:.45,GRAVEL:.03}},{when:{TERRAIN:"ROAD",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.5,HYBRID:.25,MOUNTAIN:.02,EBIKE:.13,GRAVEL:.1}},{when:{TERRAIN:"ROAD",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.65,HYBRID:.12,MOUNTAIN:.02,EBIKE:.06,GRAVEL:.15}},{when:{TERRAIN:"ROAD",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.1,HYBRID:.4,MOUNTAIN:.02,EBIKE:.45,GRAVEL:.03}},{when:{TERRAIN:"ROAD",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.25,HYBRID:.5,MOUNTAIN:.03,EBIKE:.15,GRAVEL:.07}},{when:{TERRAIN:"ROAD",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.35,HYBRID:.4,MOUNTAIN:.03,EBIKE:.07,GRAVEL:.15}},{when:{TERRAIN:"ROAD",USE_CASE:"SPORT",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.3,HYBRID:.15,MOUNTAIN:.02,EBIKE:.45,GRAVEL:.08}},{when:{TERRAIN:"ROAD",USE_CASE:"SPORT",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.65,HYBRID:.1,MOUNTAIN:.02,EBIKE:.1,GRAVEL:.13}},{when:{TERRAIN:"ROAD",USE_CASE:"SPORT",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.78,HYBRID:.05,MOUNTAIN:.02,EBIKE:.03,GRAVEL:.12}},{when:{TERRAIN:"MIXED",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.05,HYBRID:.35,MOUNTAIN:.08,EBIKE:.42,GRAVEL:.1}},{when:{TERRAIN:"MIXED",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.08,HYBRID:.45,MOUNTAIN:.1,EBIKE:.17,GRAVEL:.2}},{when:{TERRAIN:"MIXED",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.1,HYBRID:.35,MOUNTAIN:.12,EBIKE:.08,GRAVEL:.35}},{when:{TERRAIN:"MIXED",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.08,HYBRID:.3,MOUNTAIN:.1,EBIKE:.4,GRAVEL:.12}},{when:{TERRAIN:"MIXED",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.15,HYBRID:.3,MOUNTAIN:.15,EBIKE:.12,GRAVEL:.28}},{when:{TERRAIN:"MIXED",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.18,HYBRID:.2,MOUNTAIN:.18,EBIKE:.06,GRAVEL:.38}},{when:{TERRAIN:"MIXED",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.05,HYBRID:.4,MOUNTAIN:.1,EBIKE:.38,GRAVEL:.07}},{when:{TERRAIN:"MIXED",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.08,HYBRID:.48,MOUNTAIN:.15,EBIKE:.14,GRAVEL:.15}},{when:{TERRAIN:"MIXED",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.1,HYBRID:.4,MOUNTAIN:.2,EBIKE:.07,GRAVEL:.23}},{when:{TERRAIN:"MIXED",USE_CASE:"SPORT",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.1,HYBRID:.15,MOUNTAIN:.2,EBIKE:.35,GRAVEL:.2}},{when:{TERRAIN:"MIXED",USE_CASE:"SPORT",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.15,HYBRID:.12,MOUNTAIN:.3,EBIKE:.1,GRAVEL:.33}},{when:{TERRAIN:"MIXED",USE_CASE:"SPORT",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.15,HYBRID:.08,MOUNTAIN:.35,EBIKE:.05,GRAVEL:.37}},{when:{TERRAIN:"OFFROAD",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.01,HYBRID:.15,MOUNTAIN:.35,EBIKE:.42,GRAVEL:.07}},{when:{TERRAIN:"OFFROAD",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.02,HYBRID:.18,MOUNTAIN:.48,EBIKE:.2,GRAVEL:.12}},{when:{TERRAIN:"OFFROAD",USE_CASE:"COMMUTE",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.02,HYBRID:.15,MOUNTAIN:.58,EBIKE:.1,GRAVEL:.15}},{when:{TERRAIN:"OFFROAD",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.01,HYBRID:.1,MOUNTAIN:.4,EBIKE:.42,GRAVEL:.07}},{when:{TERRAIN:"OFFROAD",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.02,HYBRID:.1,MOUNTAIN:.6,EBIKE:.15,GRAVEL:.13}},{when:{TERRAIN:"OFFROAD",USE_CASE:"FITNESS",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.02,HYBRID:.08,MOUNTAIN:.7,EBIKE:.07,GRAVEL:.13}},{when:{TERRAIN:"OFFROAD",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.01,HYBRID:.15,MOUNTAIN:.38,EBIKE:.4,GRAVEL:.06}},{when:{TERRAIN:"OFFROAD",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.02,HYBRID:.18,MOUNTAIN:.55,EBIKE:.17,GRAVEL:.08}},{when:{TERRAIN:"OFFROAD",USE_CASE:"RECREATION",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.02,HYBRID:.15,MOUNTAIN:.63,EBIKE:.1,GRAVEL:.1}},{when:{TERRAIN:"OFFROAD",USE_CASE:"SPORT",PHYSICAL_CONDITION:"LIMITED"},then:{ROAD:.01,HYBRID:.05,MOUNTAIN:.5,EBIKE:.38,GRAVEL:.06}},{when:{TERRAIN:"OFFROAD",USE_CASE:"SPORT",PHYSICAL_CONDITION:"AVERAGE"},then:{ROAD:.01,HYBRID:.04,MOUNTAIN:.75,EBIKE:.12,GRAVEL:.08}},{when:{TERRAIN:"OFFROAD",USE_CASE:"SPORT",PHYSICAL_CONDITION:"FIT"},then:{ROAD:.01,HYBRID:.03,MOUNTAIN:.82,EBIKE:.05,GRAVEL:.09}}]},SUSPENSION:{id:"SUSPENSION",states:["NONE","FRONT","FULL"],parents:["BIKE_TYPE","TERRAIN"],cpt:[{when:{BIKE_TYPE:"ROAD",TERRAIN:"ROAD"},then:{NONE:.95,FRONT:.04,FULL:.01}},{when:{BIKE_TYPE:"ROAD",TERRAIN:"MIXED"},then:{NONE:.9,FRONT:.08,FULL:.02}},{when:{BIKE_TYPE:"ROAD",TERRAIN:"OFFROAD"},then:{NONE:.7,FRONT:.25,FULL:.05}},{when:{BIKE_TYPE:"HYBRID",TERRAIN:"ROAD"},then:{NONE:.7,FRONT:.28,FULL:.02}},{when:{BIKE_TYPE:"HYBRID",TERRAIN:"MIXED"},then:{NONE:.45,FRONT:.5,FULL:.05}},{when:{BIKE_TYPE:"HYBRID",TERRAIN:"OFFROAD"},then:{NONE:.2,FRONT:.65,FULL:.15}},{when:{BIKE_TYPE:"MOUNTAIN",TERRAIN:"ROAD"},then:{NONE:.1,FRONT:.7,FULL:.2}},{when:{BIKE_TYPE:"MOUNTAIN",TERRAIN:"MIXED"},then:{NONE:.05,FRONT:.55,FULL:.4}},{when:{BIKE_TYPE:"MOUNTAIN",TERRAIN:"OFFROAD"},then:{NONE:.02,FRONT:.38,FULL:.6}},{when:{BIKE_TYPE:"EBIKE",TERRAIN:"ROAD"},then:{NONE:.5,FRONT:.45,FULL:.05}},{when:{BIKE_TYPE:"EBIKE",TERRAIN:"MIXED"},then:{NONE:.3,FRONT:.55,FULL:.15}},{when:{BIKE_TYPE:"EBIKE",TERRAIN:"OFFROAD"},then:{NONE:.1,FRONT:.5,FULL:.4}},{when:{BIKE_TYPE:"GRAVEL",TERRAIN:"ROAD"},then:{NONE:.85,FRONT:.13,FULL:.02}},{when:{BIKE_TYPE:"GRAVEL",TERRAIN:"MIXED"},then:{NONE:.7,FRONT:.27,FULL:.03}},{when:{BIKE_TYPE:"GRAVEL",TERRAIN:"OFFROAD"},then:{NONE:.5,FRONT:.42,FULL:.08}}]},PRICE_RANGE:{id:"PRICE_RANGE",states:["BUDGET","MIDRANGE","PREMIUM"],parents:["BUDGET","BIKE_TYPE"],cpt:[{when:{BUDGET:"LOW",BIKE_TYPE:"ROAD"},then:{BUDGET:.85,MIDRANGE:.14,PREMIUM:.01}},{when:{BUDGET:"LOW",BIKE_TYPE:"HYBRID"},then:{BUDGET:.9,MIDRANGE:.09,PREMIUM:.01}},{when:{BUDGET:"LOW",BIKE_TYPE:"MOUNTAIN"},then:{BUDGET:.88,MIDRANGE:.11,PREMIUM:.01}},{when:{BUDGET:"LOW",BIKE_TYPE:"EBIKE"},then:{BUDGET:.75,MIDRANGE:.23,PREMIUM:.02}},{when:{BUDGET:"LOW",BIKE_TYPE:"GRAVEL"},then:{BUDGET:.8,MIDRANGE:.18,PREMIUM:.02}},{when:{BUDGET:"MEDIUM",BIKE_TYPE:"ROAD"},then:{BUDGET:.25,MIDRANGE:.65,PREMIUM:.1}},{when:{BUDGET:"MEDIUM",BIKE_TYPE:"HYBRID"},then:{BUDGET:.3,MIDRANGE:.62,PREMIUM:.08}},{when:{BUDGET:"MEDIUM",BIKE_TYPE:"MOUNTAIN"},then:{BUDGET:.28,MIDRANGE:.6,PREMIUM:.12}},{when:{BUDGET:"MEDIUM",BIKE_TYPE:"EBIKE"},then:{BUDGET:.2,MIDRANGE:.6,PREMIUM:.2}},{when:{BUDGET:"MEDIUM",BIKE_TYPE:"GRAVEL"},then:{BUDGET:.22,MIDRANGE:.63,PREMIUM:.15}},{when:{BUDGET:"HIGH",BIKE_TYPE:"ROAD"},then:{BUDGET:.05,MIDRANGE:.3,PREMIUM:.65}},{when:{BUDGET:"HIGH",BIKE_TYPE:"HYBRID"},then:{BUDGET:.08,MIDRANGE:.42,PREMIUM:.5}},{when:{BUDGET:"HIGH",BIKE_TYPE:"MOUNTAIN"},then:{BUDGET:.05,MIDRANGE:.3,PREMIUM:.65}},{when:{BUDGET:"HIGH",BIKE_TYPE:"EBIKE"},then:{BUDGET:.05,MIDRANGE:.25,PREMIUM:.7}},{when:{BUDGET:"HIGH",BIKE_TYPE:"GRAVEL"},then:{BUDGET:.06,MIDRANGE:.34,PREMIUM:.6}}]},COMFORT_LEVEL:{id:"COMFORT_LEVEL",states:["BASIC","COMFORTABLE","PREMIUM_COMFORT"],parents:["PHYSICAL_CONDITION","USE_CASE"],cpt:[{when:{PHYSICAL_CONDITION:"LIMITED",USE_CASE:"COMMUTE"},then:{BASIC:.1,COMFORTABLE:.5,PREMIUM_COMFORT:.4}},{when:{PHYSICAL_CONDITION:"LIMITED",USE_CASE:"FITNESS"},then:{BASIC:.15,COMFORTABLE:.5,PREMIUM_COMFORT:.35}},{when:{PHYSICAL_CONDITION:"LIMITED",USE_CASE:"RECREATION"},then:{BASIC:.08,COMFORTABLE:.45,PREMIUM_COMFORT:.47}},{when:{PHYSICAL_CONDITION:"LIMITED",USE_CASE:"SPORT"},then:{BASIC:.2,COMFORTABLE:.5,PREMIUM_COMFORT:.3}},{when:{PHYSICAL_CONDITION:"AVERAGE",USE_CASE:"COMMUTE"},then:{BASIC:.25,COMFORTABLE:.55,PREMIUM_COMFORT:.2}},{when:{PHYSICAL_CONDITION:"AVERAGE",USE_CASE:"FITNESS"},then:{BASIC:.35,COMFORTABLE:.5,PREMIUM_COMFORT:.15}},{when:{PHYSICAL_CONDITION:"AVERAGE",USE_CASE:"RECREATION"},then:{BASIC:.2,COMFORTABLE:.55,PREMIUM_COMFORT:.25}},{when:{PHYSICAL_CONDITION:"AVERAGE",USE_CASE:"SPORT"},then:{BASIC:.45,COMFORTABLE:.42,PREMIUM_COMFORT:.13}},{when:{PHYSICAL_CONDITION:"FIT",USE_CASE:"COMMUTE"},then:{BASIC:.4,COMFORTABLE:.48,PREMIUM_COMFORT:.12}},{when:{PHYSICAL_CONDITION:"FIT",USE_CASE:"FITNESS"},then:{BASIC:.55,COMFORTABLE:.38,PREMIUM_COMFORT:.07}},{when:{PHYSICAL_CONDITION:"FIT",USE_CASE:"RECREATION"},then:{BASIC:.35,COMFORTABLE:.5,PREMIUM_COMFORT:.15}},{when:{PHYSICAL_CONDITION:"FIT",USE_CASE:"SPORT"},then:{BASIC:.65,COMFORTABLE:.3,PREMIUM_COMFORT:.05}}]}},Np=[{id:"BUDGET",label:"Budget",group:"input",x:50,y:100},{id:"EXPERIENCE",label:"Experience",group:"input",x:50,y:200},{id:"TERRAIN",label:"Terrain",group:"input",x:50,y:300},{id:"USE_CASE",label:"Use Case",group:"input",x:50,y:400},{id:"PHYSICAL_CONDITION",label:`Physical
Condition`,group:"input",x:50,y:500},{id:"BIKE_TYPE",label:"Bike Type",group:"inferred",x:250,y:350},{id:"SUSPENSION",label:"Suspension",group:"output",x:450,y:250},{id:"PRICE_RANGE",label:"Price Range",group:"output",x:450,y:350},{id:"COMFORT_LEVEL",label:"Comfort",group:"output",x:450,y:450}],rO=[{source:"TERRAIN",target:"BIKE_TYPE"},{source:"USE_CASE",target:"BIKE_TYPE"},{source:"PHYSICAL_CONDITION",target:"BIKE_TYPE"},{source:"BIKE_TYPE",target:"SUSPENSION"},{source:"TERRAIN",target:"SUSPENSION"},{source:"BUDGET",target:"PRICE_RANGE"},{source:"BIKE_TYPE",target:"PRICE_RANGE"},{source:"PHYSICAL_CONDITION",target:"COMFORT_LEVEL"},{source:"USE_CASE",target:"COMFORT_LEVEL"}],Zp={BUDGET:{LOW:"< $800",MEDIUM:"$800-2000",HIGH:"> $2000"},EXPERIENCE:{BEGINNER:"Beginner",INTERMEDIATE:"Intermediate",ADVANCED:"Advanced"},TERRAIN:{ROAD:"Paved roads",MIXED:"Mixed terrain",OFFROAD:"Off-road/trails"},USE_CASE:{COMMUTE:"Commuting",FITNESS:"Fitness",RECREATION:"Recreation",SPORT:"Sport/Racing"},PHYSICAL_CONDITION:{LIMITED:"Some limitations",AVERAGE:"Average",FIT:"Very fit"},BIKE_TYPE:{ROAD:"Road Bike",HYBRID:"Hybrid",MOUNTAIN:"Mountain",EBIKE:"E-Bike",GRAVEL:"Gravel"},SUSPENSION:{NONE:"Rigid",FRONT:"Front only",FULL:"Full suspension"},PRICE_RANGE:{BUDGET:"Budget",MIDRANGE:"Mid-range",PREMIUM:"Premium"},COMFORT_LEVEL:{BASIC:"Sport/Basic",COMFORTABLE:"Comfortable",PREMIUM_COMFORT:"Premium comfort"}};function aO({posteriors:t,evidence:e}){const r=Kr.useRef(null),[n,u]=Kr.useState(null),l=[...Np.map(f=>({data:{id:f.id,label:f.label,group:f.group,hasEvidence:e&&e[f.id]!==void 0},position:{x:f.x*1.5,y:f.y*.8}})),...rO.map((f,v)=>({data:{id:`edge-${v}`,source:f.source,target:f.target}}))],s=f=>{if(e&&e[f])return"#22c55e";const v=Np.find(g=>g.id===f)?.group;return v==="input"?"#3b82f6":v==="inferred"?"#f59e0b":v==="output"?"#8b5cf6":"#64748b"},c=[{selector:"node",style:{label:"data(label)","text-wrap":"wrap","text-max-width":"80px","text-valign":"center","text-halign":"center","background-color":f=>s(f.id()),color:"#fff","font-size":"11px","font-weight":"500",width:"90px",height:"50px",shape:"roundrectangle","border-width":f=>f.data("hasEvidence")?3:1,"border-color":f=>f.data("hasEvidence")?"#22c55e":"#475569",padding:"8px"}},{selector:"edge",style:{width:2,"line-color":"#475569","target-arrow-color":"#475569","target-arrow-shape":"triangle","curve-style":"bezier","arrow-scale":.8}},{selector:"node:selected",style:{"border-width":3,"border-color":"#fff"}}];Kr.useEffect(()=>{r.current&&(r.current.on("tap","node",f=>{u(f.target.id())}),r.current.on("tap",f=>{f.target===r.current&&u(null)}))},[]);const d=f=>{if(!t||!t[f])return null;const v=t[f],g=Zp[f]||{};return Object.entries(v).sort((p,E)=>E[1]-p[1]).map(([p,E])=>({state:p,label:g[p]||p,prob:E*100}))};return Y.jsxs("div",{className:"h-full flex flex-col bg-slate-800/50 rounded-xl border border-slate-700",children:[Y.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[Y.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[Y.jsx("span",{className:"text-2xl",children:""}),"Bayesian Network"]}),Y.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Watch beliefs update as you provide preferences"})]}),Y.jsxs("div",{className:"px-4 py-2 border-b border-slate-700 flex gap-4 text-xs",children:[Y.jsxs("span",{className:"flex items-center gap-1",children:[Y.jsx("span",{className:"w-3 h-3 rounded bg-blue-500"}),Y.jsx("span",{className:"text-slate-400",children:"Input"})]}),Y.jsxs("span",{className:"flex items-center gap-1",children:[Y.jsx("span",{className:"w-3 h-3 rounded bg-amber-500"}),Y.jsx("span",{className:"text-slate-400",children:"Inferred"})]}),Y.jsxs("span",{className:"flex items-center gap-1",children:[Y.jsx("span",{className:"w-3 h-3 rounded bg-purple-500"}),Y.jsx("span",{className:"text-slate-400",children:"Output"})]}),Y.jsxs("span",{className:"flex items-center gap-1",children:[Y.jsx("span",{className:"w-3 h-3 rounded border-2 border-green-500"}),Y.jsx("span",{className:"text-slate-400",children:"Evidence set"})]})]}),Y.jsxs("div",{className:"flex-1 relative",children:[Y.jsx(tO,{elements:l,stylesheet:c,cy:f=>{r.current=f},style:{width:"100%",height:"100%"},layout:{name:"preset"},userZoomingEnabled:!1,userPanningEnabled:!0,boxSelectionEnabled:!1}),n&&t&&t[n]&&Y.jsxs("div",{className:"absolute bottom-4 left-4 right-4 bg-slate-900 rounded-lg p-4 border border-slate-600 shadow-xl",children:[Y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[Y.jsx("h3",{className:"font-semibold text-white",children:Np.find(f=>f.id===n)?.label||n}),Y.jsx("button",{onClick:()=>u(null),className:"text-slate-400 hover:text-white",children:""})]}),Y.jsx("div",{className:"space-y-2",children:d(n)?.map(({state:f,label:v,prob:g})=>Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("div",{className:"w-24 text-xs text-slate-400 truncate",title:v,children:v}),Y.jsx("div",{className:"flex-1 h-4 bg-slate-700 rounded-full overflow-hidden",children:Y.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-400 prob-bar transition-all duration-500",style:{width:`${g}%`}})}),Y.jsxs("div",{className:"w-12 text-right text-xs text-slate-300",children:[g.toFixed(1),"%"]})]},f))})]})]})]})}function nO({recommendations:t,previousScores:e}){const r=Kr.useMemo(()=>{const l={};return t.forEach(s=>{e[s.id]!==void 0&&Math.abs(s.score-e[s.id])>1&&(l[s.id]=!0)}),l},[t,e]),n=l=>l>=70?"text-green-400":l>=50?"text-yellow-400":"text-orange-400",u=l=>l>=70?"bg-green-500":l>=50?"bg-yellow-500":"bg-orange-500";return Y.jsxs("div",{className:"h-full flex flex-col bg-slate-800/50 rounded-xl border border-slate-700",children:[Y.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[Y.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[Y.jsx("span",{className:"text-2xl",children:""}),"Top Recommendations"]}),Y.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Bikes ranked by Bayesian match score"})]}),Y.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:t.map((l,s)=>Y.jsxs("div",{className:`bike-card bg-slate-700/50 rounded-lg p-4 border border-slate-600 ${s===0?"ring-2 ring-blue-500":""}`,children:[Y.jsxs("div",{className:"flex items-start gap-3",children:[Y.jsx("div",{className:"text-3xl",children:l.image}),Y.jsxs("div",{className:"flex-1 min-w-0",children:[Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("h3",{className:"font-semibold text-white truncate",children:l.name}),s===0&&Y.jsx("span",{className:"px-2 py-0.5 bg-blue-500 text-white text-xs rounded-full",children:"Best Match"})]}),Y.jsx("p",{className:"text-sm text-slate-400 mt-1 line-clamp-2",children:l.description}),Y.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[Y.jsx("span",{className:"px-2 py-0.5 bg-slate-600 text-slate-300 text-xs rounded",children:l.type}),Y.jsxs("span",{className:"px-2 py-0.5 bg-slate-600 text-slate-300 text-xs rounded",children:["$",l.price.toLocaleString()]}),Y.jsx("span",{className:"px-2 py-0.5 bg-slate-600 text-slate-300 text-xs rounded",children:l.specs.weight||l.specs.range||"N/A"})]})]}),Y.jsxs("div",{className:"flex flex-col items-center",children:[Y.jsxs("div",{className:`text-2xl font-bold ${n(l.score)} ${r[l.id]?"score-updated":""}`,children:[Math.round(l.score),"%"]}),Y.jsx("div",{className:"text-xs text-slate-500",children:"match"}),Y.jsx("div",{className:"w-12 h-2 bg-slate-600 rounded-full mt-1 overflow-hidden",children:Y.jsx("div",{className:`h-full ${u(l.score)} transition-all duration-500`,style:{width:`${l.score}%`}})})]})]}),Y.jsx("div",{className:"mt-3 pt-3 border-t border-slate-600 grid grid-cols-2 gap-2 text-xs",children:Object.entries(l.specs).map(([c,d])=>Y.jsxs("div",{className:"flex justify-between",children:[Y.jsxs("span",{className:"text-slate-500 capitalize",children:[c,":"]}),Y.jsx("span",{className:"text-slate-300",children:d})]},c))})]},l.id))})]})}const iO={budget:{cheap:{BUDGET:"LOW"},affordable:{BUDGET:"LOW"},budget:{BUDGET:"LOW"},inexpensive:{BUDGET:"LOW"},"under 500":{BUDGET:"LOW"},"under 800":{BUDGET:"LOW"},"mid-range":{BUDGET:"MEDIUM"},"mid range":{BUDGET:"MEDIUM"},moderate:{BUDGET:"MEDIUM"},"around 1000":{BUDGET:"MEDIUM"},"around 1500":{BUDGET:"MEDIUM"},premium:{BUDGET:"HIGH"},expensive:{BUDGET:"HIGH"},"high-end":{BUDGET:"HIGH"},"high end":{BUDGET:"HIGH"},"money is no object":{BUDGET:"HIGH"},best:{BUDGET:"HIGH"},"top of the line":{BUDGET:"HIGH"}},experience:{beginner:{EXPERIENCE:"BEGINNER"},"new to cycling":{EXPERIENCE:"BEGINNER"},"first bike":{EXPERIENCE:"BEGINNER"},"never ridden":{EXPERIENCE:"BEGINNER"},"starting out":{EXPERIENCE:"BEGINNER"},learning:{EXPERIENCE:"BEGINNER"},"some experience":{EXPERIENCE:"INTERMEDIATE"},intermediate:{EXPERIENCE:"INTERMEDIATE"},"casual rider":{EXPERIENCE:"INTERMEDIATE"},"ride occasionally":{EXPERIENCE:"INTERMEDIATE"},experienced:{EXPERIENCE:"ADVANCED"},advanced:{EXPERIENCE:"ADVANCED"},"serious cyclist":{EXPERIENCE:"ADVANCED"},competitive:{EXPERIENCE:"ADVANCED"},racing:{EXPERIENCE:"ADVANCED"}},terrain:{road:{TERRAIN:"ROAD"},pavement:{TERRAIN:"ROAD"},streets:{TERRAIN:"ROAD"},city:{TERRAIN:"ROAD"},urban:{TERRAIN:"ROAD"},"smooth surfaces":{TERRAIN:"ROAD"},mixed:{TERRAIN:"MIXED"},variety:{TERRAIN:"MIXED"},everything:{TERRAIN:"MIXED"},"bike paths":{TERRAIN:"MIXED"},"gravel paths":{TERRAIN:"MIXED"},"some trails":{TERRAIN:"MIXED"},"off-road":{TERRAIN:"OFFROAD"},offroad:{TERRAIN:"OFFROAD"},trails:{TERRAIN:"OFFROAD"},mountain:{TERRAIN:"OFFROAD"},dirt:{TERRAIN:"OFFROAD"},forest:{TERRAIN:"OFFROAD"},technical:{TERRAIN:"OFFROAD"}},useCase:{commute:{USE_CASE:"COMMUTE"},commuting:{USE_CASE:"COMMUTE"},work:{USE_CASE:"COMMUTE"},daily:{USE_CASE:"COMMUTE"},transportation:{USE_CASE:"COMMUTE"},"getting around":{USE_CASE:"COMMUTE"},fitness:{USE_CASE:"FITNESS"},exercise:{USE_CASE:"FITNESS"},workout:{USE_CASE:"FITNESS"},cardio:{USE_CASE:"FITNESS"},"get in shape":{USE_CASE:"FITNESS"},"lose weight":{USE_CASE:"FITNESS"},recreation:{USE_CASE:"RECREATION"},fun:{USE_CASE:"RECREATION"},weekend:{USE_CASE:"RECREATION"},leisure:{USE_CASE:"RECREATION"},casual:{USE_CASE:"RECREATION"},"family rides":{USE_CASE:"RECREATION"},sport:{USE_CASE:"SPORT"},racing:{USE_CASE:"SPORT"},competition:{USE_CASE:"SPORT"},performance:{USE_CASE:"SPORT"},fast:{USE_CASE:"SPORT"},speed:{USE_CASE:"SPORT"}},physical:{"bad knees":{PHYSICAL_CONDITION:"LIMITED"},"back problems":{PHYSICAL_CONDITION:"LIMITED"},"back pain":{PHYSICAL_CONDITION:"LIMITED"},older:{PHYSICAL_CONDITION:"LIMITED"},senior:{PHYSICAL_CONDITION:"LIMITED"},"limited mobility":{PHYSICAL_CONDITION:"LIMITED"},"health issues":{PHYSICAL_CONDITION:"LIMITED"},recovering:{PHYSICAL_CONDITION:"LIMITED"},"easy on joints":{PHYSICAL_CONDITION:"LIMITED"},"comfortable position":{PHYSICAL_CONDITION:"LIMITED"},average:{PHYSICAL_CONDITION:"AVERAGE"},normal:{PHYSICAL_CONDITION:"AVERAGE"},"okay shape":{PHYSICAL_CONDITION:"AVERAGE"},"decent shape":{PHYSICAL_CONDITION:"AVERAGE"},fit:{PHYSICAL_CONDITION:"FIT"},athletic:{PHYSICAL_CONDITION:"FIT"},strong:{PHYSICAL_CONDITION:"FIT"},"good shape":{PHYSICAL_CONDITION:"FIT"},active:{PHYSICAL_CONDITION:"FIT"},sporty:{PHYSICAL_CONDITION:"FIT"}},location:{hills:{PHYSICAL_CONDITION:"LIMITED",TERRAIN:"MIXED"},hilly:{TERRAIN:"MIXED"},flat:{TERRAIN:"ROAD"},"san francisco":{TERRAIN:"MIXED"},seattle:{TERRAIN:"MIXED"},amsterdam:{TERRAIN:"ROAD"},colorado:{TERRAIN:"OFFROAD"}}};function uO(t){const e=t.toLowerCase(),r={},n=[];for(const[u,l]of Object.entries(iO))for(const[s,c]of Object.entries(l))e.includes(s)&&(Object.assign(r,c),n.push({category:u,keyword:s,mapping:c}));return{evidence:r,matched:n}}function lO(t,e){if(e.length===0)return{text:"I understand you're looking for a bike. Could you tell me more about how you plan to use it? For example: commuting, fitness, trails, or recreation?",understood:[]};const r=[];if(t.BUDGET){const u={LOW:"a budget-friendly option",MEDIUM:"a mid-range option",HIGH:"a premium option"}[t.BUDGET];r.push(`you're looking for ${u}`)}if(t.TERRAIN){const u={ROAD:"primarily on paved roads",MIXED:"on mixed terrain",OFFROAD:"on trails and off-road"}[t.TERRAIN];r.push(`you'll be riding ${u}`)}if(t.USE_CASE){const u={COMMUTE:"for commuting",FITNESS:"for fitness",RECREATION:"for recreational riding",SPORT:"for sport/performance"}[t.USE_CASE];r.push(`the bike is ${u}`)}if(t.PHYSICAL_CONDITION){const u={LIMITED:"comfort and ease are important",AVERAGE:"you have average fitness",FIT:"you're in good physical shape"}[t.PHYSICAL_CONDITION];r.push(u)}if(t.EXPERIENCE){const u={BEGINNER:"you're new to cycling",INTERMEDIATE:"you have some cycling experience",ADVANCED:"you're an experienced cyclist"}[t.EXPERIENCE];r.push(u)}return{text:`Got it! I understand that ${r.join(", ")}. Let me update the recommendations based on this.`,understood:r}}const sO=[{trigger:["beginner","first bike","starting"],response:"For beginners, I'd recommend the **Trek FX 2** - it's a great all-around hybrid bike that's easy to handle. Perfect for someone just starting out!",issue:"Recommends specific model that may not be in stock or best match for actual needs"},{trigger:["commute","work","city"],response:"For city commuting, the **Specialized Sirrus 3.0** is excellent! It has a comfortable upright position and comes with fenders and a rack. Around $1,100.",issue:"Assumes price range, doesn't consider terrain or physical condition"},{trigger:["cheap","budget","affordable"],response:"I'd suggest checking out the **Giant Escape 3** at $450 or the **Schwinn Discover Hybrid** at $350. Both are solid budget choices!",issue:"May recommend bikes that don't match user's actual use case"},{trigger:["hills","hilly"],response:"For hilly terrain, you'll want something with a wide gear range. The **Cannondale Quick 4** has excellent climbing gears!",issue:"Doesn't consider if user might benefit from e-bike based on their fitness"},{trigger:["back","knee","comfort"],response:"If comfort is key, look for bikes with an upright position like the **Electra Townie**. They're very easy on the back and joints!",issue:"Generic recommendation without considering budget or intended use"}];function oO(t){const e=t.toLowerCase();for(const r of sO)if(r.trigger.some(n=>e.includes(n)))return r;return{response:"Based on what you've described, I'd recommend a good hybrid bike like the **Giant Escape** series. They're versatile and work well for most riders!",issue:"Generic response that doesn't account for individual preferences"}}function cO({userInput:t,showComparison:e}){if(!e||!t)return Y.jsxs("div",{className:"h-full flex flex-col bg-slate-800/50 rounded-xl border border-slate-700",children:[Y.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[Y.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[Y.jsx("span",{className:"text-2xl",children:""}),"LLM Only (Comparison)"]}),Y.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"See what happens without Bayesian reasoning"})]}),Y.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:Y.jsx("p",{className:"text-slate-500 text-center text-sm",children:"Start a conversation to see how an LLM-only approach compares"})})]});const r=oO(t);return Y.jsxs("div",{className:"h-full flex flex-col bg-slate-800/50 rounded-xl border border-slate-700",children:[Y.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[Y.jsxs("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[Y.jsx("span",{className:"text-2xl",children:""}),"LLM Only (Comparison)"]}),Y.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Without Bayesian network grounding"})]}),Y.jsxs("div",{className:"flex-1 p-4 space-y-4 overflow-y-auto",children:[Y.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 border border-slate-600",children:[Y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Y.jsx("span",{className:"text-lg",children:""}),Y.jsx("span",{className:"text-sm font-medium text-orange-400",children:"Generic LLM Response"})]}),Y.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:r.response})]}),Y.jsx("div",{className:"bg-red-900/30 rounded-lg p-4 border border-red-800/50",children:Y.jsxs("div",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-lg",children:""}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-sm font-medium text-red-400",children:"Potential Issue"}),Y.jsx("p",{className:"text-sm text-red-300/80 mt-1",children:r.issue})]})]})}),Y.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4 border border-slate-600",children:[Y.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"Why Bayesian + LLM is better:"}),Y.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-green-400",children:""}),Y.jsxs("span",{children:["Recommendations based on ",Y.jsx("strong",{className:"text-slate-300",children:"actual inventory"})]})]}),Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-green-400",children:""}),Y.jsxs("span",{children:["Confidence scores show ",Y.jsx("strong",{className:"text-slate-300",children:"how well each bike matches"})]})]}),Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-green-400",children:""}),Y.jsxs("span",{children:["Considers ",Y.jsx("strong",{className:"text-slate-300",children:"multiple factors simultaneously"})]})]}),Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-green-400",children:""}),Y.jsxs("span",{children:["Handles ",Y.jsx("strong",{className:"text-slate-300",children:"uncertainty and partial information"})]})]}),Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-green-400",children:""}),Y.jsxs("span",{children:["Updates beliefs ",Y.jsx("strong",{className:"text-slate-300",children:"as you provide more info"})]})]})]})]}),Y.jsxs("div",{className:"bg-slate-700/30 rounded-lg p-4 border border-slate-600",children:[Y.jsx("h4",{className:"text-sm font-medium text-slate-300 mb-3",children:"LLM-only limitations:"}),Y.jsxs("ul",{className:"space-y-2 text-sm text-slate-400",children:[Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-red-400",children:""}),Y.jsxs("span",{children:["May recommend ",Y.jsx("strong",{className:"text-red-300",children:"non-existent products"})]})]}),Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-red-400",children:""}),Y.jsxs("span",{children:[Y.jsx("strong",{className:"text-red-300",children:"No confidence scores"})," - just yes/no recommendations"]})]}),Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-red-400",children:""}),Y.jsxs("span",{children:["Can't properly weigh ",Y.jsx("strong",{className:"text-red-300",children:"trade-offs"})]})]}),Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-red-400",children:""}),Y.jsxs("span",{children:["Generic responses that ",Y.jsx("strong",{className:"text-red-300",children:"ignore nuance"})]})]})]})]})]})]})}function fO({posteriors:t,evidence:e}){const r=["BIKE_TYPE","SUSPENSION","PRICE_RANGE","COMFORT_LEVEL"],n=u=>({BIKE_TYPE:"bg-amber-500",SUSPENSION:"bg-purple-500",PRICE_RANGE:"bg-green-500",COMFORT_LEVEL:"bg-pink-500"})[u]||"bg-blue-500";return t?Y.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700 p-4",children:[Y.jsxs("h3",{className:"text-sm font-semibold text-white mb-4 flex items-center gap-2",children:[Y.jsx("span",{children:""}),"Inferred Probabilities"]}),Y.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.map(u=>{const l=t[u],s=Zp[u]||{};if(!l)return null;const c=Object.entries(l).sort((d,f)=>f[1]-d[1]);return Y.jsxs("div",{className:"space-y-2",children:[Y.jsx("h4",{className:"text-xs font-medium text-slate-400 uppercase tracking-wider",children:u.replace("_"," ")}),Y.jsx("div",{className:"space-y-1",children:c.map(([d,f])=>Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("div",{className:"w-20 text-xs text-slate-400 truncate",title:s[d]||d,children:s[d]||d}),Y.jsx("div",{className:"flex-1 h-3 bg-slate-700 rounded-full overflow-hidden",children:Y.jsx("div",{className:`h-full ${n(u)} transition-all duration-500 prob-bar`,style:{width:`${f*100}%`}})}),Y.jsxs("div",{className:"w-10 text-right text-xs text-slate-500",children:[(f*100).toFixed(0),"%"]})]},d))})]},u)})}),e&&Object.keys(e).length>0&&Y.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700",children:[Y.jsx("h4",{className:"text-xs font-medium text-slate-400 mb-2",children:"Current Evidence:"}),Y.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(e).map(([u,l])=>Y.jsxs("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 rounded text-xs border border-green-500/30",children:[u,": ",Zp[u]?.[l]||l]},u))})]})]}):null}var td={exports:{}},dO=td.exports,XE;function vO(){return XE||(XE=1,(function(t,e){(function(r,n){t.exports=n()})(typeof self<"u"?self:dO,function(){return(function(r){var n={};function u(l){if(n[l])return n[l].exports;var s=n[l]={i:l,l:!1,exports:{}};return r[l].call(s.exports,s,s.exports,u),s.l=!0,s.exports}return u.m=r,u.c=n,u.d=function(l,s,c){u.o(l,s)||Object.defineProperty(l,s,{enumerable:!0,get:c})},u.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},u.t=function(l,s){if(1&s&&(l=u(l)),8&s||4&s&&typeof l=="object"&&l&&l.__esModule)return l;var c=Object.create(null);if(u.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:l}),2&s&&typeof l!="string")for(var d in l)u.d(c,d,(function(f){return l[f]}).bind(null,d));return c},u.n=function(l){var s=l&&l.__esModule?function(){return l.default}:function(){return l};return u.d(s,"a",s),s},u.o=function(l,s){return Object.prototype.hasOwnProperty.call(l,s)},u.p="",u(u.s=4)})([function(r,n,u){u.r(n);var l=function(){return!1},s=function(){return!0},c={"@@functional/placeholder":!0};function d(m){return m!=null&&typeof m=="object"&&m["@@functional/placeholder"]===!0}function f(m){return function x(A){return arguments.length===0||d(A)?x:m.apply(this,arguments)}}function v(m){return function x(A,_){switch(arguments.length){case 0:return x;case 1:return d(A)?x:f(function(K){return m(A,K)});default:return d(A)&&d(_)?x:d(A)?f(function(K){return m(K,_)}):d(_)?f(function(K){return m(A,K)}):m(A,_)}}}var g=v(function(m,x){return Number(m)+Number(x)});function p(m,x){var A;x=x||[];var _=(m=m||[]).length,K=x.length,re=[];for(A=0;A<_;)re[re.length]=m[A],A+=1;for(A=0;A<K;)re[re.length]=x[A],A+=1;return re}function E(m,x){switch(m){case 0:return function(){return x.apply(this,arguments)};case 1:return function(A){return x.apply(this,arguments)};case 2:return function(A,_){return x.apply(this,arguments)};case 3:return function(A,_,K){return x.apply(this,arguments)};case 4:return function(A,_,K,re){return x.apply(this,arguments)};case 5:return function(A,_,K,re,Ae){return x.apply(this,arguments)};case 6:return function(A,_,K,re,Ae,Ve){return x.apply(this,arguments)};case 7:return function(A,_,K,re,Ae,Ve,Et){return x.apply(this,arguments)};case 8:return function(A,_,K,re,Ae,Ve,Et,Xt){return x.apply(this,arguments)};case 9:return function(A,_,K,re,Ae,Ve,Et,Xt,Fr){return x.apply(this,arguments)};case 10:return function(A,_,K,re,Ae,Ve,Et,Xt,Fr,Ka){return x.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function b(m,x,A){return function(){for(var _=[],K=0,re=m,Ae=0;Ae<x.length||K<arguments.length;){var Ve;Ae<x.length&&(!d(x[Ae])||K>=arguments.length)?Ve=x[Ae]:(Ve=arguments[K],K+=1),_[Ae]=Ve,d(Ve)||(re-=1),Ae+=1}return re<=0?A.apply(this,_):E(re,b(m,_,A))}}var C=v(function(m,x){return m===1?f(x):E(m,b(m,[],x))}),w=f(function(m){return C(m.length,function(){var x=0,A=arguments[0],_=arguments[arguments.length-1],K=Array.prototype.slice.call(arguments,0);return K[0]=function(){var re=A.apply(this,p(arguments,[x,_]));return x+=1,re},m.apply(this,K)})});function S(m){return function x(A,_,K){switch(arguments.length){case 0:return x;case 1:return d(A)?x:v(function(re,Ae){return m(A,re,Ae)});case 2:return d(A)&&d(_)?x:d(A)?v(function(re,Ae){return m(re,_,Ae)}):d(_)?v(function(re,Ae){return m(A,re,Ae)}):f(function(re){return m(A,_,re)});default:return d(A)&&d(_)&&d(K)?x:d(A)&&d(_)?v(function(re,Ae){return m(re,Ae,K)}):d(A)&&d(K)?v(function(re,Ae){return m(re,_,Ae)}):d(_)&&d(K)?v(function(re,Ae){return m(A,re,Ae)}):d(A)?f(function(re){return m(re,_,K)}):d(_)?f(function(re){return m(A,re,K)}):d(K)?f(function(re){return m(A,_,re)}):m(A,_,K)}}}var N=S(function(m,x,A){if(m>=A.length||m<-A.length)return A;var _=(m<0?A.length:0)+m,K=p(A);return K[_]=x(A[_]),K}),R=Array.isArray||function(m){return m!=null&&m.length>=0&&Object.prototype.toString.call(m)==="[object Array]"};function D(m){return m!=null&&typeof m["@@transducer/step"]=="function"}function O(m,x,A){return function(){if(arguments.length===0)return A();var _=Array.prototype.slice.call(arguments,0),K=_.pop();if(!R(K)){for(var re=0;re<m.length;){if(typeof K[m[re]]=="function")return K[m[re]].apply(K,_);re+=1}if(D(K))return x.apply(null,_)(K)}return A.apply(this,arguments)}}function I(m){return m&&m["@@transducer/reduced"]?m:{"@@transducer/value":m,"@@transducer/reduced":!0}}var M={init:function(){return this.xf["@@transducer/init"]()},result:function(m){return this.xf["@@transducer/result"](m)}},z=(function(){function m(x,A){this.xf=A,this.f=x,this.all=!0}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.all&&(x=this.xf["@@transducer/step"](x,!0)),this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.f(A)||(this.all=!1,x=I(this.xf["@@transducer/step"](x,!1))),x},m})(),P=v(O(["all"],v(function(m,x){return new z(m,x)}),function(m,x){for(var A=0;A<x.length;){if(!m(x[A]))return!1;A+=1}return!0})),k=v(function(m,x){return x>m?x:m});function U(m,x){for(var A=0,_=x.length,K=Array(_);A<_;)K[A]=m(x[A]),A+=1;return K}function L(m){return Object.prototype.toString.call(m)==="[object String]"}var G=f(function(m){return!!R(m)||!!m&&typeof m=="object"&&!L(m)&&(m.nodeType===1?!!m.length:m.length===0||m.length>0&&m.hasOwnProperty(0)&&m.hasOwnProperty(m.length-1))}),X=(function(){function m(x){this.f=x}return m.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},m.prototype["@@transducer/result"]=function(x){return x},m.prototype["@@transducer/step"]=function(x,A){return this.f(x,A)},m})();function Z(m){return new X(m)}var H=v(function(m,x){return E(m.length,function(){return m.apply(x,arguments)})});function j(m,x,A){for(var _=A.next();!_.done;){if((x=m["@@transducer/step"](x,_.value))&&x["@@transducer/reduced"]){x=x["@@transducer/value"];break}_=A.next()}return m["@@transducer/result"](x)}function W(m,x,A,_){return m["@@transducer/result"](A[_](H(m["@@transducer/step"],m),x))}var ee=typeof Symbol<"u"?Symbol.iterator:"@@iterator";function te(m,x,A){if(typeof m=="function"&&(m=Z(m)),G(A))return(function(_,K,re){for(var Ae=0,Ve=re.length;Ae<Ve;){if((K=_["@@transducer/step"](K,re[Ae]))&&K["@@transducer/reduced"]){K=K["@@transducer/value"];break}Ae+=1}return _["@@transducer/result"](K)})(m,x,A);if(typeof A["fantasy-land/reduce"]=="function")return W(m,x,A,"fantasy-land/reduce");if(A[ee]!=null)return j(m,x,A[ee]());if(typeof A.next=="function")return j(m,x,A);if(typeof A.reduce=="function")return W(m,x,A,"reduce");throw new TypeError("reduce: list must be array or iterable")}var q=(function(){function m(x,A){this.xf=A,this.f=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){return this.xf["@@transducer/step"](x,this.f(A))},m})(),Q=v(function(m,x){return new q(m,x)});function J(m,x){return Object.prototype.hasOwnProperty.call(x,m)}var ie=Object.prototype.toString,oe=(function(){return ie.call(arguments)==="[object Arguments]"?function(m){return ie.call(m)==="[object Arguments]"}:function(m){return J("callee",m)}})(),he=!{toString:null}.propertyIsEnumerable("toString"),be=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Re=(function(){return arguments.propertyIsEnumerable("length")})(),ye=function(m,x){for(var A=0;A<m.length;){if(m[A]===x)return!0;A+=1}return!1},ne=f(typeof Object.keys!="function"||Re?function(m){if(Object(m)!==m)return[];var x,A,_=[],K=Re&&oe(m);for(x in m)!J(x,m)||K&&x==="length"||(_[_.length]=x);if(he)for(A=be.length-1;A>=0;)J(x=be[A],m)&&!ye(_,x)&&(_[_.length]=x),A-=1;return _}:function(m){return Object(m)!==m?[]:Object.keys(m)}),le=v(O(["fantasy-land/map","map"],Q,function(m,x){switch(Object.prototype.toString.call(x)){case"[object Function]":return C(x.length,function(){return m.call(this,x.apply(this,arguments))});case"[object Object]":return te(function(A,_){return A[_]=m(x[_]),A},{},ne(x));default:return U(m,x)}})),fe=Number.isInteger||function(m){return m<<0===m},Ee=v(function(m,x){var A=m<0?x.length+m:m;return L(x)?x.charAt(A):x[A]}),De=v(function(m,x){return m.map(function(A){for(var _,K=x,re=0;re<A.length;){if(K==null)return;_=A[re],K=fe(_)?Ee(_,K):K[_],re+=1}return K})}),Le=v(function(m,x){return De([m],x)[0]}),ut=v(function(m,x){return Le([m],x)}),Qe=v(function(m,x){return le(ut(m),x)}),qe=S(te),Ke=f(function(m){return C(qe(k,0,Qe("length",m)),function(){for(var x=0,A=m.length;x<A;){if(!m[x].apply(this,arguments))return!1;x+=1}return!0})}),Oe=f(function(m){return function(){return m}}),Ge=v(function(m,x){return m&&x}),Fe=(function(){function m(x,A){this.xf=A,this.f=x,this.any=!1}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.any||(x=this.xf["@@transducer/step"](x,!1)),this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.f(A)&&(this.any=!0,x=I(this.xf["@@transducer/step"](x,!0))),x},m})(),tt=v(O(["any"],v(function(m,x){return new Fe(m,x)}),function(m,x){for(var A=0;A<x.length;){if(m(x[A]))return!0;A+=1}return!1})),Ie=f(function(m){return C(qe(k,0,Qe("length",m)),function(){for(var x=0,A=m.length;x<A;){if(m[x].apply(this,arguments))return!0;x+=1}return!1})}),at=v(function(m,x){return typeof x["fantasy-land/ap"]=="function"?x["fantasy-land/ap"](m):typeof m.ap=="function"?m.ap(x):typeof m=="function"?function(A){return m(A)(x(A))}:te(function(A,_){return p(A,le(_,x))},[],m)});function ct(m,x){for(var A=0,_=x.length-(m-1),K=new Array(_>=0?_:0);A<_;)K[A]=Array.prototype.slice.call(x,A,A+m),A+=1;return K}var yt=(function(){function m(x,A){this.xf=A,this.pos=0,this.full=!1,this.acc=new Array(x)}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.acc=null,this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.store(A),this.full?this.xf["@@transducer/step"](x,this.getCopy()):x},m.prototype.store=function(x){this.acc[this.pos]=x,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},m.prototype.getCopy=function(){return p(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},m})(),dt=v(O([],v(function(m,x){return new yt(m,x)}),ct)),bt=v(function(m,x){return p(x,[m])}),We=v(function(m,x){return m.apply(this,x)}),_e=f(function(m){for(var x=ne(m),A=x.length,_=[],K=0;K<A;)_[K]=m[x[K]],K+=1;return _});function Te(m,x){return ne(x).reduce(function(A,_){return A[_]=m(x[_]),A},{})}var F=f(function m(x){return x=Te(function(A){return typeof A=="function"?A:m(A)},x),C(qe(k,0,Qe("length",_e(x))),function(){var A=arguments;return Te(function(_){return We(_,A)},x)})}),se=v(function(m,x){return x(m)}),pe=S(function(m,x,A){var _=m(x),K=m(A);return _<K?-1:_>K?1:0}),ge=S(function(m,x,A){var _={};for(var K in A)_[K]=A[K];return _[m]=x,_}),Se=f(function(m){return m==null}),ze=S(function m(x,A,_){if(x.length===0)return A;var K=x[0];if(x.length>1){var re=!Se(_)&&J(K,_)?_[K]:fe(x[1])?[]:{};A=m(Array.prototype.slice.call(x,1),A,re)}if(fe(K)&&R(_)){var Ae=[].concat(_);return Ae[K]=A,Ae}return ge(K,A,_)}),Ne=v(function(m,x){switch(m){case 0:return function(){return x.call(this)};case 1:return function(A){return x.call(this,A)};case 2:return function(A,_){return x.call(this,A,_)};case 3:return function(A,_,K){return x.call(this,A,_,K)};case 4:return function(A,_,K,re){return x.call(this,A,_,K,re)};case 5:return function(A,_,K,re,Ae){return x.call(this,A,_,K,re,Ae)};case 6:return function(A,_,K,re,Ae,Ve){return x.call(this,A,_,K,re,Ae,Ve)};case 7:return function(A,_,K,re,Ae,Ve,Et){return x.call(this,A,_,K,re,Ae,Ve,Et)};case 8:return function(A,_,K,re,Ae,Ve,Et,Xt){return x.call(this,A,_,K,re,Ae,Ve,Et,Xt)};case 9:return function(A,_,K,re,Ae,Ve,Et,Xt,Fr){return x.call(this,A,_,K,re,Ae,Ve,Et,Xt,Fr)};case 10:return function(A,_,K,re,Ae,Ve,Et,Xt,Fr,Ka){return x.call(this,A,_,K,re,Ae,Ve,Et,Xt,Fr,Ka)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),Ue=f(function(m){return Ne(2,m)});function Be(m){var x=Object.prototype.toString.call(m);return x==="[object Function]"||x==="[object AsyncFunction]"||x==="[object GeneratorFunction]"||x==="[object AsyncGeneratorFunction]"}var Ye=v(function(m,x){var A=C(m,x);return C(m,function(){return te(at,le(A,arguments[0]),Array.prototype.slice.call(arguments,1))})}),Je=f(function(m){return Ye(m.length,m)}),rt=v(function(m,x){return Be(m)?function(){return m.apply(this,arguments)&&x.apply(this,arguments)}:Je(Ge)(m,x)}),ke=f(function(m){return C(m.length,m)}),st=ke(function(m){return m.apply(this,Array.prototype.slice.call(arguments,1))});function nt(m){return function x(A){for(var _,K,re,Ae=[],Ve=0,Et=A.length;Ve<Et;){if(G(A[Ve]))for(re=0,K=(_=m?x(A[Ve]):A[Ve]).length;re<K;)Ae[Ae.length]=_[re],re+=1;else Ae[Ae.length]=A[Ve];Ve+=1}return Ae}}var Kt=function(m){var x=(function(A){return{"@@transducer/init":M.init,"@@transducer/result":function(_){return A["@@transducer/result"](_)},"@@transducer/step":function(_,K){var re=A["@@transducer/step"](_,K);return re["@@transducer/reduced"]?{"@@transducer/value":re,"@@transducer/reduced":!0}:re}}})(m);return{"@@transducer/init":M.init,"@@transducer/result":function(A){return x["@@transducer/result"](A)},"@@transducer/step":function(A,_){return G(_)?te(x,A,_):te(x,A,[_])}}},St=v(O(["fantasy-land/chain","chain"],v(function(m,x){return le(m,Kt(x))}),function(m,x){return typeof x=="function"?function(A){return m(x(A))(A)}:nt(!1)(le(m,x))})),Tr=S(function(m,x,A){if(m>x)throw new Error("min must not be greater than max in clamp(min, max, value)");return A<m?m:A>x?x:A});function Gt(m){return new RegExp(m.source,(m.global?"g":"")+(m.ignoreCase?"i":"")+(m.multiline?"m":"")+(m.sticky?"y":"")+(m.unicode?"u":""))}var Vt=f(function(m){return m===null?"Null":m===void 0?"Undefined":Object.prototype.toString.call(m).slice(8,-1)});function Ut(m,x,A,_){var K=function(re){for(var Ae=x.length,Ve=0;Ve<Ae;){if(m===x[Ve])return A[Ve];Ve+=1}for(var Et in x[Ve+1]=m,A[Ve+1]=re,m)re[Et]=_?Ut(m[Et],x,A,!0):m[Et];return re};switch(Vt(m)){case"Object":return K({});case"Array":return K([]);case"Date":return new Date(m.valueOf());case"RegExp":return Gt(m);default:return m}}var tr=f(function(m){return m!=null&&typeof m.clone=="function"?m.clone():Ut(m,[],[],!0)}),ia=f(function(m){return function(x,A){return m(x,A)?-1:m(A,x)?1:0}}),jt=f(function(m){return!m}),ua=Je(jt);function dr(m,x){return function(){return x.call(this,m.apply(this,arguments))}}function Dt(m,x){return function(){var A=arguments.length;if(A===0)return x();var _=arguments[A-1];return R(_)||typeof _[m]!="function"?x.apply(this,arguments):_[m].apply(_,Array.prototype.slice.call(arguments,0,A-1))}}var wt=S(Dt("slice",function(m,x,A){return Array.prototype.slice.call(A,m,x)})),Sr=f(Dt("tail",wt(1,1/0)));function sr(){if(arguments.length===0)throw new Error("pipe requires at least one argument");return E(arguments[0].length,qe(dr,arguments[0],Sr(arguments)))}var Wt=f(function(m){return L(m)?m.split("").reverse().join(""):Array.prototype.slice.call(m,0).reverse()});function or(){if(arguments.length===0)throw new Error("compose requires at least one argument");return sr.apply(this,Wt(arguments))}function qa(){if(arguments.length===0)throw new Error("composeK requires at least one argument");var m=Array.prototype.slice.call(arguments),x=m.pop();return or(or.apply(this,le(St,m)),x)}function vr(m,x){return function(){var A=this;return m.apply(A,arguments).then(function(_){return x.call(A,_)})}}function yn(){if(arguments.length===0)throw new Error("pipeP requires at least one argument");return E(arguments[0].length,qe(vr,arguments[0],Sr(arguments)))}function en(){if(arguments.length===0)throw new Error("composeP requires at least one argument");return yn.apply(this,Wt(arguments))}var Ha=Ee(0);function Ea(m){return m}var xa=f(Ea),rr=v(function(m,x){if(x.length<=0)return xa;var A=Ha(x),_=Sr(x);return E(A.length,function(){return te(function(K,re){return m.call(this,re,K)},A.apply(this,arguments),_)})}),Uu=v(function(m,x){return rr.apply(this,[m,Wt(x)])});function $i(m){for(var x,A=[];!(x=m.next()).done;)A.push(x.value);return A}function hr(m,x,A){for(var _=0,K=A.length;_<K;){if(m(x,A[_]))return!0;_+=1}return!1}var Wr=typeof Object.is=="function"?Object.is:function(m,x){return m===x?m!==0||1/m==1/x:m!=m&&x!=x};function bn(m,x,A,_){var K=$i(m);function re(Ae,Ve){return En(Ae,Ve,A.slice(),_.slice())}return!hr(function(Ae,Ve){return!hr(re,Ve,Ae)},$i(x),K)}function En(m,x,A,_){if(Wr(m,x))return!0;var K=Vt(m);if(K!==Vt(x)||m==null||x==null)return!1;if(typeof m["fantasy-land/equals"]=="function"||typeof x["fantasy-land/equals"]=="function")return typeof m["fantasy-land/equals"]=="function"&&m["fantasy-land/equals"](x)&&typeof x["fantasy-land/equals"]=="function"&&x["fantasy-land/equals"](m);if(typeof m.equals=="function"||typeof x.equals=="function")return typeof m.equals=="function"&&m.equals(x)&&typeof x.equals=="function"&&x.equals(m);switch(K){case"Arguments":case"Array":case"Object":if(typeof m.constructor=="function"&&(function(Fr){var Ka=String(Fr).match(/^function (\w*)/);return Ka==null?"":Ka[1]})(m.constructor)==="Promise")return m===x;break;case"Boolean":case"Number":case"String":if(typeof m!=typeof x||!Wr(m.valueOf(),x.valueOf()))return!1;break;case"Date":if(!Wr(m.valueOf(),x.valueOf()))return!1;break;case"Error":return m.name===x.name&&m.message===x.message;case"RegExp":if(m.source!==x.source||m.global!==x.global||m.ignoreCase!==x.ignoreCase||m.multiline!==x.multiline||m.sticky!==x.sticky||m.unicode!==x.unicode)return!1}for(var re=A.length-1;re>=0;){if(A[re]===m)return _[re]===x;re-=1}switch(K){case"Map":return m.size===x.size&&bn(m.entries(),x.entries(),A.concat([m]),_.concat([x]));case"Set":return m.size===x.size&&bn(m.values(),x.values(),A.concat([m]),_.concat([x]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var Ae=ne(m);if(Ae.length!==ne(x).length)return!1;var Ve=A.concat([m]),Et=_.concat([x]);for(re=Ae.length-1;re>=0;){var Xt=Ae[re];if(!J(Xt,x)||!En(x[Xt],m[Xt],Ve,Et))return!1;re-=1}return!0}var wr=v(function(m,x){return En(m,x,[],[])});function Pu(m,x,A){var _,K;if(typeof m.indexOf=="function")switch(typeof x){case"number":if(x===0){for(_=1/x;A<m.length;){if((K=m[A])===0&&1/K===_)return A;A+=1}return-1}if(x!=x){for(;A<m.length;){if(typeof(K=m[A])=="number"&&K!=K)return A;A+=1}return-1}return m.indexOf(x,A);case"string":case"boolean":case"function":case"undefined":return m.indexOf(x,A);case"object":if(x===null)return m.indexOf(x,A)}for(;A<m.length;){if(wr(m[A],x))return A;A+=1}return-1}function $t(m,x){return Pu(x,m,0)>=0}function Da(m){return'"'+m.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var Mr=function(m){return(m<10?"0":"")+m},gr=typeof Date.prototype.toISOString=="function"?function(m){return m.toISOString()}:function(m){return m.getUTCFullYear()+"-"+Mr(m.getUTCMonth()+1)+"-"+Mr(m.getUTCDate())+"T"+Mr(m.getUTCHours())+":"+Mr(m.getUTCMinutes())+":"+Mr(m.getUTCSeconds())+"."+(m.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function _r(m){return function(){return!m.apply(this,arguments)}}function Ji(m,x){for(var A=0,_=x.length,K=[];A<_;)m(x[A])&&(K[K.length]=x[A]),A+=1;return K}function xn(m){return Object.prototype.toString.call(m)==="[object Object]"}var qu=(function(){function m(x,A){this.xf=A,this.f=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){return this.f(A)?this.xf["@@transducer/step"](x,A):x},m})(),ai=v(O(["filter"],v(function(m,x){return new qu(m,x)}),function(m,x){return xn(x)?te(function(A,_){return m(x[_])&&(A[_]=x[_]),A},{},ne(x)):Ji(m,x)})),Hu=v(function(m,x){return ai(_r(m),x)});function jr(m,x){var A=function(re){var Ae=x.concat([m]);return $t(re,Ae)?"<Circular>":jr(re,Ae)},_=function(re,Ae){return U(function(Ve){return Da(Ve)+": "+A(re[Ve])},Ae.slice().sort())};switch(Object.prototype.toString.call(m)){case"[object Arguments]":return"(function() { return arguments; }("+U(A,m).join(", ")+"))";case"[object Array]":return"["+U(A,m).concat(_(m,Hu(function(re){return/^\d+$/.test(re)},ne(m)))).join(", ")+"]";case"[object Boolean]":return typeof m=="object"?"new Boolean("+A(m.valueOf())+")":m.toString();case"[object Date]":return"new Date("+(isNaN(m.valueOf())?A(NaN):Da(gr(m)))+")";case"[object Null]":return"null";case"[object Number]":return typeof m=="object"?"new Number("+A(m.valueOf())+")":1/m==-1/0?"-0":m.toString(10);case"[object String]":return typeof m=="object"?"new String("+A(m.valueOf())+")":Da(m);case"[object Undefined]":return"undefined";default:if(typeof m.toString=="function"){var K=m.toString();if(K!=="[object Object]")return K}return"{"+_(m,ne(m)).join(", ")+"}"}}var tn=f(function(m){return jr(m,[])}),Gu=v(function(m,x){if(R(m)){if(R(x))return m.concat(x);throw new TypeError(tn(x)+" is not an array")}if(L(m)){if(L(x))return m+x;throw new TypeError(tn(x)+" is not a string")}if(m!=null&&Be(m["fantasy-land/concat"]))return m["fantasy-land/concat"](x);if(m!=null&&Be(m.concat))return m.concat(x);throw new TypeError(tn(m)+' does not have a method named "concat" or "fantasy-land/concat"')}),rs=f(function(m){return E(qe(k,0,le(function(x){return x[0].length},m)),function(){for(var x=0;x<m.length;){if(m[x][0].apply(this,arguments))return m[x][1].apply(this,arguments);x+=1}})}),Tn=v(function(m,x){if(m>10)throw new Error("Constructor with greater than ten arguments");return m===0?function(){return new x}:ke(Ne(m,function(A,_,K,re,Ae,Ve,Et,Xt,Fr,Ka){switch(arguments.length){case 1:return new x(A);case 2:return new x(A,_);case 3:return new x(A,_,K);case 4:return new x(A,_,K,re);case 5:return new x(A,_,K,re,Ae);case 6:return new x(A,_,K,re,Ae,Ve);case 7:return new x(A,_,K,re,Ae,Ve,Et);case 8:return new x(A,_,K,re,Ae,Ve,Et,Xt);case 9:return new x(A,_,K,re,Ae,Ve,Et,Xt,Fr);case 10:return new x(A,_,K,re,Ae,Ve,Et,Xt,Fr,Ka)}}))}),Zo=f(function(m){return Tn(m.length,m)}),Qo=v($t),Sn=v(function(m,x){return C(qe(k,0,Qe("length",x)),function(){var A=arguments,_=this;return m.apply(_,U(function(K){return K.apply(_,A)},x))})}),Ld=(function(){function m(x,A,_,K){this.valueFn=x,this.valueAcc=A,this.keyFn=_,this.xf=K,this.inputs={}}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){var A;for(A in this.inputs)if(J(A,this.inputs)&&(x=this.xf["@@transducer/step"](x,this.inputs[A]))["@@transducer/reduced"]){x=x["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){var _=this.keyFn(A);return this.inputs[_]=this.inputs[_]||[_,this.valueAcc],this.inputs[_][1]=this.valueFn(this.inputs[_][1],A),x},m})(),eu=b(4,[],O([],b(4,[],function(m,x,A,_){return new Ld(m,x,A,_)}),function(m,x,A,_){return te(function(K,re){var Ae=A(re);return K[Ae]=m(J(Ae,K)?K[Ae]:Ut(x,[],[],!1),re),K},{},_)})),Wo=eu(function(m,x){return m+1},0),as=g(-1),$o=v(function(m,x){return x==null||x!=x?m:x}),zd=S(function(m,x,A){var _=m(x),K=m(A);return _>K?-1:_<K?1:0});function tu(m,x,A){var _,K=typeof m;switch(K){case"string":case"number":return m===0&&1/m==-1/0?!!A._items["-0"]||(x&&(A._items["-0"]=!0),!1):A._nativeSet!==null?x?(_=A._nativeSet.size,A._nativeSet.add(m),A._nativeSet.size===_):A._nativeSet.has(m):K in A._items?m in A._items[K]||(x&&(A._items[K][m]=!0),!1):(x&&(A._items[K]={},A._items[K][m]=!0),!1);case"boolean":if(K in A._items){var re=m?1:0;return!!A._items[K][re]||(x&&(A._items[K][re]=!0),!1)}return x&&(A._items[K]=m?[!1,!0]:[!0,!1]),!1;case"function":return A._nativeSet!==null?x?(_=A._nativeSet.size,A._nativeSet.add(m),A._nativeSet.size===_):A._nativeSet.has(m):K in A._items?!!$t(m,A._items[K])||(x&&A._items[K].push(m),!1):(x&&(A._items[K]=[m]),!1);case"undefined":return!!A._items[K]||(x&&(A._items[K]=!0),!1);case"object":if(m===null)return!!A._items.null||(x&&(A._items.null=!0),!1);default:return(K=Object.prototype.toString.call(m))in A._items?!!$t(m,A._items[K])||(x&&A._items[K].push(m),!1):(x&&(A._items[K]=[m]),!1)}}var Oa=(function(){function m(){this._nativeSet=typeof Set=="function"?new Set:null,this._items={}}return m.prototype.add=function(x){return!tu(x,!0,this)},m.prototype.has=function(x){return tu(x,!1,this)},m})(),ru=v(function(m,x){for(var A=[],_=0,K=m.length,re=x.length,Ae=new Oa,Ve=0;Ve<re;Ve+=1)Ae.add(x[Ve]);for(;_<K;)Ae.add(m[_])&&(A[A.length]=m[_]),_+=1;return A}),au=S(function(m,x,A){for(var _=[],K=0,re=x.length;K<re;)hr(m,x[K],A)||hr(m,x[K],_)||_.push(x[K]),K+=1;return _}),wn=v(function(m,x){var A={};for(var _ in x)A[_]=x[_];return delete A[m],A}),An=S(function(m,x,A){var _=Array.prototype.slice.call(A,0);return _.splice(m,x),_}),Vu=S(function(m,x,A){return N(m,Oe(x),A)}),ns=v(function m(x,A){switch(x.length){case 0:return A;case 1:return fe(x[0])&&R(A)?An(x[0],1,A):wn(x[0],A);default:var _=x[0],K=Array.prototype.slice.call(x,1);return A[_]==null?A:fe(_)&&R(A)?Vu(_,m(K,A[_]),A):ge(_,m(K,A[_]),A)}}),Jo=v(function(m,x){return m/x}),nu=(function(){function m(x,A){this.xf=A,this.n=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){return this.n>0?(this.n-=1,x):this.xf["@@transducer/step"](x,A)},m})(),Ma=v(O(["drop"],v(function(m,x){return new nu(m,x)}),function(m,x){return wt(Math.max(0,m),1/0,x)})),is=(function(){function m(x,A){this.xf=A,this.n=x,this.i=0}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){this.i+=1;var _=this.n===0?x:this.xf["@@transducer/step"](x,A);return this.n>=0&&this.i>=this.n?I(_):_},m})(),Cn=v(O(["take"],v(function(m,x){return new is(m,x)}),function(m,x){return wt(0,m<0?1/0:m,x)}));function rn(m,x){return Cn(m<x.length?x.length-m:0,x)}var us=(function(){function m(x,A){this.xf=A,this.pos=0,this.full=!1,this.acc=new Array(x)}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.acc=null,this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.full&&(x=this.xf["@@transducer/step"](x,this.acc[this.pos])),this.store(A),x},m.prototype.store=function(x){this.acc[this.pos]=x,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},m})(),ju=v(O([],v(function(m,x){return new us(m,x)}),rn));function ec(m,x){for(var A=x.length-1;A>=0&&m(x[A]);)A-=1;return wt(0,A+1,x)}var Fu=(function(){function m(x,A){this.f=x,this.retained=[],this.xf=A}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.retained=null,this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.f(A)?this.retain(x,A):this.flush(x,A)},m.prototype.flush=function(x,A){return x=te(this.xf["@@transducer/step"],x,this.retained),this.retained=[],this.xf["@@transducer/step"](x,A)},m.prototype.retain=function(x,A){return this.retained.push(A),x},m})(),Yu=v(O([],v(function(m,x){return new Fu(m,x)}),ec)),tc=(function(){function m(x,A){this.xf=A,this.pred=x,this.lastValue=void 0,this.seenFirstValue=!1}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){var _=!1;return this.seenFirstValue?this.pred(this.lastValue,A)&&(_=!0):this.seenFirstValue=!0,this.lastValue=A,_?x:this.xf["@@transducer/step"](x,A)},m})(),kr=v(function(m,x){return new tc(m,x)}),an=Ee(-1),iu=v(O([],kr,function(m,x){var A=[],_=1,K=x.length;if(K!==0)for(A[0]=x[0];_<K;)m(an(A),x[_])||(A[A.length]=x[_]),_+=1;return A})),uu=f(O([],kr(wr),iu(wr))),_d=(function(){function m(x,A){this.xf=A,this.f=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){if(this.f){if(this.f(A))return x;this.f=null}return this.xf["@@transducer/step"](x,A)},m})(),ls=v(O(["dropWhile"],v(function(m,x){return new _d(m,x)}),function(m,x){for(var A=0,_=x.length;A<_&&m(x[A]);)A+=1;return wt(A,1/0,x)})),Ku=v(function(m,x){return m||x}),lu=v(function(m,x){return Be(m)?function(){return m.apply(this,arguments)||x.apply(this,arguments)}:Je(Ku)(m,x)}),su=f(function(m){return m!=null&&typeof m["fantasy-land/empty"]=="function"?m["fantasy-land/empty"]():m!=null&&m.constructor!=null&&typeof m.constructor["fantasy-land/empty"]=="function"?m.constructor["fantasy-land/empty"]():m!=null&&typeof m.empty=="function"?m.empty():m!=null&&m.constructor!=null&&typeof m.constructor.empty=="function"?m.constructor.empty():R(m)?[]:L(m)?"":xn(m)?{}:oe(m)?(function(){return arguments})():void 0}),ss=v(function(m,x){return Ma(m>=0?x.length-m:0,x)}),kd=v(function(m,x){return wr(ss(m.length,x),m)}),Ud=S(function(m,x,A){return wr(m(x),m(A))}),Pd=S(function(m,x,A){return wr(x[m],A[m])}),os=v(function m(x,A){var _,K,re,Ae=A instanceof Array?[]:{};for(K in A)re=typeof(_=x[K]),Ae[K]=re==="function"?_(A[K]):_&&re==="object"?m(_,A[K]):A[K];return Ae}),qd=(function(){function m(x,A){this.xf=A,this.f=x,this.found=!1}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.found||(x=this.xf["@@transducer/step"](x,void 0)),this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.f(A)&&(this.found=!0,x=I(this.xf["@@transducer/step"](x,A))),x},m})(),Hd=v(O(["find"],v(function(m,x){return new qd(m,x)}),function(m,x){for(var A=0,_=x.length;A<_;){if(m(x[A]))return x[A];A+=1}})),Gd=(function(){function m(x,A){this.xf=A,this.f=x,this.idx=-1,this.found=!1}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.found||(x=this.xf["@@transducer/step"](x,-1)),this.xf["@@transducer/result"](x)},m.prototype["@@transducer/step"]=function(x,A){return this.idx+=1,this.f(A)&&(this.found=!0,x=I(this.xf["@@transducer/step"](x,this.idx))),x},m})(),Vd=v(O([],v(function(m,x){return new Gd(m,x)}),function(m,x){for(var A=0,_=x.length;A<_;){if(m(x[A]))return A;A+=1}return-1})),jd=(function(){function m(x,A){this.xf=A,this.f=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](x,this.last))},m.prototype["@@transducer/step"]=function(x,A){return this.f(A)&&(this.last=A),x},m})(),rc=v(O([],v(function(m,x){return new jd(m,x)}),function(m,x){for(var A=x.length-1;A>=0;){if(m(x[A]))return x[A];A-=1}})),Fd=(function(){function m(x,A){this.xf=A,this.f=x,this.idx=-1,this.lastIdx=-1}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=function(x){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](x,this.lastIdx))},m.prototype["@@transducer/step"]=function(x,A){return this.idx+=1,this.f(A)&&(this.lastIdx=this.idx),x},m})(),Yd=v(O([],v(function(m,x){return new Fd(m,x)}),function(m,x){for(var A=x.length-1;A>=0;){if(m(x[A]))return A;A-=1}return-1})),Kd=f(nt(!0)),Xu=f(function(m){return C(m.length,function(x,A){var _=Array.prototype.slice.call(arguments,0);return _[0]=A,_[1]=x,m.apply(this,_)})}),cs=v(Dt("forEach",function(m,x){for(var A=x.length,_=0;_<A;)m(x[_]),_+=1;return x})),Xd=v(function(m,x){for(var A=ne(x),_=0;_<A.length;){var K=A[_];m(x[K],K,x),_+=1}return x}),Zd=f(function(m){for(var x={},A=0;A<m.length;)x[m[A][0]]=m[A][1],A+=1;return x}),Qd=v(Dt("groupBy",eu(function(m,x){return m==null&&(m=[]),m.push(x),m},null))),ac=v(function(m,x){for(var A=[],_=0,K=x.length;_<K;){for(var re=_+1;re<K&&m(x[re-1],x[re]);)re+=1;A.push(x.slice(_,re)),_=re}return A}),Wd=v(function(m,x){return m>x}),$d=v(function(m,x){return m>=x}),nc=v(function(m,x){if(m.length===0||Se(x))return!1;for(var A=x,_=0;_<m.length;){if(Se(A)||!J(m[_],A))return!1;A=A[m[_]],_+=1}return!0}),Jd=v(function(m,x){return nc([m],x)}),ev=v(function(m,x){return m in x}),tv=v(Wr),rv=S(function(m,x,A){return C(Math.max(m.length,x.length,A.length),function(){return m.apply(this,arguments)?x.apply(this,arguments):A.apply(this,arguments)})}),av=g(1),nv=v($t),fs=eu(function(m,x){return x},null),ou=v(function(m,x){return typeof x.indexOf!="function"||R(x)?Pu(x,m,0):x.indexOf(m)}),iv=wt(0,-1),ic=S(function(m,x,A){return Ji(function(_){return hr(m,_,A)},x)}),uc=S(function(m,x,A){m=m<A.length&&m>=0?m:A.length;var _=Array.prototype.slice.call(A,0);return _.splice(m,0,x),_}),lc=S(function(m,x,A){return m=m<A.length&&m>=0?m:A.length,[].concat(Array.prototype.slice.call(A,0,m),x,Array.prototype.slice.call(A,m))}),ds=v(function(m,x){for(var A,_,K=new Oa,re=[],Ae=0;Ae<x.length;)A=m(_=x[Ae]),K.add(A)&&re.push(_),Ae+=1;return re}),Zu=ds(xa),ni=v(function(m,x){var A,_;return m.length>x.length?(A=m,_=x):(A=x,_=m),Zu(Ji(Xu($t)(A),_))}),uv=v(Dt("intersperse",function(m,x){for(var A=[],_=0,K=x.length;_<K;)_===K-1?A.push(x[_]):A.push(x[_],m),_+=1;return A})),cu=typeof Object.assign=="function"?Object.assign:function(m){if(m==null)throw new TypeError("Cannot convert undefined or null to object");for(var x=Object(m),A=1,_=arguments.length;A<_;){var K=arguments[A];if(K!=null)for(var re in K)J(re,K)&&(x[re]=K[re]);A+=1}return x},sc=v(function(m,x){var A={};return A[m]=x,A}),oc={"@@transducer/init":Array,"@@transducer/step":function(m,x){return m.push(x),m},"@@transducer/result":Ea},cc={"@@transducer/init":String,"@@transducer/step":function(m,x){return m+x},"@@transducer/result":Ea},fu={"@@transducer/init":Object,"@@transducer/step":function(m,x){return cu(m,G(x)?sc(x[0],x[1]):x)},"@@transducer/result":Ea},du=S(function(m,x,A){return D(m)?te(x(m),m["@@transducer/init"](),A):te(x((function(_){if(D(_))return _;if(G(_))return oc;if(typeof _=="string")return cc;if(typeof _=="object")return fu;throw new Error("Cannot create transformer for "+_)})(m)),Ut(m,[],[],!1),A)}),lv=f(function(m){for(var x=ne(m),A=x.length,_=0,K={};_<A;){var re=x[_],Ae=m[re],Ve=J(Ae,K)?K[Ae]:K[Ae]=[];Ve[Ve.length]=re,_+=1}return K}),Qu=f(function(m){for(var x=ne(m),A=x.length,_=0,K={};_<A;){var re=x[_];K[m[re]]=re,_+=1}return K}),ii=v(function(m,x){return C(m+1,function(){var A=arguments[m];if(A!=null&&Be(A[x]))return A[x].apply(A,Array.prototype.slice.call(arguments,0,m));throw new TypeError(tn(A)+' does not have a method named "'+x+'"')})}),vs=v(function(m,x){return x!=null&&x.constructor===m||x instanceof m}),hs=f(function(m){return m!=null&&wr(m,su(m))}),gs=ii(1,"join"),ps=f(function(m){return Sn(function(){return Array.prototype.slice.call(arguments,0)},m)}),fc=f(function(m){var x,A=[];for(x in m)A[A.length]=x;return A}),dc=v(function(m,x){if(typeof x.lastIndexOf!="function"||R(x)){for(var A=x.length-1;A>=0;){if(wr(x[A],m))return A;A-=1}return-1}return x.lastIndexOf(m)});function ms(m){return Object.prototype.toString.call(m)==="[object Number]"}var vc=f(function(m){return m!=null&&ms(m.length)?m.length:NaN}),Wu=v(function(m,x){return function(A){return function(_){return le(function(K){return x(K,_)},A(m(_)))}}}),sv=f(function(m){return Wu(Ee(m),Vu(m))}),ov=f(function(m){return Wu(Le(m),ze(m))}),$r=f(function(m){return Wu(ut(m),ge(m))}),vu=v(function(m,x){return m<x}),hc=v(function(m,x){return m<=x}),gc=S(function(m,x,A){for(var _=0,K=A.length,re=[],Ae=[x];_<K;)Ae=m(Ae[0],A[_]),re[_]=Ae[1],_+=1;return[Ae[0],re]}),pc=S(function(m,x,A){for(var _=A.length-1,K=[],re=[x];_>=0;)re=m(re[0],A[_]),K[_]=re[1],_-=1;return[re[0],K]}),mc=v(function(m,x){return te(function(A,_){return A[_]=m(x[_],_,x),A},{},ne(x))}),ys=v(function(m,x){return x.match(m)||[]}),cv=v(function(m,x){return fe(m)?!fe(x)||x<1?NaN:(m%x+x)%x:NaN}),ui=S(function(m,x,A){return m(A)>m(x)?A:x}),$u=qe(g,0),li=f(function(m){return $u(m)/m.length}),bs=f(function(m){var x=m.length;if(x===0)return NaN;var A=2-x%2,_=(x-A)/2;return li(Array.prototype.slice.call(m,0).sort(function(K,re){return K<re?-1:K>re?1:0}).slice(_,_+A))}),yc=v(function(m,x){var A={};return E(x.length,function(){var _=m.apply(this,arguments);return J(_,A)||(A[_]=x.apply(this,arguments)),A[_]})}),Nn=v(function(m,x){return cu({},m,x)}),si=f(function(m){return cu.apply(null,[{}].concat(m))}),hu=S(function(m,x,A){var _,K={};for(_ in x)J(_,x)&&(K[_]=J(_,A)?m(_,x[_],A[_]):x[_]);for(_ in A)J(_,A)&&!J(_,K)&&(K[_]=A[_]);return K}),gu=S(function m(x,A,_){return hu(function(K,re,Ae){return xn(re)&&xn(Ae)?m(x,re,Ae):x(K,re,Ae)},A,_)}),Rn=v(function(m,x){return gu(function(A,_,K){return _},m,x)}),bc=v(function(m,x){return gu(function(A,_,K){return K},m,x)}),Ec=S(function(m,x,A){return gu(function(_,K,re){return m(K,re)},x,A)}),xc=v(function(m,x){return cu({},x,m)}),fv=v(function(m,x){return cu({},m,x)}),dv=S(function(m,x,A){return hu(function(_,K,re){return m(K,re)},x,A)}),vv=v(function(m,x){return x<m?x:m}),Tc=S(function(m,x,A){return m(A)<m(x)?A:x}),Sc=v(function(m,x){return m%x}),Es=S(function(m,x,A){var _=A.length,K=A.slice(),re=m<0?_+m:m,Ae=x<0?_+x:x,Ve=K.splice(re,1);return re<0||re>=A.length||Ae<0||Ae>=A.length?A:[].concat(K.slice(0,Ae)).concat(Ve).concat(K.slice(Ae,A.length))}),la=v(function(m,x){return m*x}),Ju=f(function(m){return-m}),sa=v(function(m,x){return P(_r(m),x)}),oi=f(function(m){return C(m<0?1:m+1,function(){return Ee(m,arguments)})}),xs=S(function(m,x,A){return m(x(A))});function el(m){return[m]}var tl=f(el),Ts=v(function(m,x){for(var A={},_={},K=0,re=m.length;K<re;)_[m[K]]=1,K+=1;for(var Ae in x)_.hasOwnProperty(Ae)||(A[Ae]=x[Ae]);return A}),Dn=f(function(m){var x,A=!1;return E(m.length,function(){return A?x:(A=!0,x=m.apply(this,arguments))})});function Ss(m,x){if(x==null||!Be(x.then))throw new TypeError("`"+m+"` expected a Promise, received "+jr(x,[]))}var rl=v(function(m,x){return Ss("otherwise",x),x.then(null,m)}),On=function(m){return{value:m,map:function(x){return On(x(m))}}},wc=S(function(m,x,A){return m(function(_){return On(x(_))})(A).value}),Jr=v(function(m,x){return[m,x]});function al(m){return v(function(x,A){return E(Math.max(0,x.length-A.length),function(){return x.apply(this,m(A,arguments))})})}var Ga=al(p),Ac=al(Xu(p)),nl=ps([ai,Hu]),Mn=S(function(m,x,A){return wr(Le(m,A),x)}),il=S(function(m,x,A){return $o(m,Le(x,A))}),Cc=S(function(m,x,A){return m(Le(x,A))}),ws=v(function(m,x){for(var A={},_=0;_<m.length;)m[_]in x&&(A[m[_]]=x[m[_]]),_+=1;return A}),As=v(function(m,x){for(var A={},_=0,K=m.length;_<K;){var re=m[_];A[re]=x[re],_+=1}return A}),oa=v(function(m,x){var A={};for(var _ in x)m(x[_],_,x)&&(A[_]=x[_]);return A});function ci(){if(arguments.length===0)throw new Error("pipeK requires at least one argument");return qa.apply(this,Wt(arguments))}var Bn=v(function(m,x){return p([m],x)}),ul=qe(la,1),fi=v(function(m,x){return C(x.length,function(){for(var A=[],_=0;_<x.length;)A.push(x[_].call(this,arguments[_])),_+=1;return m.apply(this,A.concat(Array.prototype.slice.call(arguments,x.length)))})}),ca=fi(U,[As,xa]),fa=S(function(m,x,A){return wr(x,A[m])}),nn=S(function(m,x,A){return vs(m,A[x])}),Ba=S(function(m,x,A){return il(m,[x],A)}),Ia=S(function(m,x,A){return m(A[x])}),Va=v(function(m,x){return m.map(function(A){return Le([A],x)})}),Nc=v(function(m,x){if(!ms(m)||!ms(x))throw new TypeError("Both arguments to range must be numbers");for(var A=[],_=m;_<x;)A.push(_),_+=1;return A}),ll=S(function(m,x,A){for(var _=A.length-1;_>=0;)x=m(A[_],x),_-=1;return x}),Cs=b(4,[],function(m,x,A,_){return te(function(K,re){return m(K,re)?x(K,re):I(K)},A,_)}),Rc=f(I),pr=v(function(m,x){var A,_=Number(x),K=0;if(_<0||isNaN(_))throw new RangeError("n must be a non-negative number");for(A=new Array(_);K<_;)A[K]=m(K),K+=1;return A}),Pt=v(function(m,x){return pr(Oe(m),x)}),vt=S(function(m,x,A){return A.replace(m,x)}),un=S(function(m,x,A){for(var _=0,K=A.length,re=[x];_<K;)x=m(x,A[_]),re[_+1]=x,_+=1;return re}),ea=v(function(m,x){return typeof x.sequence=="function"?x.sequence(m):ll(function(A,_){return at(le(Bn,A),_)},m([]),x)}),Ns=S(function(m,x,A){return wc(m,Oe(x),A)}),ln=v(function(m,x){return Array.prototype.slice.call(x,0).sort(m)}),Dc=v(function(m,x){return Array.prototype.slice.call(x,0).sort(function(A,_){var K=m(A),re=m(_);return K<re?-1:K>re?1:0})}),Oc=v(function(m,x){return Array.prototype.slice.call(x,0).sort(function(A,_){for(var K=0,re=0;K===0&&re<m.length;)K=m[re](A,_),re+=1;return K})}),di=ii(1,"split"),In=v(function(m,x){return[wt(0,m,x),wt(m,vc(x),x)]}),Rs=v(function(m,x){if(m<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var A=[],_=0;_<x.length;)A.push(wt(_,_+=m,x));return A}),pu=v(function(m,x){for(var A=0,_=x.length,K=[];A<_&&!m(x[A]);)K.push(x[A]),A+=1;return[K,Array.prototype.slice.call(x,A)]}),Ds=v(function(m,x){return wr(Cn(m.length,x),m)}),Ln=v(function(m,x){return Number(m)-Number(x)}),ja=v(function(m,x){return Gu(ru(m,x),ru(x,m))}),sn=S(function(m,x,A){return Gu(au(m,x,A),au(m,A,x))}),Fa=v(function(m,x){for(var A=x.length-1;A>=0&&m(x[A]);)A-=1;return wt(A+1,1/0,x)}),Os=(function(){function m(x,A){this.xf=A,this.f=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){return this.f(A)?this.xf["@@transducer/step"](x,A):I(x)},m})(),Ms=v(O(["takeWhile"],v(function(m,x){return new Os(m,x)}),function(m,x){for(var A=0,_=x.length;A<_&&m(x[A]);)A+=1;return wt(0,A,x)})),vi=(function(){function m(x,A){this.xf=A,this.f=x}return m.prototype["@@transducer/init"]=M.init,m.prototype["@@transducer/result"]=M.result,m.prototype["@@transducer/step"]=function(x,A){return this.f(A),this.xf["@@transducer/step"](x,A)},m})(),sl=v(O([],v(function(m,x){return new vi(m,x)}),function(m,x){return m(x),x})),zn=v(function(m,x){if(A=m,Object.prototype.toString.call(A)!=="[object RegExp]")throw new TypeError("test requires a value of type RegExp as its first argument; received "+tn(m));var A;return Gt(m).test(x)}),Ar=v(function(m,x){return Ss("andThen",x),x.then(m)}),ol=ii(0,"toLowerCase"),Mc=f(function(m){var x=[];for(var A in m)J(A,m)&&(x[x.length]=[A,m[A]]);return x}),hv=f(function(m){var x=[];for(var A in m)x[x.length]=[A,m[A]];return x}),gv=ii(0,"toUpperCase"),pv=C(4,function(m,x,A,_){return te(m(typeof x=="function"?Z(x):x),A,_)}),nr=f(function(m){for(var x=0,A=[];x<m.length;){for(var _=m[x],K=0;K<_.length;)A[K]===void 0&&(A[K]=[]),A[K].push(_[K]),K+=1;x+=1}return A}),Bs=S(function(m,x,A){return typeof A["fantasy-land/traverse"]=="function"?A["fantasy-land/traverse"](x,m):ea(m,le(x,A))}),Ya=`	
\v\f\r \u2028\u2029\uFEFF`,mu=f(typeof String.prototype.trim=="function"&&!Ya.trim()&&"".trim()?function(m){return m.trim()}:function(m){var x=new RegExp("^["+Ya+"]["+Ya+"]*"),A=new RegExp("["+Ya+"]["+Ya+"]*$");return m.replace(x,"").replace(A,"")}),Is=v(function(m,x){return E(m.length,function(){try{return m.apply(this,arguments)}catch(A){return x.apply(this,p([A],arguments))}})}),hi=f(function(m){return function(){return m(Array.prototype.slice.call(arguments,0))}}),gi=f(function(m){return Ne(1,m)}),mv=v(function(m,x){return C(m,function(){for(var A,_=1,K=x,re=0;_<=m&&typeof K=="function";)A=_===m?arguments.length:re+K.length,K=K.apply(this,Array.prototype.slice.call(arguments,re,A)),_+=1,re=A;return K})}),Bc=v(function(m,x){for(var A=m(x),_=[];A&&A.length;)_[_.length]=A[0],A=m(A[1]);return _}),yv=v(or(Zu,p)),Ls=v(function(m,x){for(var A,_=0,K=x.length,re=[];_<K;)hr(m,A=x[_],re)||(re[re.length]=A),_+=1;return re}),_n=S(function(m,x,A){return Ls(m,p(x,A))}),zs=S(function(m,x,A){return m(A)?A:x(A)}),cl=St(Ea),Ic=S(function(m,x,A){for(var _=A;!m(_);)_=x(_);return _}),pi=f(function(m){var x,A=[];for(x in m)A[A.length]=m[x];return A}),_s=function(m){return{value:m,"fantasy-land/map":function(){return this}}},fl=v(function(m,x){return m(_s)(x).value}),dl=S(function(m,x,A){return m(A)?x(A):A}),ks=v(function(m,x){for(var A in m)if(J(A,m)&&!m[A](x[A]))return!1;return!0}),Lc=v(function(m,x){return ks(le(wr,m),x)}),kn=v(function(m,x){return Hu(Xu($t)(m),x)}),Un=v(function(m,x){return!!(!m^!x)}),zc=v(function(m,x){for(var A,_=0,K=m.length,re=x.length,Ae=[];_<K;){for(A=0;A<re;)Ae[Ae.length]=[m[_],x[A]],A+=1;_+=1}return Ae}),_c=v(function(m,x){for(var A=[],_=0,K=Math.min(m.length,x.length);_<K;)A[_]=[m[_],x[_]],_+=1;return A}),mi=v(function(m,x){for(var A=0,_=Math.min(m.length,x.length),K={};A<_;)K[m[A]]=x[A],A+=1;return K}),yu=S(function(m,x,A){for(var _=[],K=0,re=Math.min(x.length,A.length);K<re;)_[K]=m(x[K],A[K]),K+=1;return _}),vl=f(function(m){return C(m.length,function(){var x=arguments;return function(){return m.apply(this,x)}})});u.d(n,"F",function(){return l}),u.d(n,"T",function(){return s}),u.d(n,"__",function(){return c}),u.d(n,"add",function(){return g}),u.d(n,"addIndex",function(){return w}),u.d(n,"adjust",function(){return N}),u.d(n,"all",function(){return P}),u.d(n,"allPass",function(){return Ke}),u.d(n,"always",function(){return Oe}),u.d(n,"and",function(){return Ge}),u.d(n,"any",function(){return tt}),u.d(n,"anyPass",function(){return Ie}),u.d(n,"ap",function(){return at}),u.d(n,"aperture",function(){return dt}),u.d(n,"append",function(){return bt}),u.d(n,"apply",function(){return We}),u.d(n,"applySpec",function(){return F}),u.d(n,"applyTo",function(){return se}),u.d(n,"ascend",function(){return pe}),u.d(n,"assoc",function(){return ge}),u.d(n,"assocPath",function(){return ze}),u.d(n,"binary",function(){return Ue}),u.d(n,"bind",function(){return H}),u.d(n,"both",function(){return rt}),u.d(n,"call",function(){return st}),u.d(n,"chain",function(){return St}),u.d(n,"clamp",function(){return Tr}),u.d(n,"clone",function(){return tr}),u.d(n,"comparator",function(){return ia}),u.d(n,"complement",function(){return ua}),u.d(n,"compose",function(){return or}),u.d(n,"composeK",function(){return qa}),u.d(n,"composeP",function(){return en}),u.d(n,"composeWith",function(){return Uu}),u.d(n,"concat",function(){return Gu}),u.d(n,"cond",function(){return rs}),u.d(n,"construct",function(){return Zo}),u.d(n,"constructN",function(){return Tn}),u.d(n,"contains",function(){return Qo}),u.d(n,"converge",function(){return Sn}),u.d(n,"countBy",function(){return Wo}),u.d(n,"curry",function(){return ke}),u.d(n,"curryN",function(){return C}),u.d(n,"dec",function(){return as}),u.d(n,"defaultTo",function(){return $o}),u.d(n,"descend",function(){return zd}),u.d(n,"difference",function(){return ru}),u.d(n,"differenceWith",function(){return au}),u.d(n,"dissoc",function(){return wn}),u.d(n,"dissocPath",function(){return ns}),u.d(n,"divide",function(){return Jo}),u.d(n,"drop",function(){return Ma}),u.d(n,"dropLast",function(){return ju}),u.d(n,"dropLastWhile",function(){return Yu}),u.d(n,"dropRepeats",function(){return uu}),u.d(n,"dropRepeatsWith",function(){return iu}),u.d(n,"dropWhile",function(){return ls}),u.d(n,"either",function(){return lu}),u.d(n,"empty",function(){return su}),u.d(n,"endsWith",function(){return kd}),u.d(n,"eqBy",function(){return Ud}),u.d(n,"eqProps",function(){return Pd}),u.d(n,"equals",function(){return wr}),u.d(n,"evolve",function(){return os}),u.d(n,"filter",function(){return ai}),u.d(n,"find",function(){return Hd}),u.d(n,"findIndex",function(){return Vd}),u.d(n,"findLast",function(){return rc}),u.d(n,"findLastIndex",function(){return Yd}),u.d(n,"flatten",function(){return Kd}),u.d(n,"flip",function(){return Xu}),u.d(n,"forEach",function(){return cs}),u.d(n,"forEachObjIndexed",function(){return Xd}),u.d(n,"fromPairs",function(){return Zd}),u.d(n,"groupBy",function(){return Qd}),u.d(n,"groupWith",function(){return ac}),u.d(n,"gt",function(){return Wd}),u.d(n,"gte",function(){return $d}),u.d(n,"has",function(){return Jd}),u.d(n,"hasIn",function(){return ev}),u.d(n,"hasPath",function(){return nc}),u.d(n,"head",function(){return Ha}),u.d(n,"identical",function(){return tv}),u.d(n,"identity",function(){return xa}),u.d(n,"ifElse",function(){return rv}),u.d(n,"inc",function(){return av}),u.d(n,"includes",function(){return nv}),u.d(n,"indexBy",function(){return fs}),u.d(n,"indexOf",function(){return ou}),u.d(n,"init",function(){return iv}),u.d(n,"innerJoin",function(){return ic}),u.d(n,"insert",function(){return uc}),u.d(n,"insertAll",function(){return lc}),u.d(n,"intersection",function(){return ni}),u.d(n,"intersperse",function(){return uv}),u.d(n,"into",function(){return du}),u.d(n,"invert",function(){return lv}),u.d(n,"invertObj",function(){return Qu}),u.d(n,"invoker",function(){return ii}),u.d(n,"is",function(){return vs}),u.d(n,"isEmpty",function(){return hs}),u.d(n,"isNil",function(){return Se}),u.d(n,"join",function(){return gs}),u.d(n,"juxt",function(){return ps}),u.d(n,"keys",function(){return ne}),u.d(n,"keysIn",function(){return fc}),u.d(n,"last",function(){return an}),u.d(n,"lastIndexOf",function(){return dc}),u.d(n,"length",function(){return vc}),u.d(n,"lens",function(){return Wu}),u.d(n,"lensIndex",function(){return sv}),u.d(n,"lensPath",function(){return ov}),u.d(n,"lensProp",function(){return $r}),u.d(n,"lift",function(){return Je}),u.d(n,"liftN",function(){return Ye}),u.d(n,"lt",function(){return vu}),u.d(n,"lte",function(){return hc}),u.d(n,"map",function(){return le}),u.d(n,"mapAccum",function(){return gc}),u.d(n,"mapAccumRight",function(){return pc}),u.d(n,"mapObjIndexed",function(){return mc}),u.d(n,"match",function(){return ys}),u.d(n,"mathMod",function(){return cv}),u.d(n,"max",function(){return k}),u.d(n,"maxBy",function(){return ui}),u.d(n,"mean",function(){return li}),u.d(n,"median",function(){return bs}),u.d(n,"memoizeWith",function(){return yc}),u.d(n,"merge",function(){return Nn}),u.d(n,"mergeAll",function(){return si}),u.d(n,"mergeDeepLeft",function(){return Rn}),u.d(n,"mergeDeepRight",function(){return bc}),u.d(n,"mergeDeepWith",function(){return Ec}),u.d(n,"mergeDeepWithKey",function(){return gu}),u.d(n,"mergeLeft",function(){return xc}),u.d(n,"mergeRight",function(){return fv}),u.d(n,"mergeWith",function(){return dv}),u.d(n,"mergeWithKey",function(){return hu}),u.d(n,"min",function(){return vv}),u.d(n,"minBy",function(){return Tc}),u.d(n,"modulo",function(){return Sc}),u.d(n,"move",function(){return Es}),u.d(n,"multiply",function(){return la}),u.d(n,"nAry",function(){return Ne}),u.d(n,"negate",function(){return Ju}),u.d(n,"none",function(){return sa}),u.d(n,"not",function(){return jt}),u.d(n,"nth",function(){return Ee}),u.d(n,"nthArg",function(){return oi}),u.d(n,"o",function(){return xs}),u.d(n,"objOf",function(){return sc}),u.d(n,"of",function(){return tl}),u.d(n,"omit",function(){return Ts}),u.d(n,"once",function(){return Dn}),u.d(n,"or",function(){return Ku}),u.d(n,"otherwise",function(){return rl}),u.d(n,"over",function(){return wc}),u.d(n,"pair",function(){return Jr}),u.d(n,"partial",function(){return Ga}),u.d(n,"partialRight",function(){return Ac}),u.d(n,"partition",function(){return nl}),u.d(n,"path",function(){return Le}),u.d(n,"paths",function(){return De}),u.d(n,"pathEq",function(){return Mn}),u.d(n,"pathOr",function(){return il}),u.d(n,"pathSatisfies",function(){return Cc}),u.d(n,"pick",function(){return ws}),u.d(n,"pickAll",function(){return As}),u.d(n,"pickBy",function(){return oa}),u.d(n,"pipe",function(){return sr}),u.d(n,"pipeK",function(){return ci}),u.d(n,"pipeP",function(){return yn}),u.d(n,"pipeWith",function(){return rr}),u.d(n,"pluck",function(){return Qe}),u.d(n,"prepend",function(){return Bn}),u.d(n,"product",function(){return ul}),u.d(n,"project",function(){return ca}),u.d(n,"prop",function(){return ut}),u.d(n,"propEq",function(){return fa}),u.d(n,"propIs",function(){return nn}),u.d(n,"propOr",function(){return Ba}),u.d(n,"propSatisfies",function(){return Ia}),u.d(n,"props",function(){return Va}),u.d(n,"range",function(){return Nc}),u.d(n,"reduce",function(){return qe}),u.d(n,"reduceBy",function(){return eu}),u.d(n,"reduceRight",function(){return ll}),u.d(n,"reduceWhile",function(){return Cs}),u.d(n,"reduced",function(){return Rc}),u.d(n,"reject",function(){return Hu}),u.d(n,"remove",function(){return An}),u.d(n,"repeat",function(){return Pt}),u.d(n,"replace",function(){return vt}),u.d(n,"reverse",function(){return Wt}),u.d(n,"scan",function(){return un}),u.d(n,"sequence",function(){return ea}),u.d(n,"set",function(){return Ns}),u.d(n,"slice",function(){return wt}),u.d(n,"sort",function(){return ln}),u.d(n,"sortBy",function(){return Dc}),u.d(n,"sortWith",function(){return Oc}),u.d(n,"split",function(){return di}),u.d(n,"splitAt",function(){return In}),u.d(n,"splitEvery",function(){return Rs}),u.d(n,"splitWhen",function(){return pu}),u.d(n,"startsWith",function(){return Ds}),u.d(n,"subtract",function(){return Ln}),u.d(n,"sum",function(){return $u}),u.d(n,"symmetricDifference",function(){return ja}),u.d(n,"symmetricDifferenceWith",function(){return sn}),u.d(n,"tail",function(){return Sr}),u.d(n,"take",function(){return Cn}),u.d(n,"takeLast",function(){return ss}),u.d(n,"takeLastWhile",function(){return Fa}),u.d(n,"takeWhile",function(){return Ms}),u.d(n,"tap",function(){return sl}),u.d(n,"test",function(){return zn}),u.d(n,"andThen",function(){return Ar}),u.d(n,"times",function(){return pr}),u.d(n,"toLower",function(){return ol}),u.d(n,"toPairs",function(){return Mc}),u.d(n,"toPairsIn",function(){return hv}),u.d(n,"toString",function(){return tn}),u.d(n,"toUpper",function(){return gv}),u.d(n,"transduce",function(){return pv}),u.d(n,"transpose",function(){return nr}),u.d(n,"traverse",function(){return Bs}),u.d(n,"trim",function(){return mu}),u.d(n,"tryCatch",function(){return Is}),u.d(n,"type",function(){return Vt}),u.d(n,"unapply",function(){return hi}),u.d(n,"unary",function(){return gi}),u.d(n,"uncurryN",function(){return mv}),u.d(n,"unfold",function(){return Bc}),u.d(n,"union",function(){return yv}),u.d(n,"unionWith",function(){return _n}),u.d(n,"uniq",function(){return Zu}),u.d(n,"uniqBy",function(){return ds}),u.d(n,"uniqWith",function(){return Ls}),u.d(n,"unless",function(){return zs}),u.d(n,"unnest",function(){return cl}),u.d(n,"until",function(){return Ic}),u.d(n,"update",function(){return Vu}),u.d(n,"useWith",function(){return fi}),u.d(n,"values",function(){return _e}),u.d(n,"valuesIn",function(){return pi}),u.d(n,"view",function(){return fl}),u.d(n,"when",function(){return dl}),u.d(n,"where",function(){return ks}),u.d(n,"whereEq",function(){return Lc}),u.d(n,"without",function(){return kn}),u.d(n,"xor",function(){return Un}),u.d(n,"xprod",function(){return zc}),u.d(n,"zip",function(){return _c}),u.d(n,"zipObj",function(){return mi}),u.d(n,"zipWith",function(){return yu}),u.d(n,"thunkify",function(){return vl})},function(r,n,u){function l(s){for(var c in s)n.hasOwnProperty(c)||(n[c]=s[c])}Object.defineProperty(n,"__esModule",{value:!0}),l(u(3)),l(u(9)),l(u(2)),l(u(10)),l(u(11))},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0);n.isNotNil=l.complement(l.isNil),n.isNotEmpty=l.complement(l.isEmpty),n.includesFlipped=l.curryN(2,l.flip(l.includes)),n.isString=l.is(String),n.isNumber=l.is(Number),n.isObject=l.is(Object),n.isNotString=l.complement(n.isString),n.isNotNumber=l.complement(n.isNumber),n.isNotObject=l.complement(n.isObject),n.propIsNotNil=l.pipe(l.prop,n.isNotNil),n.objectEqualsByIntersectionKeys=(c,d)=>{const f=l.pick(l.intersection(l.keys(c),l.keys(d)));return l.equals(f(c),f(d))},n.objectEqualsByFirstObjectKeys=(c,d)=>{const f=l.keys(c);return l.equals(l.pick(f,c),l.pick(f,d))};const s=l.invoker(1,"localeCompare");n.sortStringsAsc=l.sort(l.flip(s))},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(4),c=u(2),d=(f,v)=>f.every(g=>v.indexOf(g)!==-1);n.createNetwork=(...f)=>{const v=(g=>{const p=[...g].sort((b,C)=>b.parents.length-C.parents.length),E=[];return()=>{for(let b=0;b<p.length;b++){const C=p[b];if(C.parents.length===0||d(C.parents,E))return E.push(C.id),p.splice(b,1),C}}})(f);return f.reduce(g=>{const p=v();return l.isNil(p)?g:Object.assign({},s.addNode(g,p))},{})},n.getNodeParents=l.prop("parents"),n.getNodeId=l.prop("id"),n.getNodeStates=l.prop("states"),n.hasNodeParents=l.pipe(n.getNodeParents,c.isNotEmpty),n.getNodeParentsAndId=l.converge(l.append,[l.prop("id"),l.prop("parents")]),n.hasNotNodeParents=l.complement(n.hasNodeParents),n.getNodesFromNetwork=l.values,n.filterNodeWithParents=l.filter(n.hasNodeParents),n.getNodeIdsWithoutParents=l.pipe(n.getNodesFromNetwork,l.filter(n.hasNotNodeParents),l.map(n.getNodeId))},function(r,n,u){function l(c){for(var d in c)n.hasOwnProperty(d)||(n[d]=c[d])}Object.defineProperty(n,"__esModule",{value:!0});const s=u(7);n.inferences={enumeration:s.enumeration,junctionTree:s.junctionTree,variableElimination:s.variableElimination},l(u(24)),n.infer=s.junctionTree.infer,l(u(30))},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(1),s=u(14),c=u(19),d=u(0);n.infer=(f,v,g={})=>{const{cliques:p,sepSets:E,junctionTree:b}=s.default(f);return((C,w,S)=>{const N=l.filterCliquesByNodeCombinations(C,S),R=w[l.getCliqueWithLessNodes(N).id],D=l.filterCliquePotentialsByNodeCombinations(R,S),O=l.mapPotentialsThen(D);return d.sum(O)})(p,c.default(p,f,b,E,g),v)}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(1),c=l.pluck("id"),d=l.reduce((p,E)=>{const b=l.map(C=>[C,E.id],E.parents);return l.concat(p,b)},[]),f=(p=[])=>{let E=p;return{getValue:()=>E,setValue:b=>{E=b},add:b=>{E=l.append(b,E)},reject:b=>{E=l.reject(b,E)},any:b=>l.any(b,E)}},v=l.curry((p,E)=>l.any(l.equals(p),E)),g=l.curry((p,E,b)=>l.equals([p,E],b)||l.equals([E,p],b));n.createGraphBuilder=(p={})=>{const E=s.getNodesFromNetwork(p),b=f(c(E)),C=f(d(E)),w=(S,N)=>C.any(g(S,N));return{getNodes:()=>E,setNodeIds:S=>b.setValue(S),setEdges:S=>C.setValue(S),getNodesId:b.getValue,getEdges:C.getValue,addNodeId:S=>b.add(S),removeNodeId:S=>{C.reject(v(S)),b.reject(l.equals(S))},hasNodeId:S=>b.any(l.equals(S)),addEdge:(S,N)=>C.add([S,N]),removeEdge:(S,N)=>{C.reject(g(S,N))},hasEdge:w,hasNotEdge:l.complement(w),getNodeEdges:S=>l.reduce((N,[R,D])=>l.equals(S,R)?l.append(D,N):l.equals(S,D)?l.append(R,N):N,[],C.getValue()),clone:()=>{const S=n.createGraphBuilder(p);return S.setNodeIds(b.getValue()),S.setEdges(C.getValue()),S}}}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(8);n.enumeration=l;const s=u(5);n.junctionTree=s;const c=u(23);n.variableElimination=c},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(1),s=u(0),c=new WeakMap,d=(f,v)=>{const g=Object.keys(v);return f.filter(p=>{for(let E=0;E<g.length;E++){const b=g[E];if(p[b]!==v[b])return!1}return!0})};n.infer=(f,v,g)=>{let p=c.get(f);p===void 0&&(p=l.buildCombinations(f),c.set(f,p));let E=d(p,v),b=1;return g&&(E=d(E,g),b=n.infer(f,g)),((C,w)=>{const S=[];for(let R=0;R<w.length;R++){let D=1;const O=w[R],I=Object.keys(O);for(let M=0;M<I.length;M++){const z=I[M],P=C[z];if(P.parents.length===0)D*=P.cpt[O[z]];else{const k=P.cpt,U={};for(let L=0;L<P.parents.length;L++){const G=P.parents[L];U[G]=O[G]}for(let L=0;L<k.length;L++){const G=k[L];if(s.equals(G.when,U)){D*=G.then[O[z]];break}}}}S.push(D)}let N=0;for(let R=0;R<S.length;R++)N+=S[R];return N})(f,E)/b}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0}),n.buildCombinations=(l,s)=>((c,d)=>{const f=[],v=(g,p={})=>{if(g.length===0)f.push(p);else{const[E,...b]=g,{states:C}=c[E];for(const w of C)v(b,Object.assign({},p,{[E]:w}))}};return v(d),f})(l,s||Object.keys(l))},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(2),c=u(3),d=l.prop("nodeIds"),f=l.ifElse(l.equals(0),l.always(1),l.identity),v=l.pipe(d,l.length);n.mapPotentialsThen=l.pluck("then"),n.sumCliquePotentials=l.pipe(n.mapPotentialsThen,l.sum,f),n.hasNodeIdsInClique=l.useWith(l.all,[l.pipe(l.prop("nodeIds"),s.includesFlipped),l.identity]),n.hasNodeIdAndParentsInClique=l.useWith(n.hasNodeIdsInClique,[l.identity,c.getNodeParentsAndId]),n.getCliqueWithLessNodes=p=>{const E=l.head(p);if(E)return l.reduce(l.minBy(v),E,l.tail(p));throw new Error("Cliques are empty")},n.filterCliquesByNodeCombinations=(p,E={})=>l.filter(l.pipe(l.prop("nodeIds"),l.intersection(l.keys(E)),s.isNotEmpty),p);const g=l.curry((p,E)=>{const{when:b}=E;return l.all(C=>{const w=b[C],S=p[C];return S==null||w===S},l.keys(b))});n.filterCliquePotentialsByNodeCombinations=(p,E)=>l.filter(g(E),p),n.normalizeCliquePotential=p=>{const E=n.sumCliquePotentials(p);return p.map(b=>(b.then=b.then/E,b))},n.normalizeCliquePotentials=p=>{for(const E of Object.keys(p))p[E]=n.normalizeCliquePotential(p[E]);return p}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(2),c=u(12),d=l.addIndex(l.forEach),f=(g,p)=>p.sharedNodes.length-g.sharedNodes.length,v=(g,p,E)=>l.reduce((b,C)=>{const w=l.append(C,b);return((S,N)=>{const R={},D=(O,I)=>{R[O]=!0;const M=l.reduce((z,{ca:P,cb:k})=>l.equals(O,k)?l.append(P,z):l.equals(O,P)?l.append(k,z):z,[],N);return l.any(z=>{if(R[z]){if(z!==I)return!0}else if(D(z,O))return!0;return!1},M)};return l.any(({id:O})=>!R[O]&&D(O),S)})(g,w)?(E(C.ca,C.cb),b):w},[],(b=>{const C=l.clone(b);return c.sort(C,f),C})(p));n.createSepSets=(g,p)=>{const E=[];return d((b,C)=>{const w=l.drop(C+1,g);l.forEach(S=>{const N=((R,D)=>{const O=new Set(R.nodeIds),I=new Set(D.nodeIds);return Array(...new Set([...R.nodeIds,...D.nodeIds])).filter(M=>O.has(M)&&I.has(M))})(b,S);s.isNotEmpty(N)&&E.push({ca:b.id,cb:S.id,sharedNodes:N})},w)},g),v(g,E,p)}},function(r,n,u){r.exports=u(13)},function(r,n,u){var l,s,c;s=[n],(c=typeof(l=function(d){d.__esModule=!0,d.sort=function(D,O,I,M){if(!Array.isArray(D))throw new TypeError("Can only sort arrays");O?typeof O!="function"&&(M=I,I=O,O=b):O=b,I||(I=0),M||(M=D.length);var z=M-I;if(!(z<2)){var P=0;if(z<f)return P=C(D,I,M,O),void w(D,I,M,I+P,O);var k=new R(D,O),U=(function(G){for(var X=0;G>=f;)X|=1&G,G>>=1;return G+X})(z);do{if((P=C(D,I,M,O))<U){var L=z;L>U&&(L=U),w(D,I,I+L,I+P,O),P=L}k.pushRun(I,P),k.mergeRuns(),z-=P,I+=P}while(z!==0);k.forceMergeRuns()}};var f=32,v=7,g=256,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function E(D){return D<1e5?D<100?D<10?0:1:D<1e4?D<1e3?2:3:4:D<1e7?D<1e6?5:6:D<1e9?D<1e8?7:8:9}function b(D,O){if(D===O)return 0;if(~~D===D&&~~O===O){if(D===0||O===0)return D<O?-1:1;if(D<0||O<0){if(O>=0)return-1;if(D>=0)return 1;D=-D,O=-O}var I=E(D),M=E(O),z=0;return I<M?(D*=p[M-I-1],O/=10,z=-1):I>M&&(O*=p[I-M-1],D/=10,z=1),D===O?z:D<O?-1:1}var P=String(D),k=String(O);return P===k?0:P<k?-1:1}function C(D,O,I,M){var z=O+1;if(z===I)return 1;if(M(D[z++],D[O])<0){for(;z<I&&M(D[z],D[z-1])<0;)z++;(function(P,k,U){for(U--;k<U;){var L=P[k];P[k++]=P[U],P[U--]=L}})(D,O,z)}else for(;z<I&&M(D[z],D[z-1])>=0;)z++;return z-O}function w(D,O,I,M,z){for(M===O&&M++;M<I;M++){for(var P=D[M],k=O,U=M;k<U;){var L=k+U>>>1;z(P,D[L])<0?U=L:k=L+1}var G=M-k;switch(G){case 3:D[k+3]=D[k+2];case 2:D[k+2]=D[k+1];case 1:D[k+1]=D[k];break;default:for(;G>0;)D[k+G]=D[k+G-1],G--}D[k]=P}}function S(D,O,I,M,z,P){var k=0,U=0,L=1;if(P(D,O[I+z])>0){for(U=M-z;L<U&&P(D,O[I+z+L])>0;)k=L,(L=1+(L<<1))<=0&&(L=U);L>U&&(L=U),k+=z,L+=z}else{for(U=z+1;L<U&&P(D,O[I+z-L])<=0;)k=L,(L=1+(L<<1))<=0&&(L=U);L>U&&(L=U);var G=k;k=z-L,L=z-G}for(k++;k<L;){var X=k+(L-k>>>1);P(D,O[I+X])>0?k=X+1:L=X}return L}function N(D,O,I,M,z,P){var k=0,U=0,L=1;if(P(D,O[I+z])<0){for(U=z+1;L<U&&P(D,O[I+z-L])<0;)k=L,(L=1+(L<<1))<=0&&(L=U);L>U&&(L=U);var G=k;k=z-L,L=z-G}else{for(U=M-z;L<U&&P(D,O[I+z+L])>=0;)k=L,(L=1+(L<<1))<=0&&(L=U);L>U&&(L=U),k+=z,L+=z}for(k++;k<L;){var X=k+(L-k>>>1);P(D,O[I+X])<0?L=X:k=X+1}return L}var R=(function(){function D(O,I){(function(M,z){if(!(M instanceof z))throw new TypeError("Cannot call a class as a function")})(this,D),this.array=null,this.compare=null,this.minGallop=v,this.length=0,this.tmpStorageLength=g,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=O,this.compare=I,this.length=O.length,this.length<2*g&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return D.prototype.pushRun=function(O,I){this.runStart[this.stackSize]=O,this.runLength[this.stackSize]=I,this.stackSize+=1},D.prototype.mergeRuns=function(){for(;this.stackSize>1;){var O=this.stackSize-2;if(O>=1&&this.runLength[O-1]<=this.runLength[O]+this.runLength[O+1]||O>=2&&this.runLength[O-2]<=this.runLength[O]+this.runLength[O-1])this.runLength[O-1]<this.runLength[O+1]&&O--;else if(this.runLength[O]>this.runLength[O+1])break;this.mergeAt(O)}},D.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var O=this.stackSize-2;O>0&&this.runLength[O-1]<this.runLength[O+1]&&O--,this.mergeAt(O)}},D.prototype.mergeAt=function(O){var I=this.compare,M=this.array,z=this.runStart[O],P=this.runLength[O],k=this.runStart[O+1],U=this.runLength[O+1];this.runLength[O]=P+U,O===this.stackSize-3&&(this.runStart[O+1]=this.runStart[O+2],this.runLength[O+1]=this.runLength[O+2]),this.stackSize--;var L=N(M[k],M,z,P,0,I);z+=L,(P-=L)!=0&&(U=S(M[z+P-1],M,k,U,U-1,I))!==0&&(P<=U?this.mergeLow(z,P,k,U):this.mergeHigh(z,P,k,U))},D.prototype.mergeLow=function(O,I,M,z){var P=this.compare,k=this.array,U=this.tmp,L=0;for(L=0;L<I;L++)U[L]=k[O+L];var G=0,X=M,Z=O;if(k[Z++]=k[X++],--z!=0)if(I!==1){for(var H=this.minGallop;;){var j=0,W=0,ee=!1;do if(P(k[X],U[G])<0){if(k[Z++]=k[X++],W++,j=0,--z==0){ee=!0;break}}else if(k[Z++]=U[G++],j++,W=0,--I==1){ee=!0;break}while((j|W)<H);if(ee)break;do{if((j=N(k[X],U,G,I,0,P))!==0){for(L=0;L<j;L++)k[Z+L]=U[G+L];if(Z+=j,G+=j,(I-=j)<=1){ee=!0;break}}if(k[Z++]=k[X++],--z==0){ee=!0;break}if((W=S(U[G],k,X,z,0,P))!==0){for(L=0;L<W;L++)k[Z+L]=k[X+L];if(Z+=W,X+=W,(z-=W)==0){ee=!0;break}}if(k[Z++]=U[G++],--I==1){ee=!0;break}H--}while(j>=v||W>=v);if(ee)break;H<0&&(H=0),H+=2}if(this.minGallop=H,H<1&&(this.minGallop=1),I===1){for(L=0;L<z;L++)k[Z+L]=k[X+L];k[Z+z]=U[G]}else{if(I===0)throw new Error("mergeLow preconditions were not respected");for(L=0;L<I;L++)k[Z+L]=U[G+L]}}else{for(L=0;L<z;L++)k[Z+L]=k[X+L];k[Z+z]=U[G]}else for(L=0;L<I;L++)k[Z+L]=U[G+L]},D.prototype.mergeHigh=function(O,I,M,z){var P=this.compare,k=this.array,U=this.tmp,L=0;for(L=0;L<z;L++)U[L]=k[M+L];var G=O+I-1,X=z-1,Z=M+z-1,H=0,j=0;if(k[Z--]=k[G--],--I!=0)if(z!==1){for(var W=this.minGallop;;){var ee=0,te=0,q=!1;do if(P(U[X],k[G])<0){if(k[Z--]=k[G--],ee++,te=0,--I==0){q=!0;break}}else if(k[Z--]=U[X--],te++,ee=0,--z==1){q=!0;break}while((ee|te)<W);if(q)break;do{if((ee=I-N(U[X],k,O,I,I-1,P))!=0){for(I-=ee,j=1+(Z-=ee),H=1+(G-=ee),L=ee-1;L>=0;L--)k[j+L]=k[H+L];if(I===0){q=!0;break}}if(k[Z--]=U[X--],--z==1){q=!0;break}if((te=z-S(k[G],U,0,z,z-1,P))!=0){for(z-=te,j=1+(Z-=te),H=1+(X-=te),L=0;L<te;L++)k[j+L]=U[H+L];if(z<=1){q=!0;break}}if(k[Z--]=k[G--],--I==0){q=!0;break}W--}while(ee>=v||te>=v);if(q)break;W<0&&(W=0),W+=2}if(this.minGallop=W,W<1&&(this.minGallop=1),z===1){for(j=1+(Z-=I),H=1+(G-=I),L=I-1;L>=0;L--)k[j+L]=k[H+L];k[Z]=U[X]}else{if(z===0)throw new Error("mergeHigh preconditions were not respected");for(H=Z-(z-1),L=0;L<z;L++)k[H+L]=U[L]}}else{for(j=1+(Z-=I),H=1+(G-=I),L=I-1;L>=0;L--)k[j+L]=k[H+L];k[Z]=U[X]}else for(H=Z-(z-1),L=0;L<z;L++)k[H+L]=U[L]},D})()})=="function"?l.apply(n,s):l)===void 0||(r.exports=c)},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(15),c=u(6),d=u(17),f=u(1),v=u(18),g=new WeakMap,p=l.pipe(d.createMoralGraph,v.createTriangulatedGraph,s.createCliqueGraph);n.default=E=>{const b=g.get(E);if(l.isNil(b)){const{graph:C,cliques:w}=p(c.createGraphBuilder(E)),S={cliques:w,sepSets:f.createSepSets(w,C.removeEdge),junctionTree:C};return g.set(E,S),S}return b}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(16),c=u(6),d=l.addIndex(l.forEach);n.createCliqueGraph=f=>{const v=s.createCliques(f),g=c.createGraphBuilder();return d((p,E)=>{const b=l.drop(E+1,v);g.addNodeId(p.id),l.forEach(C=>{((w,S)=>l.any(N=>l.includes(N,S.nodeIds),w.nodeIds))(p,C)&&g.addEdge(p.id,C.id)},b)},v),{graph:g,cliques:v}}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=(c,d)=>{const f=(g=>(p,E)=>l.reduce((b,C)=>{const w=l.intersection(g.getNodeEdges(C),p);return w.length>b.length?w:b},[],l.union(p,E)))(c),v=(g,p,E)=>{l.isEmpty(p)&&l.isEmpty(E)&&d(g);const b=f(p,E);for(const C of l.difference(p,b)){const w=c.getNodeEdges(C);v(l.append(C,g),l.intersection(p,w),l.intersection(E,w));const S=p.indexOf(C);p.splice(S,1),E.push(C)}};return v};n.createCliques=c=>{let d=0;const f=[];return s(c,v=>{f.push({id:`${d++}`,nodeIds:v})})([],c.getNodesId(),[]),f}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(1),c=l.addIndex(l.forEach);n.createMoralGraph=d=>{const f=d.clone();return l.forEach(v=>{c((g,p)=>{const E=l.drop(p+1,v.parents);l.forEach(b=>{f.hasNotEdge(g,b)&&f.addEdge(g,b)},E)},v.parents)},s.filterNodeWithParents(f.getNodes())),f}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(1),c=l.addIndex(l.forEach),d=v=>({[Symbol.iterator]:()=>{const g=v.getNodesId(),p=new Set,E=l.filter(b=>!p.has(b));return{next:()=>{const b=E(g);if(s.isNotEmpty(b)){const C=((w,S)=>{const N=l.head(S),R=l.minBy(D=>w.getNodeEdges(D).length);if(N)return l.reduce(R,N,l.tail(S));throw new Error("There are not node ids available.")})(v,b);return p.add(C),{done:!1,value:C}}return{done:!0,value:""}}}}}),f=v=>v.getNodes().filter(g=>(p=>{const E=v.getNodeEdges(p.id);let b=!0;for(let C=0;C<E.length-1&&b;C++){const w=E[C];b=l.drop(C+1,E).every(S=>v.hasEdge(w,S)||v.hasEdge(S,w))}return b})(g)).map(g=>g.id);n.createTriangulatedGraph=v=>{const g=v.clone(),p=g.clone();f(p).forEach(b=>p.removeNodeId(b));const E=(b=>Array.from(d(b)))(p);return l.forEach(b=>{const C=p.getNodeEdges(b);c((w,S)=>{const N=l.drop(S+1,C);l.forEach(R=>{p.hasNodeId(w)&&p.hasNodeId(R)&&p.hasNotEdge(w,R)&&(p.addEdge(w,R),g.addEdge(w,R))},N)},C),p.removeNodeId(b)},E),g}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(1),s=u(20),c=u(0),d=u(21),f=new WeakMap,v=new WeakMap;n.default=(g,p,E,b,C)=>{const w=((S,N)=>{const R=f.get(S),D=v.get(N);return l.isNotNil(R)&&l.isNotNil(D)?R:null})(g,C);if(c.isNil(w)){const S=s.default(g,p,C),N=d.default(p,E,g,b,S),R=l.normalizeCliquePotentials(N);return((D,O,I)=>{f.set(D,I),v.set(O,!0)})(g,C,R),R}return w}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(1),c=(E,b)=>{const C=new Set;return l.reduce((w,S)=>l.assoc(S.id,((N,R,D)=>s.getNodesFromNetwork(N).reduce((O,I)=>s.hasNodeIdAndParentsInClique(R,I)&&!D.has(I.id)?(D.add(I.id),l.append(I.id,O)):O,[]))(b,S,C),w),{},E.sort((w,S)=>w.nodeIds.length-S.nodeIds.length))},d=(E,b)=>{const C=b.cpt,w=((N,R)=>l.reduce((D,O)=>l.assoc(O,R[O],D),{},N.parents))(b,E),S=l.find(l.pipe(l.prop("when"),l.equals(w)),C);if(S)return S.then[E[b.id]];throw new Error("Not found combination in node")},f=l.curry((E,b)=>s.hasNodeParents(b)?d(E,b):((C,w)=>w.cpt[C[w.id]])(E,b)),v=(E,b,C,w)=>s.objectEqualsByIntersectionKeys(C,E)?((S,N,R)=>{const D=l.map(I=>S[I],R),O=l.map(f(N),D);return l.reduce(l.multiply,1,O)})(b,E,w):0,g=l.curry((E,b,C,w,S)=>({when:S,then:v(S,b,C,w[E.id])})),p=(E,b,C,w)=>{const S=s.buildCombinations(b,E.nodeIds);return l.map(g(E,b,C,w),S)};n.default=(E,b,C)=>{const w=c(E,b),S={};for(const N of E){const R=p(N,b,C,w);S[N.id]=R}return S}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(1),c=u(22),d=l.curry((b,C,w)=>w.ca===C&&w.cb===b);n.findSepSetWithCliques=(b,C,w)=>l.find(l.anyPass([d(b,C),d(C,b)]),w);const f=l.map(b=>({when:b,then:0})),v=l.reduce((b,C)=>l.assoc(C.id,new Map,b),{});n.marginalizePotentials=(b,C,w)=>l.reduce((S,N)=>{const R=l.sum(w.filter(O=>s.objectEqualsByFirstObjectKeys(N.when,O.when)).map(l.prop("then"))),D=l.assoc("then",R,N);return l.append(D,S)},[],f(s.buildCombinations(b,C)));const g=l.pipe(l.path([0,"when"]),l.keys),p=l.curry((b,C,w)=>((S,N,R)=>{const D=l.pick(S);return l.equals(D(N.when),D(R.when))})(b,C,w)?l.assoc("then",l.multiply(w.then,C.then),w):w),E=(b,C,w,S,N,R)=>{const D=N<R?N:R,O=N<R?R:N,I=S[D].get(O),M=((k,U,L,G)=>{const X=n.findSepSetWithCliques(L,G,U);if(X)return X.sharedNodes.sort();throw new Error(`SepSet not found for cliques with id: "${L}" and "${G}"`)})(0,C,N,R),z=n.marginalizePotentials(b,M,w[N]),P=I?((k,U)=>l.map(L=>{const{when:G,then:X}=L,Z=U.find(H=>s.objectEqualsByFirstObjectKeys(G,H.when));return Z?l.assoc("then",l.divide(X,Z.then||1),L):L},k))(z,I):z;w[R]=((k,U)=>{const L=g(U),G=p(L);return l.reduce((X,Z)=>l.map(G(Z),X),k,U)})(w[R],P),S[D].set(O,z)};n.default=(b,C,w,S,N)=>{const R=v(w),D=c.getConnectedComponents(C);return l.reduce((O,[I])=>{const M=((z,P,k,U,L,G)=>{const X=(Z,H)=>{const j=P.getNodeEdges(Z);for(const W of j)H&&W===H||X(W,Z);H&&E(z,k,L,U,Z,H)};return X(G),L})(b,C,S,R,O,I);return((z,P,k,U,L,G)=>{const X=(Z,H)=>{const j=P.getNodeEdges(Z);for(const W of j)H&&W===H||(E(z,k,L,U,Z,W),X(W,Z))};return X(G),L})(b,C,S,R,M,I)},N,D)}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0);n.getConnectedComponents=s=>{const c=s.getNodesId(),d=new Set,f=[],v=g=>{const p=s.getNodeEdges(g).filter(E=>!d.has(E));return d.add(g),l.reduce((E,b)=>(E.push(...v(b)),E),[g],p)};for(const g of c)d.has(g)||f.push(v(g));return f}},function(r,n,u){function l(c,d){const f=[];for(let p=0;p<c.length;p++)for(let E=0;E<d.length;E++){const b=Object.assign({},c[p].states,d[E].states),C=Object.keys(b);f.some(w=>C.every(S=>w.states[S]===b[S]))||f.push({states:b,value:0})}const v=Object.keys(c[0].states),g=Object.keys(d[0].states);for(let p=0;p<f.length;p++){const E=f[p],b=c.find(w=>v.every(S=>w.states[S]===E.states[S])),C=d.find(w=>g.every(S=>w.states[S]===E.states[S]));if(b===void 0||C===void 0)throw new Error("Fatal error");E.value=b.value*C.value}return f}function s(c,d){const f=[];for(let v=0;v<c.length;v++){const g=Object.assign({},c[v].states);delete g[d];const p=Object.keys(g),E=f.find(b=>p.every(C=>b.states[C]===g[C]));E===void 0?f.push({states:g,value:c[v].value}):E.value+=c[v].value}return f}Object.defineProperty(n,"__esModule",{value:!0}),n.infer=(c,d={},f)=>{const v=Object.keys(c),g=Object.keys(d),p=f?Object.keys(f):[],E=v.filter(w=>!g.some(S=>S===w)&&!p.some(S=>S===w)),b=v.map(w=>(function(S,N){const R=[];if(S.parents.length===0){const D=S.cpt;for(let O=0;O<S.states.length;O++){const I=S.states[O];R.push({states:{[S.id]:I},value:D[I]})}}else{const D=S.cpt;for(let O=0;O<D.length;O++)for(let I=0;I<S.states.length;I++){const M=S.states[I];R.push({states:Object.assign({},D[O].when,{[S.id]:M}),value:D[O].then[M]})}}if(N){const D=Object.keys(N);for(let O=R.length-1;O>=0;O--)for(let I=0;I<D.length;I++){const M=D[I];if(R[O].states[M]&&R[O].states[M]!==N[M]){R.splice(O,1);break}}}return R})(c[w],f));for(;E.length>0;){const w=E.shift(),S=b.filter(R=>Object.keys(R[0].states).some(D=>D===w)),N=s(S.reduce((R,D)=>l(R,D)),w);for(let R=0;R<S.length;R++)b.splice(b.indexOf(S[R]),1);b.push(N)}const C=(function(w){const S=w.reduce((N,R)=>N+R.value,0);return S===0?w:w.map(N=>({states:Object.assign({},N.states),value:N.value/S}))})(b.filter(w=>Object.keys(w[0].states).length>0).sort((w,S)=>w.length-S.length).reduce((w,S)=>l(w,S))).find(w=>g.every(S=>w.states[S]===d[S]));return C===void 0?0:C.value}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(25);n.addNode=(c,d)=>(((f,v)=>{if(l.has(f.id,v))throw new Error(`[Node "${f.id}"]: This node is already added to the network.`)})(d,c),s.default(d,c),l.assoc(d.id,d,c))},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(26),s=u(27),c=u(28),d=u(29);n.default=(f,v)=>{s.default(f),d.default(f),c.default(f,v),l.default(f,v)}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(1),s=u(0),c=s.pluck("when"),d=(v,g,p)=>{s.forEach(E=>{if(s.isNil(p[E]))throw new Error(`[Node "${v}"]: Missing probability for "${E}" state.

Node cpt: ${s.toString(p)}`);if(l.isNotNumber(p[E]))throw new Error(`[Node "${v}"]: All probabilities must be a number.

Node cpt type for "${E}": ${s.type(p[E])}
Node cpt for "${E}": ${s.toString(p[E])}
Node cpt: ${s.toString(p)}`)},g)},f=(v,g)=>{const p=l.buildCombinations(g,v.parents),E=c(v.cpt);((b,C,w)=>s.forEach(S=>{if(s.none(s.equals(S),C))throw new Error(`[Node "${b}"]: The node cpt has one missing combination.

Missing node cpt combination (when): ${s.toString(S)}
Node cpt combinations (when's): ${s.toString(C)}
Combinations needed: ${s.toString(w)}`)},w))(v.id,E,p),((b,C,w)=>s.forEach(S=>{s.none(s.equals(S),w)&&console.warn(`[Node "${b}"]: The node cpt has one extra/invalid combination.

Invalid node cpt combination (when): ${s.toString(S)}
Node cpt combinations (when's): ${s.toString(C)}
Combinations needed: ${s.toString(w)}`)},C))(v.id,E,p)};n.default=(v,g)=>{if(s.isNil(v.cpt))throw new Error(`[Node "${v.id}"]: The node cpt is required and must be an object or an array.

Node: ${s.toString(v)}`);if(l.isNotObject(v.cpt))throw new Error(`[Node "${v.id}"]: The node cpt must be an object or an array.

Node cpt type: ${s.type(v.cpt)}
Node cpt: ${s.toString(v.cpt)}`);Array.isArray(v.cpt)?(f(v,g),s.forEach(p=>{d(v.id,v.states,p.then)},v.cpt)):d(v.id,v.states,v.cpt)}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(1);n.default=c=>{if(l.isNil(c.id))throw new Error(`The node id is required and must be a string.

Node: ${l.toString(c)}`);if(s.isNotString(c.id))throw new Error(`The node id must be a string.

Node id type: ${l.type(c.id)}
Node id: ${l.toString(c.id)}
Node: ${l.toString(c)}`)}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(1);n.default=(c,d)=>{if(l.isNil(c.parents))throw new Error(`[Node "${c.id}"]: The node parents is required and must be an array of strings.

Node: ${l.toString(c)}`);if(!Array.isArray(c.parents))throw new Error(`[Node "${c.id}"]: The node parents must be an array of strings.

Node parents type: ${l.type(c.parents)}
Node parents: ${l.toString(c.parents)}`);(({id:f,parents:v},g)=>{l.forEach(p=>{if(s.isNotString(p))throw new Error(`[Node "${f}"]: All node parents must be strings.

Node parent type: ${l.type(p)}
Node parent: ${l.toString(p)}
Node parents: ${l.toString(v)}`);if(!l.has(p,g))throw new Error(`[Node "${f}"]: The node parent "${p}" was not found in the network.`)},v)})(c,d)}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(0),s=u(1);n.default=c=>{if(l.isNil(c.states))throw new Error(`[Node "${c.id}"]: The node states is required and must be an array of strings.

Node: ${l.toString(c)}`);if(!Array.isArray(c.states))throw new Error(`[Node "${c.id}"]: The node states must be an array of strings.

Node states type: ${l.type(c.states)}
Node states: ${l.toString(c.states)}`);if(l.isEmpty(c.states))throw new Error(`[Node "${c.id}"]: The node states must contain at least one string.

Node states: ${l.toString(c.states)}`);c.states.forEach(d=>{if(s.isNotString(d))throw new Error(`[Node "${c.id}"]: All node states must be strings.

Node state type: ${l.type(d)}
Node state: ${l.toString(d)}
Node states: ${l.toString(c.states)}`)})}},function(r,n,u){Object.defineProperty(n,"__esModule",{value:!0});const l=u(31),s=u(0),c=u(3),d=u(5),f=u(2),v=s.mergeRight({force:!1,precision:8}),g=(E,b,C,w)=>s.reduce((S,N)=>s.assoc(N,((R,D,O,I,M)=>f.propIsNotNil(D,I)?s.propEq(D,O,I)?1:0:l(d.infer(R,{[D]:O},I),M.precision))(E,b.id,N,C,w),S),{},c.getNodeStates(b)),p=s.ifElse(s.pipe(s.nthArg(1),s.propEq("force",!0)),s.clone,s.identity);n.inferAll=(E,b={},C={})=>{const w=v(C),S=p(E,w),N=p(b,w);return s.reduce((R,D)=>s.assoc(D.id,g(S,D,N,w),R),{},c.getNodesFromNetwork(E))}},function(r,n,u){function l(s,c,d){if(typeof c!="number")throw new TypeError("Expected value to be a number");if(d===1/0)return c;if(!Number.isInteger(d))throw new TypeError("Expected precision to be an integer");const f=s==="round"&&c<0;let v;f&&(c=Math.abs(c)),[c,v]=`${c}e`.split("e");let g=Math[s](`${c}e${Number(v)+d}`);return[c,v]=`${g}e`.split("e"),g=+`${c}e${Number(v)-d}`,f&&(g=-g),g}r.exports=l.bind(null,"round"),r.exports.up=l.bind(null,"ceil"),r.exports.down=l.bind(null,"floor")}])})})(td)),td.exports}var hO=vO();function VT(t={}){const e={};for(const r of Object.keys(Cp)){const n=Cp[r];e[r]={};for(const l of n.states)try{const s=hO.infer(Cp,t,{[r]:l});e[r][l]=s}catch{e[r][l]=1/n.states.length}const u=Object.values(e[r]).reduce((l,s)=>l+s,0);if(u>0)for(const l of n.states)e[r][l]/=u}return e}function ZE(){return VT({})}const gO=[{id:"road-1",name:"Velocity Aero Pro",type:"ROAD",price:2499,priceRange:"PREMIUM",suspension:"NONE",comfort:"BASIC",image:"",description:"Lightweight carbon frame, perfect for racing and fast fitness rides",specs:{weight:"8.2kg",gears:"22-speed",frame:"Carbon",brakes:"Disc"}},{id:"road-2",name:"SwiftRide Endurance",type:"ROAD",price:1299,priceRange:"MIDRANGE",suspension:"NONE",comfort:"COMFORTABLE",description:"Endurance geometry for long comfortable rides",image:"",specs:{weight:"9.5kg",gears:"20-speed",frame:"Aluminum",brakes:"Disc"}},{id:"road-3",name:"CitySpeed Entry",type:"ROAD",price:649,priceRange:"BUDGET",suspension:"NONE",comfort:"BASIC",image:"",description:"Great entry-level road bike for beginners",specs:{weight:"10.8kg",gears:"16-speed",frame:"Aluminum",brakes:"Rim"}},{id:"hybrid-1",name:"UrbanFlex Commuter",type:"HYBRID",price:599,priceRange:"BUDGET",suspension:"FRONT",comfort:"COMFORTABLE",image:"",description:"Perfect daily commuter with upright position and rack mounts",specs:{weight:"12.5kg",gears:"21-speed",frame:"Aluminum",brakes:"Disc"}},{id:"hybrid-2",name:"PathFinder Sport",type:"HYBRID",price:899,priceRange:"MIDRANGE",suspension:"FRONT",comfort:"COMFORTABLE",image:"",description:"Versatile hybrid for city streets and light trails",specs:{weight:"11.8kg",gears:"24-speed",frame:"Aluminum",brakes:"Hydraulic Disc"}},{id:"hybrid-3",name:"ComfortRide Plus",type:"HYBRID",price:1199,priceRange:"MIDRANGE",suspension:"FRONT",comfort:"PREMIUM_COMFORT",image:"",description:"Maximum comfort hybrid with suspension seatpost",specs:{weight:"13.2kg",gears:"27-speed",frame:"Aluminum",brakes:"Hydraulic Disc"}},{id:"mtb-1",name:"TrailBlazer 29",type:"MOUNTAIN",price:799,priceRange:"BUDGET",suspension:"FRONT",comfort:"BASIC",image:"",description:"Hardtail mountain bike for trail beginners",specs:{weight:"14.2kg",gears:"21-speed",frame:"Aluminum",brakes:"Disc"}},{id:"mtb-2",name:"RockHopper Elite",type:"MOUNTAIN",price:1599,priceRange:"MIDRANGE",suspension:"FRONT",comfort:"COMFORTABLE",image:"",description:"Quality hardtail with RockShox fork for serious trails",specs:{weight:"12.8kg",gears:"12-speed",frame:"Aluminum",brakes:"Hydraulic Disc"}},{id:"mtb-3",name:"Summit Full Sus",type:"MOUNTAIN",price:2899,priceRange:"PREMIUM",suspension:"FULL",comfort:"COMFORTABLE",image:"",description:"Full suspension beast for technical terrain",specs:{weight:"13.5kg",gears:"12-speed",frame:"Carbon/Aluminum",brakes:"Hydraulic Disc"}},{id:"mtb-4",name:"Downhill Monster",type:"MOUNTAIN",price:4299,priceRange:"PREMIUM",suspension:"FULL",comfort:"BASIC",image:"",description:"Aggressive geometry for downhill and bike parks",specs:{weight:"15.2kg",gears:"7-speed",frame:"Carbon",brakes:"Hydraulic Disc 4-piston"}},{id:"ebike-1",name:"PowerCommute City",type:"EBIKE",price:1899,priceRange:"MIDRANGE",suspension:"FRONT",comfort:"PREMIUM_COMFORT",image:"",description:"Comfortable city e-bike with 60km range",specs:{weight:"23kg",gears:"8-speed",frame:"Aluminum",motor:"250W",range:"60km"}},{id:"ebike-2",name:"E-Trail Explorer",type:"EBIKE",price:3499,priceRange:"PREMIUM",suspension:"FULL",comfort:"COMFORTABLE",image:"",description:"Full suspension e-MTB for conquering any hill",specs:{weight:"24kg",gears:"11-speed",frame:"Aluminum",motor:"500W",range:"80km"}},{id:"ebike-3",name:"ElectroCity Budget",type:"EBIKE",price:1299,priceRange:"BUDGET",suspension:"NONE",comfort:"COMFORTABLE",image:"",description:"Affordable city e-bike for flat terrain",specs:{weight:"21kg",gears:"7-speed",frame:"Steel",motor:"250W",range:"40km"}},{id:"gravel-1",name:"AllRoad Adventure",type:"GRAVEL",price:1699,priceRange:"MIDRANGE",suspension:"NONE",comfort:"COMFORTABLE",image:"",description:"Go anywhere gravel bike with wide tire clearance",specs:{weight:"10.2kg",gears:"22-speed",frame:"Aluminum",brakes:"Hydraulic Disc"}},{id:"gravel-2",name:"GravelKing Carbon",type:"GRAVEL",price:3299,priceRange:"PREMIUM",suspension:"NONE",comfort:"COMFORTABLE",image:"",description:"Lightweight carbon gravel racer",specs:{weight:"8.8kg",gears:"24-speed",frame:"Carbon",brakes:"Hydraulic Disc"}},{id:"gravel-3",name:"DirtDrop Entry",type:"GRAVEL",price:899,priceRange:"BUDGET",suspension:"NONE",comfort:"BASIC",image:"",description:"Budget-friendly gravel exploration",specs:{weight:"11.5kg",gears:"18-speed",frame:"Aluminum",brakes:"Mechanical Disc"}}];function pO(t,e){let r=0,n=0;if(e.BIKE_TYPE){const u=e.BIKE_TYPE[t.type]||0;r+=u*40,n+=40}if(e.SUSPENSION){const u=e.SUSPENSION[t.suspension]||0;r+=u*20,n+=20}if(e.PRICE_RANGE){const u=e.PRICE_RANGE[t.priceRange]||0;r+=u*25,n+=25}if(e.COMFORT_LEVEL){const u=e.COMFORT_LEVEL[t.comfort]||0;r+=u*15,n+=15}return n>0?r/n*100:50}function Rp(t,e=5){return gO.map(n=>({...n,score:pO(n,t)})).sort((n,u)=>u.score-n.score).slice(0,e)}function mO(){const[t,e]=Kr.useState([]),[r,n]=Kr.useState({}),[u,l]=Kr.useState(null),[s,c]=Kr.useState([]),[d,f]=Kr.useState({}),[v,g]=Kr.useState(!0),[p,E]=Kr.useState("");Kr.useEffect(()=>{const w=ZE();l(w),c(Rp(w,5))},[]);const b=w=>{e(z=>[...z,{type:"user",text:w}]),E(w);const{evidence:S,matched:N}=uO(w),R={...r,...S};n(R);const D=VT(R);l(D);const O={};s.forEach(z=>{O[z.id]=z.score}),f(O);const I=Rp(D,5);c(I);const M=lO(R,N);setTimeout(()=>{e(z=>[...z,{type:"system",text:M.text,evidence:S}])},300)},C=()=>{e([]),n({});const w=ZE();l(w),c(Rp(w,5)),f({}),E("")};return Y.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-white",children:[Y.jsx("header",{className:"border-b border-slate-700 bg-slate-900/50 backdrop-blur-sm sticky top-0 z-50",children:Y.jsx("div",{className:"max-w-[1800px] mx-auto px-4 py-4",children:Y.jsxs("div",{className:"flex items-center justify-between",children:[Y.jsxs("div",{children:[Y.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:" BikeMatch AI"}),Y.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"See how Bayesian Networks enhance LLM recommendations"})]}),Y.jsxs("div",{className:"flex items-center gap-4",children:[Y.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-400 cursor-pointer",children:[Y.jsx("input",{type:"checkbox",checked:v,onChange:w=>g(w.target.checked),className:"w-4 h-4 rounded border-slate-600 bg-slate-700 text-blue-500 focus:ring-blue-500"}),"Show LLM-only comparison"]}),Y.jsx("button",{onClick:C,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-sm font-medium transition-colors",children:"Reset Demo"})]})]})})}),Y.jsxs("main",{className:"max-w-[1800px] mx-auto p-4",children:[Y.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-blue-900/40 to-purple-900/40 rounded-xl border border-blue-700/50",children:[Y.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Why Combine LLMs with Bayesian Networks?"}),Y.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"text-slate-300 space-y-3",children:[Y.jsxs("p",{className:"leading-relaxed",children:["Large Language Models are amazing at understanding what you mean when you say things like",Y.jsx("em",{className:"text-blue-300",children:'"I have bad knees"'})," or ",Y.jsx("em",{className:"text-blue-300",children:'"money is no object"'}),". But they have a critical weakness: ",Y.jsx("strong",{className:"text-white",children:"they can hallucinate products that don't exist"})," and can't reason precisely about trade-offs between multiple factors."]}),Y.jsxs("p",{className:"leading-relaxed",children:["Bayesian Networks solve this by providing a ",Y.jsx("strong",{className:"text-white",children:"mathematically rigorous framework"})," for reasoning under uncertainty. When you combine them with an LLM, you get the best of both worlds: natural language understanding AND grounded, explainable recommendations."]})]}),Y.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[Y.jsx("h4",{className:"text-white font-semibold mb-3",children:"In this tutorial, you'll see:"}),Y.jsxs("ul",{className:"space-y-2 text-sm text-slate-300",children:[Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-green-400",children:""}),Y.jsx("span",{children:"How an LLM extracts structured preferences from natural language"})]}),Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-green-400",children:""}),Y.jsx("span",{children:"How a Bayesian Network updates probabilities as you provide information"})]}),Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-green-400",children:""}),Y.jsx("span",{children:"How belief propagation infers preferences you never explicitly stated"})]}),Y.jsxs("li",{className:"flex items-start gap-2",children:[Y.jsx("span",{className:"text-green-400",children:""}),Y.jsx("span",{children:"Why this approach avoids hallucinations and provides confidence scores"})]})]})]})]})]}),Y.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-br from-purple-900/30 to-blue-900/30 rounded-xl border border-purple-700/50",children:[Y.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[Y.jsx("span",{children:""}),"What is a Bayesian Network?"]}),Y.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[Y.jsxs("div",{className:"space-y-4",children:[Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-purple-300 font-semibold mb-2",children:"A Graph of Cause and Effect"}),Y.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:["A Bayesian Network is a ",Y.jsx("strong",{className:"text-white",children:"probabilistic graphical model"}),' that represents variables and their conditional dependencies as a directed graph. Each node represents a variable (like "Terrain" or "Bike Type"), and arrows show how one variable influences another.']})]}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-purple-300 font-semibold mb-2",children:"The Magic: Belief Propagation"}),Y.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:['When you provide evidence (e.g., "I have bad knees"), the network uses ',Y.jsx("strong",{className:"text-white",children:"Bayes' Theorem"})," to update ALL related probabilities simultaneously. This is called ",Y.jsx("em",{children:"belief propagation"}),"information flows through the network, updating beliefs about variables you never mentioned."]})]}),Y.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-700",children:[Y.jsx("h5",{className:"text-blue-300 font-medium mb-2 text-sm",children:" Bayes' Theorem in Action"}),Y.jsx("p",{className:"text-slate-400 text-xs mb-2",children:'When you say "bad knees", the network computes:'}),Y.jsx("code",{className:"text-green-400 text-xs block bg-slate-900 p-2 rounded",children:"P(E-Bike | bad knees) = P(bad knees | E-Bike)  P(E-Bike) / P(bad knees)"}),Y.jsx("p",{className:"text-slate-500 text-xs mt-2",children:`"What's the probability you need an E-Bike, given you have bad knees?"`})]})]}),Y.jsxs("div",{className:"space-y-4",children:[Y.jsx("h4",{className:"text-purple-300 font-semibold mb-2",children:'Why Bayesian Networks are a "Wise" Choice'}),Y.jsxs("div",{className:"space-y-3",children:[Y.jsxs("div",{className:"flex gap-3 items-start",children:[Y.jsx("span",{className:"text-2xl",children:""}),Y.jsxs("div",{children:[Y.jsx("h5",{className:"text-white font-medium text-sm",children:"Perfect for Product Filtering"}),Y.jsx("p",{className:"text-slate-400 text-xs",children:'E-commerce has many interdependent attributes. Bayesian networks naturally model that "if you want off-road AND have a low budget, then hardtail MTB is more likely than full-suspension."'})]})]}),Y.jsxs("div",{className:"flex gap-3 items-start",children:[Y.jsx("span",{className:"text-2xl",children:""}),Y.jsxs("div",{children:[Y.jsx("h5",{className:"text-white font-medium text-sm",children:"Handles Incomplete Information"}),Y.jsx("p",{className:"text-slate-400 text-xs",children:"Users rarely specify everything. Bayesian networks gracefully handle missing data by marginalizing over unknown variablesgiving sensible recommendations even with partial input."})]})]}),Y.jsxs("div",{className:"flex gap-3 items-start",children:[Y.jsx("span",{className:"text-2xl",children:""}),Y.jsxs("div",{children:[Y.jsx("h5",{className:"text-white font-medium text-sm",children:"Principled Trade-off Resolution"}),Y.jsx("p",{className:"text-slate-400 text-xs",children:'"Lightweight AND cheap" is hard to satisfy. Instead of showing "no results", Bayesian networks compute which bikes come closest, with confidence scores for transparency.'})]})]}),Y.jsxs("div",{className:"flex gap-3 items-start",children:[Y.jsx("span",{className:"text-2xl",children:""}),Y.jsxs("div",{children:[Y.jsx("h5",{className:"text-white font-medium text-sm",children:"Explainable AI"}),Y.jsx("p",{className:"text-slate-400 text-xs",children:"Unlike black-box models, you can trace exactly WHY a recommendation was made. The network structure shows the reasoning path from your inputs to the suggestions."})]})]}),Y.jsxs("div",{className:"flex gap-3 items-start",children:[Y.jsx("span",{className:"text-2xl",children:""}),Y.jsxs("div",{children:[Y.jsx("h5",{className:"text-white font-medium text-sm",children:"LLM + Bayesian = Best of Both Worlds"}),Y.jsx("p",{className:"text-slate-400 text-xs",children:'The LLM understands natural language ("bad knees"  needs comfort). The Bayesian network provides rigorous probabilistic reasoning over your actual inventory. Together: no hallucinations, real math.'})]})]})]})]})]}),Y.jsxs("div",{className:"mt-6 overflow-x-auto",children:[Y.jsx("h4",{className:"text-purple-300 font-semibold mb-3",children:" Approach Comparison"}),Y.jsxs("table",{className:"w-full text-sm",children:[Y.jsx("thead",{children:Y.jsxs("tr",{className:"border-b border-slate-700",children:[Y.jsx("th",{className:"text-left py-2 px-3 text-slate-400 font-medium",children:"Capability"}),Y.jsx("th",{className:"text-center py-2 px-3 text-slate-400 font-medium",children:"Traditional Filters"}),Y.jsx("th",{className:"text-center py-2 px-3 text-slate-400 font-medium",children:"LLM Only"}),Y.jsx("th",{className:"text-center py-2 px-3 text-green-400 font-medium",children:"Bayesian + LLM"})]})}),Y.jsxs("tbody",{className:"text-slate-300",children:[Y.jsxs("tr",{className:"border-b border-slate-800",children:[Y.jsx("td",{className:"py-2 px-3",children:"Understands natural language"}),Y.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),Y.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""}),Y.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""})]}),Y.jsxs("tr",{className:"border-b border-slate-800",children:[Y.jsx("td",{className:"py-2 px-3",children:"Handles uncertainty/partial info"}),Y.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),Y.jsx("td",{className:"text-center py-2 px-3 text-yellow-400",children:"~"}),Y.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""})]}),Y.jsxs("tr",{className:"border-b border-slate-800",children:[Y.jsx("td",{className:"py-2 px-3",children:"Infers hidden preferences"}),Y.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),Y.jsx("td",{className:"text-center py-2 px-3 text-yellow-400",children:"~"}),Y.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""})]}),Y.jsxs("tr",{className:"border-b border-slate-800",children:[Y.jsx("td",{className:"py-2 px-3",children:"Grounded in real inventory"}),Y.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""}),Y.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),Y.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""})]}),Y.jsxs("tr",{className:"border-b border-slate-800",children:[Y.jsx("td",{className:"py-2 px-3",children:"Provides confidence scores"}),Y.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),Y.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),Y.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""})]}),Y.jsxs("tr",{children:[Y.jsx("td",{className:"py-2 px-3",children:"Explainable reasoning"}),Y.jsx("td",{className:"text-center py-2 px-3 text-yellow-400",children:"~"}),Y.jsx("td",{className:"text-center py-2 px-3 text-red-400",children:""}),Y.jsx("td",{className:"text-center py-2 px-3 text-green-400",children:""})]})]})]})]})]}),Y.jsx("div",{className:"mb-4 p-4 bg-green-900/30 border border-green-700/50 rounded-xl",children:Y.jsxs("div",{className:"flex items-start gap-3",children:[Y.jsx("span",{className:"text-2xl",children:""}),Y.jsxs("div",{children:[Y.jsx("h3",{className:"font-semibold text-green-300",children:"Try It Yourself!"}),Y.jsx("p",{className:"text-sm text-green-200/70 mt-1",children:"Select a scenario below to see the Bayesian Network in action. Watch how the probabilities update in real-time as the system extracts your preferences and computes the best bike matches."})]})]})}),Y.jsxs("div",{className:`grid gap-4 ${v?"grid-cols-1 lg:grid-cols-4":"grid-cols-1 lg:grid-cols-3"}`,children:[Y.jsx("div",{className:"lg:col-span-1 h-[500px]",children:Y.jsx(fw,{messages:t,onMessage:b})}),Y.jsx("div",{className:"lg:col-span-1 h-[500px]",children:Y.jsx(aO,{posteriors:u,evidence:r})}),Y.jsx("div",{className:"lg:col-span-1 h-[500px]",children:Y.jsx(nO,{recommendations:s,previousScores:d})}),v&&Y.jsx("div",{className:"lg:col-span-1 h-[500px]",children:Y.jsx(cO,{userInput:p,showComparison:t.length>0})})]}),Y.jsx("div",{className:"mt-4",children:Y.jsx(fO,{posteriors:u,evidence:r})}),Y.jsxs("div",{className:"mt-4 p-4 bg-slate-800/50 rounded-xl border border-slate-700",children:[Y.jsxs("h3",{className:"font-semibold text-white mb-3 flex items-center gap-2",children:[Y.jsx("span",{children:""}),"Try these scenarios to see Bayesian inference in action:"]}),Y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[{text:"I have bad knees and need something comfortable",highlight:"Watch e-bike & comfort probabilities spike"},{text:"Budget is tight, under $800",highlight:"See price range shift to budget options"},{text:"I want to ride off-road trails",highlight:"Mountain bike probability increases"},{text:"I'm training for a race",highlight:"Road bike and sport focus emerge"}].map((w,S)=>Y.jsxs("button",{onClick:()=>b(w.text),className:"text-left p-3 bg-slate-700/50 hover:bg-slate-700 rounded-lg border border-slate-600 transition-colors group",children:[Y.jsxs("p",{className:"text-sm text-slate-300 group-hover:text-white",children:['"',w.text,'"']}),Y.jsxs("p",{className:"text-xs text-blue-400 mt-2",children:[" ",w.highlight]})]},S))})]}),Y.jsxs("div",{className:"mt-6 p-4 bg-slate-800/30 rounded-xl border border-slate-700/50",children:[Y.jsx("h3",{className:"font-semibold text-white mb-2",children:" Key Takeaways"}),Y.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm text-slate-400",children:[Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-slate-300 font-medium mb-1",children:"Handles Uncertainty"}),Y.jsx("p",{children:"Instead of binary yes/no filtering, probabilities express how confident the system is about each recommendation."})]}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-slate-300 font-medium mb-1",children:"Infers Hidden Preferences"}),Y.jsx("p",{children:`"Bad knees"  high comfort needed  e-bike probability increases. The network makes logical inferences you didn't explicitly state.`})]}),Y.jsxs("div",{children:[Y.jsx("h4",{className:"text-slate-300 font-medium mb-1",children:"Grounded Recommendations"}),Y.jsx("p",{children:"Unlike LLM-only, recommendations come from real inventory with computed match scoresno hallucinated products."})]})]})]})]})]})}cw.createRoot(document.getElementById("root")).render(Y.jsx(Kr.StrictMode,{children:Y.jsx(mO,{})}));
